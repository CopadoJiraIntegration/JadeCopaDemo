!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=198)}([function(t,e,n){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return c}));var i=Object.freeze({AUTO_LAUNCH_POPUP:"sf-auto-launch-popup",BUILD_LAYOUT:"sf-build-layout",CLEAR_PRODUCT_FILTER:"sf-clear-product-filter",CLOSE_GROUP_PANEL:"sf-close-group-panel",CLOSE_LOOKUP_DIALOG:"sf-close-lookup-dialog",COL_WIDTHS_CHANGED:"sf-col-widths-changed",DELETE_GROUPS:"sf-delete-groups",DESELECT_CHECKBOX:"sf-deselect-checkbox",GROUP_ADDED:"sf-group-added",GROUP_DELETED:"sf-group-deleted",GROUP_EXPANDED:"sf-group-expanded",GROUP_PANEL_CREATED:"sf-group-panel-created",GROUP_PANEL_TOGGLED:"sf-group-panel-toggled",GROUP_TOGGLED:"sf-group-toggled",IRON_LIST_RESIZED:"sf-iron-list-resized",LINE_SPLICE_COMPLETE:"sf-line-splice-complete",NAVIGATION_CHANGED:"sf-navigation-changed",OPEN_LOOKUP_DIALOG:"sf-open-lookup-dialog",OPEN_RTE_DIALOG:"sf-open-rte-dialog",OPEN_SEARCH_BAR_DIALOG:"sf-open-search-bar-dialog",PAGE_RESIZED:"sf-page-resized",PANEL_CLOSED:"sf-panel-closed",QUOTE_SAVED:"sf-quote-saved",REFRESH_LINE_ACTIONS:"sf-refresh-line-actions",REFRESH_TABLE:"sf-refresh-table",RENDER_NEW_TAB:"sf-render-new-tab",RESET_ON_ACTION:"sf-reset-on-action",RESET_COL_SIZES:"sf-reset-col-sizes",ROWS_RENUMBERED:"sf-rows-renumbered",SCHEDULE_ACTION:"sf-schedule-action",SORT_LINES_REQUIRED:"sf-sort-lines-required",TOGGLE_OPTIONAL_CLICKED:"sf-toggle-optional-clicked",TOGGLE_PANEL_CLICKED:"sf-toggle-panel-clicked",UPDATE_IRON_LIST:"sf-update-iron-list",VIEWPORT_CHANGED:"sf-viewport-changed",UBP_ROW_REFRESH:"sf-ubp-row-refresh",TOGGLE_QUICKSAVE:"sf-toggle-quicksave",COL_SIZE_ERR:"sf-col-size-err",GENERIC_ERROR:"sf-generic-error",MDQ_LINE_DELETED:"sf-mdq-line-deleted"});function a(t,e){t&&window&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent(t,{detail:e}))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}function l(t,e){t&&t.addEventListener&&e&&Object.entries(e).map((function(e){var n=o(e,2),r=n[0],i=n[1];null!=r&&null!=i&&t.addEventListener(r,t[i])}))}function c(t,e){t&&t.removeEventListener&&e&&Object.entries(e).map((function(e){var n=o(e,2),r=n[0],i=n[1];null!=r&&null!=i&&t.removeEventListener(r,t[i])}))}},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function p(t){return(/^[0-9]/.test(t)?"_"+t:t).replace(/\W/g,"")}function h(t,e){for(var n=0;n<e.length&&t;n++)t=t[e[n]];return t}function f(t,e,n){return function t(e,n,o,r){if(r>=n.length)return o;var i=e?e[n[r]]:void 0,a=t(i,n,o,r+1);return i===a?e:isNaN(n[r])?function(t,e,n){var o=s({},t);return o[e]=n,o}(e,n[r],a):function(t,e,n){var o=void 0===t?[]:c(t);return o[e]=n,o}(e,n[r],a)}(t,e,n,0)}function b(t,e,n){for(var o=0;o<e.length-1;o++)t[e[o]]||(t[e[o]]=isNaN(e[o])?{}:[]),t=t[e[o]];t[e[e.length-1]]=n}function y(t,e){if(t){if(Array.isArray(e))return e.map((function(e,n){return y(t[n],e)}));if(e&&"object"===i(e)){var n=s({},t);for(var o in e)n[o]=y(t[o],e[o]);return n}}return void 0===e?t:e}function g(t){var e=t?new Date(t):new Date;return isNaN(e)&&"string"==typeof t&&(e=new Date(t.substring(0,t.length-2)+":00")),e}function v(t,e){var n,o={attributes:t.attributes},i=r(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;void 0!==t[a]&&(o[a]=t[a])}}catch(t){i.e(t)}finally{i.f()}return o}function m(t,e,n){var o,i=new Set(t),a=r(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;i.has(s.record[e])&&(s.record[e]=null)}}catch(t){a.e(t)}finally{a.f()}}n.d(e,"l",(function(){return p})),n.d(e,"h",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"i",(function(){return b})),n.d(e,"g",(function(){return y})),n.d(e,"k",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return _})),n.d(e,"m",(function(){return O})),n.d(e,"e",(function(){return k})),n.d(e,"d",(function(){return x})),n.d(e,"c",(function(){return S}));var _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"deepEquals",value:function(t,e){return"object"===i(t)&&"object"===i(e)?JSON.stringify(t)===JSON.stringify(e):t===e}},{key:"deepClone",value:function(t){return null==t?t:JSON.parse(JSON.stringify(t))}},{key:"pad",value:function(t,e,n){return n=n||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(n)+t}},{key:"toIsoDate",value:function(e){return(e="number"==typeof e?new Date(e):e).getUTCFullYear()+"-"+t.pad(e.getUTCMonth()+1,2)+"-"+t.pad(e.getUTCDate(),2)+"T"+t.pad(e.getUTCHours(),2)+":"+t.pad(e.getUTCMinutes(),2)+":"+t.pad(e.getUTCSeconds(),2)+"Z"}},{key:"notifyTopObjects",value:function(t,e,n){for(var o=0,r=Object.keys(e);o<r.length;o++){var i=r[o];t.notifyPath(n+"."+i,e[i])}}},{key:"arithmeticOperatorConversion",value:function(t,e,n){switch((null===t&&void 0===e||void 0===t&&null===e)&&(e=t),"boolean"==typeof t&&("true"===e.toLowerCase()?e=!0:"false"===e.toLowerCase()&&(e=!1)),n){case"equals":return t===e;case"not equals":return t!=e;case"less than":return t<e;case"less or equals":return t<=e;case"greater than":return t>e;case"greater or equals":return t>=e;case"starts with":return(t=t||"").toLowerCase().startsWith(e.toLowerCase());case"ends with":return(t=t||"").toLowerCase().endsWith(e.toLowerCase());case"contains":return(t=t||"").toLowerCase().includes(e.toLowerCase())}}},{key:"toHTML",value:function(t){return null!=t&&(t=t.replace(/(?:\r\n|\r|\n)/g,"<br>")),t}},{key:"horizontalBound",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout((function(){var n=t.getBoundingClientRect().left+t.getBoundingClientRect().width;n>window.innerWidth&&(t.style.left=t.offsetLeft-(n-window.innerWidth)-e+"px")}))}}],(n=null)&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();if(_.Map=Map,!Map||!Map.prototype.get||!Map.prototype.set){var w=document.createElement("iframe");document.body.appendChild(w),_.Map=w.contentWindow.Map,w.parentNode.removeChild(w)}function O(t,e,n){(n=n||this)&&n.classList&&(1!=arguments.length&&null!==e||(e=!n.classList.contains(t)),e?n.classList.add(t):n.classList.remove(t))}function k(t,e){if(t&&e)for(var n,o=Object.getOwnPropertyNames(e),r=0;r<o.length&&(n=o[r]);r++){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}return t||e}function x(t){var e=t&&t.getRootNode?t.getRootNode():null;return e?e.host:void 0}function S(t){var e=document.createDocumentFragment();return function t(e,n){var o=e.cloneNode();n.appendChild(o),e.shadowRoot?r(e.shadowRoot.firstChild,o.attachShadow({mode:"open"})):r(e.firstChild,o);function r(e,n){for(;e;)t(e,n),e=e.nextSibling}}(t,e),e.firstChild}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(78),r=n(3);n.d(e,"b",(function(){return r.a}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var i=Object(o.a)(HTMLElement)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u}));n(31);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var r=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:function(t){return t}}),i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(e,n);var o=n.reduce((function(t,n,o){return t+a(n)+e[o+1]}),e[0]);this.value=o.toString()}var e,n,r;return e=t,(n=[{key:"toString",value:function(){return this.value}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){if(t instanceof i)return t.value;throw new Error("non-literal value passed to Polymer's htmlLiteral function: ".concat(t))}function s(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof i)return a(t);throw new Error("non-template value passed to Polymer's html function: ".concat(t))}var l=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];c(t,n);var i=document.createElement("template"),a=n.reduce((function(e,n,o){return e+s(n)+t[o+1]}),t[0]);return r&&(a=r.createHTML(a)),i.innerHTML=a,i},c=function(t,e){if(!Array.isArray(t)||!Array.isArray(t.raw)||e.length!==t.length-1)throw new TypeError("Invalid call to the html template tag")},u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return new i(t,n)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return m}));var o=n(2),r=n(29);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f={},b={},y={},g=window&&window.sb||{};function v(t,e){return r.a.localize(t,e)}g.ui=g.ui||{},g.common=g.common||{},g.common.core=g.common.core||{},window.sb=g;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(c,t);var e,n,o,i=d(c);function c(){return a(this,c),i.apply(this,arguments)}return e=c,o=[{key:"init",value:function(t){return c.buildUserAndOrgFromSettings(t),c.device="desktop",navigator.userAgent.match(/Tablet|iPad|iPod/i)&&!navigator.userAgent.match(/Tablet PC/i)||navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/Mobi/i)?c.device="tablet":navigator.userAgent.match(/Mobi/i)&&(c.device="phone"),new Promise((function(t,e){var n={labels:r.a.getLabels(),user:b};r.a.init(null,n.labels,c.org.currencySymbol,b.locale),t(n)}))}},{key:"hasInitialized",value:function(){return!0===c.userAndOrgSettingsSet}},{key:"buildUserAndOrgFromSettings",value:function(t){t&&(c.userAndOrgSettingsSet=!0,c.user={lang:t.language,locale:t.locale,id:t.userId,fullname:t.fullName,username:t.userName,device:t.device,inCommunity:t.inCommunity,hasQuoteEditPermission:t.hasQuoteEditPermission,oik:t.oik},c.org={prefix:void 0!==t.developerPrefix?t.developerPrefix:"",scPrefix:void 0!==t.scDeveloperPrefix?t.scDeveloperPrefix:"",isMultiCurrencyOrg:t.isMultiCurrencyOrg,isServiceCloudEnabled:t.isServiceCloudEnabled,calculateImmediately:t.calculateImmediately,defaultCurrency:t.defaultCurrency,currencySymbol:t.currencySymbol,currencyDecimalScale:t.currencyDecimalScale,quantityScale:t.quantityScale,isOAuth:t.isOAuth,orgUrl:t.orgUrl,orgInstanceUrl:t.orgInstanceUrl,siteUrl:t.siteUrl,additionalLookupSearchTypes:t.additionalLookupSearchTypes,maxLookupSearchFields:t.maxLookupSearchFields,isJSProductRulesEnabled:t.isJSProductRulesEnabled,hasQuoteSelectionProductRules:t.hasQuoteSelectionProductRules,isUI3Enabled:!0,isBundleCollapsible:t.isBundleCollapsible,defaultBundleSetting:t.defaultBundleSetting,apiVersion:52,isPricingGuidanceEnabled:t.isPricingGuidanceEnabled,isCompactModeEnabled:t.isCompactModeEnabled,isManualEditsForUBPEnabled:t.isManualEditsForUBPEnabled,isColumnResizingEnabled:t.isColumnResizingEnabled,viewEncryptedDataEnabled:t.viewEncryptedDataEnabled,hideFeatureNoOptionEnabled:t.hideFeatureNoOptionEnabled})}},{key:"properties",get:function(){return{app:{type:Object,value:function(){return{user:b,labels:r.a.getLabels(),org:f,deviceContext:{isDesktop:c.isDesktop,isTablet:c.isTablet,isPhone:c.isPhone,isMobile:c.isPhone||c.isTablet}}}},i18n:{type:Object,value:function(){return r.a}}}}},{key:"user",get:function(){return b},set:function(t){b=t}},{key:"labels",get:function(){return r.a.getLabels()}},{key:"org",get:function(){return f},set:function(t){f=t}},{key:"device",get:function(){return y},set:function(t){y=t}},{key:"isDesktop",get:function(){return b.device?"desktop"===b.device:"desktop"===y}},{key:"isTablet",get:function(){return b.device?"tablet"===b.device:"tablet"===y}},{key:"isPhone",get:function(){return b.device?"phone"===b.device:"phone"===y}},{key:"isIE",value:function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}},{key:"isChrome",value:function(){return window.navigator.userAgent.indexOf("Chrome")>=0}},{key:"isFirefox",value:function(){return window.navigator.userAgent.indexOf("Firefox")>=0}},{key:"isSafari",value:function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0}},{key:"apiVersion",get:function(){return c.org.apiVersion},set:function(t){c.org.apiVersion=t}},{key:"apiVersionString",get:function(){return c.org.apiVersion+".0"}},{key:"i18n",get:function(){return r.a}},{key:"isMobile",get:function(){return c.properties.app.value().deviceContext.isMobile}},{key:"isBundleCollapsible",value:function(t){return c.org.isBundleCollapsible&&!this.isMobile&&t.data.settings.bundleKeptTogether&&t.largeQuoteExperienceEnabled&&t.isProductHierarchyVisualized()}},{key:"defaultBundleSetting",get:function(){return c.org.defaultBundleSetting}},{key:"isPricingGuidanceEnabled",get:function(){return c.org.isPricingGuidanceEnabled}},{key:"isCompactModeEnabled",get:function(){return c.org.isCompactModeEnabled}},{key:"isManualEditsForUBPEnabled",get:function(){return c.org.isManualEditsForUBPEnabled}},{key:"isColumnResizingEnabled",get:function(){return c.org.isColumnResizingEnabled}},{key:"viewEncryptedDataEnabled",get:function(){return c.org.viewEncryptedDataEnabled}},{key:"isHideFeatureNoOptionEnabled",get:function(){return c.org.hideFeatureNoOptionEnabled}}],(n=[{key:"ready",value:function(){l(h(c.prototype),"ready",this).call(this)}},{key:"connectedCallback",value:function(){l(h(c.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){l(h(c.prototype),"disconnectedCallback",this).call(this)}},{key:"user",get:function(){return b}},{key:"labels",get:function(){return r.a.getLabels()}},{key:"org",get:function(){return f}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.a);g.common.core.AppContext=m},function(t,e,n){"use strict";n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return O}));var o=n(19),r=n(4),i=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=p(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g,v,m=0,_=0;function w(){return v||(r.a.hasInitialized()||r.a.init(window.sb.userSettings),v=r.a.isPhone?["--phone","--mobile"]:r.a.isTablet?["--tablet","--mobile"]:["--desktop"])}var O=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(a,t);var e,n,o,r=f(a);function a(){return c(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"ready",value:function(){d(y(a.prototype),"ready",this)&&d(y(a.prototype),"ready",this).call(this);var t,e=this.shadowRoot.querySelectorAll("*[device]")||[],n=w(),o=s(n);try{for(o.s();!(t=o.n()).done;){var r=t.value;Object(i.m)(r,!0,this);var l,c=s(e);try{for(c.s();!(l=c.n()).done;){var u=l.value;Object(i.m)(r,!0,u)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}this.deviceClasses=n.join(" ")}},{key:"startPerformanceCheck",value:function(){g=performance.now()}},{key:"stopPerformanceCheck",value:function(){var t=performance.now()-g;m+=t,_++,t>1?console.warn("total (".concat(m.toFixed(2),"ms) | current (").concat(t.toFixed(2),"ms) | totalComponents (").concat(_,") | component (").concat(this.tagName.toLowerCase(),")")):console.log("total (".concat(m.toFixed(2),"ms) | current (").concat(t.toFixed(2),"ms) | totalComponents (").concat(_,") | component (").concat(this.tagName.toLowerCase(),")"))}}])&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(t)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));var o=n(2),r=n(28),i=n(4),a=n(0);n(187),n(188);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f,b,y=/:[a-z0-9_$]*/g,g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(i,t);var e,n,o,r=d(i);function i(){return l(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-router"}},{key:"properties",get:function(){return{autoHash:{type:Boolean,value:function(){return!1}},route:{type:String,observer:"routeChanged"},router:{type:Object,readOnly:!0,value:function(){return f||(f=new window.Router),f}}}}}],(n=[{key:"init",value:function(t){var e=this;this.router.init();var n=Object.keys(t);if(!b&&n.length){b=t;for(var o=this.router,r=n?n.length:0,i=0;i<r;i++)for(var a=n[i],s=Object.keys(b[a]),l=s?s.length:0,c=function(t){var n=s[t],r=n?n.match(y):null,i=[],l={};r&&(i=r.map((function(t,e){var n=t.substring(1);return l[n]=null,n}))),o.on(a+n,function(t,e,n,o){for(var r=JSON.parse(JSON.stringify(o)),i=Array.prototype.slice.call(arguments,4),a=i?i.length:0,s=0;s<a;s++)r[n[s]]=i[s];this.routeHandler(t,e,r)}.bind(e,a,n,i,l))},u=0;u<l;u++)c(u);o.on("/*",(function(){console.log("got an unknown route. need to show 404 here")})),o.on("",(function(){console.log("Got the <empty> route")}))}}},{key:"routeHandler",value:function(t,e,n){var o=window.location.hash.slice(1),r=o.indexOf("?"),i={};r>=0&&o.length>r&&(i=queryString.parse(o.substring(r+1))),this.dispatchEvent(Object(a.d)("sb-route-complete",{mod:t,path:e,route:b[t][e],pathParams:n,params:i}))}},{key:"routeChanged",value:function(t,e){if(this.autoHash&&t){var n=window.location.hash.slice(1)==this.route;window.location.hash=this.route,n&&this.router.dispatch("on",t)}}}])&&c(e.prototype,n),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.a);customElements.define(g.is,g);n(46),n(116);var v,m=n(3);var _,w,O,k=Object(m.b)(v||(_=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background-color: var(--sbPageBgColor);\n  font-family: var(--sbPageFontFamily);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  overflow: auto;\n  font-size: var(--sbFontSizeDefault);\n  color: var(--sbFontColor, #3C3D3E);\n  border-color: var(--sbPageBorderColor);\n}\n:host #content {\n  height: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n'],w||(w=_.slice(0)),v=Object.freeze(Object.defineProperties(_,{raw:{value:Object.freeze(w)}}))));n(13);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=P(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function P(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}function T(t,e){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=B(t);if(e){var r=B(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=window.matchMedia("screen and (max-width: 480px)"),D=window.matchMedia("screen and (min-width: 481px) and (max-width: 800px)"),A=window.matchMedia("screen and (min-width: 801px) and (max-width: 1024px)"),R=window.matchMedia("screen and (min-width: 1025px) and (max-width: 1200px)"),L=window.matchMedia("screen and (min-width: 1201px)"),q=0,F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(u,t);var e,s,l,c=I(u);function u(){return S(this,u),c.apply(this,arguments)}return e=u,l=[{key:"properties",get:function(){return{route:String,allRoutes:{type:Object,observer:"_allRoutesChanged"},viewport:{type:Object,observer:"_viewportChanged",value:function(){return this._buildViewport(M.matches,D.matches,A.matches,R.matches,L.matches)}}}}},{key:"is",get:function(){return"sb-page-container"}},{key:"getContainer",value:function(){return document.querySelector("#"+u.domId)}},{key:"getViewport",value:function(){var t=u.getContainer();return t?t.viewport:null}},{key:"isMobile",value:function(){var t=u.getViewport();return t&&t.isMobile()}},{key:"toggleSpinner",value:function(t){q+=!0===t?1:-1;var e=u.getContainer();null!==e&&(e.$.spinner.show=q>0)}},{key:"template",get:function(){return Object(o.b)(O||(O=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<style id="topLevelStyle"></style>\x3c!-- used for themes --\x3e\n\n\t\t\t\x3c!-- Route controller --\x3e\n\t\t\t<sb-router id="router" route="[[route]]" on-sb-route-complete="renderPage" auto-hash></sb-router>\n\t\t\t<sb-toast id="errorToast" type="error"></sb-toast>\n\t\t\t<sf-loading-spinner id="spinner" class="loadingSpinner" show="true"></sf-loading-spinner>\n\n\t\t\t<div style="max-width:100%;" id="content"></div>\n\t\t'])),k)}}],(s=[{key:"_buildViewport",value:function(t,e,n,o,r){var a={XS:{},S:{},M:{},L:{},XL:{},current:function(){return this.XS.only?{size:"XS",window:[0,480]}:this.S.only?{size:"S",window:[481,800]}:this.M.only?{size:"M",window:[801,1024]}:this.L.only?{size:"L",window:[1025,1200]}:this.XL.only?{size:"XL",window:[1200,1e4]}:void 0},isMobile:function(){return this.isPhone()||this.isTablet()},isPhone:function(){return i.a.isPhone},isTablet:function(){return i.a.isTablet},isDesktop:function(){return i.a.isDesktop}};return a.XS.only=t&&!e&&!n&&!o&&!r,a.XS.down=a.XS.only,a.XS.up=t||e||n||o||r,a.S.only=!t&&e&&!n&&!o&&!r,a.S.down=(t||e)&&!n&&!o&&!r,a.S.up=!t&&(e||n||o||r),a.M.only=!t&&!e&&n&&!o&&!r,a.M.down=(t||e||n)&&!o&&!r,a.M.up=!t&&!e&&(n||o||r),a.L.only=!t&&!e&&!n&&o&&!r,a.L.down=(t||e||n||o)&&!r,a.L.up=!t&&!e&&!n&&(o||r),a.XL.only=!t&&!e&&!n&&!o&&r,a.XL.down=!0,a.XL.up=a.XL.only,a}},{key:"ready",value:function(){E(B(u.prototype),"ready",this).call(this),this._setupViewportListeners()}},{key:"renderPage",value:function(t,e,o){var r=this;if(e.route.comp&&""!=e.route.comp){var i={};i.params=e.params,i.pathParams=e.pathParams;var a=function(t,e){return"<"+t.route.comp+" ctx='"+JSON.stringify(e)+"'></"+t.route.comp+">"}(e,i);e.route.mod?n(189)("./"+e.route.mod).then((function(t){r._updateContent(a)})).catch((function(t){console.log(t),console.log(t.originalErr)})):this._updateContent(a)}else this.$.ajax.url=e.route.view,this.$.ajax.url&&this.$.ajax.go()}},{key:"_updateContent",value:function(t){this.$.content.innerHTML=t,this._viewportChanged(),Object(r.b)(),this._updateThemeVariables()}},{key:"_updateThemeVariables",value:function(t){var e=(window.__vfsettings||{}).userTheme;if(e){var n=this.$.content.firstChild.shadowRoot.querySelector("style");n&&(n.innerText+=window.atob(e))}}},{key:"_allRoutesChanged",value:function(t){this.$.router.init(t)}},{key:"_viewportChanged",value:function(){var t=this.$.content.querySelector("*:first-child");t&&(t.viewport=this.viewport),setTimeout(function(){Object(a.c)(a.a.VIEWPORT_CHANGED,{viewport:this.viewport})}.bind(this),10)}},{key:"_setupViewportListeners",value:function(){var t=this;function e(e){e.matches&&(t.viewport=t._buildViewport(M.matches,D.matches,A.matches,R.matches,L.matches))}M.addListener(e),D.addListener(e),A.addListener(e),R.addListener(e),L.addListener(e)}}])&&C(e.prototype,s),l&&C(e,l),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.a);F.domId="sbPageContainer",customElements.define(F.is,F)},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return u}));var o=n(1);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){return t.has(e)||t.set(e,{fields:new Map,observers:[]}),t.get(e)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o.h)(__clientCache.data[t],e)}function l(t,e,n){var i=__clientCache.data[t];__clientCache.data[t]=Object(o.j)(i,e,n),function t(e,n,o,i,a){if(o!==i&&e){var s,l=r(e.observers);try{for(l.s();!(s=l.n()).done;){(0,s.value)(i)}}catch(t){l.e(t)}finally{l.f()}var c=function(r){t(e.fields.get(r),n,o?o[r]:void 0,i?i[r]:void 0,a+1)};a<n.length?c(n[a]):e.fields.forEach((function(t,e){c(e)}))}}(__clientCache.observers.get(t),e,i,__clientCache.data[t],0)}function c(t,e,n){if("function"!=typeof n)throw new Error("Observer must be a function!");var o,i=a(__clientCache.observers,t),l=r(e);try{for(l.s();!(o=l.n()).done;){var c=o.value;i=a(i.fields,c)}}catch(t){l.e(t)}finally{l.f()}i.observers.push(n);var u=s(t,e);return void 0!==u&&n(u),function(){i.observers.splice(i.observers.indexOf(n),1)}}function u(t){l(t,[],void 0),__clientCache.observers.delete(t),delete __clientCache.data[t]}window.__clientCache={data:{},observers:new Map}},function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return w}));n(31);var o=n(12),r=(n(16),n(94));n(28),n(27);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var h=Element.prototype,f=h.matches||h.matchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||h.webkitMatchesSelector,b=function(t,e){return f.call(t,e)},y=function(){function t(e){u(this,t),window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}return p(t,[{key:"observeNodes",value:function(t){return new r.a(this.node,t)}},{key:"unobserveNodes",value:function(t){t.disconnect()}},{key:"notifyObserver",value:function(){}},{key:"deepContains",value:function(t){if(Object(o.a)(this.node).contains(t))return!0;for(var e=t,n=t.ownerDocument;e&&e!==n&&e!==this.node;)e=Object(o.a)(e).parentNode||Object(o.a)(e).host;return e===this.node}},{key:"getOwnerRoot",value:function(){return Object(o.a)(this.node).getRootNode()}},{key:"getDistributedNodes",value:function(){return"slot"===this.node.localName?Object(o.a)(this.node).assignedNodes({flatten:!0}):[]}},{key:"getDestinationInsertionPoints",value:function(){for(var t=[],e=Object(o.a)(this.node).assignedSlot;e;)t.push(e),e=Object(o.a)(e).assignedSlot;return t}},{key:"importNode",value:function(t,e){var n=this.node instanceof Document?this.node:this.node.ownerDocument;return Object(o.a)(n).importNode(t,e)}},{key:"getEffectiveChildNodes",value:function(){return r.a.getFlattenedNodes(this.node)}},{key:"queryDistributedElements",value:function(t){for(var e,n=this.getEffectiveChildNodes(),o=[],r=0,i=n.length;r<i&&(e=n[r]);r++)e.nodeType===Node.ELEMENT_NODE&&b(e,t)&&o.push(e);return o}},{key:"activeElement",get:function(){var t=this.node;return void 0!==t._activeElement?t._activeElement:t.activeElement}}]),t}();function g(t,e){for(var n=function(n){var o=e[n];Object.defineProperty(t,o,{get:function(){return this.node[o]},configurable:!0})},o=0;o<e.length;o++)n(o)}var v=function(){function t(e){u(this,t),this.event=e}return p(t,[{key:"rootTarget",get:function(){return this.path[0]}},{key:"localTarget",get:function(){return this.event.target}},{key:"path",get:function(){return this.event.composedPath()}}]),t}();y.prototype.cloneNode,y.prototype.appendChild,y.prototype.insertBefore,y.prototype.removeChild,y.prototype.replaceChild,y.prototype.setAttribute,y.prototype.removeAttribute,y.prototype.querySelector,y.prototype.querySelectorAll,y.prototype.parentNode,y.prototype.firstChild,y.prototype.lastChild,y.prototype.nextSibling,y.prototype.previousSibling,y.prototype.firstElementChild,y.prototype.lastElementChild,y.prototype.nextElementSibling,y.prototype.previousElementSibling,y.prototype.childNodes,y.prototype.children,y.prototype.classList,y.prototype.textContent,y.prototype.innerHTML;var m=y;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(n,window["ShadyDOM"]["Wrapper"]);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return p(n)}();Object.getOwnPropertyNames(y.prototype).forEach((function(t){"activeElement"!=t&&(_.prototype[t]=y.prototype[t])})),g(_.prototype,["classList"]),m=_,Object.defineProperties(v.prototype,{localTarget:{get:function(){for(var t=this.event.currentTarget,e=t&&w(t).getOwnerRoot(),n=this.path,o=0;o<n.length;o++){var r=n[o];if(w(r).getOwnerRoot()===e)return r}},configurable:!0},path:{get:function(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(t,e){for(var n=function(n){var o=e[n];t[o]=function(){return this.node[o].apply(this.node,arguments)}},o=0;o<e.length;o++)n(o)}(y.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll","attachShadow"]),g(y.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList","shadowRoot"]),function(t,e){for(var n=function(n){var o=e[n];Object.defineProperty(t,o,{get:function(){return this.node[o]},set:function(t){this.node[o]=t},configurable:!0})},o=0;o<e.length;o++)n(o)}(y.prototype,["textContent","innerHTML","className"]);var w=function(t){if((t=t||document)instanceof m)return t;if(t instanceof v)return t;var e=t.__domApi;return e||(e=t instanceof Event?new v(t):new m(t),t.__domApi=e),e}},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return i}));var r=null,i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"constants",get:function(){return r},set:function(t){r=t}},{key:"isDiscountField",value:function(t){return t===r.ADDITIONAL_DISCOUNT_FIELD}},{key:"isMarkupField",value:function(t){return t===r.MARKUP_FIELD}},{key:"isListPriceField",value:function(t){return t===r.LIST_PRICE_FIELD}},{key:"isProductNameField",value:function(t){return t===r.PRODUCT_NAME_FIELD}},{key:"isNetTotalField",value:function(t){return t===r.NET_TOTAL_FIELD}},{key:"isSubscriptionScopeField",value:function(t){return t===r.SUBSCRIPTION_SCOPE_FIELD}},{key:"isUbpFieldInlineEditable",value:function(t,e){for(var n=r.UBP_FIELDS.ConsumptionRateFields,o=0,i=[n.UpperBound,n.LowerBound,n.Price];o<i.length;o++)if(i[o]===t)return null!=e&&e[t];return!1}},{key:"shouldCalulateImmediately",value:function(e,n,o){return!(!n||null!=o.quoteVO.record[t.constants.TARGET_CUSTOMER_AMOUNT]&&new Set([t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD,t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD,t.constants.ADDITIONAL_DISCOUNT_FIELD]).has(e))}}],(n=null)&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return G.a})),n.d(e,"a",(function(){return $}));var o=n(124),r=(n(14),n(154),n(144),n(25),n(18),n(2)),i=n(19),a=n(132),s=n(78);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var g=function(t){p(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,null,[{key:"is",get:function(){return"array-selector"}},{key:"template",get:function(){return null}}]),n}(Object(i.a)((function(t){return function(t){p(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.call(this)).__lastItems=null,t.__lastMulti=null,t.__selectedMap=null,t}return d(n,[{key:"__updateSelection",value:function(t,e){var n=e.path;if(n==JSCompiler_renameProperty("items",this)){var o=e.base||[],r=this.__lastItems;if(t!==this.__lastMulti&&this.clearSelection(),r){var i=Object(a.a)(o,r);this.__applySplices(i)}this.__lastItems=o,this.__lastMulti=t}else if(e.path=="".concat(JSCompiler_renameProperty("items",this),".splices"))this.__applySplices(e.value.indexSplices);else{var s=n.slice("".concat(JSCompiler_renameProperty("items",this),".").length),l=parseInt(s,10);s.indexOf(".")<0&&s==l&&this.__deselectChangedIdx(l)}}},{key:"__applySplices",value:function(t){for(var e=this,n=this.__selectedMap,o=function(o){var r=t[o];n.forEach((function(t,e){t<r.index||(t>=r.index+r.removed.length?n.set(e,t+r.addedCount-r.removed.length):n.set(e,-1))}));for(var i=0;i<r.addedCount;i++){var a=r.index+i;n.has(e.items[a])&&n.set(e.items[a],a)}},r=0;r<t.length;r++)o(r);this.__updateLinks();var i=0;n.forEach((function(t,o){t<0?(e.multi?e.splice(JSCompiler_renameProperty("selected",e),i,1):e.selected=e.selectedItem=null,n.delete(o)):i++}))}},{key:"__updateLinks",value:function(){var t=this;if(this.__dataLinkedPaths={},this.multi){var e=0;this.__selectedMap.forEach((function(n){n>=0&&t.linkPaths("".concat(JSCompiler_renameProperty("items",t),".").concat(n),"".concat(JSCompiler_renameProperty("selected",t),".").concat(e++))}))}else this.__selectedMap.forEach((function(e){t.linkPaths(JSCompiler_renameProperty("selected",t),"".concat(JSCompiler_renameProperty("items",t),".").concat(e)),t.linkPaths(JSCompiler_renameProperty("selectedItem",t),"".concat(JSCompiler_renameProperty("items",t),".").concat(e))}))}},{key:"clearSelection",value:function(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}},{key:"isSelected",value:function(t){return this.__selectedMap.has(t)}},{key:"isIndexSelected",value:function(t){return this.isSelected(this.items[t])}},{key:"__deselectChangedIdx",value:function(t){var e=this,n=this.__selectedIndexForItemIndex(t);if(n>=0){var o=0;this.__selectedMap.forEach((function(t,r){n==o++&&e.deselect(r)}))}}},{key:"__selectedIndexForItemIndex",value:function(t){var e=this.__dataLinkedPaths["".concat(JSCompiler_renameProperty("items",this),".").concat(t)];if(e)return parseInt(e.slice("".concat(JSCompiler_renameProperty("selected",this),".").length),10)}},{key:"deselect",value:function(t){var e,n=this.__selectedMap.get(t);n>=0&&(this.__selectedMap.delete(t),this.multi&&(e=this.__selectedIndexForItemIndex(n)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),e,1):this.selected=this.selectedItem=null)}},{key:"deselectIndex",value:function(t){this.deselect(this.items[t])}},{key:"select",value:function(t){this.selectIndex(this.items.indexOf(t))}},{key:"selectIndex",value:function(t){var e=this.items[t];this.isSelected(e)?this.toggle&&this.deselectIndex(t):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(e,t),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),e):this.selected=this.selectedItem=e)}}],[{key:"properties",get:function(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["__updateSelection(multi, items.*)"]}}]),n}(Object(s.a)(t))}))(r.a));customElements.define(g.is,g);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var v,m=null,_=window.HTMLImports&&window.HTMLImports.whenReady||null;function w(t){requestAnimationFrame((function(){_?_(t):(m||(m=new Promise((function(t){v=t})),"complete"===document.readyState?v():document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&v()}))),m.then((function(){t&&t()})))}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var k="__shadyCSSCachedStyle",x=null,S=null,C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.customStyles=[],this.enqueued=!1,w((function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}var e,n,o;return e=t,(n=[{key:"enqueueDocumentValidation",value:function(){!this.enqueued&&S&&(this.enqueued=!0,w(S))}},{key:"addCustomStyle",value:function(t){t.__seenByShadyCSS||(t.__seenByShadyCSS=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}},{key:"getStyleForCustomStyle",value:function(t){return t[k]?t[k]:t.getStyle?t.getStyle():t}},{key:"processStyles",value:function(){for(var t=this.customStyles,e=0;e<t.length;e++){var n=t[e];if(!n[k]){var o=this.getStyleForCustomStyle(n);if(o){var r=o.__appliedElement||o;x&&x(r),n[k]=r}}}return t}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();C.prototype.addCustomStyle=C.prototype.addCustomStyle,C.prototype.getStyleForCustomStyle=C.prototype.getStyleForCustomStyle,C.prototype.processStyles=C.prototype.processStyles,Object.defineProperties(C.prototype,{transformCallback:{get:function(){return x},set:function(t){x=t}},validateCallback:{get:function(){return S},set:function(t){var e=!1;S||(e=!0),S=t,e&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function E(t,e){for(var n in e)null===n?t.style.removeProperty(n):t.style.setProperty(n,e[n])}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var P,T,I=!(window.ShadyDOM&&window.ShadyDOM.inUse);function j(t){P=(!t||!t.shimcssproperties)&&(I||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(T=window.ShadyCSS.cssBuild);var B=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?P=window.ShadyCSS.nativeCss:window.ShadyCSS?(j(window.ShadyCSS),window.ShadyCSS=void 0):j(window.WebComponents&&window.WebComponents.flags);var M=P,D=new C;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(t,e,n){},prepareTemplateDom:function(t,e){},prepareTemplateStyles:function(t,e,n){},styleSubtree:function(t,e){D.processStyles(),E(t,e)},styleElement:function(t){D.processStyles()},styleDocument:function(t){D.processStyles(),E(document.body,t)},getComputedStyleValue:function(t,e){return function(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return n?n.trim():""}(t,e)},flushCustomStyles:function(){},nativeCss:M,nativeShadow:I,cssBuild:T,disableRuntime:B}),window.ShadyCSS.CustomStyleInterface=D;var A=n(119);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function q(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){var e="function"==typeof Map?new Map:void 0;return(N=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return z(t,arguments,V(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),U(o,t)})(t)}function z(t,e,n){return(z=H()?Reflect.construct.bind():function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&U(r,n.prototype),r}).apply(null,arguments)}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function U(t,e){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var W=window.ShadyCSS.CustomStyleInterface,Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(s,t);var e,n,o,r,i,a=(e=s,n=H(),function(){var t,o=V(e);if(n){var r=V(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return q(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this))._style=null,W.addCustomStyle(F(t)),t}return o=s,(r=[{key:"getStyle",value:function(){if(this._style)return this._style;var t=this.querySelector("style");if(!t)return null;this._style=t;var e=t.getAttribute("include");return e&&(t.removeAttribute("include"),t.textContent=Object(A.a)(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}])&&L(o.prototype,r),i&&L(o,i),Object.defineProperty(o,"prototype",{writable:!1}),s}(N(HTMLElement));window.customElements.define("custom-style",Q);n(155);var G=n(3),$=Object(o.a)(HTMLElement).prototype},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var o=!1,r=[],i=[];function a(){o=!0,requestAnimationFrame((function(){o=!1,s(r),setTimeout((function(){!function(t){for(var e=0,n=t.length;e<n;e++)l(t.shift())}(i)}))}))}function s(t){for(;t.length;)l(t.shift())}function l(t){var e=t[0],n=t[1],o=t[2];try{n.apply(e,o)}catch(t){setTimeout((function(){throw t}))}}function c(t,e,n){o||a(),i.push([t,e,n])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var o=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?function(t){return ShadyDOM.patch(t)}:function(t){return t}},function(t,e,n){"use strict";n(10);var o,r=n(3);var i,a,s=Object(r.a)(o||(i=["\n\t\t\t\t<dom-module id=\"sb-common-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n:host {\n  /* Page (top-level stuff) */\n  --sbPageBgColor: #FFF;\n  --sbPageColor: #3C3D3E;\n  --sbPageBorderColor: #d8dde6;\n  --sbPageFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  /* Tabs */\n  --sbTabSelectedColor: #166bbf;\n  --sbTabColor: #54698d;\n  --sbTabHoverColor: #0070d2;\n  --sbTabFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  /* Navigation Drawer */\n  --sbNavigationDrawerBgColor: #FFF;\n  --sbNavigationDrawerHeaderColor: #8199AF;\n  --sbNavigationDrawerHeaderFontColor: #FFF;\n  --sbNavigationDrawerFontColor: #16325C;\n  --sbNavigationDrawerRowColor: #FFF;\n  --sbNavigationDrawerRowSelectedColor: #d8dde6;\n  --sbNavigationDrawerRowHoverColor: #CFD7E6;\n  /* Filter Drawer */\n  --sbFilterDrawerBgColor: #f4f6f9;\n  --sbFilterDrawerFontColor: #16325C;\n  /* Page Header */\n  --sbPageHeaderBgColor: #fafafa;\n  --sbPageHeaderColor: #333230;\n  --sbPageHeaderFontSize: 18px;\n  --sbPageHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbPageHeaderTitleFontStyle: normal;\n  --sbPageHeaderTitleFontWeight: 700;\n  --sbPageHeaderTitleTextDecoration: none;\n  --sbPageHeaderSecondaryColor: #6b6d70;\n  --sbPageHeaderSecondaryFontSize: 12px;\n  --sbPageHeaderSecondaryFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbPageHeaderSecondaryFontStyle: normal;\n  --sbPageHeaderSecondaryFontWeight: 400;\n  --sbPageHeaderSecondaryTextDecoration: none;\n  --sbPageHeaderBorderBottomWidth: 1px;\n  --sbPageHeaderBorderBottomStyle: solid;\n  --sbPageHeaderBorderBottomColor: #dedbd7;\n  --sbPageHeaderMinHeight: 80px;\n  --sbPageHeaderIconDisplay: inline-block;\n  --sbPageHeaderIconColor: #FFF;\n  --sbPageHeaderIconSize: 32px;\n  --sbPageHeaderPaddingTop: 18px;\n  --sbPageHeaderPaddingRight: 18px;\n  --sbPageHeaderPaddingBottom: 18px;\n  --sbPageHeaderPaddingLeft: 18px;\n  /* Buttons */\n  --sbBtnBgColor: #fff;\n  --sbBtnColor: #0070d2;\n  --sbBtnBorder: 1px solid #dedbd7;\n  --sbBtnBorderColor: #dedbd7;\n  --sbBtnBorderRadius: 4px;\n  --sbBtnHoverBgColor: #f4f6f9;\n  --sbBtnHoverColor: #0070d2;\n  --sbBtnDisabledBgColor: #fff;\n  --sbBtnDisabledColor: #d8dde6;\n  --sbBtnPaddingTop: 6px;\n  --sbBtnPaddingRight: 16px;\n  --sbBtnPaddingBottom: 6px;\n  --sbBtnPaddingLeft: 16px;\n  --sbBtnFontSize: 13px;\n  --sbBtnFontWeight: 400;\n  --sbBtnFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbMoreIconSize: 12px;\n  /* Brand Buttons */\n  --sbBrandedButtonBackgroundColor: #0070d2;\n  --sbBrandedButtonFontColor: #FFFFFF;\n  --sbBrandedButtonHoverBackgroundColor: #005fb2;\n  --sbBrandedButtonHoverFontColor: #FFFFFF;\n  --sbBrandedButtonBorderColor: #d8dde6;\n  --sbBrandedButtonDisabledFontColor: #d8dde6;\n  --sbBrandedButtonFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  /* Custom Actions */\n  --sbConfiguratorCustomActionBgColor: #fff;\n  --sbConfiguratorCustomActionFontColor: #0070d2;\n  --sbConfiguratorCustomActionHoverBgColor: #f4f6f9;\n  --sbConfiguratorCustomActionHoverFontColor: #0070d2;\n  --sbConfiguratorCustomActionBorderColor: #d8dde6;\n  /* Groups */\n  --sbGroupBorderColor: rgba(171, 173, 176, 0.8);\n  --sbGroupBorderWidth: 1px;\n  --sbGroupHeaderBgColor: #fafaf9;\n  --sbGroupHeaderBorderBottomColor: #dedbd7;\n  --sbGroupHeaderBorderBottomWidth: 1px;\n  --sbGroupHeaderFontColor: #6b6d70;\n  --sbGroupHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbGroupHeaderFontSize: 18px;\n  --sbGroupHeaderFontWeight: 400;\n  --sbGroupHeaderFontStyle: normal;\n  --sbGroupHeaderTextDecoration: none;\n  /* Feature Header Instructions */\n  --sbProductFeatureHeaderInstructionsColor: #16325C;\n  --sbProductFeatureHeaderInstructionsFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbProductFeatureHeaderInstructionsFontSize: 13px;\n  --sbProductFeatureHeaderInstructionsFontWeight: 300;\n  --sbProductFeatureHeaderInstructionsFontStyle: normal;\n  --sbProductFeatureHeaderInstructionsTextDecoration: none;\n  --sbProductFeatureHeaderInstructionsPaddingTop: 0;\n  --sbProductFeatureHeaderInstructionsPaddingRight: 0;\n  --sbProductFeatureHeaderInstructionsPaddingBottom: 0;\n  --sbProductFeatureHeaderInstructionsPaddingLeft: 0;\n  --sbConfigAttrLabelColor: #6b6d70;\n  /* Bundle Header */\n  --sbProductBundlesLayoutProductHeaderBgColor: transparent;\n  --sbProductBundlesLayoutProductHeaderColor: inherit;\n  --sbProductBundlesLayoutProductHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbProductBundlesLayoutProductHeaderFontSize: 1.5rem;\n  --sbProductBundlesLayoutProductHeaderFontWeight: 300;\n  --sbProductBundlesLayoutProductHeaderFontStyle: normal;\n  --sbProductBundlesLayoutProductHeaderTextDecoration: none;\n  /* Table */\n  --sbTableCellPaddingTop: 2px;\n  --sbTableCellPaddingRight: 6px;\n  --sbTableCellPaddingBottom: 0px;\n  --sbTableCellPaddingLeft: 6px;\n  /* Table Header */\n  --sbTableHeaderBgColor: #fafafa;\n  --sbTableHeaderColor: #524f4e;\n  --sbTableHeaderBorderBottomColor: #d8dde6;\n  --sbTableHeaderBorderBottomWidth: 1px;\n  --sbTableHeaderBorderBottomStyle: solid;\n  --sbTableHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbTableHeaderFontSize: 13px;\n  --sbTableHeaderFontWeight: 400;\n  --sbTableHeaderFontStyle: normal;\n  --sbTableHeaderTextDecoration: none;\n  --sbTableCellHeight: 32px;\n  /* Table Row Grouped Row */\n  --sbTableRowGroupedRowBgColor: #EEF1F6;\n  --sbTableRowGroupedRowLineHeight: normal;\n  --sbTableRowGroupedRowPaddingTop: 2px;\n  --sbTableRowGroupedRowPaddingBottom: 2px;\n  --sbTableRowGroupedRowBorderBottomStyle: solid;\n  --sbTableRowGroupedRowBorderBottomColor: #D8DDE6;\n  --sbTableRowGroupedRowBorderBottomWidth: 1px;\n  /* Tables Row */\n  --sbTableRowBgColor: #FFF;\n  --sbTableRowColor: #3C3D3E;\n  --sbTableRowHoverColor: #f9f9fa;\n  --sbTableRowFontFamilly: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbTableRowFontSize: 13px;\n  --sbTableRowFontWeight: 400;\n  --sbTableRowFontStyle: normal;\n  --sbTableRowTextDecoration: none;\n  --sbTableRowBorderBottomStyle: solid;\n  --sbTableRowBorderBottomColor: #D8DDE6;\n  --sbTableRowBorderBottomWidth: 1px;\n  --sbTableRowLineHeight: normal;\n  --sbTableRowPaddingTop: 2px;\n  --sbTableRowPaddingBottom: 2px;\n  --sbDrawerBgColor: #FFFFFF;\n  /* QLE Rows */\n  --parentLineRowFontColor: #3c3d3e;\n  --parentLineRowFontStyle: normal;\n  --parentLineRowFontWeight: 400;\n  --parentLineRowTextDecoration: none;\n  --componentRowFontColor: #3c3d3e;\n  --componentRowFontStyle: normal;\n  --componentRowFontWedight: 400;\n  --componentRowTextDecoration: none;\n  --standaloneProductRowFontColor: #3c3d3e;\n  --standaloneProductRowFontStyle: normal;\n  --standaloneProductRowFontWeight: 400;\n  --standaloneProductRowTextDecoration: none;\n  /* Dialogs */\n  --sbDialogBgColor: #fff;\n  --sbDialogMaskColor: #A8B7C7;\n  --sbDialogCloseColor: #fff;\n  --sbDialogFooterColor: #fafafa;\n  --sbDialogFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbDialogFooterBorderColor: #d8dde6;\n  --sbDialogFooterBorderStyle: solid;\n  --sbDialogFooterBorderWidth: 1px;\n  --sbDialogHeaderBorderColor: #d8dde6;\n  --sbDialogHeaderBorderStyle: solid;\n  --sbDialogHeaderBorderWidth: 2px;\n  --sbDialogBorderRadius: 4px;\n  --sbDialogHeaderPaddingTop: 18px;\n  --sbDialogHeaderPaddingRight: 18px;\n  --sbDialogHeaderPaddingBottom: 18px;\n  --sbDialogHeaderPaddingLeft: 18px;\n  /* Badge */\n  --sbBadgeBgColor: #E0E5EE;\n  --sbBadgeColor: #16325C;\n  --sbBadgeFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbBadgeFontSize: .8rem;\n  --sbBadgeBorderColor: transparent;\n  --sbBadgeBorderWidth: 1px;\n  --sbBadgeBorderStyle: solid;\n  /* Forms */\n  --sbTextboxBgColor: var(--sbPageBgColor);\n  --sbTextboxBorderWidth: 1px;\n  --sbTextboxBorderColor: #d8dde6;\n  --sbTextboxBorderStyle: solid;\n  --sbTextboxHeight: 25px;\n  --sbTextboxPaddingTop: 0;\n  --sbTextboxPaddingRight: 5px;\n  --sbTextboxPaddingBottom: 0;\n  --sbTextboxPaddingLeft: 5px;\n  --sbTextboxRadius: 3px;\n  --sbSelectBorderWidth: 1px;\n  --sbSelectBorderColor: #d8dde6;\n  --sbSelectBorderStyle: solid;\n  --sbSelectHeight: 25px;\n  --sbSelectPaddingTop: 0;\n  --sbSelectPaddingRight: .5rem;\n  --sbSelectPaddingBottom: 0;\n  --sbSelectPaddingLeft: .4375rem;\n  --sbSelectRadius: .25rem;\n  --sbSelectBgColor: var(--sbPageBgColor);\n  --sbCheckboxSize: 16px;\n  --sbCheckboxBorderWidth: 1px;\n  --sbCheckboxBorderColor: #d8dde6;\n  --sbCheckboxBorderStyle: solid;\n  --sbCheckboxBorderRadius: 2px;\n  --sbCheckboxBgColorUnchecked: transparent;\n  --sbCheckboxBgColorChecked: #1589ee;\n  --sbCheckboxColor: #fff;\n  --sbRadioButtonCheckedColor: #1589ee;\n  --sbRadioButtonUncheckedColor: #d8dde6;\n  --sbInputOutlineColor: #BFBFC2;\n  --sbInputOutlineWidth: 2px;\n  /* Fields */\n  --sbFieldEditableIconColor: #9faab5;\n  --sbFieldEditedColor: #F88962;\n  /* Fonts */\n  --sbFont: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbFontColor: #16325C;\n  --sbFontSize: 10px;\n  /* Base font size to be used for all other font size calculations */\n  --sbFontSizeDefault: 14px;\n  /* Font size for regular/default content */\n  --sbFontSizeSmall: 12px;\n  /* Font size for \"small\" content */\n  --sbH1FontSize: 24px;\n  --sbH2FontSize: 14px;\n  --sbH3FontSize: 16px;\n  --sbH4FontSize: 12px;\n  --sbH5FontSize: 10px;\n  --sbH6FontSize: 9px;\n  /* Hyperlinks */\n  --sbLinkColor: #0070D2;\n  --sbLinkColorActive: #00396b;\n  --sbLinkColorDisabled: #16325c;\n  --sbLinkColorHover: #005fb2;\n  /* Icons */\n  --sbIconColor: #0070d2;\n  --sbIconHoverColor: #16325c;\n  --sbIconDisabledColor: #888888;\n  --sbIconPageLoadingColor: #A71B21;\n  --sbIcon16: 16px;\n  --sbIcon20: 20px;\n  --sbIcon24: 24px;\n  --sbIcon30: 30px;\n  --sbIconMobileLineActionColor: #fff;\n  --sbIconMobileDeleteBgColor: #7f8de1;\n  --sbIconMobileCopyBgColor: #ef7ead;\n  --sbIconMobileWandBgColor: #4bc076;\n  --sbIconMobileStarBgColor: #0C8EFF;\n  --sbIconMobileStarFillColor: #f2cf5b;\n  /* Text */\n  --sbBundleOptionColor: rgba(0, 0, 0, 0.65);\n  /* Loading Mask */\n  --sbLoadingMaskColor: #fff;\n  /* Contract Selector Page */\n  --sbSelectContractHideSkipActionOnAddOnDisplay: inline-flex;\n  --sbSelectContractHideSkipActionOnAmendDisplay: inline-flex;\n}\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  color: inherit;\n  font-weight: 300;\n  font-family: inherit;\n  display: inline-block;\n}\nh1 {\n  font-size: var(--sbH1FontSize);\n}\nh2 {\n  font-size: var(--sbH2FontSize);\n}\nh3 {\n  font-size: var(--sbH3FontSize);\n}\nh4 {\n  font-size: var(--sbH4FontSize);\n}\nh5 {\n  font-size: var(--sbH5FontSize);\n}\nh6 {\n  font-size: var(--sbH6FontSize);\n}\n/*\nButton\n\nA standard, standalone button\n*/\npaper-button {\n  padding-top: var(--sbBtnPaddingTop);\n  padding-right: var(--sbBtnPaddingRight);\n  padding-bottom: var(--sbBtnPaddingBottom);\n  padding-left: var(--sbBtnPaddingLeft);\n  cursor: pointer;\n  border: var(--sbBtnBorder);\n  border-radius: var(--sbBtnBorderRadius);\n  font-weight: var(--sbBtnFontWeight);\n  font-family: var(--sbBtnFontFamily);\n  font-size: var(--sbBtnFontSize);\n  min-width: inherit;\n  vertical-align: middle;\n  text-align: center;\n  text-transform: none;\n  height: 36px;\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\npaper-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\npaper-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\npaper-button.primary,\npaper-button.sbPrimaryAction,\npaper-button.primaryButton {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\npaper-button.primary:hover,\npaper-button.sbPrimaryAction:hover,\npaper-button.primaryButton:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\npaper-button.primary:disabled,\npaper-button.sbPrimaryAction:disabled,\npaper-button.primaryButton:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\npaper-button.keyboard-focus {\n  font-weight: 700;\n}\npaper-button --paper-button-flat-keyboard-focus {\n  outline-offset: -2px;\n  outline-width: 2px;\n}\npaper-button > .sf-icon-down {\n  margin-left: 8px;\n  font-size: var(--sbBtnMoreIconSize);\n}\n.buttons {\n  text-align: center;\n  display: inline-block;\n  padding: 0px !important;\n}\n.buttons > paper-button {\n  border-left: 0;\n  border-radius: 0;\n  margin: 0px;\n  float: left;\n}\n.buttons > paper-button:first-of-type {\n  border-left: var(--sbBtnBorder);\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\n.buttons > paper-button:last-of-type {\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\npaper-button > menu {\n  position: absolute;\n  right: -1px;\n  top: 16px;\n  font-weight: normal;\n  padding: 8px 14px;\n  white-space: nowrap;\n  border-radius: var(--sbBtnBorderRadius);\n  border-top-right-radius: 0;\n  border: var(--sbBtnBorder);\n  display: none;\n  z-index: 4;\n  text-align: left;\n}\npaper-button > menu .icon {\n  margin-right: 6px;\n  vertical-align: middle;\n}\npaper-button > menu.open {\n  display: block;\n}\npaper-button > .badge {\n  background-color: var(--sbBadgeBgColor);\n  color: var(--sbBadgeColor);\n  font-size: var(--sbBadgeFontSize);\n  border-width: var(--sbBadgeBorderWidth);\n  border-style: var(--sbBadgeBorderStyle);\n  border-color: var(--sbBadgeBorderColor);\n  border-radius: 15rem;\n  padding: .25rem .5rem;\n  line-height: 1.25;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: .0625em;\n  vertical-align: middle;\n  white-space: nowrap;\n}\npaper-button > .icon-badge-upper-left {\n  position: absolute;\n  top: -14px;\n  left: -16px;\n}\npaper-tooltip {\n  --paper-tooltip-padding: 5px;\n  --paper-tooltip-color: var(--sbFontColor);\n  --paper-tooltip-font-family: var(--sbFont);\n  --paper-tooltip-font-size: 14px;\n  --paper-tooltip-border-radius: 4px;\n  --paper-tooltip-z-index: 999;\n  --paper-tooltip-background-color: #fff;\n  --paper-tooltip-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  --paper-tooltip-border: var(--sbBtnBorder);\n  --paper-tooltip-opacity: 1;\n}\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\nul,\nol {\n  list-style: none;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: normal;\n}\n[hidden] {\n  display: none;\n}\n.hidden {\n  display: none;\n}\n[invisible] {\n  visibility: hidden;\n}\n.invisible {\n  visibility: hidden;\n}\n.clear {\n  content: \"\";\n  display: table;\n  clear: both;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  font-size: inherit;\n}\na,\na:visited,\na:hover,\na:active,\na[disabled] {\n  text-decoration: none;\n  cursor: pointer;\n  color: var(--sbLinkColor);\n}\na:hover {\n  color: var(--sbLinkColorHover);\n}\na:active {\n  color: var(--sbLinkColorActive);\n}\na[disabled] {\n  color: var(--sbLinkColorDisabled);\n  cursor: default;\n  pointer-events: none;\n}\n/* Bugs in Chrome and Firefox require media query with at least 1 rule or else js listeners don't always fire */\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(103),r=(n(31),function t(e){var n;return n="function"==typeof e?e:t.Class(e),e._legacyForceObservedAttributes&&(n.prototype._legacyForceObservedAttributes=e._legacyForceObservedAttributes),customElements.define(n.is,n),n});r.Class=o.a},function(t,e,n){"use strict";n(10);var o,r=n(3);var i,a,s=Object(r.a)(o||(i=["\n\t\t\t\t<dom-module id=\"sb-icons-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n\n.sb-icon-filter:before { content: '\\e800'; } /* '' */\n.sb-icon-th-large:before { content: '\\e801'; } /* '' */\n.sb-icon-th:before { content: '\\e802'; } /* '' */\n.sb-icon-th-list:before { content: '\\e803'; } /* '' */\n.sb-icon-pencil:before { content: '\\e804'; } /* '' */\n.sb-icon-cancel:before { content: '\\e805'; } /* '' */\n.sb-icon-plus:before { content: '\\e806'; } /* '' */\n.sb-icon-cog:before { content: '\\e807'; } /* '' */\n.sb-icon-align-justify:before { content: '\\e808'; } /* '' */\n.sb-icon-ok:before { content: '\\e809'; } /* '' */\n.sb-icon-lock:before { content: '\\e80a'; } /* '' */\n.sb-icon-exchange:before { content: '\\e80b'; } /* '' */\n.sb-icon-down:before { content: '\\e80c'; } /* '' */\n.sb-icon-up:before { content: '\\e80d'; } /* '' */\n.sb-icon-help-circled:before { content: '\\e80e'; } /* '' */\n.sb-icon-info-circled:before { content: '\\e80f'; } /* '' */\n.sb-icon-sort-name-up:before { content: '\\e810'; } /* '' */\n.sb-icon-sort-name-down:before { content: '\\e811'; } /* '' */\n.sb-icon-down-dir:before { content: '\\e812'; } /* '' */\n.sb-icon-up-dir:before { content: '\\e813'; } /* '' */\n.sb-icon-compass:before { content: '\\e814'; } /* '' */\n.sb-icon-right-dir:before { content: '\\e815'; } /* '' */\n.sb-icon-left-dir:before { content: '\\e816'; } /* '' */\n.sb-icon-docs:before { content: '\\e817'; } /* '' */\n.sb-icon-circle-empty:before { content: '\\e818'; } /* '' */\n.sb-icon-dot-circled:before { content: '\\e819'; } /* '' */\n.sb-icon-to-end:before { content: '\\e81a'; } /* '' */\n.sb-icon-to-start:before { content: '\\e81b'; } /* '' */\n.sb-icon-fast-forward:before { content: '\\e81c'; } /* '' */\n.sb-icon-fast-backward:before { content: '\\e81d'; } /* '' */\n.sb-icon-cw:before { content: '\\e81e'; } /* '' */\n.sb-icon-level-down:before { content: '\\e81f'; } /* '' */\n.sb-icon-attention:before { content: '\\e820'; } /* '' */\n.sb-icon-attention-circled:before { content: '\\e821'; } /* '' */\n.sb-icon-search:before { content: '\\e822'; } /* '' */\n.sb-icon-ccw:before { content: '\\e823'; } /* '' */\n.sb-icon-star:before { content: '\\e824'; } /* '' */\n.sb-icon-star-empty:before { content: '\\e825'; } /* '' */\n.sb-icon-calendar:before { content: '\\e826'; } /* '' */\n\n.sf-icon-3dots:before { content: '\\e800'; } /* '' */\n.sf-icon-add:before { content: '\\e801'; } /* '' */\n.sf-icon-close:before { content: '\\e802'; } /* '' */\n.sf-icon-pricebook:before { content: '\\e803'; } /* '' */\n.sf-icon-help:before { content: '\\e804'; } /* '' */\n.sf-icon-notebook:before { content: '\\e805'; } /* '' */\n.sf-icon-rows:before { content: '\\e806'; } /* '' */\n.sf-icon-upload:before { content: '\\e807'; } /* '' */\n.sf-icon-clock:before { content: '\\e808'; } /* '' */\n.sf-icon-groups:before { content: '\\e809'; } /* '' */\n.sf-icon-open_folder:before { content: '\\e80a'; } /* '' */\n.sf-icon-right_align_text:before { content: '\\e80b'; } /* '' */\n.sf-icon-product:before { content: '\\e80c'; } /* '' */\n.sf-icon-question_feed:before { content: '\\e80d'; } /* '' */\n.sf-icon-warning:before { content: '\\e80e'; } /* '' */\n.sf-icon-user:before { content: '\\e80f'; } /* '' */\n.sf-icon-right:before { content: '\\e810'; } /* '' */\n.sf-icon-notification:before { content: '\\e811'; } /* '' */\n.sf-icon-home:before { content: '\\e812'; } /* '' */\n.sf-icon-contract:before { content: '\\e813'; } /* '' */\n.sf-icon-adduser:before { content: '\\e814'; } /* '' */\n.sf-icon-apps:before { content: '\\e815'; } /* '' */\n.sf-icon-copy:before { content: '\\e816'; } /* '' */\n.sf-icon-image:before { content: '\\e817'; } /* '' */\n.sf-icon-open:before { content: '\\e818'; } /* '' */\n.sf-icon-settings:before { content: '\\e819'; } /* '' */\n.sf-icon-zoomin:before { content: '\\e81a'; } /* '' */\n.sf-icon-record:before { content: '\\e81b'; } /* '' */\n.sf-icon-arrowdown:before { content: '\\e81c'; } /* '' */\n.sf-icon-cut:before { content: '\\e81d'; } /* '' */\n.sf-icon-insert_template:before { content: '\\e81e'; } /* '' */\n.sf-icon-opened_folder:before { content: '\\e81f'; } /* '' */\n.sf-icon-side_list:before { content: '\\e820'; } /* '' */\n.sf-icon-zoomout:before { content: '\\e821'; } /* '' */\n.sf-icon-quotes:before { content: '\\e822'; } /* '' */\n.sf-icon-related_list:before { content: '\\e823'; } /* '' */\n.sf-icon-gdoc:before { content: '\\e824'; } /* '' */\n.sf-icon-snippet:before { content: '\\e825'; } /* '' */\n.sf-icon-page:before { content: '\\e826'; } /* '' */\n.sf-icon-custom_apps:before { content: '\\e827'; } /* '' */\n.sf-icon-arrowup:before { content: '\\e828'; } /* '' */\n.sf-icon-attach:before { content: '\\e829'; } /* '' */\n.sf-icon-dayview:before { content: '\\e82a'; } /* '' */\n.sf-icon-info:before { content: '\\e82b'; } /* '' */\n.sf-icon-insert_tag_field:before { content: '\\e82c'; } /* '' */\n.sf-icon-paste:before { content: '\\e82d'; } /* '' */\n.sf-icon-sort:before { content: '\\e82e'; } /* '' */\n.sf-icon-pdf:before { content: '\\e82f'; } /* '' */\n.sf-icon-report:before { content: '\\e830'; } /* '' */\n.sf-icon-task:before { content: '\\e831'; } /* '' */\n.sf-icon-approval:before { content: '\\e832'; } /* '' */\n.sf-icon-socialshare:before { content: '\\e833'; } /* '' */\n.sf-icon-people:before { content: '\\e834'; } /* '' */\n.sf-icon-italic:before { content: '\\e835'; } /* '' */\n.sf-icon-delete:before { content: '\\e836'; } /* '' */\n.sf-icon-back:before { content: '\\e837'; } /* '' */\n.sf-icon-ban:before { content: '\\e838'; } /* '' */\n.sf-icon-email:before { content: '\\e839'; } /* '' */\n.sf-icon-bold:before { content: '\\e83a'; } /* '' */\n.sf-icon-preview:before { content: '\\e83b'; } /* '' */\n.sf-icon-share:before { content: '\\e83c'; } /* '' */\n.sf-icon-dashboard:before { content: '\\e83d'; } /* '' */\n.sf-icon-thanks:before { content: '\\e83e'; } /* '' */\n.sf-icon-today:before { content: '\\e83f'; } /* '' */\n.sf-icon-contract-1:before { content: '\\e840'; } /* '' */\n.sf-icon-spinner:before { content: '\\e841'; } /* '' */\n.sf-icon-photo:before { content: '\\e842'; } /* '' */\n.sf-icon-event:before { content: '\\e843'; } /* '' */\n.sf-icon-builder:before { content: '\\e844'; } /* '' */\n.sf-icon-justify_text:before { content: '\\e845'; } /* '' */\n.sf-icon-center_align_text:before { content: '\\e846'; } /* '' */\n.sf-icon-edit:before { content: '\\e847'; } /* '' */\n.sf-icon-layout:before { content: '\\e848'; } /* '' */\n.sf-icon-priority:before { content: '\\e849'; } /* '' */\n.sf-icon-standard_objects:before { content: '\\e84a'; } /* '' */\n.sf-icon-contact:before { content: '\\e84b'; } /* '' */\n.sf-icon-custom93:before { content: '\\e84c'; } /* '' */\n.sf-icon-email-1:before { content: '\\e84d'; } /* '' */\n.sf-icon-success:before { content: '\\e84e'; } /* '' */\n.sf-icon-refresh:before { content: '\\e84f'; } /* '' */\n.sf-icon-left_align_text:before { content: '\\e850'; } /* '' */\n.sf-icon-down:before { content: '\\e851'; } /* '' */\n.sf-icon-chart:before { content: '\\e852'; } /* '' */\n.sf-icon-chat:before { content: '\\e853'; } /* '' */\n.sf-icon-error:before { content: '\\e854'; } /* '' */\n.sf-icon-left:before { content: '\\e855'; } /* '' */\n.sf-icon-remove_link:before { content: '\\e856'; } /* '' */\n.sf-icon-summary:before { content: '\\e857'; } /* '' */\n.sf-icon-document:before { content: '\\e858'; } /* '' */\n.sf-icon-drafts:before { content: '\\e859'; } /* '' */\n.sf-icon-summarydetail:before { content: '\\e85a'; } /* '' */\n.sf-icon-replace:before { content: '\\e85b'; } /* '' */\n.sf-icon-like:before { content: '\\e85c'; } /* '' */\n.sf-icon-download:before { content: '\\e85d'; } /* '' */\n.sf-icon-check:before { content: '\\e85e'; } /* '' */\n.sf-icon-chevronleft:before { content: '\\e85f'; } /* '' */\n.sf-icon-expand:before { content: '\\e860'; } /* '' */\n.sf-icon-link:before { content: '\\e861'; } /* '' */\n.sf-icon-reply:before { content: '\\e862'; } /* '' */\n.sf-icon-table:before { content: '\\e863'; } /* '' */\n.sf-icon-feed:before { content: '\\e864'; } /* '' */\n.sf-icon-event-1:before { content: '\\e865'; } /* '' */\n.sf-icon-tile_card_list:before { content: '\\e866'; } /* '' */\n.sf-icon-richtextbulletedlist:before { content: '\\e867'; } /* '' */\n.sf-icon-list:before { content: '\\e868'; } /* '' */\n.sf-icon-favorite:before { content: '\\e869'; } /* '' */\n.sf-icon-chevronright:before { content: '\\e86a'; } /* '' */\n.sf-icon-chevrondown:before { content: '\\e86b'; } /* '' */\n.sf-icon-filter:before { content: '\\e86c'; } /* '' */\n.sf-icon-move:before { content: '\\e86d'; } /* '' */\n.sf-icon-richtextindent:before { content: '\\e86e'; } /* '' */\n.sf-icon-underline:before { content: '\\e86f'; } /* '' */\n.sf-icon-feedback:before { content: '\\e870'; } /* '' */\n.sf-icon-file:before { content: '\\e871'; } /* '' */\n.sf-icon-undo:before { content: '\\e872'; } /* '' */\n.sf-icon-richtextnumberedlist:before { content: '\\e873'; } /* '' */\n.sf-icon-lock:before { content: '\\e874'; } /* '' */\n.sf-icon-filterlist:before { content: '\\e875'; } /* '' */\n.sf-icon-chevronup:before { content: '\\e876'; } /* '' */\n.sf-icon-clear:before { content: '\\e877'; } /* '' */\n.sf-icon-forward:before { content: '\\e878'; } /* '' */\n.sf-icon-new_window:before { content: '\\e879'; } /* '' */\n.sf-icon-richtextoutdent:before { content: '\\e87a'; } /* '' */\n.sf-icon-unlock:before { content: '\\e87b'; } /* '' */\n.sf-icon-opportunity:before { content: '\\e87c'; } /* '' */\n.sf-icon-post:before { content: '\\e87d'; } /* '' */\n.sf-icon-up:before { content: '\\e87e'; } /* '' */\n.sf-icon-search:before { content: '\\e87f'; } /* '' */\n.sf-icon-new:before { content: '\\e880'; } /* '' */\n.sf-icon-frozen:before { content: '\\e881'; } /* '' */\n.sf-icon-comments:before { content: '\\e882'; } /* '' */\n.sf-icon-recent:before { content: '\\e883'; } /* '' */\n.sf-icon-magicwand:before { content: '\\e884'; } /* '' */\n.sf-icon-discountscheduleicons-02:before { content: '\\e885'; } /* '' */\n.sf-icon-custom90:before { content: '\\e886'; } /* '' */\n.sf-icon-custom26:before { content: '\\e887'; } /* '' */\n.sf-icon-trending:before { content: '\\e888'; } /* '' */\n.sf-icon-target:before { content: '\\e889'; } /* '' */\n.sf-icon-cube:before { content: '\\e88b'; } /* '' */\n.sf-icon-paired-lines:before { content: '\\e88c'; } /* '' */\n[class^=\"sb-icon-\"]:before,\n[class*=\" sb-icon-\"]:before,\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  color: inherit;\n  display: inline-block;\n  font-family: 'sb-icons';\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  line-height: 1em;\n  speak: none;\n  text-align: center;\n  text-decoration: inherit;\n  text-transform: none;\n  width: 1em;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  font-family: 'sf-icons';\n}\n.sb-icon-3dots:before {\n  font-family: 'sf-icons';\n  content: '\\e800';\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-exchange:before {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-loading {\n  width: 148px;\n  text-align: center;\n}\n.sb-icon-loading > div {\n  width: 36px;\n  height: 18px;\n  margin: 2px;\n  background-color: #0c8eff;\n  border-radius: 10%;\n  display: inline-block;\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\n  animation: bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n.sb-icon-loading .sb-icon-bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.sb-icon-loading .sb-icon-bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],(a=["\n\t\t\t\t<dom-module id=\"sb-icons-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n\n.sb-icon-filter:before { content: '\\\\e800'; } /* '' */\n.sb-icon-th-large:before { content: '\\\\e801'; } /* '' */\n.sb-icon-th:before { content: '\\\\e802'; } /* '' */\n.sb-icon-th-list:before { content: '\\\\e803'; } /* '' */\n.sb-icon-pencil:before { content: '\\\\e804'; } /* '' */\n.sb-icon-cancel:before { content: '\\\\e805'; } /* '' */\n.sb-icon-plus:before { content: '\\\\e806'; } /* '' */\n.sb-icon-cog:before { content: '\\\\e807'; } /* '' */\n.sb-icon-align-justify:before { content: '\\\\e808'; } /* '' */\n.sb-icon-ok:before { content: '\\\\e809'; } /* '' */\n.sb-icon-lock:before { content: '\\\\e80a'; } /* '' */\n.sb-icon-exchange:before { content: '\\\\e80b'; } /* '' */\n.sb-icon-down:before { content: '\\\\e80c'; } /* '' */\n.sb-icon-up:before { content: '\\\\e80d'; } /* '' */\n.sb-icon-help-circled:before { content: '\\\\e80e'; } /* '' */\n.sb-icon-info-circled:before { content: '\\\\e80f'; } /* '' */\n.sb-icon-sort-name-up:before { content: '\\\\e810'; } /* '' */\n.sb-icon-sort-name-down:before { content: '\\\\e811'; } /* '' */\n.sb-icon-down-dir:before { content: '\\\\e812'; } /* '' */\n.sb-icon-up-dir:before { content: '\\\\e813'; } /* '' */\n.sb-icon-compass:before { content: '\\\\e814'; } /* '' */\n.sb-icon-right-dir:before { content: '\\\\e815'; } /* '' */\n.sb-icon-left-dir:before { content: '\\\\e816'; } /* '' */\n.sb-icon-docs:before { content: '\\\\e817'; } /* '' */\n.sb-icon-circle-empty:before { content: '\\\\e818'; } /* '' */\n.sb-icon-dot-circled:before { content: '\\\\e819'; } /* '' */\n.sb-icon-to-end:before { content: '\\\\e81a'; } /* '' */\n.sb-icon-to-start:before { content: '\\\\e81b'; } /* '' */\n.sb-icon-fast-forward:before { content: '\\\\e81c'; } /* '' */\n.sb-icon-fast-backward:before { content: '\\\\e81d'; } /* '' */\n.sb-icon-cw:before { content: '\\\\e81e'; } /* '' */\n.sb-icon-level-down:before { content: '\\\\e81f'; } /* '' */\n.sb-icon-attention:before { content: '\\\\e820'; } /* '' */\n.sb-icon-attention-circled:before { content: '\\\\e821'; } /* '' */\n.sb-icon-search:before { content: '\\\\e822'; } /* '' */\n.sb-icon-ccw:before { content: '\\\\e823'; } /* '' */\n.sb-icon-star:before { content: '\\\\e824'; } /* '' */\n.sb-icon-star-empty:before { content: '\\\\e825'; } /* '' */\n.sb-icon-calendar:before { content: '\\\\e826'; } /* '' */\n\n.sf-icon-3dots:before { content: '\\\\e800'; } /* '' */\n.sf-icon-add:before { content: '\\\\e801'; } /* '' */\n.sf-icon-close:before { content: '\\\\e802'; } /* '' */\n.sf-icon-pricebook:before { content: '\\\\e803'; } /* '' */\n.sf-icon-help:before { content: '\\\\e804'; } /* '' */\n.sf-icon-notebook:before { content: '\\\\e805'; } /* '' */\n.sf-icon-rows:before { content: '\\\\e806'; } /* '' */\n.sf-icon-upload:before { content: '\\\\e807'; } /* '' */\n.sf-icon-clock:before { content: '\\\\e808'; } /* '' */\n.sf-icon-groups:before { content: '\\\\e809'; } /* '' */\n.sf-icon-open_folder:before { content: '\\\\e80a'; } /* '' */\n.sf-icon-right_align_text:before { content: '\\\\e80b'; } /* '' */\n.sf-icon-product:before { content: '\\\\e80c'; } /* '' */\n.sf-icon-question_feed:before { content: '\\\\e80d'; } /* '' */\n.sf-icon-warning:before { content: '\\\\e80e'; } /* '' */\n.sf-icon-user:before { content: '\\\\e80f'; } /* '' */\n.sf-icon-right:before { content: '\\\\e810'; } /* '' */\n.sf-icon-notification:before { content: '\\\\e811'; } /* '' */\n.sf-icon-home:before { content: '\\\\e812'; } /* '' */\n.sf-icon-contract:before { content: '\\\\e813'; } /* '' */\n.sf-icon-adduser:before { content: '\\\\e814'; } /* '' */\n.sf-icon-apps:before { content: '\\\\e815'; } /* '' */\n.sf-icon-copy:before { content: '\\\\e816'; } /* '' */\n.sf-icon-image:before { content: '\\\\e817'; } /* '' */\n.sf-icon-open:before { content: '\\\\e818'; } /* '' */\n.sf-icon-settings:before { content: '\\\\e819'; } /* '' */\n.sf-icon-zoomin:before { content: '\\\\e81a'; } /* '' */\n.sf-icon-record:before { content: '\\\\e81b'; } /* '' */\n.sf-icon-arrowdown:before { content: '\\\\e81c'; } /* '' */\n.sf-icon-cut:before { content: '\\\\e81d'; } /* '' */\n.sf-icon-insert_template:before { content: '\\\\e81e'; } /* '' */\n.sf-icon-opened_folder:before { content: '\\\\e81f'; } /* '' */\n.sf-icon-side_list:before { content: '\\\\e820'; } /* '' */\n.sf-icon-zoomout:before { content: '\\\\e821'; } /* '' */\n.sf-icon-quotes:before { content: '\\\\e822'; } /* '' */\n.sf-icon-related_list:before { content: '\\\\e823'; } /* '' */\n.sf-icon-gdoc:before { content: '\\\\e824'; } /* '' */\n.sf-icon-snippet:before { content: '\\\\e825'; } /* '' */\n.sf-icon-page:before { content: '\\\\e826'; } /* '' */\n.sf-icon-custom_apps:before { content: '\\\\e827'; } /* '' */\n.sf-icon-arrowup:before { content: '\\\\e828'; } /* '' */\n.sf-icon-attach:before { content: '\\\\e829'; } /* '' */\n.sf-icon-dayview:before { content: '\\\\e82a'; } /* '' */\n.sf-icon-info:before { content: '\\\\e82b'; } /* '' */\n.sf-icon-insert_tag_field:before { content: '\\\\e82c'; } /* '' */\n.sf-icon-paste:before { content: '\\\\e82d'; } /* '' */\n.sf-icon-sort:before { content: '\\\\e82e'; } /* '' */\n.sf-icon-pdf:before { content: '\\\\e82f'; } /* '' */\n.sf-icon-report:before { content: '\\\\e830'; } /* '' */\n.sf-icon-task:before { content: '\\\\e831'; } /* '' */\n.sf-icon-approval:before { content: '\\\\e832'; } /* '' */\n.sf-icon-socialshare:before { content: '\\\\e833'; } /* '' */\n.sf-icon-people:before { content: '\\\\e834'; } /* '' */\n.sf-icon-italic:before { content: '\\\\e835'; } /* '' */\n.sf-icon-delete:before { content: '\\\\e836'; } /* '' */\n.sf-icon-back:before { content: '\\\\e837'; } /* '' */\n.sf-icon-ban:before { content: '\\\\e838'; } /* '' */\n.sf-icon-email:before { content: '\\\\e839'; } /* '' */\n.sf-icon-bold:before { content: '\\\\e83a'; } /* '' */\n.sf-icon-preview:before { content: '\\\\e83b'; } /* '' */\n.sf-icon-share:before { content: '\\\\e83c'; } /* '' */\n.sf-icon-dashboard:before { content: '\\\\e83d'; } /* '' */\n.sf-icon-thanks:before { content: '\\\\e83e'; } /* '' */\n.sf-icon-today:before { content: '\\\\e83f'; } /* '' */\n.sf-icon-contract-1:before { content: '\\\\e840'; } /* '' */\n.sf-icon-spinner:before { content: '\\\\e841'; } /* '' */\n.sf-icon-photo:before { content: '\\\\e842'; } /* '' */\n.sf-icon-event:before { content: '\\\\e843'; } /* '' */\n.sf-icon-builder:before { content: '\\\\e844'; } /* '' */\n.sf-icon-justify_text:before { content: '\\\\e845'; } /* '' */\n.sf-icon-center_align_text:before { content: '\\\\e846'; } /* '' */\n.sf-icon-edit:before { content: '\\\\e847'; } /* '' */\n.sf-icon-layout:before { content: '\\\\e848'; } /* '' */\n.sf-icon-priority:before { content: '\\\\e849'; } /* '' */\n.sf-icon-standard_objects:before { content: '\\\\e84a'; } /* '' */\n.sf-icon-contact:before { content: '\\\\e84b'; } /* '' */\n.sf-icon-custom93:before { content: '\\\\e84c'; } /* '' */\n.sf-icon-email-1:before { content: '\\\\e84d'; } /* '' */\n.sf-icon-success:before { content: '\\\\e84e'; } /* '' */\n.sf-icon-refresh:before { content: '\\\\e84f'; } /* '' */\n.sf-icon-left_align_text:before { content: '\\\\e850'; } /* '' */\n.sf-icon-down:before { content: '\\\\e851'; } /* '' */\n.sf-icon-chart:before { content: '\\\\e852'; } /* '' */\n.sf-icon-chat:before { content: '\\\\e853'; } /* '' */\n.sf-icon-error:before { content: '\\\\e854'; } /* '' */\n.sf-icon-left:before { content: '\\\\e855'; } /* '' */\n.sf-icon-remove_link:before { content: '\\\\e856'; } /* '' */\n.sf-icon-summary:before { content: '\\\\e857'; } /* '' */\n.sf-icon-document:before { content: '\\\\e858'; } /* '' */\n.sf-icon-drafts:before { content: '\\\\e859'; } /* '' */\n.sf-icon-summarydetail:before { content: '\\\\e85a'; } /* '' */\n.sf-icon-replace:before { content: '\\\\e85b'; } /* '' */\n.sf-icon-like:before { content: '\\\\e85c'; } /* '' */\n.sf-icon-download:before { content: '\\\\e85d'; } /* '' */\n.sf-icon-check:before { content: '\\\\e85e'; } /* '' */\n.sf-icon-chevronleft:before { content: '\\\\e85f'; } /* '' */\n.sf-icon-expand:before { content: '\\\\e860'; } /* '' */\n.sf-icon-link:before { content: '\\\\e861'; } /* '' */\n.sf-icon-reply:before { content: '\\\\e862'; } /* '' */\n.sf-icon-table:before { content: '\\\\e863'; } /* '' */\n.sf-icon-feed:before { content: '\\\\e864'; } /* '' */\n.sf-icon-event-1:before { content: '\\\\e865'; } /* '' */\n.sf-icon-tile_card_list:before { content: '\\\\e866'; } /* '' */\n.sf-icon-richtextbulletedlist:before { content: '\\\\e867'; } /* '' */\n.sf-icon-list:before { content: '\\\\e868'; } /* '' */\n.sf-icon-favorite:before { content: '\\\\e869'; } /* '' */\n.sf-icon-chevronright:before { content: '\\\\e86a'; } /* '' */\n.sf-icon-chevrondown:before { content: '\\\\e86b'; } /* '' */\n.sf-icon-filter:before { content: '\\\\e86c'; } /* '' */\n.sf-icon-move:before { content: '\\\\e86d'; } /* '' */\n.sf-icon-richtextindent:before { content: '\\\\e86e'; } /* '' */\n.sf-icon-underline:before { content: '\\\\e86f'; } /* '' */\n.sf-icon-feedback:before { content: '\\\\e870'; } /* '' */\n.sf-icon-file:before { content: '\\\\e871'; } /* '' */\n.sf-icon-undo:before { content: '\\\\e872'; } /* '' */\n.sf-icon-richtextnumberedlist:before { content: '\\\\e873'; } /* '' */\n.sf-icon-lock:before { content: '\\\\e874'; } /* '' */\n.sf-icon-filterlist:before { content: '\\\\e875'; } /* '' */\n.sf-icon-chevronup:before { content: '\\\\e876'; } /* '' */\n.sf-icon-clear:before { content: '\\\\e877'; } /* '' */\n.sf-icon-forward:before { content: '\\\\e878'; } /* '' */\n.sf-icon-new_window:before { content: '\\\\e879'; } /* '' */\n.sf-icon-richtextoutdent:before { content: '\\\\e87a'; } /* '' */\n.sf-icon-unlock:before { content: '\\\\e87b'; } /* '' */\n.sf-icon-opportunity:before { content: '\\\\e87c'; } /* '' */\n.sf-icon-post:before { content: '\\\\e87d'; } /* '' */\n.sf-icon-up:before { content: '\\\\e87e'; } /* '' */\n.sf-icon-search:before { content: '\\\\e87f'; } /* '' */\n.sf-icon-new:before { content: '\\\\e880'; } /* '' */\n.sf-icon-frozen:before { content: '\\\\e881'; } /* '' */\n.sf-icon-comments:before { content: '\\\\e882'; } /* '' */\n.sf-icon-recent:before { content: '\\\\e883'; } /* '' */\n.sf-icon-magicwand:before { content: '\\\\e884'; } /* '' */\n.sf-icon-discountscheduleicons-02:before { content: '\\\\e885'; } /* '' */\n.sf-icon-custom90:before { content: '\\\\e886'; } /* '' */\n.sf-icon-custom26:before { content: '\\\\e887'; } /* '' */\n.sf-icon-trending:before { content: '\\\\e888'; } /* '' */\n.sf-icon-target:before { content: '\\\\e889'; } /* '' */\n.sf-icon-cube:before { content: '\\\\e88b'; } /* '' */\n.sf-icon-paired-lines:before { content: '\\\\e88c'; } /* '' */\n[class^=\"sb-icon-\"]:before,\n[class*=\" sb-icon-\"]:before,\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  color: inherit;\n  display: inline-block;\n  font-family: 'sb-icons';\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  line-height: 1em;\n  speak: none;\n  text-align: center;\n  text-decoration: inherit;\n  text-transform: none;\n  width: 1em;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  font-family: 'sf-icons';\n}\n.sb-icon-3dots:before {\n  font-family: 'sf-icons';\n  content: '\\\\e800';\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-exchange:before {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-loading {\n  width: 148px;\n  text-align: center;\n}\n.sb-icon-loading > div {\n  width: 36px;\n  height: 18px;\n  margin: 2px;\n  background-color: #0c8eff;\n  border-radius: 10%;\n  display: inline-block;\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\n  animation: bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n.sb-icon-loading .sb-icon-bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.sb-icon-loading .sb-icon-bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"])||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n.d(e,"r",(function(){return r})),n.d(e,"n",(function(){return i})),n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"m",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"p",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return b})),n.d(e,"b",(function(){return y})),n.d(e,"j",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"o",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"q",(function(){return w}));n(31);var o=n(61),r=!window.ShadyDOM||!window.ShadyDOM.inUse,i=(Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback,r&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&function(){try{var t=new CSSStyleSheet;t.replaceSync("");var e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[t],e.shadowRoot.adoptedStyleSheets[0]===t}catch(t){return!1}}()),a=window.Polymer&&window.Polymer.rootPath||Object(o.a)(document.baseURI||window.location.href),s=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,l=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1,c=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,u=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,d=window.Polymer&&window.Polymer.legacyOptimizations||!1,p=window.Polymer&&window.Polymer.legacyWarnings||!1,h=window.Polymer&&window.Polymer.syncInitialRender||!1,f=window.Polymer&&window.Polymer.legacyUndefined||!1,b=window.Polymer&&window.Polymer.orderedComputed||!1,y=!0,g=window.Polymer&&window.Polymer.removeNestedTemplates||!1,v=window.Polymer&&window.Polymer.fastDomIf||!1,m=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1,_=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1,w=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n(19);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=l(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,o,r=u(l);function l(){return i(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"ready",value:function(){s(p(l.prototype),"ready",this)&&s(p(l.prototype),"ready",this).call(this)}},{key:"connectedCallback",value:function(){if(s(p(l.prototype),"connectedCallback",this)&&s(p(l.prototype),"connectedCallback",this).call(this),!this._eventBehaviorInitialized&&this.events){for(var t in this._eventBehaviorListeners={},this.events){var e=this.events[t];if(e&&"function"==typeof e){var n=e.bind(this);this._eventBehaviorListeners[t]=n,window.addEventListener(t,n)}}this._eventBehaviorInitialized=!0}}},{key:"disconnectedCallback",value:function(){if(s(p(l.prototype),"disconnectedCallback",this)&&s(p(l.prototype),"disconnectedCallback",this).call(this),this._eventBehaviorListeners){for(var t in this._eventBehaviorListeners)window.removeEventListener(t,this._eventBehaviorListeners[t]);this._eventBehaviorInitialized=!1}}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(t)}))},function(t,e,n){"use strict";var o=n(2),r=n(27),i=n(28),a=n(20),s=n(21),l=n(12),c=n(102),u=n(16),d=n(67);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=g(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function g(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=O(t);if(e){var r=O(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var k=function(t){v(n,t);var e=_(n);function n(){var t;return h(this,n),(t=e.call(this)).__renderDebouncer=null,t._lastIf=!1,t.__hideTemplateChildren__=!1,t.__template,t._templateInfo,t}return b(n,[{key:"__debounceRender",value:function(){var t=this;this.__renderDebouncer=r.a.debounce(this.__renderDebouncer,a.c,(function(){return t.__render()})),Object(i.a)(this.__renderDebouncer)}},{key:"disconnectedCallback",value:function(){y(O(n.prototype),"disconnectedCallback",this).call(this);var t=Object(l.a)(this).parentNode;t&&(t.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Object(l.a)(t).host)||this.__teardownInstance()}},{key:"connectedCallback",value:function(){y(O(n.prototype),"connectedCallback",this).call(this),Object(c.a)()||(this.style.display="none"),this.if&&this.__debounceRender()}},{key:"__ensureTemplate",value:function(){var t=this;if(!this.__template){var e=this._templateInfo?this:Object(l.a)(this).querySelector("template");if(!e){var n=new MutationObserver((function(){if(!Object(l.a)(t).querySelector("template"))throw new Error("dom-if requires a <template> child");n.disconnect(),t.__render()}));return n.observe(this,{childList:!0}),!1}this.__template=e}return!0}},{key:"__ensureInstance",value:function(){var t=Object(l.a)(this).parentNode;if(this.__hasInstance()){var e=this.__getInstanceNodes();if(e&&e.length)if(Object(l.a)(this).previousSibling!==e[e.length-1])for(var n,o=0;o<e.length&&(n=e[o]);o++)Object(l.a)(t).insertBefore(n,this)}else{if(!t)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(t)}return!0}},{key:"render",value:function(){Object(i.b)()}},{key:"__render",value:function(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),u.o&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}},{key:"__hasInstance",value:function(){}},{key:"__getInstanceNodes",value:function(){}},{key:"__createAndInsertInstance",value:function(t){}},{key:"__teardownInstance",value:function(){}},{key:"_showHideChildren",value:function(){}}],[{key:"is",get:function(){return"dom-if"}},{key:"template",get:function(){return null}},{key:"properties",get:function(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}}]),n}(o.a),x=function(t){v(n,t);var e=_(n);function n(){var t;return h(this,n),(t=e.call(this)).__instance=null,t.__syncInfo=null,t}return b(n,[{key:"__hasInstance",value:function(){return Boolean(this.__instance)}},{key:"__getInstanceNodes",value:function(){return this.__instance.templateInfo.childNodes}},{key:"__createAndInsertInstance",value:function(t){var e=this,n=this.__dataHost||this;if(u.m&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");var o=n._bindTemplate(this.__template,!0);o.runEffects=function(t,n,o){var r=e.__syncInfo;if(e.if)r&&(e.__syncInfo=null,e._showHideChildren(),n=Object.assign(r.changedProps,n)),t(n,o);else if(e.__instance)if(r||(r=e.__syncInfo={runEffects:t,changedProps:{}}),o)for(var i in n){var a=Object(s.g)(i);r.changedProps[a]=e.__dataHost[a]}else Object.assign(r.changedProps,n)},this.__instance=n._stampTemplate(this.__template,o),Object(l.a)(t).insertBefore(this.__instance,this)}},{key:"__syncHostProperties",value:function(){var t=this.__syncInfo;t&&(this.__syncInfo=null,t.runEffects(t.changedProps,!1))}},{key:"__teardownInstance",value:function(){var t=this.__dataHost||this;this.__instance&&(t._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}},{key:"_showHideChildren",value:function(){var t=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==t&&(this.__instance.__hidden=t,Object(d.b)(t,this.__instance.templateInfo.childNodes)),t||this.__syncHostProperties()}}]),n}(k),S=function(t){v(n,t);var e=_(n);function n(){var t;return h(this,n),(t=e.call(this)).__ctor=null,t.__instance=null,t.__invalidProps=null,t}return b(n,[{key:"__hasInstance",value:function(){return Boolean(this.__instance)}},{key:"__getInstanceNodes",value:function(){return this.__instance.children}},{key:"__createAndInsertInstance",value:function(t){this.__ctor||(this.__ctor=Object(d.c)(this.__template,this,{mutableData:!0,forwardHostProp:function(t,e){this.__instance&&(this.if?this.__instance.forwardHostProp(t,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Object(s.g)(t)]=!0))}})),this.__instance=new this.__ctor,Object(l.a)(t).insertBefore(this.__instance.root,this)}},{key:"__teardownInstance",value:function(){if(this.__instance){var t=this.__instance.children;if(t&&t.length){var e=Object(l.a)(t[0]).parentNode;if(e){e=Object(l.a)(e);for(var n,o=0;o<t.length&&(n=t[o]);o++)e.removeChild(n)}}this.__invalidProps=null,this.__instance=null}}},{key:"__syncHostProperties",value:function(){var t=this.__invalidProps;if(t){for(var e in this.__invalidProps=null,t)this.__instance._setPendingProperty(e,this.__dataHost[e]);this.__instance._flushProperties()}}},{key:"_showHideChildren",value:function(){var t=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==t&&(this.__instance.__hidden=t,this.__instance._showHideChildren(t)),t||this.__syncHostProperties()}}]),n}(k),C=u.c?x:S;customElements.define(C.is,C)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var o=0;function r(){}r.prototype.__mixinApplications,r.prototype.__mixinSet;var i=function(t){var e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);var n=o++;function r(o){var r=o.__mixinSet;if(r&&r[n])return o;var i=e,a=i.get(o);if(!a){a=t(o),i.set(o,a);var s=Object.create(a.__mixinSet||r||null);s[n]=!0,a.__mixinSet=s}return a}return r}},function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return p}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var o=0,r=0,i=[],a=0,s=!1,l=document.createTextNode("");new window.MutationObserver((function(){s=!1;for(var t=i.length,e=0;e<t;e++){var n=i[e];if(n)try{n()}catch(t){setTimeout((function(){throw t}))}}i.splice(0,t),r+=t})).observe(l,{characterData:!0});var c={after:function(t){return{run:function(e){return window.setTimeout(e,t)},cancel:function(t){window.clearTimeout(t)}}},run:function(t,e){return window.setTimeout(t,e)},cancel:function(t){window.clearTimeout(t)}},u={run:function(t){return window.requestAnimationFrame(t)},cancel:function(t){window.cancelAnimationFrame(t)}},d={run:function(t){return window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16)},cancel:function(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},p={run:function(t){return s||(s=!0,l.textContent=a++),i.push(t),o++},cancel:function(t){var e=t-r;if(e>=0){if(!i[e])throw new Error("invalid async handle: "+t);i[e]=null}}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return d})),n.d(e,"h",(function(){return p}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function o(t){return t.indexOf(".")>=0}function r(t){var e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function i(t,e){return 0===t.indexOf(e+".")}function a(t,e){return 0===e.indexOf(t+".")}function s(t,e,n){return e+n.slice(t.length)}function l(t,e){return t===e||i(t,e)||a(t,e)}function c(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)for(var o=t[n].toString().split("."),r=0;r<o.length;r++)e.push(o[r]);return e.join(".")}return t}function u(t){return Array.isArray(t)?c(t).split("."):t.toString().split(".")}function d(t,e,n){for(var o=t,r=u(e),i=0;i<r.length;i++){if(!o)return;o=o[r[i]]}return n&&(n.path=r.join(".")),o}function p(t,e,n){var o=t,r=u(e),i=r[r.length-1];if(r.length>1){for(var a=0;a<r.length-1;a++){if(!(o=o[r[a]]))return}o[i]=n}else o[e]=n;return r.join(".")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n(19);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=l(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,o,r=u(l);function l(){return i(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"connectedCallback",value:function(){s(p(l.prototype),"connectedCallback",this).call(this),this._polymerSet=this._polymerSet||this.set,this.set=this._set}},{key:"_set",value:function(t,e){this.get(t)===e?this.notifyPath(t):this._polymerSet(t,e)}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(t)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n(6),r=n(4),i=n(64);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=window&&window.sb||{};b.ui=b.ui||{},b.common=b.common||{},b.common.core=b.common.core||{},window.sb=b;var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,n,r,a=p(u);function u(){return s(this,u),a.apply(this,arguments)}return e=u,r=[{key:"properties",get:function(){return{ctx:{type:Object,value:function(){return{}}},viewport:{type:Object,value:function(){return o.a.getViewport()}}}}}],(n=[{key:"ready",value:function(){c(f(u.prototype),"ready",this).call(this)}},{key:"connectedCallback",value:function(){c(f(u.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){c(f(u.prototype),"disconnectedCallback",this).call(this)}},{key:"nav",value:function(t,e,n,o){i.a.nav(t,e,n,o,this)}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.a)},function(t,e,n){"use strict";var o=n(2),r=n(4),i=n(29);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,n,o,a=p(u);function u(){return s(this,u),a.apply(this,arguments)}return e=u,o=[{key:"is",get:function(){return"sb-i18n"}},{key:"properties",get:function(){return{locale:{type:String,notify:!1,value:function(){return""}},key:{type:String,notify:!1},value:{type:String,value:null},values:{type:Array,value:[]}}}},{key:"observers",get:function(){return["_localizeObserver(key, value, values)"]}}],(n=[{key:"connectedCallback",value:function(){c(f(u.prototype),"connectedCallback",this).call(this),this.key=this.key?this.key:this.innerHTML,/{[0-9]}/.test(this.innerHTML)&&(this.innerHTML="")}},{key:"_localizeObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.localize(t,e,n)}},{key:"localize",value:function(){this.innerHTML=this.l(this.key,this.value?[this.value]:this.values)}},{key:"l",value:function(t,e){return i.a.localize(t,e)}},{key:"format",value:function(t,e){return i.a.format(t,e,r.a.user)}},{key:"formatTime",value:function(t){return i.a.formatTime(t,r.a.user)}},{key:"parseTime",value:function(t){return i.a.parseTime(t)}}])&&l(e.prototype,n),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.a);customElements.define(b.is,b)},function(t,e,n){"use strict";var o=n(2),r=n(67),i=n(27),a=n(28),s=n(84),l=n(21),c=n(20),u=n(12),d=n(102),p=n(16);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=y(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_(t);if(e){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(h,t);var e,n,o,s=v(h);function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=s.call(this)).__instances=[],t.__renderDebouncer=null,t.__itemsIdxToInstIdx={},t.__chunkCount=null,t.__renderStartTime=null,t.__itemsArrayChanged=!1,t.__shouldMeasureChunk=!1,t.__shouldContinueChunking=!1,t.__chunkingId=0,t.__sortFn=null,t.__filterFn=null,t.__observePaths=null,t.__ctor=null,t.__isDetached=!0,t.template=null,t._templateInfo,t}return e=h,o=[{key:"is",get:function(){return"dom-repeat"}},{key:"template",get:function(){return null}},{key:"properties",get:function(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!p.o,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}},{key:"observers",get:function(){return["__itemsChanged(items.*)"]}}],(n=[{key:"disconnectedCallback",value:function(){b(_(h.prototype),"disconnectedCallback",this).call(this),this.__isDetached=!0;for(var t=0;t<this.__instances.length;t++)this.__detachInstance(t);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}},{key:"connectedCallback",value:function(){if(b(_(h.prototype),"connectedCallback",this).call(this),Object(d.a)()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;for(var t=Object(u.a)(Object(u.a)(this).parentNode),e=0;e<this.__instances.length;e++)this.__attachInstance(e,t);this.__chunkingId&&this.__render()}}},{key:"__ensureTemplatized",value:function(){var t=this;if(!this.__ctor){var e=this.template=this._templateInfo?this:this.querySelector("template");if(!e){var n=new MutationObserver((function(){if(!t.querySelector("template"))throw new Error("dom-repeat requires a <template> child");n.disconnect(),t.__render()}));return n.observe(this,{childList:!0}),!1}var o={};o[this.as]=!0,o[this.indexAs]=!0,o[this.itemsIndexAs]=!0,this.__ctor=Object(r.c)(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:o,forwardHostProp:function(t,e){for(var n,o=this.__instances,r=0;r<o.length&&(n=o[r]);r++)n.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,n){if(Object(l.e)(this.as,e)){var o=t[this.itemsIndexAs];e==this.as&&(this.items[o]=n);var r=Object(l.i)(this.as,"".concat(JSCompiler_renameProperty("items",this),".").concat(o),e);this.notifyPath(r,n)}}})}return!0}},{key:"__getMethodHost",value:function(){return this.__dataHost._methodHost||this.__dataHost}},{key:"__functionFromPropertyValue",value:function(t){if("string"==typeof t){var e=t,n=this.__getMethodHost();return function(){return n[e].apply(n,arguments)}}return t}},{key:"__sortChanged",value:function(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}},{key:"__filterChanged",value:function(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}},{key:"__computeFrameTime",value:function(t){return Math.ceil(1e3/t)}},{key:"__observeChanged",value:function(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}},{key:"__handleObservedPaths",value:function(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths)for(var e=this.__observePaths,n=0;n<e.length;n++)0===t.indexOf(e[n])&&this.__debounceRender(this.__render,this.delay)}else this.__debounceRender(this.__render,this.delay)}},{key:"__itemsChanged",value:function(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||("items"===t.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}},{key:"__debounceRender",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.__renderDebouncer=i.a.debounce(this.__renderDebouncer,e>0?c.d.after(e):c.c,t.bind(this)),Object(a.a)(this.__renderDebouncer)}},{key:"render",value:function(){this.__debounceRender(this.__render),Object(a.b)()}},{key:"__render",value:function(){var t=this;if(this.__ensureTemplatized()){var e=this.items||[],n=this.__sortAndFilterItems(e),o=this.__calculateLimit(n.length);this.__updateInstances(e,o,n),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((function(){t.__chunkingId=null,t.__continueChunking()}))),this._setRenderedItemCount(this.__instances.length),p.o&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}},{key:"__sortAndFilterItems",value:function(t){for(var e=this,n=new Array(t.length),o=0;o<t.length;o++)n[o]=o;return this.__filterFn&&(n=n.filter((function(n,o,r){return e.__filterFn(t[n],o,r)}))),this.__sortFn&&n.sort((function(n,o){return e.__sortFn(t[n],t[o])})),n}},{key:"__calculateLimit",value:function(t){var e,n=t,o=this.__instances.length;return this.initialCount&&(!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(n=Math.min(t,this.initialCount),e=Math.max(n-o,0),this.__chunkCount=e||1):(e=Math.min(Math.max(t-o,0),this.__chunkCount),n=Math.min(o+e,t)),this.__shouldMeasureChunk=e===this.__chunkCount,this.__shouldContinueChunking=n<t,this.__renderStartTime=performance.now()),this.__itemsArrayChanged=!1,n}},{key:"__continueChunking",value:function(){if(this.__shouldMeasureChunk){var t=performance.now()-this.__renderStartTime,e=this._targetFrameTime/t;this.__chunkCount=Math.round(this.__chunkCount*e)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}},{key:"__updateInstances",value:function(t,e,n){var o,r=this.__itemsIdxToInstIdx={};for(o=0;o<e;o++){var i=this.__instances[o],a=n[o],s=t[a];r[a]=o,i?(i._setPendingProperty(this.as,s),i._setPendingProperty(this.indexAs,o),i._setPendingProperty(this.itemsIndexAs,a),i._flushProperties()):this.__insertInstance(s,o,a)}for(var l=this.__instances.length-1;l>=o;l--)this.__detachAndRemoveInstance(l)}},{key:"__detachInstance",value:function(t){for(var e=this.__instances[t],n=Object(u.a)(e.root),o=0;o<e.children.length;o++){var r=e.children[o];n.appendChild(r)}return e}},{key:"__attachInstance",value:function(t,e){var n=this.__instances[t];e.insertBefore(n.root,this)}},{key:"__detachAndRemoveInstance",value:function(t){this.__detachInstance(t),this.__instances.splice(t,1)}},{key:"__stampInstance",value:function(t,e,n){var o={};return o[this.as]=t,o[this.indexAs]=e,o[this.itemsIndexAs]=n,new this.__ctor(o)}},{key:"__insertInstance",value:function(t,e,n){var o=this.__stampInstance(t,e,n),r=this.__instances[e+1],i=r?r.children[0]:this;return Object(u.a)(Object(u.a)(this).parentNode).insertBefore(o.root,i),this.__instances[e]=o,o}},{key:"_showHideChildren",value:function(t){for(var e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}},{key:"__handleItemPath",value:function(t,e){var n=t.slice(6),o=n.indexOf("."),r=o<0?n:n.substring(0,o);if(r==parseInt(r,10)){var i=o<0?"":n.substring(o+1);this.__handleObservedPaths(i);var a=this.__itemsIdxToInstIdx[r],s=this.__instances[a];if(s){var l=this.as+(i?"."+i:"");s._setPendingPropertyOrPath(l,e,!1,!0),s._flushProperties()}return!0}}},{key:"itemForElement",value:function(t){var e=this.modelForElement(t);return e&&e[this.as]}},{key:"indexForElement",value:function(t){var e=this.modelForElement(t);return e&&e[this.indexAs]}},{key:"modelForElement",value:function(t){return Object(r.a)(this.template,t)}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),h}(Object(s.b)(o.a));customElements.define(w.is,w)},function(t,e,n){"use strict";n(111);var o,r=n(10),i=(n(159),n(3));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var a,s,l=Object(i.a)(o||(a=['<dom-module id="paper-material-styles">\n  <template>\n    <style scope="paper-material-styles">html {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n.paper-material {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n.paper-material[elevation="1"] {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n.paper-material[elevation="2"] {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n.paper-material[elevation="3"] {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n.paper-material[elevation="4"] {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n.paper-material[elevation="5"] {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n:host(.paper-material) {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n:host(.paper-material[elevation="1"]) {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n:host(.paper-material[elevation="2"]) {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n:host(.paper-material[elevation="3"]) {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n:host(.paper-material[elevation="4"]) {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n:host(.paper-material[elevation="5"]) {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n</style>\n  </template>\n</dom-module>'],s||(s=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(s)}}))));l.setAttribute("style","display: none;"),document.head.appendChild(l.content);var c,u=n(68),d=n(55),p=n(86),h={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var t=1;this.disabled?t=0:this.active||this.pressed?t=4:this.receivedFocusFromKeyboard&&(t=3),this._setElevation(t)},_computeKeyboardClass:function(t){this.toggleClass("keyboard-focus",t)},_spaceKeyDownHandler:function(t){u.b._spaceKeyDownHandler.call(this,t),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(t){u.b._spaceKeyUpHandler.call(this,t),this.hasRipple()&&this._ripple.uiUpAction()}},f=[u.a,d.a,p.a,h],b=n(14);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(b.a)({_template:Object(r.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-button">html {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n.paper-material {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n.paper-material[elevation="1"] {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n.paper-material[elevation="2"] {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n.paper-material[elevation="3"] {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n.paper-material[elevation="4"] {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n.paper-material[elevation="5"] {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n:host(.paper-material) {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n:host(.paper-material[elevation="1"]) {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n:host(.paper-material[elevation="2"]) {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n:host(.paper-material[elevation="3"]) {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n:host(.paper-material[elevation="4"]) {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n:host(.paper-material[elevation="5"]) {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host {\n  display: var(--layout-inline_-_display);\n      -ms-flex-align: var(--layout-center-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center-center_-_-webkit-align-items);\n align-items: var(--layout-center-center_-_align-items);\n -ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);\n justify-content: var(--layout-center-center_-_justify-content);\n      position: relative;\n      box-sizing: border-box;\n      min-width: 5.14em;\n      margin: 0 0.29em;\n      background: transparent;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n      -webkit-tap-highlight-color: transparent;\n      font: inherit;\n      text-transform: uppercase;\n      outline-width: 0;\n      border-radius: 3px;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n      cursor: pointer;\n      z-index: 0;\n      padding: 0.7em 0.57em;\n\n      font-family: var(--paper-font-common-base_-_font-family);\n -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n      ;\n}\n\n:host([elevation="1"]) {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n:host([elevation="2"]) {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n:host([elevation="3"]) {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n:host([elevation="4"]) {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n:host([elevation="5"]) {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host([hidden]) {\n  display: none !important;\n}\n\n:host([raised].keyboard-focus) {\n  font-weight: bold;\n      ;\n}\n\n:host(:not([raised]).keyboard-focus) {\n  font-weight: bold;\n      ;\n}\n\n:host([disabled]) {\n  background: none;\n      color: #a8a8a8;\n      cursor: auto;\n      pointer-events: none;\n\n      ;\n}\n\n:host([disabled][raised]) {\n  background: #eaeaea;\n}\n\n:host([animated]) {\n  transition: var(--shadow-transition_-_transition);\n}\n\npaper-ripple {\n  color: var(--paper-button-ink-color);\n}\n\n</style>\n\n  <slot></slot>']))),is:"paper-button",behaviors:[f],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?h._calculateElevation.apply(this):this._setElevation(0)}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));n(31),n(19),n(20);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._asyncModule=null,this._callback=null,this._timer=null}var e,n,r;return e=t,r=[{key:"debounce",value:function(e,n,o){return e instanceof t?e._cancelAsync():e=new t,e.setConfig(n,o),e}}],(n=[{key:"setConfig",value:function(t,e){var n=this;this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run((function(){n._timer=null,i.delete(n),n._callback()}))}},{key:"cancel",value:function(){this.isActive()&&(this._cancelAsync(),i.delete(this))}},{key:"_cancelAsync",value:function(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}},{key:"flush",value:function(){this.isActive()&&(this.cancel(),this._callback())}},{key:"isActive",value:function(){return null!=this._timer}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),i=new Set,a=function(t){i.add(t)},s=function(){var t=Boolean(i.size);return i.forEach((function(t){try{t.flush()}catch(t){setTimeout((function(){throw t}))}})),t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));n(31);var o=n(27);n.d(e,"a",(function(){return o.b}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var r=function(){var t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=Object(o.c)()}while(t||e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var o=n(153),r=n(1);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c,u,d,p=new r.a.Map,h=new r.a.Map,f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"init",value:function(t,e,n,o){d=t,e,c=n,u=o}},{key:"getLabels",value:function(){return(window&&window.sb||{}).labels||o.a}},{key:"localize",value:function(e,n){var o=t.getLabels()[e]||e;return/{[0-9]}/.test(o)&&n&&n.length>0&&(o=function(t,e){for(var n=0,o=e.length;n<o;n++)t=t.replace(new RegExp("{["+n+"]}","g"),e[n]);return t}(o,n)),o}},{key:"l",value:function(e,n){return t.localize(e,n)}},{key:"addLocaleData",value:function(t){t&&(d=t)}},{key:"getLocaleData",value:function(t){return d}},{key:"format",value:function(t,e,n){var o=e||{},i=g(n);if(t||0==t){if(t instanceof Date||o.date)return y(i,a(a({},o),{},{timeZone:"UTC"}),!0).format(Object(r.k)(t));var s=y(i,o,!1).format(t);return"currency"===o.style&&(s=function(t,e){var n;if("XXX"===t.currency)if(e.includes("XXX")){var o=e.indexOf("XXX");n=e.substr(0,o)+c+e.substring(o+3)}else n=c+e;else{var r;"code"===t.currencyDisplay&&(r=e.indexOf("-")>-1)&&(e=e.replace("-",""));var i=r?" -":"";n=e.replace(t.currency,t.currency+i)}return n=b(n,160," "),(n=b(n,164," ")).trim()}(o,s)),s}return""}},{key:"formatTime",value:function(t,e){var n=g(e);if(null!=t){var o=new Date("1970-01-01T".concat(t));if(!isNaN(o))return o.toLocaleTimeString(n,{timeZone:"UTC",hour:"numeric",minute:"numeric"})}return""}},{key:"parseTime",value:function(t){var e=/\d?\d:\d\d *(am)?(pm)?/i;if(e.test(t)){t=t.match(e)[0]+" UTC";var n=new Date("1970/01/01 ".concat(t));if(!isNaN(n))return n.toISOString().split("T")[1]}return null}}],(n=null)&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t,e,n){if(t.indexOf(String.fromCharCode(e))>-1){var o=new RegExp(String.fromCharCode(e),"g");return t.replace(o,n)}return t}function y(t,e,n){var o=null;if(t&&e){var i=n?p.get(t):h.get(t);if(!i)i=new r.a.Map,(n?p:h).set(t,i);var a=JSON.stringify(e);(o=i.get(a))||(o=n?new Intl.DateTimeFormat(t,e):new Intl.NumberFormat(t,e),i.set(a,o))}return o}function g(t){var e=(t||{}).locale||u;return"no-NO"===e?"nb-NO":e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(123);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pretty=e,this.data={}}var e,n,i;return e=t,(n=[{key:"addQuote",value:function(t,e,n){return this.addObject(t,e,!0,n,!1)}},{key:"addObject",value:function(t,e,n,r,i){return this.data[t]=null!=e?new o.a(n,r,this.pretty).format(e,i):e,this}},{key:"addInt",value:function(t,e){try{return e=parseInt(e),isNaN(e)||(this.data[t]=e),this}catch(t){return this}}},{key:"add",value:function(t,e){return this.data[t]=e,this}},{key:"build",value:function(){return this.data}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(t,e){return t}},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return i}));var r={},i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"add",value:function(t,e,n,o,i){if(t&&e&&n){if(o||(o="value"),r[o]||(r[o]={}),!r[o][t]&&(r[o][t]={},i&&"value"==o&&"LineEditor"==t)){var a=document.createEvent("Event");a.initEvent(t+"-cached",!0,!0),document.dispatchEvent(a)}r[o][t][e]=n}}},{key:"get",value:function(t,e,n){return t&&e?(n||(n="value"),r[n]&&r[n][t]?r[n][t][e]:null):null}},{key:"remove",value:function(t,e,n){if(!t||!e||!n)return null;n||(n="value"),r[n]&&r[n][t]&&delete r[n][t][e]}}],(n=null)&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(60);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._validateConstructorInputs(o,r),this.field=e,this.record=n,this.getValueCallback=o,this.setValueCallback=r}var e,n,i;return e=t,i=[{key:"getRelationshipField",value:function(t,e){var n;return t.endsWith("__c")?n=t.replace(/__c$/,"__r"):t.endsWith("Id")&&(n=t.substring(0,t.length-2)),n&&e?n+"."+new o.a(e).getNameField():n}}],(n=[{key:"hasRelationship",value:function(){return!!this.getRelationship()}},{key:"getRelationship",value:function(){var e=t.getRelationshipField(this.field);if(e)return null!=this.getValueCallback?this.getValueCallback(e):this.record[e]}},{key:"getRelationshipName",value:function(t){var e=this.getRelationship();if(e)return e[t||this._getLookupName(e)]}},{key:"addRelationshipName",value:function(t,e,n){var o=this.buildRelationship(t,e,n);if(o.value.Id||(o.value=null),o)return null!=this.setValueCallback?this.setValueCallback(o.field,o.value):void(this.record[o.field]=o.value)}},{key:"buildRelationship",value:function(e,n,r){var i=t.getRelationshipField(this.field);if(i){var a=this.getRelationship()||{},s=new o.a(r).getNameField();return a.Id=e,a[s]=n,{value:a,field:i}}}},{key:"_getLookupName",value:function(t){var e=t.attributes?t.attributes.type:"";return new o.a(e).getNameField()}},{key:"_validateConstructorInputs",value:function(t,e){if(null!=t&&"function"!=typeof t)throw new TypeError("callbacks required when record is null");if(null!=e&&"function"!=typeof e)throw new TypeError("callbacks required when record is null")}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";var o,r=n(4),i=n(88),a=n(141),s=n(108),l=n(80),c=n(29),u=n(44),d=n(5),p=n(2),h=n(0),f=n(1),b=n(3);var y,g,v,m=Object(b.b)(o||(y=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  cursor: initial;\n  width: 100%;\n  word-wrap: var(--sbFieldWordWrap, normal);\n}\n:host #f {\n  white-space: var(--sbFieldWhiteSpace, inherit);\n}\n#formatted.link:not(.empty):hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n#formatted.search:before {\n  content: '\\e87f';\n  font-family: 'sf-icons';\n}\n/* A formatted field can receive focus if editable so prevent the focus outline here */\n#formatted {\n  outline: none;\n  font-size: var(--sbTableRowFontSize);\n}\n/* A dirty (or edited) formatted field appears as orange with a heavier font weight */\n#formatted.dirty {\n  color: var(--sbFieldEditedColor);\n  font-weight: 700;\n}\n/* A link style for non nil values, or nil values that displays as empty */\n#formatted.link,\n#formatted.link.empty:before {\n  color: #0070d2;\n  text-decoration: none;\n  -webkit-transition: color .1s linear;\n  transition: color .1s linear;\n}\n/* An empty link cell contains the text '(empty)' so it can be clicked */\n#formatted.link.empty:before {\n  content: '(empty)';\n}\n/* Hover over the over the '(empty)' text that is a link and it should be underlined */\n#formatted.link.empty:hover:before {\n  text-decoration: underline;\n  color: #0070d2;\n  cursor: pointer;\n}\n/* Hover over an editable field or a link field and change the cursor since there is something to click */\n#formatted.editable:hover {\n  cursor: pointer;\n}\n/* Not editable fields have lock icon hidden in desktop (shows on hover) */\n#formatted[class*='--desktop']:not(.editable):not(.empty).firstField:not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.firstField:not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty:not(.numericField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] #formatted:not(.editable):not(.empty).firstField:not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.firstField:not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty:not(.numericField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Editable field have pencil icon hidden (shows on hover or when dirty and empty) */\n#formatted.editable:not(.empty).firstField:not(.readOnly):after,\n#formatted.editable:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.editable:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Any formatted empty field show icon but make transparent color so appears hidden to allow clicking on it */\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: transparent;\n  display: inline;\n}\n/* Hover over any clean read-only field or any editable \"show\" field which will display its icon should be displayed as gray*/\n#formatted:not(.dirty):not(.editable):not(.empty).firstField:not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty):not(.numericField):not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.firstField:not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty:not(.numericField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.numericField:not(.firstField):not(.readOnly):hover:after,\n#formatted:not(.dirty).editable.show:not(.empty).firstField:not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.firstField:not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty:not(.numericField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n/*  An empty dirty formatted field or any \"show\" dirty formatted field displays the icon with the same color as its dirty text (but not same font-weight) */\n#formatted.dirty.show:not(.empty).firstField:not(.readOnly):after,\n#formatted.dirty.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.dirty.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.dirty.empty.firstField:not(.readOnly):before,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):before,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):after {\n  font-weight: 400;\n  color: inherit;\n  display: inline;\n}\n#formatted.dirty.empty.firstField:not(.readOnly):after,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):after,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):before {\n  display: none;\n}\n#formatted.boolean:not(.readOnly).show:after,\n#formatted.boolean:not(.readOnly):hover:after {\n  position: relative;\n  top: -5px;\n}\n.disabled[class*='--desktop'] {\n  font-weight: 300;\n}\n[class*='--desktop'] .disabled {\n  font-weight: 300;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n"],(g=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  cursor: initial;\n  width: 100%;\n  word-wrap: var(--sbFieldWordWrap, normal);\n}\n:host #f {\n  white-space: var(--sbFieldWhiteSpace, inherit);\n}\n#formatted.link:not(.empty):hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n#formatted.search:before {\n  content: '\\\\e87f';\n  font-family: 'sf-icons';\n}\n/* A formatted field can receive focus if editable so prevent the focus outline here */\n#formatted {\n  outline: none;\n  font-size: var(--sbTableRowFontSize);\n}\n/* A dirty (or edited) formatted field appears as orange with a heavier font weight */\n#formatted.dirty {\n  color: var(--sbFieldEditedColor);\n  font-weight: 700;\n}\n/* A link style for non nil values, or nil values that displays as empty */\n#formatted.link,\n#formatted.link.empty:before {\n  color: #0070d2;\n  text-decoration: none;\n  -webkit-transition: color .1s linear;\n  transition: color .1s linear;\n}\n/* An empty link cell contains the text '(empty)' so it can be clicked */\n#formatted.link.empty:before {\n  content: '(empty)';\n}\n/* Hover over the over the '(empty)' text that is a link and it should be underlined */\n#formatted.link.empty:hover:before {\n  text-decoration: underline;\n  color: #0070d2;\n  cursor: pointer;\n}\n/* Hover over an editable field or a link field and change the cursor since there is something to click */\n#formatted.editable:hover {\n  cursor: pointer;\n}\n/* Not editable fields have lock icon hidden in desktop (shows on hover) */\n#formatted[class*='--desktop']:not(.editable):not(.empty).firstField:not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.firstField:not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty:not(.numericField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] #formatted:not(.editable):not(.empty).firstField:not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.firstField:not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty:not(.numericField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Editable field have pencil icon hidden (shows on hover or when dirty and empty) */\n#formatted.editable:not(.empty).firstField:not(.readOnly):after,\n#formatted.editable:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.editable:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Any formatted empty field show icon but make transparent color so appears hidden to allow clicking on it */\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: transparent;\n  display: inline;\n}\n/* Hover over any clean read-only field or any editable \"show\" field which will display its icon should be displayed as gray*/\n#formatted:not(.dirty):not(.editable):not(.empty).firstField:not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty):not(.numericField):not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.firstField:not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty:not(.numericField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.numericField:not(.firstField):not(.readOnly):hover:after,\n#formatted:not(.dirty).editable.show:not(.empty).firstField:not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.firstField:not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty:not(.numericField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n/*  An empty dirty formatted field or any \"show\" dirty formatted field displays the icon with the same color as its dirty text (but not same font-weight) */\n#formatted.dirty.show:not(.empty).firstField:not(.readOnly):after,\n#formatted.dirty.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.dirty.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.dirty.empty.firstField:not(.readOnly):before,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):before,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):after {\n  font-weight: 400;\n  color: inherit;\n  display: inline;\n}\n#formatted.dirty.empty.firstField:not(.readOnly):after,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):after,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):before {\n  display: none;\n}\n#formatted.boolean:not(.readOnly).show:after,\n#formatted.boolean:not(.readOnly):hover:after {\n  position: relative;\n  top: -5px;\n}\n.disabled[class*='--desktop'] {\n  font-weight: 300;\n}\n[class*='--desktop'] .disabled {\n  font-weight: 300;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n"])||(g=y.slice(0)),o=Object.freeze(Object.defineProperties(y,{raw:{value:Object.freeze(g)}})))),_=(n(15),n(28));function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=S(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function S(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=T(t);if(e){var r=T(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return P(this,n)}}function P(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(b,t);var e,n,o,d=E(b);function b(){return O(this,b),d.apply(this,arguments)}return e=b,o=[{key:"is",get:function(){return"sb-field"}},{key:"properties",get:function(){return Object(f.e)({obj:Object,property:String,model:{type:Object,value:null},md:Object,type:{type:String,computed:"getType(md)"},refObjects:{type:Array,value:[]},editing:{type:Boolean,value:!1},_wasEverEditable:{type:Boolean,computed:"_setWasEverEditable(editing)"},disabled:{type:Boolean,value:!1},hidden:{type:Object,value:!1,observer:"hiddenChanged"},link:Boolean,value:{observer:"_valueChanged"},refDisplay:{type:String,notify:!0},objAndRefObjects:Object,objKey:String,refObjectsKey:String,refTable:{type:String,computed:"computeRefTable(md)"},readOnly:Boolean,renderReadOnly:{type:Boolean,value:!1},formattedValue:Object,originalFormattedValue:String,hideFormattedValue:{type:Boolean,value:!1},focus:{type:Boolean,value:!1,observer:"applyFocus"},index:Number,recordId:{type:String,value:null,observer:"recordIdChanged"},numberParser:{type:Object,value:function(){return new i.a}},preventNumericAlignment:{type:Boolean,value:!1},signaler:Object,record:Object,tabIndex:Number,factoryData:Object,html:Object},r.a.properties)}},{key:"observers",get:function(){return["_renderObserver(model, obj, property, md, refObjects, editing, renderReadOnly, html)","_setObjAndRefObjectsObserver(objAndRefObjects, objKey, refObjectsKey)","_setOriginalFormattedValueObserver(model, originalValue, md)","addControlledSelectListener(md)","recordChanged(record.*)","_valueChangedObserver(model, obj, md, property, html, value)","_disabledChangedObserver(model, obj, md, html, disabled)","_createObjObserver(value, property)"]}},{key:"template",get:function(){return Object(p.b)(v||(v=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<span device>\n\t\t\t<div id="f"></div>\n\t\t\t<div id="formatted" hidden$="[[hideFormattedValue]]" on-focus="edit">\n\t\t\t\t<span id="me"></span>\n\t\t\t</div>\n\t\t</span>\n\t\t'])),m)}}],(n=[{key:"ready",value:function(){x(T(b.prototype),"ready",this).call(this),this.addEventListener("sb-row-focus-signal",this.handleRowFocusSignal.bind(this)),this.addEventListener("sb-field-edit",this.handleFieldEditSignal.bind(this)),this.html=new l.a(this)}},{key:"connectedCallback",value:function(){x(T(b.prototype),"connectedCallback",this).call(this),this._tapHandler=this.linkOrEdit.bind(this),this.$.formatted.addEventListener("click",this._tapHandler,{passive:!0})}},{key:"disconnectedCallback",value:function(){x(T(b.prototype),"disconnectedCallback",this).call(this),this._tapHandler&&this.$.formatted&&this.$.formatted.removeEventListener("click",this._tapHandler)}},{key:"_createObjObserver",value:function(t,e){if(void 0!==e)return this._createObj(t,e)}},{key:"_createObj",value:function(t,e){if(!this.obj||this.isInternalObject){this.isInternalObject=!0;var n=this.obj?this.obj:{};n[e]=t,this.obj=n}}},{key:"_setObjAndRefObjectsObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setObjAndRefObjects(t,e,n)}},{key:"setObjAndRefObjects",value:function(t,e,n){this.obj=void 0,this.refObjects=void 0,this.refObjects=t[n],void 0===this.refObjects&&(this.refObjects={}),this.obj=""!==e?t[e]:t}},{key:"_renderObserver",value:function(t,e,n,o,r,i,a,s){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r&&void 0!==i&&void 0!==a&&void 0!==s)return this.render(t,e,n,o,r,i,a,s)}},{key:"render",value:function(t,e,n,o,r,i,a,s){this.rendered=!0,this.isReadOnly()?this.updateTemplateData(t,e,o,s):(this._toggleEditing&&this._unrender(),this._render(t,e,o,s))}},{key:"_render",value:function(t,e,n,o){var r=this;if(!this.domBind){this.domBind=document.createElement("dom-bind"),this.template=document.createElement("template"),this.domBind.appendChild(this.template);var i=this.updateTemplateData(t,e,n,o);this.createBaseElement(i.html),this.domBind.change=this.onChange.bind(this),this.domBind.keyReadOnly=function(t){return r.onKeyupReadOnly(r.model,r.obj,r.md,r.html,t)},this.domBind.keyDownReadOnly=this.onKeyDownReadOnly.bind(this),this.domBind.blurReadOnly=function(t){return r.onBlurReadOnly(r.model,r.obj,r.md,r.html,t)},this.isReadOnly()||(this.hideFormattedValue=!0),this.$.f.appendChild(this.domBind)}}},{key:"_unrender",value:function(){if(this.domBind)try{for(var t=this.$.f,e=t.lastElementChild;e;)t.removeChild(e),e=t.lastElementChild;Object(_.b)(),this.domBind=null,this.template=null}catch(t){return}}},{key:"_setOriginalFormattedValueObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._setOriginalFormattedValue(t,e,n)}},{key:"_setOriginalFormattedValue",value:function(t,e,n){var o=this.getFormField(t,e,n),r=this.originalFormattedValue&&void 0!==this.originalFormattedValue.value&&this.originalFormattedValue.value!==e;this.originalFormattedValue=this.getFormattedValue(o,e),this.formattedValue&&r&&this.addFormattedDirtyClass(this.isEditable())}},{key:"onChange",value:function(t){this._onChange(t);var e=!!t.detail&&t.detail.suppressImmediateCalculation;this.dispatchEvent(Object(h.d)("sb-field-on-change-field",{suppressImmediateCalculation:e}))}},{key:"_onChange",value:function(t){if(!this.internal){var e=this.getEventTarget(t),n=void 0!==e.value?e.value:t.detail?t.detail.value:null;this.refDisplay=void 0!==e.refDisplay?e.refDisplay:t.detail&&void 0!==t.detail.refDisplay?t.detail.refDisplay:this.refDisplay,this.isNumericType()?n=n&&0!==n?this.numberParser.parse(n,!1,this.md.scale):null:n instanceof Date&&(n="date"===this.type?u.a.toApexDate(n):u.a.toApexDateTime(n)),this.internal=!0,this.obj[this.property]=n,Object(f.d)(this).value=n,this.internal=!1,this.fireCustomChangeEvents(t)}}},{key:"fireCustomChangeEvents",value:function(t){!this.md||t&&!t.detail||this.fireControllingSelectChangeEvent()}},{key:"fireControllingSelectChangeEvent",value:function(){var t={tableName:this.md.tableName,fieldName:this.md.name,record:this.record},e=new CustomEvent("sb-controlling-select-changed",{bubbles:!1,detail:t});document.dispatchEvent(e)}},{key:"onKeyDownReadOnly",value:function(t){if(this.signaler&&this.isRenderReadOnly()&&9===(t.keyCode||t.detail.keyCode)){var e=t.shiftKey||t.detail.shiftKey;this.signaler.signalNextPreviousEditableTarget(this,!e)}}},{key:"onKeyupReadOnly",value:function(t,e,n,o,r){27===(r.keyCode||r.detail.keyCode)&&this.onBlurReadOnly(t,e,n,o,!1)}},{key:"onBlurReadOnly",value:function(t,e,n,o,r){if(this.isReadOnly()&&!this.domBind.hideField){if(r)this.setPreviouslyFormattedValue(),this.updateTemplateData(t,e,n,o);else{var i={target:{value:this.previouslyFormatted?this.previouslyFormatted.value:this.formattedValue.value}};this.isLookup()&&(i.target.refDisplay=this.previouslyFormatted?this.previouslyFormatted.label:this.formattedValue.label),this._onChange(i),this.updateTemplateData(t,e,n,o)}this.domBind.hideField=!0,this.hideFormattedValue=!1,this.isRenderReadOnly()&&this.enableSignals()}}},{key:"updateTemplateData",value:function(t,e,n,o){var r=e[this.property],i=this.getFormField(t,r,n);if(i.defaultValue&&this.domBind&&this._onChange({target:{value:i.defaultValue}}),this.formattedValue=this.getFormattedValue(i,r),this.originalFormattedValue=this.originalFormattedValue||this.formattedValue,this.addFormattedValueClasses(i.numeric),this.isReadOnly()&&this.setFormattedDetails(o),this.domBind)return i.attachTo(this.domBind,"keyReadOnly","keyDownReadOnly","blurReadOnly","change","hideField",this.isRenderReadOnly()),i}},{key:"getFormField",value:function(t,e,n){var o=this.isEditable(!this._toggleEditing),r=this.getSelectOptions(n),i={refDisplay:this.refDisplay,refDisplayName:"refDisplay",refTable:this.refTable,refObjects:this.refObjects,property:this.property,obj:this.obj,record:this.record};return Object(a.a)(this.type,t,e,o,this.disabled,this.hidden,this.index,this.md,c.a,this.isRenderReadOnly(),r,i,this.tabIndex,this.factoryData)}},{key:"getFormattedValue",value:function(t,e){return t.formattedValue||{value:e,label:e}}},{key:"addFormattedValueClasses",value:function(t){var e=this.isEditable();Object(f.m)("editable",e,this.$.formatted),Object(f.m)("numericField",this.segmentedAlignment||!this.preventNumericAlignment&&t,this.$.formatted),Object(f.m)("firstField",0==this.index,this.$.formatted),Object(f.m)("readOnly",this.readOnly,this.$.formatted),this.addFormattedDirtyClass(e);var n=this.isBoolean(),o=!n&&(!1===this.formattedValue.value||this.isNil(this.formattedValue.label)&&!0!==this.formattedValue.value);Object(f.m)("empty",o,this.$.formatted),Object(f.m)("empty",o,this.$.me),Object(f.m)("link",this.link,this.$.formatted),Object(f.m)("link",this.link,this.$.me),Object(f.m)("boolean",n,this.$.formatted)}},{key:"addFormattedDirtyClass",value:function(t){this.isDirty=t&&this.formattedValue.value!==this.originalFormattedValue.value&&!(this.isNil(this.formattedValue.value)&&this.isNil(this.originalFormattedValue.value)),Object(f.m)("dirty",this.isDirty,this.$.formatted)}},{key:"signalRowFocus",value:function(){this.signaler&&(this.signaler.fireSignal("sb-row-focus-signal",!0),setTimeout(function(){this.signaler.disable()}.bind(this),20))}},{key:"enableSignals",value:function(){this.signaler&&this.signaler.enable()}},{key:"handleRowFocusSignal",value:function(t){this.signaler&&(this.signaler.toggleRowFocus(t),this.isEditable()&&Object(f.m)("show",t.detail.focused,this.$.formatted))}},{key:"handleFieldEditSignal",value:function(t){"richtextarea"===this.md.extraTypeInfo?this.signaler.signalNextPreviousEditableTarget(this,t.detail.next):(this.ironList=this.signaler.ironList,this.ironList&&this.ironList.lastVisibleIndex==this.ironList.items.length-1&&(this.ironList.toggleScrollListener(!1),this.scrollListenerDetached=!0),setTimeout(function(){this.scrollListenerDetached&&(this.ironList.toggleScrollListener(!0),this.scrollListenerDetached=!1),this.edit()}.bind(this),0))}},{key:"createBaseElement",value:function(t){var e=this.template.content.ownerDocument.createElement("div");e.innerHTML=t;var n=e.firstChild;this.template.content.appendChild(n)}},{key:"isNumericType",value:function(){switch(this.type){case"double":case"number":case"currency":case"percent":return!0}return!1}},{key:"getType",value:function(t){return t&&t.type?t.type.toLowerCase():""}},{key:"_valueChanged",value:function(){this.rendered&&void 0===this.value&&this.valueChanged(this.model,this.obj,this.md,this.property,this.html,this.value)}},{key:"_valueChangedObserver",value:function(t,e,n,o,r,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r&&void 0!==i)return this.valueChanged(t,e,n,o,r,i)}},{key:"valueChanged",value:function(t,e,n,o,r,i){void 0===i&&this.isBoolean()||(this.internal&&this.domBind?this.domBind.value=i:this.obj[o]=i,this.setPreviouslyFormattedValue(),this.updateTemplateData(t,e,n,r))}},{key:"setPreviouslyFormattedValue",value:function(){this.previouslyFormatted=void 0===this.formattedValue?null:JSON.parse(JSON.stringify(this.formattedValue))}},{key:"_disabledChangedObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this.disabledChanged(t,e,n,o,r)}},{key:"disabledChanged",value:function(t,e,n,o,r){Object(f.m)("disabled",r,this.$.formatted),this.domBind&&(this.domBind.disabled=r),this.isRenderReadOnly()&&this.editing&&this.updateTemplateData(t,e,n,o)}},{key:"hiddenChanged",value:function(){this.domBind&&(this.domBind.hide=this.hidden)}},{key:"recordIdChanged",value:function(){this.domBind&&(this.domBind.recordId=this.recordId)}},{key:"recordChanged",value:function(t){this.domBind&&t&&t.path&&"record"!==t.path&&this.domBind.set(t.path,t.value)}},{key:"computeRefTable",value:function(t){if(void 0!==t)return t.referenceTable?t.referenceTable:t.referenceTo&&t.referenceTo.length>0?t.referenceTo[0]:null}},{key:"linkOrEdit",value:function(){this.link?this.dispatchEvent(Object(h.d)("sb-link-tapped",{value:this.value,Id:this.recordId})):this.edit(!0)}},{key:"edit",value:function(t){this.isEditable()&&(this._render(this.model,this.obj,this.md,this.html),this.hideFormattedValue=!this.isRichText(),this.domBind.hideField=!this.hideFormattedValue,this.domBind.__children&&this.domBind.__children[0].focus&&this.domBind.__children[0].focus(),t&&this.invertValueIfInlineBoolean(),this.isRenderReadOnly()&&this.signalRowFocus())}},{key:"getEventTarget",value:function(t){try{return t.localTarget||t.target}catch(e){return t.target}}},{key:"isNil",value:function(t){return null==t||""===t||"number"==typeof t&&t+""=="NaN"}},{key:"applyFocus",value:function(){this.domBind&&(this.domBind.applyFocus=this.focus)}},{key:"isEditable",value:function(t){return!(!t||!this._wasEverEditable)||!(this.readOnly||this.isRenderReadOnly()&&this.disabled)&&this.editing}},{key:"isReadOnly",value:function(){return this.readOnly||this.isRenderReadOnly()||this.isFormulaHtml()}},{key:"isRenderReadOnly",value:function(){return this.renderReadOnly||this.isRichText()}},{key:"isFormulaHtml",value:function(){return this.md.htmlFormatted&&this.md.calculated}},{key:"setFormattedDetails",value:function(t){t.isDirty=this.isDirty,t.link=!!this.link,t.type=this.type,t.booleanValue=this.isBoolean()?this.obj[this.property]:null,t.value=this.formattedValue.label,this.formattedValue.unit&&(t.value+=" "+this.formattedValue.unit),t.sanitizeAndSetInnerHTML()}},{key:"isBoolean",value:function(){return"boolean"===this.type||"checkbox"===this.type}},{key:"isLookup",value:function(){return"id"===this.type||"reference"===this.type}},{key:"isRichText",value:function(){return"textarea"===this.type&&"richtextarea"===this.md.extraTypeInfo}},{key:"addControlledSelectListener",value:function(t){var e=this;t&&t.controllerName&&document.addEventListener("sb-controlling-select-changed",(function(t){return e.controllerSelectHandler(e.model,e.obj,e.md,e.html,t)}))}},{key:"controllerSelectHandler",value:function(t,e,n,o,r){var i=r.detail.tableName,a=r.detail.fieldName,s=r.detail.record,l="function"==typeof this.record.equals&&s?this.record.equals(s):this.record===s;i===n.tableName&&n.controllerName===a&&l&&(this.buildSelectOptions(n,!0)||this.updateTemplateData(t,e,n,o))}},{key:"getSelectOptions",value:function(t){return this._selectOptions||this.buildSelectOptions(t),this._selectOptions}},{key:"buildSelectOptions",value:function(t,e){if(!t.controllerName||!this.record)return this._selectOptions=t.picklistValues,!1;var n="function"==typeof this.record.getValue?this.record.getValue(t.controllerName):this.record[t.controllerName];return this._selectOptions=new s.a(t,n).build(),!!e&&this.clearValueIfNotAnOption(this._selectOptions)}},{key:"clearValueIfNotAnOption",value:function(t){if(null===this.value)return!1;var e=!0;return t.forEach(function(t){t.value==this.value&&(e=!1)}.bind(this)),!!e&&("function"==typeof this.record.setValue?this.record.setValue(this.property,null):this.record[this.property]=null,this.onChange({target:{value:null},detail:!0}),!0)}},{key:"invertValueIfInlineBoolean",value:function(){this.isRenderReadOnly()&&this.isBoolean()&&(this.value=!this.obj[this.property],this.internal=!0,Object(f.d)(this).value=this.value,this.internal=!1,this.fireCustomChangeEvents(),this.dispatchEvent(Object(h.d)("sb-field-on-change-field",void 0)))}},{key:"_setWasEverEditable",value:function(){return this._wasEverEditable||this.editing}},{key:"toggleEditing",value:function(t){this.domBind&&!!t!=!!this.editing&&(this._toggleEditing=!0,this.editing=t,this._toggleEditing=!1)}}])&&k(e.prototype,n),o&&k(e,o),Object.defineProperty(e,"prototype",{writable:!1}),b}(Object(d.a)(r.a));customElements.define(I.is,I)},function(t,e,n){"use strict";n(10);var o,r,i,a=n(14),s=n(8),l=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(a.a)({_template:Object(l.a)(o||(r=['\x3c!--css-build:shadow--\x3e<style scope="paper-tooltip">:host {\n  display: block;\n        position: absolute;\n        outline: none;\n        z-index: 1002;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        cursor: default;\n}\n\n#tooltip {\n  display: block;\n  outline: none;\n  -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n  line-height: 1;\n\n\t/** CPQ Style Properties */\n\tpadding: var(--paper-tooltip-padding, 8px);\n  color: var(--paper-tooltip-color, var(--paper-tooltip-text-color, white));\n  font-family: var(--paper-tooltip-font-family, var(--paper-font-common-base_-_font-family));\n  font-size: var(--paper-tooltip-font-size, 10px);\n\tborder-radius: var(--paper-tooltip-border-radius, 2px);\n  background-color: var(--paper-tooltip-background-color, var(--paper-tooltip-background, #616161));\n\tz-index: var(--paper-tooltip-z-index);\n\tbox-shadow: var(--paper-tooltip-box-shadow);\n\tborder: var(--paper-tooltip-border);\n\topacity: var(--paper-tooltip-opacity);\n}\n\n@keyframes keyFrameScaleUp {\n0% {\n  transform: scale(0.0);\n}\n\n100% {\n  transform: scale(1.0);\n}\n\n}\n\n@keyframes keyFrameScaleDown {\n0% {\n  transform: scale(1.0);\n}\n\n100% {\n  transform: scale(0.0);\n}\n\n}\n\n@keyframes keyFrameFadeInOpacity {\n0% {\n  opacity: 0;\n}\n\n100% {\n  opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n}\n\n@keyframes keyFrameFadeOutOpacity {\n0% {\n  opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n100% {\n  opacity: 0;\n}\n\n}\n\n@keyframes keyFrameSlideDownIn {\n0% {\n  transform: translateY(-2000px);\n          opacity: 0;\n}\n\n10% {\n  opacity: 0.2;\n}\n\n100% {\n  transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n}\n\n@keyframes keyFrameSlideDownOut {\n0% {\n  transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n10% {\n  opacity: 0.2;\n}\n\n100% {\n  transform: translateY(-2000px);\n          opacity: 0;\n}\n\n}\n\n.fade-in-animation {\n  opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameFadeInOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.fade-out-animation {\n  opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 0ms);\n        animation-name: keyFrameFadeOutOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.scale-up-animation {\n  transform: scale(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameScaleUp;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.scale-down-animation {\n  transform: scale(1);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameScaleDown;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.slide-down-animation {\n  transform: translateY(-2000px);\n        opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownIn;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.slide-down-animation-out {\n  transform: translateY(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownOut;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.cancel-animation {\n  animation-delay: -30s !important;\n}\n\n.hidden {\n  display: none !important;\n}\n\n</style>\n\n    <div id="tooltip" class="hidden">\n      <slot></slot>\n    </div>\n'],i||(i=r.slice(0)),o=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500,observer:"_delayChange"},animationEntry:{type:String,value:""},animationExit:{type:String,value:""},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{webkitAnimationEnd:"_onAnimationEnd"},get target(){var t=Object(s.a)(this).parentNode,e=Object(s.a)(this).getOwnerRoot();return this.for?Object(s.a)(e).querySelector("#"+this.for):t.nodeType==Node.DOCUMENT_FRAGMENT_NODE?e.host:t},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},playAnimation:function(t){"entry"===t?this.show():"exit"===t&&this.hide()},cancelAnimation:function(){this.$.tooltip.classList.add("cancel-animation")},show:function(){if(!this._showing){if(""===Object(s.a)(this).textContent.trim()){for(var t=!0,e=Object(s.a)(this).getEffectiveChildNodes(),n=0;n<e.length;n++)if(""!==e[n].textContent.trim()||e[n].shadowRoot&&e[n].shadowRoot.textContent&&""!==e[n].shadowRoot.textContent.trim()){t=!1;break}if(t)return}this._showing=!0,this.$.tooltip.classList.remove("hidden"),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.updatePosition(),this._animationPlaying=!0,this.$.tooltip.classList.add(this._getAnimationType("entry"))}},hide:function(){if(this._showing){if(this._animationPlaying)return this._showing=!1,void this._cancelAnimation();this._onAnimationFinish(),this._showing=!1,this._animationPlaying=!0}},updatePosition:function(){if(this._target&&this.offsetParent){var t=this.offset;14!=this.marginTop&&14==this.offset&&(t=this.marginTop);var e,n,o=this.offsetParent.getBoundingClientRect(),r=this._target.getBoundingClientRect(),i=this.getBoundingClientRect(),a=(r.width-i.width)/2,s=(r.height-i.height)/2,l=r.left-o.left,c=r.top-o.top;switch(this.position){case"top":e=l+a,n=c-i.height-t;break;case"bottom":e=l+a,n=c+r.height+t;break;case"left":e=l-i.width-t,n=c+s;break;case"right":e=l+r.width+t,n=c+s}this.fitToVisibleBounds?(o.left+e+i.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,e)+"px",this.style.right="auto"),o.top+n+i.height>window.innerHeight?(this.style.bottom=o.height-c+t+"px",this.style.top="auto"):(this.style.top=Math.max(-o.top,n)+"px",this.style.bottom="auto")):(this.style.left=e+"px",this.style.top=n+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide")),this.listen(this.$.tooltip,"animationend","_onAnimationEnd"),this.listen(this,"mouseenter","hide")},_findTarget:function(){this.manualMode||this._removeListeners(),this._target=this.target,this.manualMode||this._addListeners()},_delayChange:function(t){500!==t&&this.updateStyles({"--paper-tooltip-delay-in":t+"ms"})},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},_cancelAnimation:function(){this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add("hidden")},_onAnimationFinish:function(){this._showing&&(this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add(this._getAnimationType("exit")))},_onAnimationEnd:function(){this._animationPlaying=!1,this._showing||(this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.add("hidden"))},_getAnimationType:function(t){if("entry"===t&&""!==this.animationEntry)return this.animationEntry;if("exit"===t&&""!==this.animationExit)return this.animationExit;if(this.animationConfig[t]&&"string"==typeof this.animationConfig[t][0].name){if(this.animationConfig[t][0].timing&&this.animationConfig[t][0].timing.delay&&0!==this.animationConfig[t][0].timing.delay){var e=this.animationConfig[t][0].timing.delay;"entry"===t?this.updateStyles({"--paper-tooltip-delay-in":e+"ms"}):"exit"===t&&this.updateStyles({"--paper-tooltip-delay-out":e+"ms"})}return this.animationConfig[t][0].name}},_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide")),this.unlisten(this.$.tooltip,"animationend","_onAnimationEnd"),this.unlisten(this,"mouseenter","hide")}})},function(t,e,n){"use strict";n(10);var o,r=n(3);var i,a,s=Object(r.a)(o||(i=["\n\t\t\t\t<dom-module id=\"sb-tables-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.table > tbody > tr > td {\n  color: inherit;\n}\n.table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.table td {\n  height: var(--sbTableCellHeight);\n}\n.table > tbody > tr > td.center,\n.table > thead > tr > th.center,\n.table > tfoot > tr > td.center {\n  text-align: center;\n}\n.table > thead > tr > th.right,\n.table > tbody > tr > td.right,\n.table > tfoot > tr > td.right {\n  text-align: right;\n}\n.table a {\n  color: inherit;\n}\n.table input,\n.table select {\n  font-size: inherit;\n}\n.table > thead > tr > th {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  font-size: inherit;\n  font-weight: normal;\n  text-transform: uppercase;\n  color: inherit;\n  text-align: left;\n  white-space: nowrap;\n}\n.table > thead > tr > th > .icon {\n  margin-left: 4px;\n  font-size: inherit;\n}\n.table > tbody > tr > td {\n  border-bottom: var(--sbTableRowBorder);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  color: inherit;\n  font-size: inherit;\n}\n.table > tbody > tr:hover {\n  background: var(--sbTableRowHoverColor);\n}\n.table > tfoot > tr > td {\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  color: inherit;\n  font-size: inherit;\n}\n.datatable {\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n}\n.datatable > .thead,\n.datatable > .tbody,\n.datatable > .tfoot,\n.datatable .tr {\n  width: 100%;\n}\n.datatable > .thead > .tr,\n.datatable > .tbody > .tr,\n.datatable > .tfoot > .tr {\n  display: table-row;\n}\n.datatable > .thead > .tr > div,\n.datatable > .tbody > .tr > div,\n.datatable > .tfoot > .tr > div {\n  border-bottom: var(--sbTableRowBorder);\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.datatable > .thead > .tr > div.truncate,\n.datatable > .tbody > .tr > div.truncate,\n.datatable > .tfoot > .tr > div.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.datatable > .thead > .tr > div.right,\n.datatable > .tbody > .tr > div.right,\n.datatable > .tfoot > .tr > div.right {\n  text-align: right;\n}\n.datatable > .thead > .tr > div.center,\n.datatable > .tbody > .tr > div.center,\n.datatable > .tfoot > .tr > div.center {\n  text-align: center;\n}\n.datatable > .thead > .tr > div.pic,\n.datatable > .tbody > .tr > div.pic,\n.datatable > .tfoot > .tr > div.pic {\n  display: none;\n}\n.datatable > .thead {\n  display: table-row-group;\n  color: var(--sbTableHeaderColor);\n  text-transform: uppercase;\n  white-space: nowrap;\n}\n.datatable > .tbody {\n  display: table-row-group;\n}\n.datatable > .tfoot {\n  display: table-footer-group;\n}\n.tr {\n  display: table-row;\n}\n.td,\n.th {\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.td.truncate,\n.th.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.td.right,\n.th.right {\n  text-align: right;\n}\n.td.center,\n.th.center {\n  text-align: center;\n}\n.td.pic,\n.th.pic {\n  display: none;\n}\n.td {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.th {\n  border-bottom: var(--sb-table-header-border-bottom);\n}\n.innerTd,\n.innerTh {\n  display: table-cell;\n  vertical-align: middle;\n  white-space: initial;\n}\n.innerTd.truncate,\n.innerTh.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.innerTd.right,\n.innerTh.right {\n  text-align: right;\n}\n.innerTd.center,\n.innerTh.center {\n  text-align: center;\n}\n.innerTd.pic,\n.innerTh.pic {\n  display: none;\n}\n.firstInnerTd.numericCell[class*='--desktop'],\n.firstInnerTh.numericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n.lastInnerTd.numericCell[class*='--desktop'],\n.lastInnerTh.numericCell[class*='--desktop'] {\n  padding-right: 6px;\n}\n.numericCell[class*='--desktop'] {\n  text-align: right;\n}\n.afterNumericCell[class*='--desktop'],\n.checkboxCell[class*='--desktop'] {\n  text-align: center;\n}\n.secondInnerTd.afterNumericCell[class*='--desktop'],\n.secondInnerTh.afterNumericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n#tableContainer[class*='--desktop'] .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.leGroup[class*='--desktop'] {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n.leTh[class*='--desktop'] {\n  white-space: nowrap;\n}\n[class*='--desktop'] .firstInnerTd.numericCell,\n[class*='--desktop'] .firstInnerTh.numericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] .lastInnerTd.numericCell,\n[class*='--desktop'] .lastInnerTh.numericCell {\n  padding-right: 6px;\n}\n[class*='--desktop'] .numericCell {\n  text-align: right;\n}\n[class*='--desktop'] .afterNumericCell,\n[class*='--desktop'] .checkboxCell {\n  text-align: center;\n}\n[class*='--desktop'] .secondInnerTd.afterNumericCell,\n[class*='--desktop'] .secondInnerTh.afterNumericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] #tableContainer .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n[class*='--desktop'] .leGroup {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n[class*='--desktop'] .leTh {\n  white-space: nowrap;\n}\n.tgroup {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n  border-bottom-style: var(--sb-table-row-border-bottom-style, 'solid');\n  border-bottom-color: var(--sb-table-row-border-bottom-color, 'red');\n  border-bottom-width: var(--sb-table-row-border-bottom-width, '1px');\n  line-height: var(--sb-table-row-line-height);\n  padding-top: var(--sb-table-row-padding-top);\n  padding-bottom: var(--sb-table-row-padding-bottom);\n}\n.groupTr {\n  background-color: var(--sbTableRowGroupedRowBgColor);\n  line-height: var(--sbTableRowGroupedRowLineHeight);\n}\nsb-table-row[class*='--desktop']:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\nsb-table-header[class*='--desktop']:hover,\nsb-le-table-header[class*='--desktop']:hover {\n  background-color: #ffffff;\n}\n[class*='--desktop'] sb-table-row:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] sb-table-header:hover,\n[class*='--desktop'] sb-le-table-header:hover {\n  background-color: #ffffff;\n}\n.groupExpandTd {\n  cursor: pointer;\n}\n.groupTd {\n  display: flex;\n  position: relative;\n}\n.groupTd:after {\n  position: relative;\n  content: '\\e86b';\n  font-family: 'sf-icons';\n}\n.groupTd.expanded:after {\n  content: '\\e876';\n}\n.td[class*='--mobile'] {\n  height: inherit;\n}\n.innerTd[class*='--mobile'] {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n.primary[class*='--mobile'] {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n.primary.selected[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\n.primary.multi[class*='--mobile'] {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: .9rem;\n  order: 3;\n}\n.primary.first[class*='--mobile']:after {\n  content: '\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n.primary.first.expanded[class*='--mobile']:after {\n  content: '\\e876';\n}\n.secondary[class*='--mobile'] {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n.secondary.expanded[class*='--mobile'] {\n  display: block;\n}\n.secondary.expanded.hiddenInMobile[class*='--mobile'] {\n  display: none;\n}\n.innerTd[field-label][class*='--mobile']:before,\n.detailField[field-label][class*='--mobile']:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n.td.lineNumber[class*='--mobile'] {\n  text-align: right;\n}\n.datatable[class*='--mobile'] {\n  padding: 0px;\n}\n.datatable[class*='--mobile'] .thead,\n.datatable[class*='--mobile'] sb-line-item-table-header,\n.datatable[class*='--mobile'] sb-segmented-line-item-table-header,\n.datatable[class*='--mobile'] .tfoot,\n.datatable[class*='--mobile'] .lineCheckbox {\n  display: none;\n}\n#selection[class*='--mobile'] {\n  position: absolute;\n}\n.selection[class*='--mobile'] {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n.tgroup[class*='--mobile'] {\n  box-sizing: border-box;\n}\n.datatable[class*='--mobile'] > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\nsb-option-cell[class*='--mobile'] {\n  width: 100%;\n}\nsb-option-cell.primary[class*='--mobile'] {\n  background-color: #FFF;\n}\nsb-option-cell.primary.selected[class*='--mobile'] {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\nsb-option-cell.primary.first[class*='--mobile']:not(.initial):after {\n  margin-top: -20px !important;\n}\nsb-option-cell.primary.first.initial[class*='--mobile']:after {\n  margin-top: 0px !important;\n}\nsb-option-cell.primary.first[class*='--mobile'] {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\nsb-option-cell.primary.first.expanded[class*='--mobile'] {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell[class*='--mobile']:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n#instructions-text[class*='--mobile'] {\n  font-style: normal;\n}\nsb-table-cell.primary.multi[class*='--mobile'],\nsb-table-cell.secondary[class*='--mobile']:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile0[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile1[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  color: var(--upgrade-option-color, inherit);\n}\nsb-cse-table-cell[class*='--mobile'] {\n  cursor: default;\n}\nsb-cse-table-cell.primary.first[class*='--mobile'] {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\nsb-cse-table-cell.secondary.lastInnerTd.expanded[class*='--mobile'] {\n  border-bottom: 1px solid #d8dde6;\n}\n.lookupItemTd[class*='--mobile'] {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n.selectedLookupItem[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\nsb-le-table-cell.expanded[class*='--mobile']:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .td {\n  height: inherit;\n}\n[class*='--mobile'] .innerTd {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .primary {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n[class*='--mobile'] .primary.selected {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] .primary.multi {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: .9rem;\n  order: 3;\n}\n[class*='--mobile'] .primary.first:after {\n  content: '\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n[class*='--mobile'] .primary.first.expanded:after {\n  content: '\\e876';\n}\n[class*='--mobile'] .secondary {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n[class*='--mobile'] .secondary.expanded {\n  display: block;\n}\n[class*='--mobile'] .secondary.expanded.hiddenInMobile {\n  display: none;\n}\n[class*='--mobile'] .innerTd[field-label]:before,\n[class*='--mobile'] .detailField[field-label]:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n[class*='--mobile'] .td.lineNumber {\n  text-align: right;\n}\n[class*='--mobile'] .datatable {\n  padding: 0px;\n}\n[class*='--mobile'] .datatable .thead,\n[class*='--mobile'] .datatable sb-line-item-table-header,\n[class*='--mobile'] .datatable sb-segmented-line-item-table-header,\n[class*='--mobile'] .datatable .tfoot,\n[class*='--mobile'] .datatable .lineCheckbox {\n  display: none;\n}\n[class*='--mobile'] #selection {\n  position: absolute;\n}\n[class*='--mobile'] .selection {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n[class*='--mobile'] .tgroup {\n  box-sizing: border-box;\n}\n[class*='--mobile'] .datatable > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\n[class*='--mobile'] sb-option-cell {\n  width: 100%;\n}\n[class*='--mobile'] sb-option-cell.primary {\n  background-color: #FFF;\n}\n[class*='--mobile'] sb-option-cell.primary.selected {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\n[class*='--mobile'] sb-option-cell.primary.first:not(.initial):after {\n  margin-top: -20px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first.initial:after {\n  margin-top: 0px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] sb-option-cell.primary.first.expanded {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] #instructions-text {\n  font-style: normal;\n}\n[class*='--mobile'] sb-table-cell.primary.multi,\n[class*='--mobile'] sb-table-cell.secondary:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-table-cell.primary.multi[class*='--mobile']:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] .--mobile1 sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  color: var(--upgrade-option-color, inherit);\n}\n[class*='--mobile'] sb-cse-table-cell {\n  cursor: default;\n}\n[class*='--mobile'] sb-cse-table-cell.primary.first {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\n[class*='--mobile'] sb-cse-table-cell.secondary.lastInnerTd.expanded {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .lookupItemTd {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n[class*='--mobile'] .selectedLookupItem {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] sb-le-table-cell.expanded:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],(a=["\n\t\t\t\t<dom-module id=\"sb-tables-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.table > tbody > tr > td {\n  color: inherit;\n}\n.table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.table td {\n  height: var(--sbTableCellHeight);\n}\n.table > tbody > tr > td.center,\n.table > thead > tr > th.center,\n.table > tfoot > tr > td.center {\n  text-align: center;\n}\n.table > thead > tr > th.right,\n.table > tbody > tr > td.right,\n.table > tfoot > tr > td.right {\n  text-align: right;\n}\n.table a {\n  color: inherit;\n}\n.table input,\n.table select {\n  font-size: inherit;\n}\n.table > thead > tr > th {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  font-size: inherit;\n  font-weight: normal;\n  text-transform: uppercase;\n  color: inherit;\n  text-align: left;\n  white-space: nowrap;\n}\n.table > thead > tr > th > .icon {\n  margin-left: 4px;\n  font-size: inherit;\n}\n.table > tbody > tr > td {\n  border-bottom: var(--sbTableRowBorder);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  color: inherit;\n  font-size: inherit;\n}\n.table > tbody > tr:hover {\n  background: var(--sbTableRowHoverColor);\n}\n.table > tfoot > tr > td {\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  color: inherit;\n  font-size: inherit;\n}\n.datatable {\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n}\n.datatable > .thead,\n.datatable > .tbody,\n.datatable > .tfoot,\n.datatable .tr {\n  width: 100%;\n}\n.datatable > .thead > .tr,\n.datatable > .tbody > .tr,\n.datatable > .tfoot > .tr {\n  display: table-row;\n}\n.datatable > .thead > .tr > div,\n.datatable > .tbody > .tr > div,\n.datatable > .tfoot > .tr > div {\n  border-bottom: var(--sbTableRowBorder);\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.datatable > .thead > .tr > div.truncate,\n.datatable > .tbody > .tr > div.truncate,\n.datatable > .tfoot > .tr > div.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.datatable > .thead > .tr > div.right,\n.datatable > .tbody > .tr > div.right,\n.datatable > .tfoot > .tr > div.right {\n  text-align: right;\n}\n.datatable > .thead > .tr > div.center,\n.datatable > .tbody > .tr > div.center,\n.datatable > .tfoot > .tr > div.center {\n  text-align: center;\n}\n.datatable > .thead > .tr > div.pic,\n.datatable > .tbody > .tr > div.pic,\n.datatable > .tfoot > .tr > div.pic {\n  display: none;\n}\n.datatable > .thead {\n  display: table-row-group;\n  color: var(--sbTableHeaderColor);\n  text-transform: uppercase;\n  white-space: nowrap;\n}\n.datatable > .tbody {\n  display: table-row-group;\n}\n.datatable > .tfoot {\n  display: table-footer-group;\n}\n.tr {\n  display: table-row;\n}\n.td,\n.th {\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.td.truncate,\n.th.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.td.right,\n.th.right {\n  text-align: right;\n}\n.td.center,\n.th.center {\n  text-align: center;\n}\n.td.pic,\n.th.pic {\n  display: none;\n}\n.td {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.th {\n  border-bottom: var(--sb-table-header-border-bottom);\n}\n.innerTd,\n.innerTh {\n  display: table-cell;\n  vertical-align: middle;\n  white-space: initial;\n}\n.innerTd.truncate,\n.innerTh.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.innerTd.right,\n.innerTh.right {\n  text-align: right;\n}\n.innerTd.center,\n.innerTh.center {\n  text-align: center;\n}\n.innerTd.pic,\n.innerTh.pic {\n  display: none;\n}\n.firstInnerTd.numericCell[class*='--desktop'],\n.firstInnerTh.numericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n.lastInnerTd.numericCell[class*='--desktop'],\n.lastInnerTh.numericCell[class*='--desktop'] {\n  padding-right: 6px;\n}\n.numericCell[class*='--desktop'] {\n  text-align: right;\n}\n.afterNumericCell[class*='--desktop'],\n.checkboxCell[class*='--desktop'] {\n  text-align: center;\n}\n.secondInnerTd.afterNumericCell[class*='--desktop'],\n.secondInnerTh.afterNumericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n#tableContainer[class*='--desktop'] .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.leGroup[class*='--desktop'] {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n.leTh[class*='--desktop'] {\n  white-space: nowrap;\n}\n[class*='--desktop'] .firstInnerTd.numericCell,\n[class*='--desktop'] .firstInnerTh.numericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] .lastInnerTd.numericCell,\n[class*='--desktop'] .lastInnerTh.numericCell {\n  padding-right: 6px;\n}\n[class*='--desktop'] .numericCell {\n  text-align: right;\n}\n[class*='--desktop'] .afterNumericCell,\n[class*='--desktop'] .checkboxCell {\n  text-align: center;\n}\n[class*='--desktop'] .secondInnerTd.afterNumericCell,\n[class*='--desktop'] .secondInnerTh.afterNumericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] #tableContainer .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n[class*='--desktop'] .leGroup {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n[class*='--desktop'] .leTh {\n  white-space: nowrap;\n}\n.tgroup {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n  border-bottom-style: var(--sb-table-row-border-bottom-style, 'solid');\n  border-bottom-color: var(--sb-table-row-border-bottom-color, 'red');\n  border-bottom-width: var(--sb-table-row-border-bottom-width, '1px');\n  line-height: var(--sb-table-row-line-height);\n  padding-top: var(--sb-table-row-padding-top);\n  padding-bottom: var(--sb-table-row-padding-bottom);\n}\n.groupTr {\n  background-color: var(--sbTableRowGroupedRowBgColor);\n  line-height: var(--sbTableRowGroupedRowLineHeight);\n}\nsb-table-row[class*='--desktop']:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\nsb-table-header[class*='--desktop']:hover,\nsb-le-table-header[class*='--desktop']:hover {\n  background-color: #ffffff;\n}\n[class*='--desktop'] sb-table-row:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] sb-table-header:hover,\n[class*='--desktop'] sb-le-table-header:hover {\n  background-color: #ffffff;\n}\n.groupExpandTd {\n  cursor: pointer;\n}\n.groupTd {\n  display: flex;\n  position: relative;\n}\n.groupTd:after {\n  position: relative;\n  content: '\\\\e86b';\n  font-family: 'sf-icons';\n}\n.groupTd.expanded:after {\n  content: '\\\\e876';\n}\n.td[class*='--mobile'] {\n  height: inherit;\n}\n.innerTd[class*='--mobile'] {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n.primary[class*='--mobile'] {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n.primary.selected[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\n.primary.multi[class*='--mobile'] {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: .9rem;\n  order: 3;\n}\n.primary.first[class*='--mobile']:after {\n  content: '\\\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n.primary.first.expanded[class*='--mobile']:after {\n  content: '\\\\e876';\n}\n.secondary[class*='--mobile'] {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n.secondary.expanded[class*='--mobile'] {\n  display: block;\n}\n.secondary.expanded.hiddenInMobile[class*='--mobile'] {\n  display: none;\n}\n.innerTd[field-label][class*='--mobile']:before,\n.detailField[field-label][class*='--mobile']:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n.td.lineNumber[class*='--mobile'] {\n  text-align: right;\n}\n.datatable[class*='--mobile'] {\n  padding: 0px;\n}\n.datatable[class*='--mobile'] .thead,\n.datatable[class*='--mobile'] sb-line-item-table-header,\n.datatable[class*='--mobile'] sb-segmented-line-item-table-header,\n.datatable[class*='--mobile'] .tfoot,\n.datatable[class*='--mobile'] .lineCheckbox {\n  display: none;\n}\n#selection[class*='--mobile'] {\n  position: absolute;\n}\n.selection[class*='--mobile'] {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n.tgroup[class*='--mobile'] {\n  box-sizing: border-box;\n}\n.datatable[class*='--mobile'] > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\nsb-option-cell[class*='--mobile'] {\n  width: 100%;\n}\nsb-option-cell.primary[class*='--mobile'] {\n  background-color: #FFF;\n}\nsb-option-cell.primary.selected[class*='--mobile'] {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\nsb-option-cell.primary.first[class*='--mobile']:not(.initial):after {\n  margin-top: -20px !important;\n}\nsb-option-cell.primary.first.initial[class*='--mobile']:after {\n  margin-top: 0px !important;\n}\nsb-option-cell.primary.first[class*='--mobile'] {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\nsb-option-cell.primary.first.expanded[class*='--mobile'] {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell[class*='--mobile']:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n#instructions-text[class*='--mobile'] {\n  font-style: normal;\n}\nsb-table-cell.primary.multi[class*='--mobile'],\nsb-table-cell.secondary[class*='--mobile']:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile0[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile1[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  color: var(--upgrade-option-color, inherit);\n}\nsb-cse-table-cell[class*='--mobile'] {\n  cursor: default;\n}\nsb-cse-table-cell.primary.first[class*='--mobile'] {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\nsb-cse-table-cell.secondary.lastInnerTd.expanded[class*='--mobile'] {\n  border-bottom: 1px solid #d8dde6;\n}\n.lookupItemTd[class*='--mobile'] {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n.selectedLookupItem[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\nsb-le-table-cell.expanded[class*='--mobile']:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .td {\n  height: inherit;\n}\n[class*='--mobile'] .innerTd {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .primary {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n[class*='--mobile'] .primary.selected {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] .primary.multi {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: .9rem;\n  order: 3;\n}\n[class*='--mobile'] .primary.first:after {\n  content: '\\\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n[class*='--mobile'] .primary.first.expanded:after {\n  content: '\\\\e876';\n}\n[class*='--mobile'] .secondary {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n[class*='--mobile'] .secondary.expanded {\n  display: block;\n}\n[class*='--mobile'] .secondary.expanded.hiddenInMobile {\n  display: none;\n}\n[class*='--mobile'] .innerTd[field-label]:before,\n[class*='--mobile'] .detailField[field-label]:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n[class*='--mobile'] .td.lineNumber {\n  text-align: right;\n}\n[class*='--mobile'] .datatable {\n  padding: 0px;\n}\n[class*='--mobile'] .datatable .thead,\n[class*='--mobile'] .datatable sb-line-item-table-header,\n[class*='--mobile'] .datatable sb-segmented-line-item-table-header,\n[class*='--mobile'] .datatable .tfoot,\n[class*='--mobile'] .datatable .lineCheckbox {\n  display: none;\n}\n[class*='--mobile'] #selection {\n  position: absolute;\n}\n[class*='--mobile'] .selection {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n[class*='--mobile'] .tgroup {\n  box-sizing: border-box;\n}\n[class*='--mobile'] .datatable > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\n[class*='--mobile'] sb-option-cell {\n  width: 100%;\n}\n[class*='--mobile'] sb-option-cell.primary {\n  background-color: #FFF;\n}\n[class*='--mobile'] sb-option-cell.primary.selected {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\n[class*='--mobile'] sb-option-cell.primary.first:not(.initial):after {\n  margin-top: -20px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first.initial:after {\n  margin-top: 0px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] sb-option-cell.primary.first.expanded {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] #instructions-text {\n  font-style: normal;\n}\n[class*='--mobile'] sb-table-cell.primary.multi,\n[class*='--mobile'] sb-table-cell.secondary:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-table-cell.primary.multi[class*='--mobile']:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] .--mobile1 sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  color: var(--upgrade-option-color, inherit);\n}\n[class*='--mobile'] sb-cse-table-cell {\n  cursor: default;\n}\n[class*='--mobile'] sb-cse-table-cell.primary.first {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\n[class*='--mobile'] sb-cse-table-cell.secondary.lastInnerTd.expanded {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .lookupItemTd {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n[class*='--mobile'] .selectedLookupItem {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] sb-le-table-cell.expanded:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"])||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(31);var o=n(19),r=n(41);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var f=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(c,t);var e,n,o,i=d(c);function c(){return a(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"_addEventListenerToNode",value:function(t,e,n){Object(r.a)(t,e,n)||l(h(c.prototype),"_addEventListenerToNode",this).call(this,t,e,n)}},{key:"_removeEventListenerFromNode",value:function(t,e,n){Object(r.d)(t,e,n)||l(h(c.prototype),"_removeEventListenerFromNode",this).call(this,t,e,n)}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(t)}))},function(t,e,n){"use strict";function o(t){var e=("string"==typeof t?t:t[0]).split("\n")[0].split(":");return e.length>1?e[0].startsWith("System")?[e.splice(1,e.length-1).join(":")]:[e.join(":")]:e}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l}));var o=new Map;function r(t,e){o.has(t)||o.set(t,new Set);var n=o.get(t);return n.add(e),function(){n.delete(e)}}function i(t,e){o.has(t)&&o.get(t).forEach((function(t){t(e)}))}var a=new Map;function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model";a.has(t)&&a.get(t)(),a.set(t,r(t[e],(function(n){t.notifyPath([e].concat(n).join("."))})))}function l(t,e,n){var o=e.length-1;e.slice(0,o).reduce((function(t,e){return t[e]}),t)[e[o]]=n,i(t,e)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u}));var o=n(39);function r(t,e){if(u(t,e)){var n=t.editorModel.data.additionalDiscountUnitOptions;return null!==t.lineVO.targetCustomerAmount&&void 0!==t.lineVO.targetCustomerAmount?{units:n,unit:"UnitOverride",displayValue:t.getLineVOProperty("targetCustomerAmount")}:null!==t.lineVO.targetCustomerTotal&&void 0!==t.lineVO.targetCustomerTotal?{units:n,unit:"TotalOverride",displayValue:t.getLineVOProperty("targetCustomerTotal")}:null!=t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)?{units:n,unit:"Amount",displayValue:t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)}:null!=t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)?{units:n,unit:"Percent",displayValue:t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)}:{units:n,unit:t.editorModel.data.defaultAdditionalDiscountUnit.replace(/ /g,""),displayValue:null}}var o=t.editorModel.data.markupUnitOptions;return null!=t.getField(t.constants.MARKUP_AMOUNT_FIELD)?{units:o,unit:"Amount",displayValue:t.getField(t.constants.MARKUP_AMOUNT_FIELD)}:null!=t.getField(t.constants.MARKUP_RATE_FIELD)?{units:o,unit:"Percent",displayValue:t.getField(t.constants.MARKUP_RATE_FIELD)}:{units:o,unit:t.editorModel.data.defaultMarkupUnit.replace(/ /g,""),displayValue:null}}function i(t,e){var n=r(t,e),o=n.units;n.unit,n.displayValue;if(t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)&&!o.some((function(t){return"Amount"===t.value}))){var i=t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)&&o.some((function(t){return"Percent"===t.value}))?"Percent":o[0].value;c(t,e,i)}}function a(t,e,n){var i=r(t,e),a=i.unit,l=i.displayValue,c=t.lineVO.record;u(t,e)?("Percent"===a?c[t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=n:"Amount"===a?c[t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=n:"UnitOverride"===a?t.lineVO.targetCustomerAmount=n:"TotalOverride"===a&&(t.lineVO.targetCustomerTotal=n),l=s(t)/(t.lineVO.amountDiscountProrated?c[t.constants.PRORATE_MULTIPLIER_FIELD]:1)):("Percent"===a?c[t.constants.MARKUP_RATE_FIELD]=n:"Amount"===a&&(c[t.constants.MARKUP_AMOUNT_FIELD]=n),l=c[t.constants.MARKUP_AMOUNT_FIELD]||(c[t.constants.UNIT_COST_FIELD]?c[t.constants.UNIT_COST_FIELD]*n/100:null)),Object(o.d)(t,["lineVO","record",t.constants.ADDITIONAL_DISCOUNT_FIELD],isNaN(l)?0:l)}function s(t){var e,n,o=t.getField(t.constants.REGULAR_PRICE_FIELD);return t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)?(e=o*(t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)/100),n=1):t.lineVO.targetCustomerAmount?(e=o-t.lineVO.targetCustomerAmount,n=1):t.lineVO.targetCustomerTotal?(e=o-t.lineVO.targetCustomerTotal/l(t),n=1):t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)?(e=t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD),n=t.lineVO.amountDiscountProrated?t.getField(t.constants.PRORATE_MULTIPLIER_FIELD):1):(e=0,n=1),e*n}function l(t){var e=t.lineVO.record,n=e[t.constants.QUANTITY_FIELD],o=e[t.constants.PRIOR_QUANTITY_FIELD],r=e[t.constants.EXISTING_FIELD]?n-o:n;return"Block"!=e[t.constants.PRICING_METHOD_FIELD]&&"Slab"!=e[t.constants.DISCOUNT_SCHEDULE_TYPE_FIELD]||!e[t.constants.EXISTING_FIELD]||null==o||n-o!=0?"Block"==e[t.constants.PRICING_METHOD_FIELD]||"Slab"==e[t.constants.DISCOUNT_SCHEDULE_TYPE_FIELD]?1:e[t.constants.EXISTING_FIELD]&&t.dynamicSubscription&&0!=e[t.constants.LIST_PRICE_FIELD]&&0==r?n:"Amendment"==t.groupModel.quoteModel.quoteVO.record[t.constants.TYPE_FIELD]&&!t.subscription&&r<0?0:r:0}function c(t,e,n){var o=r(t,e).displayValue;if(n){var i=t.lineVO.record,a=u(t,e)?function(){var e=i[t.constants.REGULAR_PRICE_FIELD],o=function(){i[t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=null,i[t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=null,(t.lineVO.targetCustomerAmount||0===t.lineVO.targetCustomerAmount)&&(t.lineVO.targetCustomerAmount=null),(t.lineVO.targetCustomerTotal||0===t.lineVO.targetCustomerTotal)&&(t.lineVO.targetCustomerTotal=null)};if(null!=e){var r=s(t);if(o(),"Percent"==n)return i[t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=r/e*100;if("Amount"==n){var a=t.lineVO.amountDiscountProrated?i[t.constants.PRORATE_MULTIPLIER_FIELD]:1;return i[t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=r/a}return"UnitOverride"==n?t.lineVO.targetCustomerAmount=e-r:"TotalOverride"==n?t.lineVO.targetCustomerTotal=(e-r)*l(t):void 0}o()}():function(){var e=i[t.constants.UNIT_COST_FIELD];if("Percent"===n){var o=i[t.constants.MARKUP_AMOUNT_FIELD];return null==o&&(o=0),i[t.constants.MARKUP_AMOUNT_FIELD]=null,i[t.constants.MARKUP_RATE_FIELD]=null!=e?o/e*100:null}var r=i[t.constants.MARKUP_RATE_FIELD];return null==r&&(r=0),i[t.constants.MARKUP_RATE_FIELD]=null,i[t.constants.MARKUP_AMOUNT_FIELD]=null!=e?e*(r/100):null}();return{unit:n,displayValue:isNaN(a)?isNaN(o)?null:o:a}}}function u(t,e){return e===t.constants.ADDITIONAL_DISCOUNT_FIELD}},function(t,e,n){"use strict";n.d(e,"a",(function(){return B})),n.d(e,"d",(function(){return M})),n.d(e,"c",(function(){return D})),n.d(e,"e",(function(){return A})),n.d(e,"b",(function(){return H}));n(31);var o=n(20),r=n(27),i=n(16),a=n(12),s="string"==typeof document.head.style.touchAction,l="__polymerGesturesHandled",c="__polymerGesturesTouchAction",u=["mousedown","mousemove","mouseup","click"],d=[0,1,4,2],p=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function h(t){return u.indexOf(t)>-1}var f=!1;function b(t){if(!h(t)&&"touchend"!==t)return s&&f&&i.i?{passive:!0}:void 0}!function(){try{var t=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();var y=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),g=[],v={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},m={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function _(t){var e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];try{var n=t.getRootNode();if(t.id)for(var o=n.querySelectorAll("label[for = '".concat(t.id,"']")),r=0;r<o.length;r++)e.push(o[r])}catch(t){}}return e}var w=function(t){var e,n=t.sourceCapabilities;if((!n||n.firesTouchEvents)&&(t[l]={skip:!0},"click"===t.type)){for(var o=!1,r=E(t),i=0;i<r.length;i++){if(r[i].nodeType===Node.ELEMENT_NODE)if("label"===r[i].localName)g.push(r[i]);else if(e=r[i],v[e.localName])for(var a=_(r[i]),s=0;s<a.length;s++)o=o||g.indexOf(a[s])>-1;if(r[i]===x.mouse.target)return}if(o)return;t.preventDefault(),t.stopPropagation()}};function O(t){for(var e,n=y?["click"]:u,o=0;o<n.length;o++)e=n[o],t?(g.length=0,document.addEventListener(e,w,!0)):document.removeEventListener(e,w,!0)}function k(t){var e=t.type;if(!h(e))return!1;if("mousemove"===e){var n=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!p&&(n=d[t.which]||0),Boolean(1&n)}return 0===(void 0===t.button?0:t.button)}var x={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function S(t,e,n){t.movefn=e,t.upfn=n,document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}function C(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}i.b&&document.addEventListener("touchend",(function(t){if(i.b){x.mouse.mouseIgnoreJob||O(!0);x.mouse.target=E(t)[0],x.mouse.mouseIgnoreJob=r.a.debounce(x.mouse.mouseIgnoreJob,o.d.after(2500),(function(){O(),x.mouse.target=null,x.mouse.mouseIgnoreJob=null}))}}),!!f&&{passive:!0});var E=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:function(t){return t.composedPath&&t.composedPath()||[]},P={},T=[];function I(t){var e=E(t);return e.length>0?e[0]:t.target}function j(t){var e,n=t.type,o=t.currentTarget.__polymerGestures;if(o){var r=o[n];if(r){if(!t[l]&&(t[l]={},"touch"===n.slice(0,5))){var i=(t=t).changedTouches[0];if("touchstart"===n&&1===t.touches.length&&(x.touch.id=i.identifier),x.touch.id!==i.identifier)return;s||"touchstart"!==n&&"touchmove"!==n||function(t){var e=t.changedTouches[0],n=t.type;if("touchstart"===n)x.touch.x=e.clientX,x.touch.y=e.clientY,x.touch.scrollDecided=!1;else if("touchmove"===n){if(x.touch.scrollDecided)return;x.touch.scrollDecided=!0;var o=function(t){for(var e,n="auto",o=E(t),r=0;r<o.length;r++)if((e=o[r])[c]){n=e[c];break}return n}(t),r=!1,i=Math.abs(x.touch.x-e.clientX),a=Math.abs(x.touch.y-e.clientY);t.cancelable&&("none"===o?r=!0:"pan-x"===o?r=a>i:"pan-y"===o&&(r=i>a)),r?t.preventDefault():L("track")}}(t)}if(!(e=t[l]).skip){for(var a,u=0;u<T.length;u++)r[(a=T[u]).name]&&!e[a.name]&&a.flow&&a.flow.start.indexOf(t.type)>-1&&a.reset&&a.reset();for(var d,p=0;p<T.length;p++)r[(d=T[p]).name]&&!e[d.name]&&(e[d.name]=!0,d[n](t))}}}}function B(t,e,n){return!!P[e]&&(function(t,e,n){var o=P[e],r=o.deps,i=o.name,a=t.__polymerGestures;a||(t.__polymerGestures=a={});for(var s,l,c=0;c<r.length;c++)s=r[c],y&&h(s)&&"click"!==s||((l=a[s])||(a[s]=l={_count:0}),0===l._count&&t.addEventListener(s,j,b(s)),l[i]=(l[i]||0)+1,l._count=(l._count||0)+1);t.addEventListener(e,n),o.touchAction&&A(t,o.touchAction)}(t,e,n),!0)}function M(t,e,n){return!!P[e]&&(function(t,e,n){var o=P[e],r=o.deps,i=o.name,a=t.__polymerGestures;if(a)for(var s,l,c=0;c<r.length;c++)s=r[c],(l=a[s])&&l[i]&&(l[i]=(l[i]||1)-1,l._count=(l._count||1)-1,0===l._count&&t.removeEventListener(s,j,b(s)));t.removeEventListener(e,n)}(t,e,n),!0)}function D(t){T.push(t);for(var e=0;e<t.emits.length;e++)P[t.emits[e]]=t}function A(t,e){s&&t instanceof HTMLElement&&o.c.run((function(){t.style.touchAction=e})),t[c]=e}function R(t,e,n){var o=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(o.detail=n,Object(a.a)(t).dispatchEvent(o),o.defaultPrevented){var r=n.preventer||n.sourceEvent;r&&r.preventDefault&&r.preventDefault()}}function L(t){var e=function(t){for(var e,n=0;n<T.length;n++){e=T[n];for(var o=0;o<e.emits.length;o++)if(e.emits[o]===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function q(t,e,n,o){e&&R(e,t,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:o,prevent:function(t){return L(t)}})}function F(t,e,n){if(t.prevent)return!1;if(t.started)return!0;var o=Math.abs(t.x-e),r=Math.abs(t.y-n);return o>=5||r>=5}function N(t,e,n){if(e){var o,r=t.moves[t.moves.length-2],i=t.moves[t.moves.length-1],a=i.x-t.x,s=i.y-t.y,l=0;r&&(o=i.x-r.x,l=i.y-r.y),R(e,"track",{state:t.state,x:n.clientX,y:n.clientY,dx:a,dy:s,ddx:o,ddy:l,sourceEvent:n,hover:function(){return function(t,e){for(var n=document.elementFromPoint(t,e),o=n;o&&o.shadowRoot&&!window.ShadyDOM;){if(o===(o=o.shadowRoot.elementFromPoint(t,e)))break;o&&(n=o)}return n}(n.clientX,n.clientY)}})}}function z(t,e,n){var o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y),i=I(n||e);!i||m[i.localName]&&i.hasAttribute("disabled")||(isNaN(o)||isNaN(r)||o<=25&&r<=25||function(t){if("click"===t.type){if(0===t.detail)return!0;var e=I(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;var n=e.getBoundingClientRect(),o=t.pageX,r=t.pageY;return!(o>=n.left&&o<=n.right&&r>=n.top&&r<=n.bottom)}return!1}(e))&&(t.prevent||R(i,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:n}))}D({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){C(this.info)},mousedown:function(t){if(k(t)){var e=I(t),n=this;S(this.info,(function(t){k(t)||(q("up",e,t),C(n.info))}),(function(t){k(t)&&q("up",e,t),C(n.info)})),q("down",e,t)}},touchstart:function(t){q("down",I(t),t.changedTouches[0],t)},touchend:function(t){q("up",I(t),t.changedTouches[0],t)}}),D({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,C(this.info)},mousedown:function(t){if(k(t)){var e=I(t),n=this,o=function(t){var o=t.clientX,r=t.clientY;F(n.info,o,r)&&(n.info.state=n.info.started?"mouseup"===t.type?"end":"track":"start","start"===n.info.state&&L("tap"),n.info.addMove({x:o,y:r}),k(t)||(n.info.state="end",C(n.info)),e&&N(n.info,e,t),n.info.started=!0)};S(this.info,o,(function(t){n.info.started&&o(t),C(n.info)})),this.info.x=t.clientX,this.info.y=t.clientY}},touchstart:function(t){var e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){var e=I(t),n=t.changedTouches[0],o=n.clientX,r=n.clientY;F(this.info,o,r)&&("start"===this.info.state&&L("tap"),this.info.addMove({x:o,y:r}),N(this.info,e,n),this.info.state="track",this.info.started=!0)},touchend:function(t){var e=I(t),n=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),N(this.info,e,n))}}),D({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(t){k(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click:function(t){k(t)&&z(this.info,t)},touchstart:function(t){var e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(t){z(this.info,t.changedTouches[0],t)}});var H=I},function(t,e,n){"use strict";function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return a}));var a=function(){function t(e,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.columns=e,this.firstLastClassSuffix=n,this.typeByColumnMap=o,this.allColumnClasses=r||[],this.useColumnsIndexAsKey=i||!1}var e,n,r;return e=t,(n=[{key:"build",value:function(){var t={};return this._appendTypeClass(t),this._appendFirstAndLastColumnClasses(t),this._appendAllColumnClasses(t),this._addWidthStyles(t),t}},{key:"_appendTypeClass",value:function(t){if(this.typeByColumnMap){var e,n=!1,r=0,i=o(this.columns);try{for(i.s();!(e=i.n()).done;){var a=e.value,s=this.typeByColumnMap[a],l=this._isNumericType(s),c=this._isBooleanType(s),u=this.useColumnsIndexAsKey?r++:a;l?this._appendClass(t,u,"numericCell"):c?this._appendClass(t,u,"checkboxCell"):n&&this._appendClass(t,u,"afterNumericCell"),n=l}}catch(t){i.e(t)}finally{i.f()}}}},{key:"_appendFirstAndLastColumnClasses",value:function(t){var e="firstInner"+this.firstLastClassSuffix,n="lastInner"+this.firstLastClassSuffix,o="secondInner"+this.firstLastClassSuffix;this._appendClass(t,this.useColumnsIndexAsKey?0:this.columns[0],e),this._appendClass(t,this.useColumnsIndexAsKey?this.columns.length-1:this.columns[this.columns.length-1],n),this.columns.length>1&&this._appendClass(t,this.useColumnsIndexAsKey?1:this.columns[1],o)}},{key:"_appendAllColumnClasses",value:function(t){var e,n=o(this.columns);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,a=o(this.allColumnClasses);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._appendClass(t,i,s)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}}},{key:"_addWidthStyles",value:function(t){var e,n=0,r=o(this.columns);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=this.typeByColumnMap[i].split(":");2===a.length&&this._setWidthStyle(t,this.useColumnsIndexAsKey?n:i,a[1]),n++}}catch(t){r.e(t)}finally{r.f()}}},{key:"_isNumericType",value:function(t){return"double"===(t=t.split(":")[0])||"number"===t||"currency"===t||"percent"===t}},{key:"_isBooleanType",value:function(t){return"boolean"===(t=t.split(":")[0])||"checkbox"===t}},{key:"_appendClass",value:function(t,e,n){t[e]||(t[e]={});var o=t[e].class;t[e].class=o?o+" "+n:n}},{key:"_setWidthStyle",value:function(t,e,n){t[e]||(t[e]={}),t[e].style="width:".concat(n,"px")}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return a}));var r={0:"",1:"[[",2:"{{"},i={0:"",1:"]]",2:"}}"},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.attributes=[],this.events=[]}var e,n,a;return e=t,(n=[{key:"addAttribute",value:function(t,e,n,o,r){this.attributes.push({name:t,binding:e,variable:n,value:o,equals:r||"="})}},{key:"addEvent",value:function(t,e,n){this.events.push({event:t,variable:e,handler:n})}},{key:"setInnerText",value:function(t,e,n){this.innerText={variable:t,binding:e,value:n}}},{key:"formattedValue",get:function(){return this._formattedValue},set:function(t){this._formattedValue=null!=t&&-1!==Object.keys(t).indexOf("label")?t:{value:t,label:t}}},{key:"defaultValue",get:function(){return this._defaultValue},set:function(t){this._defaultValue=t}},{key:"readOnlyKeyEvent",get:function(){return this._readOnlyKeyEvent||"keyup"},set:function(t){this._readOnlyKeyEvent=t}},{key:"readOnlyKeyDownEvent",get:function(){return this._readOnlyKeyDownEvent||"keydown"},set:function(t){this._readOnlyKeyDownEvent=t}},{key:"readOnlyBlurEvent",get:function(){return this._readOnlyBlurEvent||"blur"},set:function(t){this._readOnlyBlurEvent=t}},{key:"changeEvent",get:function(){return this._changeEvent||"change"},set:function(t){this._changeEvent=t}},{key:"numeric",get:function(){return!!this._numeric},set:function(t){this._numeric=t}},{key:"html",get:function(){return this._html}},{key:"attachTo",value:function(t,e,n,o,a,s,l){var c=this;this._html="<".concat(this.name),this.attributes.forEach((function(e){c._html+=" ".concat(e.name).concat(e.equals,'"').concat(r[e.binding]).concat(e.variable).concat(i[e.binding],'"'),t[e.variable]=e.value})),this.events.forEach((function(e){c._html+=" on-".concat(e.event,'="').concat(e.variable,'"'),t[e.variable]=e.handler})),e&&(this._html+=" on-".concat(this.readOnlyKeyEvent,'="').concat(e,'"')),n&&(this._html+=" on-".concat(this.readOnlyKeyDownEvent,'="').concat(n,'"')),o&&(this._html+=" on-".concat(this.readOnlyBlurEvent,'="').concat(o,'"')),a&&(this._html+=" on-".concat(this.changeEvent,'="').concat(a,'"')),s&&(this._html+=' hidden$="[['.concat(s,']]"')),l&&(this._html+=' focus-on-attached="true"'),this._html+=' apply-focus="[[applyFocus]]"',this._html+=">",this.innerText&&(this._html+="".concat(r[this.innerText.binding]).concat(this.innerText.variable).concat(i[this.innerText.binding]),t[this.innerText.variable]=this.innerText.value),this._html+="</".concat(this.name,">")}}])&&o(e.prototype,n),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(135),r=n(4),i=n(9),a=n(80),s=n(40),l=n(136);function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,u;return e=t,u=[{key:"formatFieldData",value:function(e,n,s,c){if(!s)return n;var u=s.type,d=new o.a(!1,s,r.a.i18n,u);switch(i.a.isDiscountField(s.name)&&(u="discount"),i.a.isMarkupField(s.name)&&(u="markup"),s&&"richtextarea"===s.extraTypeInfo&&(u="richtextarea"),u){case"double":return d.format(n,!1);case"currency":case"percent":return d.format(n,!0);case"discount":case"markup":return this.formatDiscountField(e,d);case"date":case"datetime":return r.a.i18n.format(n,{date:!0},r.a.user);case"time":return r.a.i18n.formatTime(n,r.a.user);case"reference":return t.formatReferenceField(s,c)||n;case"richtextarea":case"url":var p=a.a.sanitizeHtmlText(n);return null===p?"":p;case"string":if(s.calculatedFormula&&a.a.containsMarkup(n))return a.a.sanitizeHtmlText(n);break;case"picklist":case"multipicklist":return this.formatPicklistData(s,n);case"encryptedstring":if(!e.editorModel.data.settings.viewEncryptedDataEnabled)return Object(l.b)(n,s)}return n}},{key:"formatPicklistData",value:function(t,e){var n=this;if(t.picklistValues&&e){var o=[];return e.toString().split(";").forEach((function(e){var r=n.findPickListValue(t,e);r?o.push(r.label):o.push(e)})),o.join(";")}return e}},{key:"findPickListValue",value:function(t,e){var n=this,o=t.name;return this._pickListValuesMap||(this._pickListValuesMap={}),this._pickListValuesMap[o]||(this._pickListValuesMap[o]={},t.picklistValues.forEach((function(t){n._pickListValuesMap[o][t.value]=t}))),this._pickListValuesMap[o][e]}},{key:"formatDiscountField",value:function(t,e){Object(s.e)(t,e.metadata.name);var n=Object(s.b)(t,e.metadata.name),o=n.displayValue,r=n.units,i=n.unit;if(null!==o&&!isNaN(o)){var a=r.find((function(t){return t.value===i})),l=a?a.label:"",c=e.format(o);return"".concat(c," ").concat(l)}return""}},{key:"formatReferenceField",value:function(t,e){var n="";return e&&t.relationshipName&&e[t.relationshipName]&&(n=e[t.relationshipName].Name),n}},{key:"toApexDate",value:function(t){return t&&t instanceof Date?t.toISOString().replace(new RegExp("[Tt].*"),""):""}},{key:"toApexDateTime",value:function(t){if(t&&t instanceof Date){var e=t.toISOString();return e.slice(0,e.length-1)+"+0000"}return""}}],(n=null)&&c(e.prototype,n),u&&c(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";var o,r=n(2),i=n(4),a=n(63),s=n(32),l=n(1);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(b,t);var e,n,c,f=h(b);function b(){return u(this,b),f.apply(this,arguments)}return e=b,c=[{key:"is",get:function(){return"sb-service"}},{key:"properties",get:function(){return{reader:String,loader:String,saver:String,uid:String,model:Object,context:Object,mdType:String,mdItems:Array,sObject:String,soql:String,fileType:String,fileId:String,fileContentsField:String,cache:String,waiting:{type:Boolean,notify:!0},response:{type:Object,notify:!0},error:{type:Object,notify:!0},client:{type:Object,value:function(){return new a.a}},transient:{type:Boolean},background:{type:Boolean,value:!1},ignoreCache:{type:Boolean,value:!1},version:String}}},{key:"observers",get:function(){return["_readObserver(reader, uid)","_saveObserver(saver, model)","_loadObserver(loader, uid, context)","_mdObserver(mdType, mdItems)","_describe(sObject)","_query(soql)","_streamFileContentsObserver(uid, fileType, fileId, fileContentsField)","_spinnerObserver(waiting, background)"]}},{key:"template",get:function(){return Object(r.b)(o||(t=['\n\t\t<sb-loading-spinner show="[[spinner]]"/>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"prefix",get:function(){return i.a.org.prefix?i.a.org.prefix:""}},{key:"read",value:function(t){Object(l.e)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.read(this.prefix,this.reader,this.uid))}},{key:"load",value:function(t){Object(l.e)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.load(this.prefix,this.loader,this.uid,this.context))}},{key:"save",value:function(t){if(Object(l.e)(this,t),this.transient)return this._response(Promise.resolve(this.model));var e=this._returnCachedPromise(this.uid);return e||this._response(this.client.save(this.prefix,this.saver,this.model))}},{key:"md",value:function(t){Object(l.e)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.md(this.prefix,this.mdType,this.mdItems))}},{key:"describe",value:function(t){Object(l.e)(this,t);var e=this._returnPromiseIfCachedResponse(this.sObject);return e||this._response(this.client.describe(this.prefix,this.sObject),this.sObject)}},{key:"streamFileContents",value:function(t){Object(l.e)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.streamFileContents(this.fileType,this.fileId,this.fileContentsField))}},{key:"query",value:function(t){Object(l.e)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.query(this.soql,this.version))}},{key:"_readObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._read(t,e)}},{key:"_read",value:function(){this.read().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_loadObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._load(t,e,n)}},{key:"_load",value:function(){this.load().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_saveObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._save(t,e)}},{key:"_save",value:function(){this.save().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_mdObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._md(t,e)}},{key:"_md",value:function(){this.md().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_describe",value:function(){this.describe().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_query",value:function(){this.query().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_streamFileContentsObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this._streamFileContents(t,e,n,o)}},{key:"_streamFileContents",value:function(){this.streamFileContents().then((function(){}),(function(t){console.error(t.message||t)}))}},{key:"_spinnerObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._spinner(t,e)}},{key:"_spinner",value:function(){this.spinner=this.waiting&&!this.background}},{key:"_returnCachedPromise",value:function(t){var e=s.a.get(this.cache,t,"promise");return e?(e._services=e._services||[],-1===e._services.indexOf(this)&&e._services.push(this),e):this.transient?Promise.resolve(this.response):null}},{key:"_returnPromiseIfCachedResponse",value:function(t){if(!0===this.ignoreCache)return!1;t=t||this.uid;var e=s.a.get(this.cache,t);return e?(this.response=e,Promise.resolve(this.response)):this._returnCachedPromise(t)}},{key:"_response",value:function(t,e){return this.waiting=!0,s.a.add(this.cache,e||this.uid,t,"promise"),t.then(function(n){return null!=n&&(this.response=n,(t._services||[]).forEach(function(t){t.response=this.response}.bind(this)),s.a.add(this.cache,e||this.uid,this.response,"value",this)),s.a.remove(this.cache,e||this.uid,"promise"),this.waiting=!1,Promise.resolve(this.response)}.bind(this),function(n){return this.waiting=!1,n&&(this.error=this._createError(n),(t._services||[]).forEach(function(t){t.error=this.error}.bind(this))),s.a.remove(this.cache,e||this.uid,"promise"),Promise.reject(this.error)}.bind(this))}},{key:"createError",value:function(t){return this._createError(t)}},{key:"_createError",value:function(t){var e,n=t.message||t,o={message:n,errorCode:t.errorCode};if(n.indexOf&&-1!=n.indexOf("ValidationException: [")||n.startsWith&&n.startsWith("[")){var r=n.indexOf("["),i=n.indexOf("]",r)+1;i>r&&(e=n.substring(r,i))}if(e)try{var a=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r"),s=JSON.parse(a);o.validations=s}catch(t){}return o}}])&&d(e.prototype,n),c&&d(e,c),Object.defineProperty(e,"prototype",{writable:!1}),b}(r.a);customElements.define(y.is,y)},function(t,e,n){"use strict";var o,r=n(2),i=(n(18),n(25),n(5)),a=n(1),s=n(3);var l,c,u,d=Object(s.b)(o||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host #toastContainer {\n  z-index: var(--sbToastzIndex, 10000);\n  box-sizing: border-box;\n  width: 100%;\n  left: 0;\n  top: 0;\n  position: absolute;\n  text-align: center;\n  pointer-events: none;\n}\n:host .repeat {\n  animation: shake 1s;\n}\n@keyframes shake {\n  10%,\n  90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%,\n  80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%,\n  60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n:host .msgIcon {\n  margin-right: 12px;\n  vertical-align: middle;\n  font-size: var(--sbFontSizeDefault);\n  float: left;\n}\n:host .slds-notify_container {\n  position: relative;\n  text-align: center;\n}\n:host .slds-notify_container ::selection {\n  background: #faffbd;\n  text-shadow: none;\n  color: #fff;\n}\n:host .slds-notify--toast {\n  border-radius: 4px;\n  padding: 12px 24px;\n  display: inline-block;\n  text-align: left;\n  box-sizing: border-box;\n  min-width: var(--sbToastMinWidth, 480px);\n  margin: 8px 8px 0px 8px;\n  border-bottom: 1px solid #d8dde6;\n}\n:host .slds-notify--toast[class*='--mobile'] {\n  min-width: 0px;\n}\n:host [class*='--mobile'] .slds-notify--toast {\n  min-width: 0px;\n}\n:host .slds-button__icon {\n  color: #fff;\n  font-size: var(--sbFontSizeDefault);\n}\n:host .slds-notify__close {\n  float: right;\n}\n:host .slds-button--icon-inverse {\n  color: #fff;\n}\n:host .slds-button {\n  position: relative;\n  display: inline-block;\n  padding: 0;\n  width: 16px;\n  background: 0 0;\n  background-clip: padding-box;\n  border: 0;\n  color: #0070d2;\n  font-size: inherit;\n  text-decoration: none;\n  -webkit-appearance: none;\n  white-space: normal;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transition: color 50ms linear, background-color 50ms linear;\n  cursor: pointer;\n}\n:host .slds-grid {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: block;\n  position: relative;\n  align-items: center;\n  line-height: 21px;\n  margin-right: 24px;\n}\n:host .slds-notify {\n  color: #fff;\n  position: relative;\n  background: #54698d;\n  font-weight: 300;\n  pointer-events: auto;\n}\n:host .slds-notify > .notify__content > h2 {\n  padding-left: 26px;\n  display: block;\n  -webkit-margin-before: 0px;\n  -webkit-margin-after: 0px;\n  -webkit-margin-start: 0px;\n  -webkit-margin-end: 0px;\n  line-height: 21px;\n  font-weight: 300;\n  min-height: 21px;\n  -webkit-font-smoothing: auto;\n  font-size: var(--sbFontSizeDefault);\n  font-family: var(--sbPageFontFamily);\n}\n:host .slds-theme--error {\n  color: #fff;\n  background-color: #c23934;\n}\n:host .slds-theme--success {\n  color: #fff;\n  background-color: #04844b;\n}\n:host .slds-theme--warning {\n  background-color: #ffb75d;\n  color: #16325c;\n}\n:host .slds-theme--warning ::selection {\n  background: #faffbd;\n  text-shadow: none;\n  color: #16325c;\n}\n:host .slds-theme--warning .slds-button__icon {\n  fill: #54698d;\n}\n#toastContainer[class*='--mobile'] {\n  top: 9%;\n}\n.slds-notify--toast[class*='--mobile'] {\n  margin: 8px 0px 0px 0px;\n}\n[class*='--mobile'] #toastContainer {\n  top: 9%;\n}\n[class*='--mobile'] .slds-notify--toast {\n  margin: 8px 0px 0px 0px;\n}\n"],c||(c=l.slice(0)),o=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}}))));n(15);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=y(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_(t);if(e){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(s,t);var e,n,o,i=v(s);function s(){return h(this,s),i.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-toast"}},{key:"properties",get:function(){return{messages:{type:Array,notify:!0},messagesModel:Array,hasMessages:Boolean,type:String}}},{key:"observers",get:function(){return["validation(messages)"]}},{key:"template",get:function(){return Object(r.b)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<span device>\n\t\t<template is="dom-if" if="[[hasMessages]]">\n\t\t\t<div id="toastContainer">\n\t\t\t\t<template is="dom-repeat" items="{{messagesModel}}" as="messages">\n\t\t\t\t\t<div class="slds-notify_container">\n\t\t\t\t\t\t<div id$="[[messages.type]]_[[index]]" class$="slds-notify slds-notify--toast [[messages.class]]">\n\t\t\t\t\t\t\t<button class="slds-button slds-button--icon-inverse slds-notify__close" on-click="closeMessage">\n\t\t\t\t\t\t\t\t<i class="slds-button__icon sf-icon-close"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div class="notify__content slds-grid">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{messages.msgs}}" as="msg">\n\t\t\t\t\t\t\t\t\t<i class$="msgIcon [[messages.icon]]"></i>\n\t\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{msg}}" as="msgLine">\n\t\t\t\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t\t\t  {{msgLine}}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</template>\n\t\t</span>\n\t\t'])),d)}}],(n=[{key:"ready",value:function(){b(_(s.prototype),"ready",this).call(this),this.hasMessages=!1,this.messagesModel=[],this.repeatHandlers={}}},{key:"validation",value:function(){var t=this;if(!this.messages)return this.messagesModel=[],this.hasMessages=!1,void(this.repeatHandlers={});var e={type:"error",class:"slds-theme--error",msgs:[],icon:"sf-icon-error"},n={type:"success",class:"slds-theme--success",msgs:[],icon:"sf-icon-success"},o={type:"warning",class:"slds-theme--warning",msgs:[],icon:"sf-icon-warning"},r={type:"info",class:"",msgs:[],icon:"sf-icon-info"};if("object"===p(this.messages[0]))this.messages.forEach((function(i){var a=i.type,s=i.msg,l=t.decodeHTML(s).split("\n");"error"===a?e.msgs.push(l):"warning"===a?o.msgs.push(l):"success"===a?n.msgs.push(l):r.msgs.push(l)}));else if("string"==typeof this.messages[0]){var i=this.messages.map((function(e){return t.decodeHTML(e).split("\n")}));"error"===this.type?e.msgs=i:"success"===this.type?n.msgs=i:"warning"===this.type?o.msgs=i:r.msgs=i}this.messages&&this.messages.length>0?(this.hasMessages=!0,this.removeRepeatedMessages(e,"error"),e.msgs.length>0&&this.push("messagesModel",e),this.removeRepeatedMessages(n,"success"),n.msgs.length>0&&this.push("messagesModel",n),this.removeRepeatedMessages(n,"warning"),o.msgs.length>0&&this.push("messagesModel",o),this.removeRepeatedMessages(r,"info"),r.msgs.length>0&&this.push("messagesModel",r)):(this.hasMessages=!1,this.messages=void 0)}},{key:"decodeHTML",value:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}},{key:"removeRepeatedMessages",value:function(t,e){if(this.messagesModel)for(var n=0,o=this.messagesModel.length;n<o;n++){var r=this.messagesModel[n];if(e===r.type){var i=this.isMessageRepeated(r,t);i&&(t.msgs=[]),this.toggleRepeatClass(e,i,n)}}}},{key:"isMessageRepeated",value:function(t,e){for(var n=0,o=t.msgs.length;n<o;n++)for(var r=0,i=t.msgs[n].length;r<i;r++)if(void 0!==e.msgs[n]&&t.msgs[n][r]!==e.msgs[n][r])return!1;return!0}},{key:"toggleRepeatClass",value:function(t,e,n){this.removeAnimationListeners(t,n);var o=this.addAnimationListeners(t,n);Object(a.m)("repeat",e,o)}},{key:"removeAnimationListeners",value:function(t,e){var n=t+"_"+e,o=this.repeatHandlers[n];if(o){var r=this.shadowRoot.querySelector("#"+n);r&&(r.removeEventListener("animationend",o),r.removeEventListener("webkitAnimationEnd",o))}}},{key:"addAnimationListeners",value:function(t,e){var n=t+"_"+e,o=this.shadowRoot.querySelector("#"+n),r=this.repeatHandlers[n]||this.removeRepeatClass.bind(this,o);if(this.repeatHandlers[n]=r,o){var i=this.repeatHandlers[n]||this.removeRepeatClass.bind(this,o);this.repeatHandlers[n]=i,o.addEventListener("animationend",i),o.addEventListener("webkitAnimationEnd",i)}return o}},{key:"removeRepeatClass",value:function(t){Object(a.m)("repeat",!1,t)}},{key:"closeMessage",value:function(t){for(var e=t.model.messages.type,n=0,o=0;o<this.messagesModel.length;o++)this.messagesModel[o].type==e&&(delete this.repeatHandlers[e+"_"+n++],this.splice("messagesModel",o,1),o--);0==this.messagesModel.length&&(this.hasMessages=!1,this.messages=void 0)}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(i.a)(r.a));customElements.define(w.is,w)},function(t,e,n){"use strict";n(10);var o,r=n(3);var i,a,s=Object(r.a)(o||(i=["\n\t\t\t\t<dom-module id=\"sb-forms-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\ninput {\n  height: var(--sbTextboxHeight);\n  border-width: var(--sbTextboxBorderWidth);\n  border-color: var(--sbTextboxBorderColor);\n  border-style: var(--sbTextboxBorderStyle);\n  border-radius: var(--sbTextboxRadius);\n  padding-top: var(--sbTextboxPaddingTop);\n  padding-right: var(--sbTextboxPaddingRight);\n  padding-bottom: var(--sbTextboxPaddingBottom);\n  padding-left: var(--sbTextboxPaddingLeft);\n}\ninput:not(.leftSearch) {\n  background-color: var(--sbTextboxBgColor);\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline-color: var(--sbInputOutlineColor);\n  outline-width: var(--sbInputOutlineWidth);\n  font-family: inherit;\n  font-size: inherit;\n}\ninput:disabled,\nbutton:disabled,\nselect:disabled,\ntextarea:disabled {\n  opacity: 0.5;\n}\ninput[type=text][class*='--mobile'],\ninput[type=number][class*='--mobile'],\ninput[class*='--mobile']:not([type]) {\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\n[class*='--mobile'] input[type=text],\n[class*='--mobile'] input[type=number],\n[class*='--mobile'] input:not([type]) {\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\ninput[type=number].discount[class*='--mobile'],\ninput[type=text].discount[class*='--mobile'] {\n  width: 65%;\n}\n[class*='--mobile'] input[type=number].discount,\n[class*='--mobile'] input[type=text].discount {\n  width: 65%;\n}\nselect,\ninput[type=date],\ninput[type=datetime] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  padding-top: var(--sbSelectPaddingTop);\n  padding-right: var(--sbSelectPaddingRight);\n  padding-bottom: var(--sbSelectPaddingBottom);\n  padding-left: var(--sbSelectPaddingLeft);\n  background-color: var(--sbSelectBgColor);\n  background-repeat: no-repeat;\n  background-size: 14px 14px;\n  border-width: var(--sbSelectBorderWidth);\n  border-color: var(--sbSelectBorderColor);\n  border-style: var(--sbSelectBorderStyle);\n  border-radius: var(--sbSelectRadius);\n}\nselect[class*='--mobile'],\ninput[type=date][class*='--mobile'],\ninput[type=datetime][class*='--mobile'] {\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 30px 7px 14px;\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  background-color: #ffffff;\n}\n[class*='--mobile'] select,\n[class*='--mobile'] input[type=date],\n[class*='--mobile'] input[type=datetime] {\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 30px 7px 14px;\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  background-color: #ffffff;\n}\nselect:not([multiple]),\ninput[type=date],\ninput[type=datetime] {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3LjYgMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI3LjYgMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KICA8Zz4NCiAgICA8ZGVmcz4NCiAgICAgIDxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTUuNiA1aDE2LjRjMC40IDAgMC44IDAuNiAwLjQgMWwtOCA5LjhjLTAuMyAwLjMtMC45IDAuMy0xLjIgMGwtOC05LjhDNC44IDUuNiA1LjEgNSA1LjYgNXoiLz4NCiAgICA8L2RlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQogICAgICA8dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz4NCiAgICA8L2NsaXBQYXRoPg0KICAgIDxyZWN0IHg9IjAiIHk9IjAiIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiIGZpbGw9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K');\n  background-position: calc(100% - 10px) 50%;\n  height: var(--sbSelectHeight);\n}\nselect[class*='--mobile']:not([multiple]),\ninput[type=date][class*='--mobile'],\ninput[type=datetime][class*='--mobile'] {\n  height: 41px;\n}\n[class*='--mobile'] select:not([multiple]),\n[class*='--mobile'] input[type=date],\n[class*='--mobile'] input[type=datetime] {\n  height: 41px;\n}\nselect.discount[class*='--mobile'] {\n  width: 30%;\n  left: -20px;\n  position: relative;\n}\n[class*='--mobile'] select.discount {\n  width: 30%;\n  left: -20px;\n  position: relative;\n}\ntextarea[class*='--mobile'] {\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 66px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\n[class*='--mobile'] textarea {\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 66px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\ninput[type=date],\ninput[type=datetime] {\n  width: 152px;\n}\ninput[type=date][class*='--mobile'],\ninput[type=datetime][class*='--mobile'] {\n  width: 100%;\n}\n[class*='--mobile'] input[type=date],\n[class*='--mobile'] input[type=datetime] {\n  width: 100%;\n}\ninput[type=checkbox] {\n  width: var(--sbCheckboxSize);\n  height: var(--sbCheckboxSize);\n}\npaper-checkbox {\n  --paper-checkbox-size: var(--sbCheckboxSize);\n  --paper-checkbox-unchecked-background-color: var(--sbCheckboxBgColorUnchecked);\n  --paper-checkbox-checked-color: var(--sbCheckboxBgColorChecked);\n  --paper-checkbox-checkmark-color: var(--sbCheckboxColor);\n  --paper-checkbox-checked-ink-color: transparent;\n  --paper-checkbox-unchecked-ink-color: transparent;\n  width: var(--sbCheckboxSize);\n  --paper-checkbox-border-radius: var(--sbCheckboxBorderRadius);\n  --paper-checkbox-border-width: var(--sbCheckboxBorderWidth);\n  --paper-checkbox-border-color: var(--sbCheckboxBorderColor);\n  --paper-checkbox-border-style: var(--sbCheckboxBorderStyle);\n  --paper-checkbox-unchecked-color: #808080;\n}\npaper-checkbox::shadow #ink {\n  height: var(--sbCheckboxSize);\n}\npaper-checkbox[disabled] {\n  --paper-checkbox-disabled-background-color: #d8dde6;\n  --paper-checkbox-disabled-opacity: 0.2;\n  --paper-checkbox-checkmark-disabled-border-color: #808080;\n}\npaper-radio-button {\n  --paper-radio-button-checked-color: var(--sbRadioButtonCheckedColor);\n  --paper-radio-button-unchecked-color: var(--sbRadioButtonUncheckedColor);\n  --paper-radio-button-unchecked-ink-color: transparent;\n  --paper-radio-button-checked-ink-color: transparent;\n  -webkit-tap-highlight-color: transparent;\n  width: var(--sbCheckboxSize);\n}\npaper-radio-button.hide,\npaper-checkbox.hide {\n  display: none;\n}\npaper-radio-button.invisible,\npaper-checkbox.invisible {\n  visibility: hidden;\n}\npaper-radio-button[disabled] {\n  --paper-radio-button-unchecked-background-color: #d8dde6;\n}\npaper-radio-button[disabled]::shadow #offRadio {\n  background-color: #d8dde6;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n(19),r=n(94);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=d(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(s,t);var e,n,o,i=h(s);function s(){return l(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"observeNode",value:function(t,e){this._nodeObservers=this._nodeObservers||[],this._nodeObservers.push(new r.a(t,e))}},{key:"disconnectedCallback",value:function(){if(u(b(s.prototype),"disconnectedCallback",this)&&u(b(s.prototype),"disconnectedCallback",this).call(this),this._nodeObservers){var t,e=a(this._nodeObservers);try{for(e.s();!(t=e.n()).done;)t.value.disconnect()}catch(t){e.e(t)}finally{e.f()}this._nodeObservers=[]}}}])&&c(e.prototype,n),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(t)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(19);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(c,t);var e,n,o,r=l(c);function c(){return i(this,c),r.apply(this,arguments)}return e=c,o=[{key:"properties",get:function(){return{variant:{type:String,value:""},applyFocus:{type:Boolean,observer:"_applyFocus"}}}}],(n=[{key:"_applyFocus",value:function(){this.applyFocus&&this.focus()}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(t)}))},function(t,e,n){"use strict";var o=n(2),r=n(6);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(c,t);var e,n,o,i=d(c);function c(){return a(this,c),i.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-loading-spinner"}},{key:"properties",get:function(){return{show:{type:Boolean,value:!1,observer:"toggle"},isReady:{type:Boolean,value:!1},previousState:{type:Boolean,value:!1}}}}],(n=[{key:"ready",value:function(){l(h(c.prototype),"ready",this).call(this),this.isReady=!0}},{key:"disconnectedCallback",value:function(){l(h(c.prototype),"disconnectedCallback",this).call(this),!1!==this.previousState&&r.a.toggleSpinner(!1)}},{key:"toggle",value:function(t){!0!==this.isReady&&!1===t||t!==this.previousState&&(r.a.toggleSpinner(t),this.previousState=t)}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.a);customElements.define(f.is,f)},function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return d}));var o=n(4),r=n(1),i=n(7),a=n(118);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){var r=function(t,e){if(!t.fields||!t.fields.hasOwnProperty(e))throw new Error("Field does not exist in metadata.");return t.fields[e]}(function(t,e){if(!t.hasOwnProperty(e))throw new Error("Metadata type does not exist.");return t[e]}(a.a,t),e);!function(t,e){var n=t.type;if(n&&s(e)!==n)throw new Error("Given type does not match field metadata.")}(r,n),function(t,e){if(t.required&&(null==e||""===e))throw new Error("Field is required to have a value set.")}(r,n);var l=r.localizable?Object(o.b)(n):n;i.d(t,[e],l)}function c(t,e){i.d(t,[e],null)}function u(t,e){return new Promise((function(n){var o=i.c(t,e,(function(t){setTimeout((function(){o()})),n(t)}))}))}function d(t){for(var e in t)i.d(e,[],Object(r.g)(i.b(e,[]),t[e]))}},function(t,e,n){"use strict";var o,r=n(2),i=(n(18),n(26),n(5)),a=n(48),s=(n(13),n(15),n(3));var l,c,u,d=Object(s.b)(o||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  font-family: var(--sbDialogFontFamily);\n}\n:host .sbModalMask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--sbDialogMaskColor);\n  opacity: 0.8;\n  z-index: 10000;\n}\n:host .noMarginBottom {\n  margin-bottom: 0;\n}\n:host paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\n:host paper-button.hidden {\n  display: none;\n}\n:host paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\n:host paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n:host paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\n:host paper-button[class*='--mobile'] {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n:host [class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n:host .sbDialog {\n  max-height: var(--sbDialogMaxHeight, 600px);\n  min-width: var(--sbDialogMinWidth, 500px);\n  left: var(--sbDialogContainerLeft, 50%);\n  right: var(--sbDialogContainerRight);\n  top: var(--sbDialogContainerTop, 20%);\n  width: var(--sbDialogContainerWidth);\n  height: var(--sbDialogContainerHeight);\n  transform: var(--sbDialogContainerTransform, translateX(-50%));\n  z-index: var(--sbDialogContainerzIndex, 10001);\n  display: var(--sbDialogContainerDisplay);\n  overflow: var(--sbDialogContainerOverflow);\n  flex-direction: var(--sbDialogContainerFlexDirection);\n  background-color: var(--sbDialogBgColor);\n  border-radius: var(--sbDialogBorderRadius);\n  position: fixed;\n  margin: 0 auto;\n  color: var(--sbFontColor);\n  box-shadow: none;\n  font-family: var(--sbDialogFontFamily);\n  -webkit-font-smoothing: auto;\n}\n:host .sbDialog.boxShadow {\n  box-shadow: 0 0 0 15px #D1D4D8;\n}\n:host .sbDialog.largeView {\n  width: 100%;\n  height: 100%;\n  top: 0;\n}\n:host .sbDialog > header {\n  border-bottom-width: var(--sbDialogHeaderBorderWidth);\n  border-bottom-style: var(--sbDialogHeaderBorderStyle);\n  border-bottom-color: var(--sbDialogHeaderBorderColor);\n  padding-top: var(--sbDialogHeaderPaddingTop);\n  padding-right: var(--sbDialogHeaderPaddingRight);\n  padding-bottom: var(--sbDialogHeaderPaddingBottom);\n  padding-left: var(--sbDialogHeaderPaddingLeft);\n  text-align: center;\n  margin-top: 0px !important;\n}\n:host .sbDialog > header[class*='--desktop'] {\n  background-color: var(--sbDialogHeaderBackgroundColor);\n}\n:host [class*='--desktop'] .sbDialog > header {\n  background-color: var(--sbDialogHeaderBackgroundColor);\n}\n:host .sbDialog > header > .sf-icon-close {\n  font-size: var(--sbIcon30);\n  position: absolute;\n  top: -50px;\n  right: 0px;\n}\n:host .sbDialog > header > .sf-icon-close:hover {\n  cursor: pointer;\n}\n:host .sbDialog > header > .sf-icon-close:before {\n  color: var(--sbDialogCloseColor);\n}\n:host .sbDialog > #content {\n  overflow: var(--sbDialogContentOverflow, auto);\n  overflow-x: var(--sbDialogContentOverflowX, auto);\n  max-height: var(--sbDialogContentHeight, 400px);\n  height: var(--sbDialogContentHeight);\n  padding: var(--sbDialogContentPadding, 24px);\n  margin-bottom: var(--sbDialogContentMarginBottom, 60px);\n  text-align: var(--sbDialogContentTextAlign);\n}\n:host .sbDialog > #content > iframe {\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n}\n:host .sbDialog > footer {\n  padding: 12px 16px;\n  border-top-width: var(--sbDialogFooterBorderWidth);\n  border-top-style: var(--sbDialogFooterBorderStyle);\n  border-top-color: var(--sbDialogFooterBorderColor);\n  border-bottom-left-radius: var(--sbDialogBorderRadius);\n  border-bottom-right-radius: var(--sbDialogBorderRadius);\n  background-color: var(--sbDialogFooterColor);\n  display: var(--sbDialogFooterDisplay, inline-table);\n  margin-bottom: 0px !important;\n  width: 100%;\n  box-sizing: border-box;\n  margin-top: 0px;\n  position: fixed;\n  bottom: 0;\n}\n:host .sbDialog > footer.is-ie {\n  position: absolute;\n}\n:host .sbDialog[class*='--mobile'] {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0;\n  max-height: 100%;\n  min-width: 100%;\n}\n:host .sbDialog > #content[class*='--mobile'] {\n  padding: 0px;\n}\n:host .sbDialog header[class*='--mobile'] {\n  font-size: 24px;\n  padding: 20px 0 16px 0;\n}\n:host .sbDialog header[class*='--mobile'] .cancel {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n:host .sbDialog header[class*='--mobile'] #drop-down-button {\n  padding: 12px;\n  margin: 0 10px 0 0;\n}\n:host .sbDialog header[class*='--mobile'] .single-button {\n  display: inline-block;\n  float: right;\n  margin: 0 10px 0 0;\n}\n:host .sbDialog header[class*='--mobile'] .drop-down-menu {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 1000;\n  display: none;\n  width: 100px;\n  top: 58px;\n  right: 10px;\n}\n:host .sbDialog header[class*='--mobile'] .drop-down-menu ::slotted(paper-button) {\n  width: 100% !important;\n  background-color: white !important;\n  color: #0070D2 !important;\n  white-space: nowrap !important;\n  display: block !important;\n  text-align: left !important;\n  border: 0 !important;\n  padding: 10px !important;\n  margin-right: 0 !important;\n}\n:host .sbDialog header[class*='--mobile'] .drop-down-menu.open {\n  display: block;\n}\n:host .sbDialog footer[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .sbDialog {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0;\n  max-height: 100%;\n  min-width: 100%;\n}\n:host [class*='--mobile'] .sbDialog > #content {\n  padding: 0px;\n}\n:host [class*='--mobile'] .sbDialog header {\n  font-size: 24px;\n  padding: 20px 0 16px 0;\n}\n:host [class*='--mobile'] .sbDialog header .cancel {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n:host [class*='--mobile'] .sbDialog header #drop-down-button {\n  padding: 12px;\n  margin: 0 10px 0 0;\n}\n:host [class*='--mobile'] .sbDialog header .single-button {\n  display: inline-block;\n  float: right;\n  margin: 0 10px 0 0;\n}\n:host [class*='--mobile'] .sbDialog header .drop-down-menu {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 1000;\n  display: none;\n  width: 100px;\n  top: 58px;\n  right: 10px;\n}\n:host [class*='--mobile'] .sbDialog header .drop-down-menu ::slotted(paper-button) {\n  width: 100% !important;\n  background-color: white !important;\n  color: #0070D2 !important;\n  white-space: nowrap !important;\n  display: block !important;\n  text-align: left !important;\n  border: 0 !important;\n  padding: 10px !important;\n  margin-right: 0 !important;\n}\n:host [class*='--mobile'] .sbDialog header .drop-down-menu.open {\n  display: block;\n}\n:host [class*='--mobile'] .sbDialog footer {\n  display: none;\n}\n:host .slotWrapper[class*='--desktop'] {\n  display: inline-block;\n}\n:host [class*='--desktop'] .slotWrapper {\n  display: inline-block;\n}\n"],c||(c=l.slice(0)),o=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}})))),p=n(1),h=n(4),f=n(6),b=n(0);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=_(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=x(t);if(e){var r=x(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return k(this,n)}}function k(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(a,t);var e,n,o,i=O(a);function a(){return g(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-dialog"}},{key:"properties",get:function(){return{show:{type:Boolean,value:!1},modal:{type:Boolean,value:!1},hideHeader:{type:Boolean,observer:"_hideHeader"},appendedClass:{type:String},cancelText:{Type:String,value:"Cancel"},closeDialog:{type:String,value:"sb-close-dialog"},hideCloseIcon:{type:Boolean,value:!1},hideCancelButton:{type:Boolean,value:!1},mobile:{type:Boolean,value:function(){if(f.a.getViewport())return!!f.a.getViewport().isMobile()}},mobileDropDown:{type:Boolean,value:!1},tapDialog:String,ignoreMaskTap:{type:Boolean,value:!1},largeViewEnabled:Boolean}}},{key:"template",get:function(){return Object(r.b)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div device hidden$="[[!show]]">\n\t\t\t<div class="sbModalMask" hidden$="[[!modal]]" on-click="maskTapped"></div>\n\t\t\t<div id="sbDialog" class="sbDialog" on-click="_clickEvent">\n\t\t\t\t<header id="header" hidden$="[[largeViewEnabled]]">\n\t\t\t\t\t<template is="dom-if" if="[[!mobile]]">\n\t\t\t\t\t\t<i hidden$="[[hideCloseIcon]]" class="sf-icon-close" on-click="onCloseDialog"></i>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[mobile]]">\n\t\t\t\t\t\t<paper-button class="cancel" on-click="onCloseDialog" noink>[[getCancelText(cancelText)]]</paper-button>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<template is="dom-if" if="[[mobile]]">\n\t\t\t\t\t\t<paper-button id="drop-down-button" class="sf-icon-down hidden" on-click="toggleMenu"></paper-button>\n\t\t\t\t\t\t<div id="mobileButtons">\n\t\t\t\t\t\t\t<slot name="paper-button"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div id="icon" class="slotWrapper"><slot name="icon"></slot></div>\n\t\t\t\t\t<div id="title" class="slotWrapper"><slot name="title"></slot></div>\n\t\t\t\t</header>\n\t\t\t\t<div id="content">\n\t\t\t\t\t<slot name="content"></slot>\n\t\t\t\t</div>\n\t\t\t\t<footer id="footer">\n\t\t\t\t\t<template is="dom-if" if="[[!mobile]]">\n\t\t\t\t\t\t<slot name="paper-button"></slot>\n\t\t\t\t\t\t<div hidden$="[[hideCancelButton]]"><paper-button on-click="onCloseDialog" noink>[[getCancelText(cancelText)]]</paper-button></div>\n\t\t\t\t\t</template>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),d)}}],(n=[{key:"ready",value:function(){var t=this;m(x(a.prototype),"ready",this).call(this),this.addEventListener("datepicker-opened",this._datePickerOpened.bind(this)),this.appendedClass&&this.$.sbDialog.classList.add(this.appendedClass),this.mobile&&(this._appendMobileClasses(),this.observeNode(this,(function(){var e=t.querySelectorAll("paper-button");if(0===e.length)Object(p.m)("no-buttons",!0,t.$.title);else{t.mobileDropDown=e.length>1;var n=t.shadowRoot.querySelector("#mobileButtons"),o=t.shadowRoot.querySelector("#drop-down-button");Object(p.m)("no-buttons",!1,t.$.title),Object(p.m)("drop-down-menu",t.mobileDropDown,n),Object(p.m)("single-button",!t.mobileDropDown,n),Object(p.m)("hidden",!t.mobileDropDown,o)}}))),Object(p.m)("is-ie",h.a.isIE(),this.$.footer)}},{key:"_appendMobileClasses",value:function(){Object(p.m)("mobile",!0,this.$.sbDialog);for(var t=this.shadowRoot.children,e=t.length,n=0;n<e;n++)Object(p.m)("mobile",!0,t[n])}},{key:"toggle",value:function(){this.show=!this.show}},{key:"open",value:function(){this.show=!0}},{key:"close",value:function(){this.show=!1}},{key:"toggleMenu",value:function(){var t=this.shadowRoot.querySelector(".drop-down-menu");t&&t.classList.contains("open")?Object(p.m)("open",!1,t):Object(p.m)("open",!0,t)}},{key:"onCloseDialog",value:function(){Object(b.c)(b.a.PANEL_CLOSED),this.dispatchEvent(Object(b.d)(this.closeDialog))}},{key:"maskTapped",value:function(){this.ignoreMaskTap||this.onCloseDialog()}},{key:"_clickEvent",value:function(){this.tapDialog&&this.dispatchEvent(Object(b.d)(this.tapDialog))}},{key:"getCancelText",value:function(t){return Object(h.b)(t)}},{key:"_datePickerOpened",value:function(t){var e=t.detail.dateContainer,n=t.detail.datepicker,o=this.$.content;n.style.position="fixed";var r=e.getBoundingClientRect(),i=o.getBoundingClientRect();n.style.left=r.left-i.left+"px",n.style.top=r.top+r.height-this.$.header.getBoundingClientRect().top+1+"px"}},{key:"_hideHeader",value:function(){this.$.header.setAttribute("hidden","true")}}])&&v(e.prototype,n),o&&v(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(a.a)(Object(i.a)(r.a)));customElements.define(S.is,S)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(4);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sessionId=e,this.version=n||this._getApiVersion(),this.connectionOptions=o||{}}var e,n,s;return e=t,(n=[{key:"getConnection",value:function(){var t=new jsforce.Connection(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({sessionId:this.sessionId,version:this.version,instanceUrl:o.a.user.inCommunity?o.a.org.orgUrl:o.a.org.orgInstanceUrl},this.connectionOptions));return t.oik=o.a.user.oik,t}},{key:"_getApiVersion",value:function(){if("undefined"!=typeof SB&&SB&&void 0!==SB.Constants&&SB.Constants&&void 0!==SB.Constants.apiVersion&&SB.Constants.apiVersion)return SB.Constants.apiVersion;throw new Error("Unable to process request: Could not determine API version")}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l=n(133);function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=e}var e,n,o;return e=t,(n=[{key:"getConnection",value:function(t){return"undefined"!=typeof Visualforce?Promise.resolve(this.getRemoteConnection(null,t)):(new l.a).getConnection()}},{key:"getRemoteConnection",value:function(t,e){return new s(window.sb.vfSessionId,t,e).getConnection()}}])&&c(e.prototype,n),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return ye}));var o,r=n(2),i=n(6),a=n(0),s=n(5),l=n(17),c=n(1),u=(n(13),n(15),n(3));var d,p,h,f=Object(u.b)(o||(d=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background: var(--sbPageHeaderBgColor);\n  width: 100%;\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host .sticker {\n  background-color: #5876a3;\n  height: 25px;\n  width: 350px;\n  margin-bottom: 10px;\n  margin-top: -10px;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border-width: 5px;\n  border-radius: 5px;\n  text-align: center;\n  padding-top: 3px;\n  display: none;\n}\n:host .eptLabel,\n:host .bptLabel,\n:host .sptLabel {\n  color: white;\n  padding: 5px 5px 5px 5px;\n  font-size: var(--sbTableRowFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n  display: inline;\n}\n.header {\n  min-height: var(--sbPageHeaderMinHeight);\n  padding-top: var(--sbPageHeaderPaddingTop);\n  padding-right: var(--sbPageHeaderPaddingRight);\n  padding-bottom: var(--sbPageHeaderPaddingBottom);\n  padding-left: var(--sbPageHeaderPaddingLeft);\n}\n.header[class*='--mobile'] {\n  z-index: 2;\n}\n[class*='--mobile'] .header {\n  z-index: 2;\n}\n.header [hidden] {\n  display: none !important;\n}\n.header[class*='--mobile'] {\n  background-color: transparent;\n}\n[class*='--mobile'] .header {\n  background-color: transparent;\n}\n.header .centered {\n  margin-top: 7px;\n}\n#icon {\n  padding-top: 6px;\n}\n.titles {\n  padding-top: 3px;\n  line-height: 1.25;\n}\n#full-title {\n  display: none;\n}\n#full-title[class*='--mobile'] {\n  display: block;\n  position: absolute;\n  white-space: nowrap;\n}\n[class*='--mobile'] #full-title {\n  display: block;\n  position: absolute;\n  white-space: nowrap;\n}\n#buttons[class*='--mobile'] {\n  z-index: 99999 !important;\n}\n[class*='--mobile'] #buttons {\n  z-index: 99999 !important;\n}\n#buttons.normal {\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n}\n#buttons:not(.normal) {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 100;\n  display: none;\n}\n#buttons:not(.normal).open {\n  display: block;\n}\n#buttons:not(.normal).autoLaunch {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n}\n#searchbar {\n  position: relative;\n  text-align: right;\n}\n#searchbar[class*='--mobile'] {\n  left: 18px;\n  position: absolute;\n  top: 70px;\n  width: calc(96% - 48px);\n}\n[class*='--mobile'] #searchbar {\n  left: 18px;\n  position: absolute;\n  top: 70px;\n  width: calc(96% - 48px);\n}\n#menuButton > .sf-icon-down {\n  margin: -10px;\n  font-size: var(--sbIcon16);\n}\n#menuButton:active {\n  background-color: #f0f2f5;\n  color: #005FB2;\n}\n#fullScreenMode {\n  margin: 7px 0 0 10px;\n}\n"],p||(p=d.slice(0)),o=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(p)}}))));n(98),n(26),n(10),n(111),n(160),n(162);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var b=Object(u.a)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  <style css-build=\"shadow\">html {\n  --paper-font-common-base_-_font-family:  'Roboto', 'Noto', sans-serif;\n--paper-font-common-base_-_-webkit-font-smoothing:  antialiased;;\n\n      --paper-font-common-code_-_font-family:  'Roboto Mono', 'Consolas', 'Menlo', monospace;\n--paper-font-common-code_-_-webkit-font-smoothing:  antialiased;;\n\n      --paper-font-common-expensive-kerning_-_text-rendering:  optimizeLegibility;;\n\n      --paper-font-common-nowrap_-_white-space:  nowrap;\n--paper-font-common-nowrap_-_overflow:  hidden;\n--paper-font-common-nowrap_-_text-overflow:  ellipsis;;\n\n      \n\n      --paper-font-display4_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display4_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display4_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-display4_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-display4_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-display4_-_font-size:  112px;\n--paper-font-display4_-_font-weight:  300;\n--paper-font-display4_-_letter-spacing:  -.044em;\n--paper-font-display4_-_line-height:  120px;;\n\n      --paper-font-display3_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display3_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display3_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-display3_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-display3_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-display3_-_font-size:  56px;\n--paper-font-display3_-_font-weight:  400;\n--paper-font-display3_-_letter-spacing:  -.026em;\n--paper-font-display3_-_line-height:  60px;;\n\n      --paper-font-display2_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display2_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display2_-_font-size:  45px;\n--paper-font-display2_-_font-weight:  400;\n--paper-font-display2_-_letter-spacing:  -.018em;\n--paper-font-display2_-_line-height:  48px;;\n\n      --paper-font-display1_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display1_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display1_-_font-size:  34px;\n--paper-font-display1_-_font-weight:  400;\n--paper-font-display1_-_letter-spacing:  -.01em;\n--paper-font-display1_-_line-height:  40px;;\n\n      --paper-font-headline_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-headline_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-headline_-_font-size:  24px;\n--paper-font-headline_-_font-weight:  400;\n--paper-font-headline_-_letter-spacing:  -.012em;\n--paper-font-headline_-_line-height:  32px;;\n\n      --paper-font-title_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-title_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-title_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-title_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-title_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-title_-_font-size:  20px;\n--paper-font-title_-_font-weight:  500;\n--paper-font-title_-_line-height:  28px;;\n\n      --paper-font-subhead_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-subhead_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-subhead_-_font-size:  16px;\n--paper-font-subhead_-_font-weight:  400;\n--paper-font-subhead_-_line-height:  24px;;\n\n      --paper-font-body2_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-body2_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-body2_-_font-size:  14px;\n--paper-font-body2_-_font-weight:  500;\n--paper-font-body2_-_line-height:  24px;;\n\n      --paper-font-body1_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-body1_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-body1_-_font-size:  14px;\n--paper-font-body1_-_font-weight:  400;\n--paper-font-body1_-_line-height:  20px;;\n\n      --paper-font-caption_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-caption_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-caption_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-caption_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-caption_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-caption_-_font-size:  12px;\n--paper-font-caption_-_font-weight:  400;\n--paper-font-caption_-_letter-spacing:  0.011em;\n--paper-font-caption_-_line-height:  20px;;\n\n      --paper-font-menu_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-menu_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-menu_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-menu_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-menu_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-menu_-_font-size:  13px;\n--paper-font-menu_-_font-weight:  500;\n--paper-font-menu_-_line-height:  24px;;\n\n      --paper-font-button_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-button_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-button_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-button_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-button_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-button_-_font-size:  14px;\n--paper-font-button_-_font-weight:  500;\n--paper-font-button_-_letter-spacing:  0.018em;\n--paper-font-button_-_line-height:  24px;\n--paper-font-button_-_text-transform:  uppercase;;\n\n      --paper-font-code2_-_font-family:  var(--paper-font-common-code_-_font-family);\n--paper-font-code2_-_-webkit-font-smoothing:  var(--paper-font-common-code_-_-webkit-font-smoothing);\n--paper-font-code2_-_font-size:  14px;\n--paper-font-code2_-_font-weight:  700;\n--paper-font-code2_-_line-height:  20px;;\n\n      --paper-font-code1_-_font-family:  var(--paper-font-common-code_-_font-family);\n--paper-font-code1_-_-webkit-font-smoothing:  var(--paper-font-common-code_-_-webkit-font-smoothing);\n--paper-font-code1_-_font-size:  14px;\n--paper-font-code1_-_font-weight:  500;\n--paper-font-code1_-_line-height:  20px;;\n}\n\n</style>\n"])));b.setAttribute("style","display: none;"),document.head.appendChild(b.content);n(159);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var y=document.createElement("template");y.setAttribute("style","display: none;"),y.innerHTML='<dom-module id="paper-dialog-shared-styles">\n  <template>\n    <style scope="paper-dialog-shared-styles">:host {\n  display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        font-family: var(--paper-font-body1_-_font-family);\n -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n font-size: var(--paper-font-body1_-_font-size);\n font-weight: var(--paper-font-body1_-_font-weight);\n line-height: var(--paper-font-body1_-_line-height);\n        box-shadow: var(--shadow-elevation-16dp_-_box-shadow);\n        ;\n}\n\n:host > ::slotted(*) {\n  margin-top: 20px;\n        padding: 0 24px;\n}\n\n:host > ::slotted(.no-padding) {\n  padding: 0;\n}\n\n:host > ::slotted(*:first-child) {\n  margin-top: 24px;\n}\n\n:host > ::slotted(*:last-child) {\n  margin-bottom: 24px;\n}\n\n:host > ::slotted(h2) {\n  position: relative;\n        margin: 0;\n\n        font-family: var(--paper-font-title_-_font-family);\n -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n white-space: var(--paper-font-title_-_white-space);\n overflow: var(--paper-font-title_-_overflow);\n text-overflow: var(--paper-font-title_-_text-overflow);\n font-size: var(--paper-font-title_-_font-size);\n font-weight: var(--paper-font-title_-_font-weight);\n line-height: var(--paper-font-title_-_line-height);\n        ;\n}\n\n:host > ::slotted(h2:first-child) {\n  margin-top: 24px;\n        ;\n}\n\n:host > ::slotted(h2:last-child) {\n  margin-bottom: 24px;\n        ;\n}\n\n:host > ::slotted(.paper-dialog-buttons), :host > ::slotted(.buttons) {\n  position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n        -ms-flex-pack: var(--layout-end-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-end-justified_-_-webkit-justify-content);\n justify-content: var(--layout-end-justified_-_justify-content);\n}\n\n</style>\n  </template>\n</dom-module>',document.head.appendChild(y.content);var g,v=n(143),m=n(92),_=n(8),w={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(t,e){e&&(t?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(t){this.closingReason=this.closingReason||{},this.closingReason.confirmed=t},_onDialogClick:function(t){for(var e=Object(_.a)(t).path,n=0,o=e.indexOf(this);n<o;n++){var r=e[n];if(r.hasAttribute&&(r.hasAttribute("dialog-dismiss")||r.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(r.hasAttribute("dialog-confirm")),this.close(),t.stopPropagation();break}}}},O=[m.a,w],k=n(14);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(k.a)({_template:Object(u.a)(g||(g=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-dialog">:host {\n  display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        font-family: var(--paper-font-body1_-_font-family);\n -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n font-size: var(--paper-font-body1_-_font-size);\n font-weight: var(--paper-font-body1_-_font-weight);\n line-height: var(--paper-font-body1_-_line-height);\n        box-shadow: var(--shadow-elevation-16dp_-_box-shadow);\n        ;\n}\n\n:host > ::slotted(*) {\n  margin-top: 20px;\n        padding: 0 24px;\n}\n\n:host > ::slotted(.no-padding) {\n  padding: 0;\n}\n\n:host > ::slotted(*:first-child) {\n  margin-top: 24px;\n}\n\n:host > ::slotted(*:last-child) {\n  margin-bottom: 24px;\n}\n\n:host > ::slotted(h2) {\n  position: relative;\n        margin: 0;\n\n        font-family: var(--paper-font-title_-_font-family);\n -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n white-space: var(--paper-font-title_-_white-space);\n overflow: var(--paper-font-title_-_overflow);\n text-overflow: var(--paper-font-title_-_text-overflow);\n font-size: var(--paper-font-title_-_font-size);\n font-weight: var(--paper-font-title_-_font-weight);\n line-height: var(--paper-font-title_-_line-height);\n        ;\n}\n\n:host > ::slotted(h2:first-child) {\n  margin-top: 24px;\n        ;\n}\n\n:host > ::slotted(h2:last-child) {\n  margin-bottom: 24px;\n        ;\n}\n\n:host > ::slotted(.paper-dialog-buttons), :host > ::slotted(.buttons) {\n  position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n        -ms-flex-pack: var(--layout-end-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-end-justified_-_-webkit-justify-content);\n justify-content: var(--layout-end-justified_-_justify-content);\n}\n\n</style>\n    <slot></slot>\n']))),is:"paper-dialog",behaviors:[O,v.a],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});n(35),n(18);var x,S=n(11);n(93),n(112),n(47),n(74);var C,E=Object(u.b)(x||(x=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  cursor: default;\n}\nsb-lookup[class*='--desktop'] {\n  --sb-lookup-pill-container-min-height: 2.125rem;\n  --sb-lookup-pill-container-min-width: 440px;\n  --sb-lookup-pill-text-min-width: 405px;\n}\nsb-lookup[class*='--desktop']::shadow #typeahead::shadow #itemLabel {\n  width: 440px;\n  min-height: 2.125rem;\n}\nsb-lookup[class*='--desktop']::shadow #typeahead::shadow #selector {\n  min-width: 440px;\n}\nsb-dialog[class*='--desktop'] {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerLeft: 0;\n  --sbDialogContainerRight: 0;\n  --sbDialogContainerTop: 60px;\n  --sbDialogContainerWidth: 90%;\n  --sbDialogContainerHeight: 85%;\n  --sbDialogContainerzIndex: 10002;\n  --sbDialogContainerTransform: translate(0, 0);\n}\nsb-toast[class*='--desktop'] {\n  --sbToastzIndex: 10003;\n}\n.separator[class*='--desktop'] {\n  margin: 1rem 0 0 0;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 1px solid #d8dde6;\n}\n.headerDetails[class*='--desktop'] {\n  height: initial;\n  position: relative;\n  background-color: #ffffff;\n  padding: .75rem 0 1rem 0;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n}\n.headerDetails[class*='--desktop'] .name {\n  display: block;\n  position: relative;\n  font-size: 1rem;\n  font-weight: 300;\n  margin-bottom: .25rem;\n  color: #16325c;\n}\n.headerDetails[class*='--desktop'] .numResults {\n  font-size: .75rem;\n  font-weight: 400;\n  color: #54698d;\n}\n#tbody[class*='--desktop'] {\n  overflow: auto;\n  display: block;\n}\n[class*='--desktop'] sb-lookup {\n  --sb-lookup-pill-container-min-height: 2.125rem;\n  --sb-lookup-pill-container-min-width: 440px;\n  --sb-lookup-pill-text-min-width: 405px;\n}\n[class*='--desktop'] sb-lookup::shadow #typeahead::shadow #itemLabel {\n  width: 440px;\n  min-height: 2.125rem;\n}\n[class*='--desktop'] sb-lookup::shadow #typeahead::shadow #selector {\n  min-width: 440px;\n}\n[class*='--desktop'] sb-dialog {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerLeft: 0;\n  --sbDialogContainerRight: 0;\n  --sbDialogContainerTop: 60px;\n  --sbDialogContainerWidth: 90%;\n  --sbDialogContainerHeight: 85%;\n  --sbDialogContainerzIndex: 10002;\n  --sbDialogContainerTransform: translate(0, 0);\n}\n[class*='--desktop'] sb-toast {\n  --sbToastzIndex: 10003;\n}\n[class*='--desktop'] .separator {\n  margin: 1rem 0 0 0;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--desktop'] .headerDetails {\n  height: initial;\n  position: relative;\n  background-color: #ffffff;\n  padding: .75rem 0 1rem 0;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n}\n[class*='--desktop'] .headerDetails .name {\n  display: block;\n  position: relative;\n  font-size: 1rem;\n  font-weight: 300;\n  margin-bottom: .25rem;\n  color: #16325c;\n}\n[class*='--desktop'] .headerDetails .numResults {\n  font-size: .75rem;\n  font-weight: 400;\n  color: #54698d;\n}\n[class*='--desktop'] #tbody {\n  overflow: auto;\n  display: block;\n}\n.datatable {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\nsb-dialog {\n  --sbDialogContentHeight: none;\n}\n#tbody[class*='--mobile'] {\n  -webkit-overflow-scrolling: touch;\n}\n.content[class*='--mobile'] {\n  background: #f0f1f2;\n}\n.separator[class*='--mobile'] {\n  display: none;\n}\n.numResults[class*='--mobile'] {\n  display: none;\n}\nh2.headerDetails[class*='--mobile'] {\n  width: 100%;\n  border-top: 1px solid #d8dde6;\n  background-color: #f4f6f9;\n}\nh2[class*='--mobile'] > .name {\n  display: block;\n  font-weight: bold;\n  padding: 13px 14px 13px 14px;\n  border-bottom: 1px solid #d8dde6;\n}\nsb-lookup[class*='--mobile'] {\n  --sbTypeaheadIronInputWidthMobile: 100%;\n  --sbTypeaheadInputWidthMobile: calc(100% - 14px);\n  --sbTypeaheadInputMarginMobile: 7px;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogContentOverflow: hidden;\n}\n[class*='--mobile'] #tbody {\n  -webkit-overflow-scrolling: touch;\n}\n[class*='--mobile'] .content {\n  background: #f0f1f2;\n}\n[class*='--mobile'] .separator {\n  display: none;\n}\n[class*='--mobile'] .numResults {\n  display: none;\n}\n[class*='--mobile'] h2.headerDetails {\n  width: 100%;\n  border-top: 1px solid #d8dde6;\n  background-color: #f4f6f9;\n}\n[class*='--mobile'] h2 > .name {\n  display: block;\n  font-weight: bold;\n  padding: 13px 14px 13px 14px;\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] sb-lookup {\n  --sbTypeaheadIronInputWidthMobile: 100%;\n  --sbTypeaheadInputWidthMobile: calc(100% - 14px);\n  --sbTypeaheadInputMarginMobile: 7px;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogContentOverflow: hidden;\n}\niron-list {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n"]))),P=n(4),T=(n(24),n(46),n(116),n(45),n(65),n(70),n(152),n(134)),I=n(42);n(34),n(52),n(82),n(83),n(184);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=L(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=z(t);if(e){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return N(this,n)}}function N(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=["string","picklist","multipicklist"],U=H.concat(["textarea","date","datetime","int","number","currency","percent","double","reference"]),V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(s,t);var e,n,o,a=F(s);function s(){return D(this,s),a.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-lookup-dialog"}},{key:"properties",get:function(){return{value:{type:String,value:null},label:String,tableName:String,tableLabel:String,fieldLabel:String,labelName:String,selectedLabel:String,searchValue:String,metadata:Object,numResults:Number,results:Object,invoker:{type:Object,observer:"initialize"},isOAuth:{type:Boolean,value:function(){return!!P.a.org&&P.a.org.isOAuth}},openSpinner:{type:Boolean,value:!1},recordSpinner:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return i.a.getViewport()}},isMobile:{type:Boolean,computed:"_isMobile(viewport)"},hideCancel:{type:Boolean,computed:"_hideCancel(isMobile, openSpinner, recordSpinner)"},layoutFields:{type:Array,value:[]},searchFields:{type:Array,value:[]},lookupSearchTypes:{type:Array,value:function(){return H.concat(P.a.org?P.a.org.additionalLookupSearchTypes:[])}},maxSearchFields:{type:Number,value:function(){return P.a.org?P.a.org.maxLookupSearchFields:1}},fieldSetPrefix:{type:String,value:function(){return P.a.org.prefix?P.a.org.prefix+"__":""}},i18n:{type:Object,value:function(){return P.a.properties.i18n.value()}}}}},{key:"observers",get:function(){return["_getMetadataObserver(tableName, viewport)","_processCPQLayoutFieldsObserver(fieldSets, i18n)"]}},{key:"template",get:function(){return Object(r.b)(C||(C=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles sb-tables-styles sb-dialogs-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-service id="fs" cache="fs" uid="" response={{fieldSets}} loader="FieldSetServiceProvider" background="true"></sb-service>\n\t\t<sb-field-md id="field" background="true" do-not-fix-object-name="true"></sb-field-md>\n\t\t<sb-service id="query" background="true"></sb-service>\n    <sb-toast id="toast" type="warning" messages="{{errors}}"></sb-toast>\n\n\t\t<sb-dialog device id="dialog" modal="true">\n\t\t\t<div slot="title" class="title" style="font-size: 1.25rem;">[[fieldLabel]]</div>\n\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t<paper-button slot="paper-button" class="primary" on-click="save" hidden$="[[!value]]"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t</template>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<sf-loading-spinner show="[[openSpinner]]"></sf-loading-spinner>\n\t\t\t\t<sb-lookup\n\t\t\t\t\t\tid="lookup"\n\t\t\t\t\t\tvalue="[[value]]"\n\t\t\t\t\t\tlabel="[[label]]"\n\t\t\t\t\t\tlabel-name="[[labelName]]"\n\t\t\t\t\t\tselected-label="[[selectedLabel]]"\n\t\t\t\t\t\ttable-name="[[tableName]]"\n\t\t\t\t\t\tin-dialog="true"\n\t\t\t\t\t\tblur-disabled="true"\n\t\t\t\t\t\tpill-class="dialog"\n\t\t\t\t\t\tfocus-disabled="[[isMobile]]"\n\t\t\t\t\t\thide-cancel-icon="[[hideCancel]]"\n\t\t\t\t\t\tfield-full-name="[[fieldFullName]]"\n\t\t\t\t\t\thas-filter="[[hasFilter]]"\n\t\t\t\t\t\tcontrolling-fields="[[controllingFields]]"\n\t\t\t\t\t\trecord="[[record]]"\n\t\t\t\t\t\tdialog-metadata="[[metadata]]"\n\t\t\t\t\t\tvariant="dialog"\n\t\t\t\t></sb-lookup>\n\t\t\t\t<hr class="separator">\n\t\t\t\t<h2 class="headerDetails">\n\t\t\t\t\t<div class="name">[[tableLabel]]</div>\n\t\t\t\t\t<div class="numResults" hidden$="[[!results]]"><sb-i18n key="numResults" value="[[numResults]]">{0} Results</sb-i18n></div>\n\t\t\t\t</h2>\n\t\t\t\t<div class="datatable" id="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" cols="[[metadata.fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\t header-class-map="[[headerClassMap]]"></sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<sf-loading-spinner id="spinner" show="[[recordSpinner]]" position="absolute"></sf-loading-spinner>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<iron-list scroll-target="tbody" id="list" items="[[results]]" as="row">\n\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\t\tcols="[[metadata.fieldNames]]"\n\t\t\t\t\t\t\t\t\t\tcols-display="[[metadata.fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\trow-data="[[row]]"\n\t\t\t\t\t\t\t\t\t\tmodel="[[metadata.fieldTypeObjByName]]"\n\t\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\t\tdata-name$="[[getNameValue(row, row.Id)]]"\n\t\t\t\t\t\t\t\t\t\tdata-id$="[[row.Id]]"\n\t\t\t\t\t\t\t\t\t\tdata-search$="[[getSearchValue(row)]]"\n\t\t\t\t\t\t\t\t\t\ton-click="mobileSelection"\n\t\t\t\t\t\t\t\t\t\tdisable-swipe="true"\n\t\t\t\t\t\t\t\t\t\tno-data-propagation="true"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</iron-list>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</sb-dialog>\n\t\t'])),E)}}],(n=[{key:"ready",value:function(){R(z(s.prototype),"ready",this).call(this),this.addEventListener("sb-close-dialog",this.cancel.bind(this)),this.addEventListener("lookup-value-changed",this.setValues.bind(this)),this.$.field.addEventListener("md-changed",this.processListFields.bind(this)),this.addEventListener("sb-link-tapped",this.updateLookup.bind(this)),this.setResultsHeightHandler=this.setResultsHeight.bind(this),window.addEventListener("resize",this.setResultsHeightHandler),this.$.list.assignParentResizable({stopResizeNotificationsFor:function(){window.removeEventListener("resize",this.setResultsHeightHandler)}.bind(this),_interestedResizables:[],_subscribeIronResize:function(){}})}},{key:"initialize",value:function(){this.invoker&&(this.labelName=this.invoker.labelName,this.label=this.invoker.label,this.selectedLabel=this.invoker.selectedLabel,this.tableName=this.invoker.tableName,this.fieldLabel=this.invoker.fieldLabel,this.currentRecordFilters=this.invoker.currentRecordFilters,this.controllingFields=this.invoker.controllingFields,this.record=this.invoker.record,this.hasFilter=!(this.currentRecordFilters&&Object.keys(this.currentRecordFilters).length>0&&P.a.apiVersion<39)&&this.invoker.hasFilter,this.fieldFullName=this.invoker.fieldFullName)}},{key:"open",value:function(t){this.$.dialog.toggle(),this.invoker.dialogOpened(),this.$.lookup.$.typeahead.blurred=!0,this.$.lookup.$.typeahead.hasList=!1,this.$.lookup.$.typeahead.labelValue=t,this.invoker.$.typeahead.$.itemLabel.blur(),this.searchValue=t}},{key:"cancel",value:function(){this.close()}},{key:"saveAndDeferredClose",value:function(){this.syncSelection(),this.deferredClose()}},{key:"save",value:function(){this.syncSelection(),this.close()}},{key:"syncSelection",value:function(){this.invoker.value=void 0,this.invoker.label=this.label,this.invoker.value=this.value}},{key:"clearAndSave",value:function(){this.label="",this.value=null,this.save()}},{key:"close",value:function(){this.$.dialog.toggle(),this.$.lookup.$.typeahead.suggest({}),this.invoker.dialogClosed(),this.reset(),this.clearSelected()}},{key:"deferredClose",value:function(){setTimeout(function(){this.close()}.bind(this),350)}},{key:"reset",value:function(){this.value=null,this.label=null,this.results=null,this.tableLabel=null,this.fieldLabel=null,this.fieldFullName=void 0,this.hasFilter=!1,this.currentRecordFilters=null,this.controllingFields=null,this.record=null,this.tableName=null,this.numResults=0,this.metadata=void 0,this.layoutFields=[],this.searchFields=[],this.$.header.cols=void 0,this.$.header.$.header.destroyGroup(),this.$.fs.response=null,this.$.fs.context=void 0,this.invoker=null,this.errors=null}},{key:"setValues",value:function(t){this.value=t.detail.value,this.label=t.detail[this.labelName]}},{key:"updateLookup",value:function(t){this.label=void 0,this.value=t.detail.Id,this.label=this.getSelectedLabelValueById(t.detail.Id)}},{key:"getSelectedLabelValueById",value:function(t){var e,n=B(this.results);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.Id===t)return o[this.selectedLabel]}}catch(t){n.e(t)}finally{n.f()}}},{key:"_getMetadataObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.getMetadata(t,e)}},{key:"getMetadata",value:function(){this.tableName&&(this.openSpinner=!0,this.$.fs.context={fieldSets:[{tableName:this.tableName,name:"CPQ_Lookup"},{tableName:this.tableName,name:"CPQ_Lookup_Search"}]})}},{key:"initSearchFieldsAndReturnOnesNotInLayout",value:function(t,e){var n=[],o=this.getCpqLookupSearchFields(t);if(!o)return n;this.searchFields=o.names;var r,i=B(o.fields);try{for(i.s();!(r=i.n()).done;){var a=r.value;a!==this.tableName+"."+this.selectedLabel&&-1===e.indexOf(a)&&n.push(a)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"_processCPQLayoutFieldsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.processCPQLayoutFields(t,e)}},{key:"processCPQLayoutFields",value:function(t){if(t)if(this.tableLabel=t[0].tableLabel,this.isMobile)this.initMobileMetadata();else{var e=this.getCpqLookupLayoutFields(t);e||(e={fields:[],names:[]},this.warnUserAboutCPQLayoutFieldSet());var n=this.getNameFieldIfOmittedFrom(e.fields);n&&(e.fields=[n.field].concat(e.fields),e.names.push(n.name)),this.layoutFields=e.names;var o=this.initSearchFieldsAndReturnOnesNotInLayout(t,e.fields),r=e.fields.concat(o);this.$.field.fields=r}}},{key:"processListFields",value:function(t){for(var e=t.detail.value.fields,n=[],o=[],r={},i={},a={},s=[],l=0,c=e.length;l<c;l++){var u=e[l],d={type:u.type,link:0===l};-1!==this.layoutFields.indexOf(u.name)&&(n.push(u.name),o.push(u.label)),r[u.name]=u.type,i[u.name]=d,u.scale&&(i[u.name].scale=u.scale),a[u.label.replace(/\W/g,"")]=u.type,"reference"!==u.type&&"id"!==u.type||s.push({name:u.name,table:u.referenceTo[0]})}this.headerClassMap=new I.a(Object.keys(a),"Th",a,null,!0).build(),this.rowClassMap=new I.a(n,"Td",r).build();var p=this.sanitizeAdditionalSearchFields(i);this.metadata={fieldNames:n,fieldLabels:o,fieldTypeObjByName:i,fieldsOfTypeLookup:s,additionalSearchFields:p},this.querySearchResults()}},{key:"sanitizeAdditionalSearchFields",value:function(t){var e,n=0,o=0,r=[],i=B(this.searchFields);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(a!==this.selectedLabel){var s=t[a].type;if(-1!==this.lookupSearchTypes.indexOf(s)&&-1!==U.indexOf(s)&&(r.push(a),++n===this.maxSearchFields))break}else o=1}}catch(t){i.e(t)}finally{i.f()}return r.length<this.searchFields.length-o&&this.warnUserAboutSanitizedCPQSearchFieldSet(r),r}},{key:"querySearchResults",value:function(){this.recordSpinner=!this.openSpinner;var t=new T.a(this.tableName,this.selectedLabel,this.hasFilter,this.fieldFullName,101,this.currentRecordFilters,this.record,!1,this.metadata).build(this.searchValue,!0,!0);this.$.query.query({soql:t}).then(this.handleSearchResults.bind(this,100))}},{key:"handleSearchResults",value:function(t,e){this.clearSelected();var n=e.totalSize>t?"+":"",o=Math.min(t,e.totalSize);this.numResults=o+n,this.results=this.getResults(e,t),this.recordSpinner=!1,this.openSpinner=!1,this.isMobile&&(this.$.tbody.style.overflow=null),Object(S.a)(this,function(){this.setResultsHeight()}.bind(this))}},{key:"getResults",value:function(t,e){for(var n=t.records,o=t.totalSize,r=this.isMobile&&n.length>o,i=r?n.pop():null;o>e;)n.pop(),o--;return r&&i&&i[this.selectedLabel]&&""!==i[this.selectedLabel]&&(n.push(i),n[o][this.selectedLabel]=i[this.selectedLabel]),n}},{key:"setResultsHeight",value:function(){var t=this.isMobile?document.documentElement.clientHeight:this.$.dialog.shadowRoot.querySelector("#footer").offsetTop,e=t-this.$.tbody.offsetTop,n=e<this.$.tbody.scrollHeight?e+"px":null;this.$.tbody.style.height=n;var o=t-this.$.datatable.offsetTop+"px";this.$.datatable.style.height=o;var r=this.$.spinner.shadowRoot.querySelector("#mask");r.style.height=e+"px",this.isMobile?this.$.tbody.style.overflow="auto":r.style.marginLeft="-24px",Object(S.a)(this,function(){this.shadowRoot.querySelector("#list").notifyResize()}.bind(this))}},{key:"getCpqLookupLayoutFields",value:function(t){return this.getCpqLookupFields(t,!1)}},{key:"getCpqLookupSearchFields",value:function(t){return this.getCpqLookupFields(t,!0)}},{key:"getCpqLookupFields",value:function(t,e){var n,o=[],r=[],i=B(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(this.validCPQFieldSet(a,e)){var s,l=a.displayedFields,c=B(l?l.constructor===Array?l:[l]:[]);try{for(c.s();!(s=c.n()).done;){var u=s.value,d=u.field||u;1===d.split(".").length&&(r.push(d),o.push(this.tableName+"."+d))}}catch(t){c.e(t)}finally{c.f()}return{fields:o,names:r}}}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"validCPQFieldSet",value:function(t,e){return!(e||"CPQ_Lookup"!==t.label&&t.fullName!==this.fieldSetPrefix+"CPQ_Lookup")||!(!e||"CPQ_Lookup_Search"!==t.label&&t.fullName!==this.fieldSetPrefix+"CPQ_Lookup_Search")}},{key:"getNameFieldIfOmittedFrom",value:function(t){if(-1===t.indexOf(this.tableName+"."+this.selectedLabel))return{field:this.tableName+"."+this.selectedLabel,name:this.selectedLabel}}},{key:"warnUserAboutCPQLayoutFieldSet",value:function(){this.errors=[this.i18n.l("FieldSetWarning",[this.tableLabel])]}},{key:"warnUserAboutSanitizedCPQSearchFieldSet",value:function(t){console.warn("The ".concat(this.tableLabel,".").concat(this.fieldSetPrefix).concat("CPQ_Lookup_Search"," field set either contains fields of unsupported types or the field set size exceeds the max size (").concat(this.maxSearchFields,").\nActual: ").concat(t.join(","),"\nExpect: ").concat(this.searchFields.join(",")))}},{key:"initMobileMetadata",value:function(){var t={};t[this.selectedLabel]="lookupItemTd",this.rowClassMap=t,this.metadata={fieldNames:[this.selectedLabel],fieldLabels:[],fieldTypeObjByName:{},fieldsOfTypeLookup:[],additionalSearchFields:[]},this.$.lookup.lookupResultsCallback(this.searchValue)}},{key:"mobileSelection",value:function(t){if(this.isMobile){var e=t.target;this.setSelected(e),e.hasAttribute("data-search")?(this.searchValue=e.getAttribute("data-search"),this.querySearchResults()):(this.value=e.getAttribute("data-id"),this.label=e.getAttribute("data-name"),this.saveAndDeferredClose())}}},{key:"getSearchValue",value:function(t){if(t&&!t.Id)return t.__md__.searchValue}},{key:"getNameValue",value:function(t){return t[this.selectedLabel]}},{key:"setSelected",value:function(t){this.selected=t.$.row.shadowRoot.querySelector("sb-table-cell"),Object(c.m)("selectedLookupItem",!0,this.selected)}},{key:"clearSelected",value:function(){this.selected&&Object(c.m)("selectedLookupItem",!1,this.selected)}},{key:"_hideCancel",value:function(){return!this.isMobile||this.openSpinner||this.recordSpinner}},{key:"_isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}}])&&A(e.prototype,n),o&&A(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(s.a)(r.a));customElements.define(V.is,V);var W;n(158);var Q,G=Object(u.b)(W||(W=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*=\'--desktop\'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*=\'--desktop\'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*=\'--mobile\'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*=\'--mobile\'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*=\'--mobile\'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*=\'--mobile\'] .icon {\n  display: none;\n}\n[class*=\'--mobile\'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*=\'--mobile\'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*=\'--mobile\'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*=\'--mobile\'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  /** BEGINNING OF quill.core.css **/\n  /*!\n\t * Quill Editor v1.3.7\n\t * https://quilljs.com/\n\t * Copyright (c) 2014, Jason Chen\n\t * Copyright (c) 2013, salesforce.com\n\t */\n  /** END OF quill.core.css **/\n  /** BEGINNING OF quill.snow.css **/\n  /*!\n     * Quill Editor v1.3.7\n     * https://quilljs.com/\n     * Copyright (c) 2014, Jason Chen\n     * Copyright (c) 2013, salesforce.com\n     */\n  /** END OF quill.snow.css **/\n  --sbDialogContentPadding: 0;\n  cursor: default;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-snow.ql-toolbar:after,\n:host .ql-snow .ql-toolbar:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow.ql-toolbar button,\n:host .ql-snow .ql-toolbar button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  width: 28px;\n}\n:host .ql-snow.ql-toolbar button svg,\n:host .ql-snow .ql-toolbar button svg {\n  float: left;\n  height: 100%;\n}\n:host .ql-snow.ql-toolbar button:active:hover,\n:host .ql-snow .ql-toolbar button:active:hover {\n  outline: none;\n}\n:host .ql-snow.ql-toolbar input.ql-image[type=file],\n:host .ql-snow .ql-toolbar input.ql-image[type=file] {\n  display: none;\n}\n:host .ql-snow.ql-toolbar button:hover,\n:host .ql-snow .ql-toolbar button:hover,\n:host .ql-snow.ql-toolbar button:focus,\n:host .ql-snow .ql-toolbar button:focus,\n:host .ql-snow.ql-toolbar button.ql-active,\n:host .ql-snow .ql-toolbar button.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n  color: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n  fill: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-stroke,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n  stroke: #06c;\n}\n@media (pointer: coarse) {\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active),\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) {\n    color: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {\n    fill: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {\n    stroke: #444;\n  }\n}\n:host .ql-snow {\n  box-sizing: border-box;\n}\n:host .ql-snow * {\n  box-sizing: border-box;\n}\n:host .ql-snow .ql-hidden {\n  display: none;\n}\n:host .ql-snow .ql-out-bottom,\n:host .ql-snow .ql-out-top {\n  visibility: hidden;\n}\n:host .ql-snow .ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n}\n:host .ql-snow .ql-tooltip a {\n  cursor: pointer;\n  text-decoration: none;\n}\n:host .ql-snow .ql-tooltip.ql-flip {\n  transform: translateY(-10px);\n}\n:host .ql-snow .ql-formats {\n  display: inline-block;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-formats:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow .ql-stroke {\n  fill: none;\n  stroke: #444;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-stroke-miter {\n  fill: none;\n  stroke: #444;\n  stroke-miterlimit: 10;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-fill,\n:host .ql-snow .ql-stroke.ql-fill {\n  fill: #444;\n}\n:host .ql-snow .ql-empty {\n  fill: none;\n}\n:host .ql-snow .ql-even {\n  fill-rule: evenodd;\n}\n:host .ql-snow .ql-thin,\n:host .ql-snow .ql-stroke.ql-thin {\n  stroke-width: 1;\n}\n:host .ql-snow .ql-transparent {\n  opacity: 0.4;\n}\n:host .ql-snow .ql-direction svg:last-child {\n  display: none;\n}\n:host .ql-snow .ql-direction.ql-active svg:last-child {\n  display: inline;\n}\n:host .ql-snow .ql-direction.ql-active svg:first-child {\n  display: none;\n}\n:host .ql-snow .ql-editor h1 {\n  font-size: 2em;\n}\n:host .ql-snow .ql-editor h2 {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-editor h3 {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-editor h4 {\n  font-size: 1em;\n}\n:host .ql-snow .ql-editor h5 {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-editor h6 {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-editor a {\n  text-decoration: underline;\n}\n:host .ql-snow .ql-editor blockquote {\n  border-left: 4px solid #ccc;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding-left: 16px;\n}\n:host .ql-snow .ql-editor code,\n:host .ql-snow .ql-editor pre {\n  background-color: #f0f0f0;\n  border-radius: 3px;\n}\n:host .ql-snow .ql-editor pre {\n  white-space: pre-wrap;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding: 5px 10px;\n}\n:host .ql-snow .ql-editor code {\n  font-size: 85%;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-editor pre.ql-syntax {\n  background-color: #23241f;\n  color: #f8f8f2;\n  overflow: visible;\n}\n:host .ql-snow .ql-editor img {\n  max-width: 100%;\n}\n:host .ql-snow .ql-picker {\n  color: #444;\n  display: inline-block;\n  float: left;\n  font-size: 14px;\n  font-weight: 500;\n  height: 24px;\n  position: relative;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-picker-label {\n  cursor: pointer;\n  display: inline-block;\n  height: 100%;\n  padding-left: 8px;\n  padding-right: 2px;\n  position: relative;\n  width: 100%;\n}\n:host .ql-snow .ql-picker-label::before {\n  display: inline-block;\n  line-height: 22px;\n}\n:host .ql-snow .ql-picker-options {\n  background-color: #fff;\n  display: none;\n  min-width: 100%;\n  padding: 4px 8px;\n  position: absolute;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-picker-options .ql-picker-item {\n  cursor: pointer;\n  display: block;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  color: #ccc;\n  z-index: 2;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {\n  fill: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {\n  stroke: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  display: block;\n  margin-top: -1px;\n  top: 100%;\n  z-index: 1;\n}\n:host .ql-snow .ql-color-picker,\n:host .ql-snow .ql-icon-picker {\n  width: 28px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label,\n:host .ql-snow .ql-icon-picker .ql-picker-label {\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label svg,\n:host .ql-snow .ql-icon-picker .ql-picker-label svg {\n  right: 4px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-options {\n  padding: 4px 0px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-item {\n  height: 24px;\n  width: 24px;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-options {\n  padding: 3px 5px;\n  width: 152px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-item {\n  border: 1px solid transparent;\n  float: left;\n  height: 16px;\n  margin: 2px;\n  padding: 0px;\n  width: 16px;\n}\n:host .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {\n  position: absolute;\n  margin-top: -9px;\n  right: 0;\n  top: 50%;\n  width: 18px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=\'\'])::before {\n  content: attr(data-label);\n}\n:host .ql-snow .ql-picker.ql-header {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  content: \'Heading 1\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  content: \'Heading 2\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  content: \'Heading 3\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  content: \'Heading 4\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  content: \'Heading 5\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  content: \'Heading 6\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  font-size: 2em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  font-size: 1em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-picker.ql-font {\n  width: 108px;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \'Sans Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  content: \'Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  content: \'Monospace\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-snow .ql-picker.ql-size {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: \'Small\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: \'Large\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: \'Huge\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  font-size: 10px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  font-size: 18px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  font-size: 32px;\n}\n:host .ql-snow .ql-color-picker.ql-background .ql-picker-item {\n  background-color: #fff;\n}\n:host .ql-snow .ql-color-picker.ql-color .ql-picker-item {\n  background-color: #000;\n}\n:host .ql-toolbar.ql-snow {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  font-family: \'Helvetica Neue\', \'Helvetica\', \'Arial\', sans-serif;\n  padding: 8px;\n}\n:host .ql-toolbar.ql-snow .ql-formats {\n  margin-right: 15px;\n}\n:host .ql-toolbar.ql-snow .ql-picker-label {\n  border: 1px solid transparent;\n}\n:host .ql-toolbar.ql-snow .ql-picker-options {\n  border: 1px solid transparent;\n  box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {\n  border-color: #000;\n}\n:host .ql-toolbar.ql-snow + .ql-container.ql-snow {\n  border-top: 0px;\n}\n:host .ql-snow .ql-tooltip {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-shadow: 0px 0px 5px #ddd;\n  color: #444;\n  padding: 5px 12px;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-tooltip::before {\n  content: "Visit URL:";\n  line-height: 26px;\n  margin-right: 8px;\n}\n:host .ql-snow .ql-tooltip input[type=text] {\n  display: none;\n  border: 1px solid #ccc;\n  font-size: 13px;\n  height: 26px;\n  margin: 0px;\n  padding: 3px 5px;\n  width: 170px;\n}\n:host .ql-snow .ql-tooltip a.ql-preview {\n  display: inline-block;\n  max-width: 200px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n:host .ql-snow .ql-tooltip a.ql-action::after {\n  border-right: 1px solid #ccc;\n  content: \'Edit\';\n  margin-left: 16px;\n  padding-right: 8px;\n}\n:host .ql-snow .ql-tooltip a.ql-remove::before {\n  content: \'Remove\';\n  margin-left: 8px;\n}\n:host .ql-snow .ql-tooltip a {\n  line-height: 26px;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-preview,\n:host .ql-snow .ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n:host .ql-snow .ql-tooltip.ql-editing input[type=text] {\n  display: inline-block;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \'Save\';\n  padding-right: 0px;\n}\n:host .ql-snow .ql-tooltip[data-mode=link]::before {\n  content: "Enter link:";\n}\n:host .ql-snow .ql-tooltip[data-mode=formula]::before {\n  content: "Enter formula:";\n}\n:host .ql-snow .ql-tooltip[data-mode=video]::before {\n  content: "Enter video:";\n}\n:host .ql-snow a {\n  color: #06c;\n}\n:host .ql-container.ql-snow {\n  border: 1px solid #ccc;\n}\n:host .content {\n  display: inline-block;\n}\n:host #rteContainer {\n  cursor: text;\n  width: 768px;\n  font-size: 16px;\n  color: black;\n}\n:host #rteContainer:hover:after {\n  display: inline;\n}\n:host #rteContainer:hover,\n:host #rteContainer:focus {\n  outline: none;\n}\n:host #rteContainer .ql-editor {\n  min-height: 150px;\n  max-height: 250px;\n  padding: 12px 15px;\n}\n:host #rteToolbar {\n  background-color: #fafafa;\n}\n:host #rteToolbar #ql-picker-options-0,\n:host #rteToolbar #ql-picker-options-2 {\n  height: 150px;\n  overflow-y: auto;\n}\n:host .ql-tooltip {\n  z-index: 9999;\n}\n:host .ql-font span[data-value="arial"]::before {\n  font-family: "arial";\n}\n:host .ql-font span[data-value="courier"]::before {\n  font-family: "courier";\n}\n:host .ql-font span[data-value="dosis"]::before {\n  font-family: "dosis";\n}\n:host .ql-font span[data-value="droid sans"]::before {\n  font-family: "droid sans";\n}\n:host .ql-font span[data-value="droid serif"]::before {\n  font-family: "droid serif";\n}\n:host .ql-font span[data-value="helvetica"]::before {\n  font-family: "helvetica";\n}\n:host .ql-font span[data-value="merriweather"]::before {\n  font-family: "merriweather";\n}\n:host .ql-font span[data-value="montserrat"]::before {\n  font-family: "montserrat";\n}\n:host .ql-font span[data-value="noto sans jp"]::before {\n  font-family: "noto sans jp";\n}\n:host .ql-font span[data-value="noto sans kr"]::before {\n  font-family: "noto sans kr";\n}\n:host .ql-font span[data-value="noto sans sc"]::before {\n  font-family: "noto sans sc";\n}\n:host .ql-font span[data-value="noto sans tc"]::before {\n  font-family: "noto sans tc";\n}\n:host .ql-font span[data-value="open sans"]::before {\n  font-family: "open sans";\n}\n:host .ql-font span[data-value="play"]::before {\n  font-family: "play";\n}\n:host .ql-font span[data-value="pt sans"]::before {\n  font-family: "pt sans";\n}\n:host .ql-font span[data-value="pt serif"]::before {\n  font-family: "pt serif";\n}\n:host .ql-font span[data-value="roboto"]::before {\n  font-family: "roboto";\n}\n:host .ql-font span[data-value="roboto light"]::before {\n  font-family: "roboto light";\n}\n:host .ql-font span[data-value="times"]::before {\n  font-family: "times";\n}\n:host .ql-font span[data-value="titillium web"]::before {\n  font-family: "titillium web";\n}\n:host .ql-font span[data-value="ubuntu"]::before {\n  font-family: "ubuntu";\n}\nsb-dialog {\n  --sbDialogHeaderBackgroundColor: #f0f0f0;\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerWidth: 768px;\n  --sbDialogContentOverflow: unset;\n  --sbDialogContentHeight: inherit;\n  --sbDialogContentHeight: 100%;\n  --sbDialogFooterDisplay: block;\n}\n'],['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*=\'--desktop\'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*=\'--desktop\'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*=\'--mobile\'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*=\'--mobile\'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*=\'--mobile\'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*=\'--mobile\'] .icon {\n  display: none;\n}\n[class*=\'--mobile\'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*=\'--mobile\'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*=\'--mobile\'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*=\'--mobile\'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  /** BEGINNING OF quill.core.css **/\n  /*!\n\t * Quill Editor v1.3.7\n\t * https://quilljs.com/\n\t * Copyright (c) 2014, Jason Chen\n\t * Copyright (c) 2013, salesforce.com\n\t */\n  /** END OF quill.core.css **/\n  /** BEGINNING OF quill.snow.css **/\n  /*!\n     * Quill Editor v1.3.7\n     * https://quilljs.com/\n     * Copyright (c) 2014, Jason Chen\n     * Copyright (c) 2013, salesforce.com\n     */\n  /** END OF quill.snow.css **/\n  --sbDialogContentPadding: 0;\n  cursor: default;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-snow.ql-toolbar:after,\n:host .ql-snow .ql-toolbar:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow.ql-toolbar button,\n:host .ql-snow .ql-toolbar button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  width: 28px;\n}\n:host .ql-snow.ql-toolbar button svg,\n:host .ql-snow .ql-toolbar button svg {\n  float: left;\n  height: 100%;\n}\n:host .ql-snow.ql-toolbar button:active:hover,\n:host .ql-snow .ql-toolbar button:active:hover {\n  outline: none;\n}\n:host .ql-snow.ql-toolbar input.ql-image[type=file],\n:host .ql-snow .ql-toolbar input.ql-image[type=file] {\n  display: none;\n}\n:host .ql-snow.ql-toolbar button:hover,\n:host .ql-snow .ql-toolbar button:hover,\n:host .ql-snow.ql-toolbar button:focus,\n:host .ql-snow .ql-toolbar button:focus,\n:host .ql-snow.ql-toolbar button.ql-active,\n:host .ql-snow .ql-toolbar button.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n  color: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n  fill: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-stroke,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n  stroke: #06c;\n}\n@media (pointer: coarse) {\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active),\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) {\n    color: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {\n    fill: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {\n    stroke: #444;\n  }\n}\n:host .ql-snow {\n  box-sizing: border-box;\n}\n:host .ql-snow * {\n  box-sizing: border-box;\n}\n:host .ql-snow .ql-hidden {\n  display: none;\n}\n:host .ql-snow .ql-out-bottom,\n:host .ql-snow .ql-out-top {\n  visibility: hidden;\n}\n:host .ql-snow .ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n}\n:host .ql-snow .ql-tooltip a {\n  cursor: pointer;\n  text-decoration: none;\n}\n:host .ql-snow .ql-tooltip.ql-flip {\n  transform: translateY(-10px);\n}\n:host .ql-snow .ql-formats {\n  display: inline-block;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-formats:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow .ql-stroke {\n  fill: none;\n  stroke: #444;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-stroke-miter {\n  fill: none;\n  stroke: #444;\n  stroke-miterlimit: 10;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-fill,\n:host .ql-snow .ql-stroke.ql-fill {\n  fill: #444;\n}\n:host .ql-snow .ql-empty {\n  fill: none;\n}\n:host .ql-snow .ql-even {\n  fill-rule: evenodd;\n}\n:host .ql-snow .ql-thin,\n:host .ql-snow .ql-stroke.ql-thin {\n  stroke-width: 1;\n}\n:host .ql-snow .ql-transparent {\n  opacity: 0.4;\n}\n:host .ql-snow .ql-direction svg:last-child {\n  display: none;\n}\n:host .ql-snow .ql-direction.ql-active svg:last-child {\n  display: inline;\n}\n:host .ql-snow .ql-direction.ql-active svg:first-child {\n  display: none;\n}\n:host .ql-snow .ql-editor h1 {\n  font-size: 2em;\n}\n:host .ql-snow .ql-editor h2 {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-editor h3 {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-editor h4 {\n  font-size: 1em;\n}\n:host .ql-snow .ql-editor h5 {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-editor h6 {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-editor a {\n  text-decoration: underline;\n}\n:host .ql-snow .ql-editor blockquote {\n  border-left: 4px solid #ccc;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding-left: 16px;\n}\n:host .ql-snow .ql-editor code,\n:host .ql-snow .ql-editor pre {\n  background-color: #f0f0f0;\n  border-radius: 3px;\n}\n:host .ql-snow .ql-editor pre {\n  white-space: pre-wrap;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding: 5px 10px;\n}\n:host .ql-snow .ql-editor code {\n  font-size: 85%;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-editor pre.ql-syntax {\n  background-color: #23241f;\n  color: #f8f8f2;\n  overflow: visible;\n}\n:host .ql-snow .ql-editor img {\n  max-width: 100%;\n}\n:host .ql-snow .ql-picker {\n  color: #444;\n  display: inline-block;\n  float: left;\n  font-size: 14px;\n  font-weight: 500;\n  height: 24px;\n  position: relative;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-picker-label {\n  cursor: pointer;\n  display: inline-block;\n  height: 100%;\n  padding-left: 8px;\n  padding-right: 2px;\n  position: relative;\n  width: 100%;\n}\n:host .ql-snow .ql-picker-label::before {\n  display: inline-block;\n  line-height: 22px;\n}\n:host .ql-snow .ql-picker-options {\n  background-color: #fff;\n  display: none;\n  min-width: 100%;\n  padding: 4px 8px;\n  position: absolute;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-picker-options .ql-picker-item {\n  cursor: pointer;\n  display: block;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  color: #ccc;\n  z-index: 2;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {\n  fill: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {\n  stroke: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  display: block;\n  margin-top: -1px;\n  top: 100%;\n  z-index: 1;\n}\n:host .ql-snow .ql-color-picker,\n:host .ql-snow .ql-icon-picker {\n  width: 28px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label,\n:host .ql-snow .ql-icon-picker .ql-picker-label {\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label svg,\n:host .ql-snow .ql-icon-picker .ql-picker-label svg {\n  right: 4px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-options {\n  padding: 4px 0px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-item {\n  height: 24px;\n  width: 24px;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-options {\n  padding: 3px 5px;\n  width: 152px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-item {\n  border: 1px solid transparent;\n  float: left;\n  height: 16px;\n  margin: 2px;\n  padding: 0px;\n  width: 16px;\n}\n:host .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {\n  position: absolute;\n  margin-top: -9px;\n  right: 0;\n  top: 50%;\n  width: 18px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=\'\'])::before {\n  content: attr(data-label);\n}\n:host .ql-snow .ql-picker.ql-header {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  content: \'Heading 1\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  content: \'Heading 2\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  content: \'Heading 3\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  content: \'Heading 4\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  content: \'Heading 5\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  content: \'Heading 6\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  font-size: 2em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  font-size: 1em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-picker.ql-font {\n  width: 108px;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \'Sans Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  content: \'Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  content: \'Monospace\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-snow .ql-picker.ql-size {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: \'Small\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: \'Large\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: \'Huge\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  font-size: 10px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  font-size: 18px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  font-size: 32px;\n}\n:host .ql-snow .ql-color-picker.ql-background .ql-picker-item {\n  background-color: #fff;\n}\n:host .ql-snow .ql-color-picker.ql-color .ql-picker-item {\n  background-color: #000;\n}\n:host .ql-toolbar.ql-snow {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  font-family: \'Helvetica Neue\', \'Helvetica\', \'Arial\', sans-serif;\n  padding: 8px;\n}\n:host .ql-toolbar.ql-snow .ql-formats {\n  margin-right: 15px;\n}\n:host .ql-toolbar.ql-snow .ql-picker-label {\n  border: 1px solid transparent;\n}\n:host .ql-toolbar.ql-snow .ql-picker-options {\n  border: 1px solid transparent;\n  box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {\n  border-color: #000;\n}\n:host .ql-toolbar.ql-snow + .ql-container.ql-snow {\n  border-top: 0px;\n}\n:host .ql-snow .ql-tooltip {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-shadow: 0px 0px 5px #ddd;\n  color: #444;\n  padding: 5px 12px;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-tooltip::before {\n  content: "Visit URL:";\n  line-height: 26px;\n  margin-right: 8px;\n}\n:host .ql-snow .ql-tooltip input[type=text] {\n  display: none;\n  border: 1px solid #ccc;\n  font-size: 13px;\n  height: 26px;\n  margin: 0px;\n  padding: 3px 5px;\n  width: 170px;\n}\n:host .ql-snow .ql-tooltip a.ql-preview {\n  display: inline-block;\n  max-width: 200px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n:host .ql-snow .ql-tooltip a.ql-action::after {\n  border-right: 1px solid #ccc;\n  content: \'Edit\';\n  margin-left: 16px;\n  padding-right: 8px;\n}\n:host .ql-snow .ql-tooltip a.ql-remove::before {\n  content: \'Remove\';\n  margin-left: 8px;\n}\n:host .ql-snow .ql-tooltip a {\n  line-height: 26px;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-preview,\n:host .ql-snow .ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n:host .ql-snow .ql-tooltip.ql-editing input[type=text] {\n  display: inline-block;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \'Save\';\n  padding-right: 0px;\n}\n:host .ql-snow .ql-tooltip[data-mode=link]::before {\n  content: "Enter link:";\n}\n:host .ql-snow .ql-tooltip[data-mode=formula]::before {\n  content: "Enter formula:";\n}\n:host .ql-snow .ql-tooltip[data-mode=video]::before {\n  content: "Enter video:";\n}\n:host .ql-snow a {\n  color: #06c;\n}\n:host .ql-container.ql-snow {\n  border: 1px solid #ccc;\n}\n:host .content {\n  display: inline-block;\n}\n:host #rteContainer {\n  cursor: text;\n  width: 768px;\n  font-size: 16px;\n  color: black;\n}\n:host #rteContainer:hover:after {\n  display: inline;\n}\n:host #rteContainer:hover,\n:host #rteContainer:focus {\n  outline: none;\n}\n:host #rteContainer .ql-editor {\n  min-height: 150px;\n  max-height: 250px;\n  padding: 12px 15px;\n}\n:host #rteToolbar {\n  background-color: #fafafa;\n}\n:host #rteToolbar #ql-picker-options-0,\n:host #rteToolbar #ql-picker-options-2 {\n  height: 150px;\n  overflow-y: auto;\n}\n:host .ql-tooltip {\n  z-index: 9999;\n}\n:host .ql-font span[data-value="arial"]::before {\n  font-family: "arial";\n}\n:host .ql-font span[data-value="courier"]::before {\n  font-family: "courier";\n}\n:host .ql-font span[data-value="dosis"]::before {\n  font-family: "dosis";\n}\n:host .ql-font span[data-value="droid sans"]::before {\n  font-family: "droid sans";\n}\n:host .ql-font span[data-value="droid serif"]::before {\n  font-family: "droid serif";\n}\n:host .ql-font span[data-value="helvetica"]::before {\n  font-family: "helvetica";\n}\n:host .ql-font span[data-value="merriweather"]::before {\n  font-family: "merriweather";\n}\n:host .ql-font span[data-value="montserrat"]::before {\n  font-family: "montserrat";\n}\n:host .ql-font span[data-value="noto sans jp"]::before {\n  font-family: "noto sans jp";\n}\n:host .ql-font span[data-value="noto sans kr"]::before {\n  font-family: "noto sans kr";\n}\n:host .ql-font span[data-value="noto sans sc"]::before {\n  font-family: "noto sans sc";\n}\n:host .ql-font span[data-value="noto sans tc"]::before {\n  font-family: "noto sans tc";\n}\n:host .ql-font span[data-value="open sans"]::before {\n  font-family: "open sans";\n}\n:host .ql-font span[data-value="play"]::before {\n  font-family: "play";\n}\n:host .ql-font span[data-value="pt sans"]::before {\n  font-family: "pt sans";\n}\n:host .ql-font span[data-value="pt serif"]::before {\n  font-family: "pt serif";\n}\n:host .ql-font span[data-value="roboto"]::before {\n  font-family: "roboto";\n}\n:host .ql-font span[data-value="roboto light"]::before {\n  font-family: "roboto light";\n}\n:host .ql-font span[data-value="times"]::before {\n  font-family: "times";\n}\n:host .ql-font span[data-value="titillium web"]::before {\n  font-family: "titillium web";\n}\n:host .ql-font span[data-value="ubuntu"]::before {\n  font-family: "ubuntu";\n}\nsb-dialog {\n  --sbDialogHeaderBackgroundColor: #f0f0f0;\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerWidth: 768px;\n  --sbDialogContentOverflow: unset;\n  --sbDialogContentHeight: inherit;\n  --sbDialogContentHeight: 100%;\n  --sbDialogFooterDisplay: block;\n}\n'])));n(156),n(129);var $,K=Object(u.b)(Q||(Q=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host .content #source,\n:host .content #dimensions {\n  position: relative;\n  float: left;\n  padding: 0 96px 16px 0;\n}\n:host #dimensionsInput {\n  display: inline-flex;\n}\n:host #dimensionsInput sb-input {\n  --sbInputMaxWidth: 48px;\n  --sbInputMinWidth: 24px;\n}\n:host #sourceInput sb-input {\n  --sidePanelInputWidth: 256px;\n  --sbInputMaxWidth: 256px;\n  --sbInputMinWidth: 128px;\n}\n:host sb-dialog {\n  --sbDialogContentPadding: 12px !important;\n  --sbDialogMaxHeight: 256px;\n  --sbDialogHeaderBackgroundColor: #fff !important;\n  --sbDialogContentTextAlign: center;\n  --sbDialogFooterDisplay: block;\n  --sbDialogFooterColor: #fff !important;\n}\n"])));function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Z(){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=tt(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function tt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}function et(t,e){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=rt(t);if(e){var r=rt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ot(this,n)}}function ot(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(s,t);var e,n,o,i=nt(s);function s(){return X(this,s),i.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"rte-image-dialog"}},{key:"properties",get:function(){return{img:{type:Object,value:null},originalWidth:String,originalHeight:String,widthDim:{type:Number},heightDim:{type:Number},imageSrc:{type:String,value:"",observer:"_setupNewImage"},isChecked:{type:Boolean,value:!0}}}},{key:"observers",get:function(){return["_updateImageSizesObserver(widthDim, heightDim, img, isChecked)"]}},{key:"template",get:function(){return Object(r.b)($||($=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n\t        <div device>\n            <sb-dialog id="imageDialog" modal="true" hideCloseIcon="true" close-dialog="rte-image-dialog-cancel" ignore-mask-tap="true">\n                <div slot="title" class="title"><sb-i18n>Insert Image</sb-i18n></div>\n                <div slot="content" class="content">\n                    <div id="sourceInput">\n                        <span id="source"><sb-i18n>Source</sb-i18n></span>\n                        <sb-input id="imageInput" value="{{imageSrc}}" focus="true"></sb-input>\n                    </div>\n                    <div id="dimensionsInput">\n                        <span id="dimensions"><sb-i18n>Dimensions</sb-i18n></span>\n                        <sb-input id="widthDimension" value="{{widthDim}}" focus="true"></sb-input>\n                        <span>&nbsp;x&nbsp;</span>\n                        <sb-input id="heightDimension" value="{{heightDim}}" focus="true"></sb-input>\n\n                        <div id="constrainInput">\n                            <sb-checkbox id="hasConstrains" value="{{isChecked}}"></sb-checkbox>\n                            <span><sb-i18n>Constrain proportions</sb-i18n></span>\n                        </div>\n                    </div>\n                </div>\n                <paper-button slot="paper-button" class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n            </sb-dialog>\n        </div>\n\t    '])),K)}}],(n=[{key:"ready",value:function(){Z(rt(s.prototype),"ready",this).call(this),this.$.imageDialog.open(),this.addEventListener("rte-image-dialog-cancel",this.onCancel)}},{key:"onSave",value:function(){var t=this.img;this.imageSrc&&(t.width&&t.height||(t.width=this.originalWidth,t.height=this.originalHeight),this.dispatchEvent(Object(a.d)("rte-image-saved",t))),this.close()}},{key:"onCancel",value:function(){this.close()}},{key:"close",value:function(){this.$.imageDialog.close(),this.dispatchEvent(Object(a.d)("rte-image-closed",void 0)),this.removeEventListener("rte-image-dialog-cancel",this.onCancel)}},{key:"_setupNewImage",value:function(){var t=this;this.img||(this.img=new Image),this.img.src=this.imageSrc,this.imageSrc?this.img.onload=function(){t.originalWidth=t.img.width,t.originalHeight=t.img.height,t.widthDim=t.originalWidth,t.heightDim=t.originalHeight}:(this.originalWidth=0,this.originalHeight=0,this.widthDim="",this.heightDim="")}},{key:"_updateImageSizesObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this._updateImageSizes(t,e,n,o)}},{key:"_updateImageSizes",value:function(t,e,n,o){var r=parseInt(t),i=parseInt(e),a=n.width,s=n.height;if(!(r===a&&i===s||isNaN(r)||isNaN(i)||0===r||0===i))if(o)if(r!==a){var l=this._conversion(r,a,i);this.img.width=r,this.img.height=l,this.heightDim=l}else{var c=this._conversion(i,s,r);this.img.width=c,this.img.height=i,this.widthDim=c}else this.img.width=r,this.img.height=i}},{key:"_conversion",value:function(t,e,n){var o=Math.floor(t*n/e);return isNaN(o)||o===1/0?n:o}}])&&J(e.prototype,n),o&&J(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.a);customElements.define(it.is,it);var at;n(191);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ut(){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=dt(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function dt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ht(t,e,n){return e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}function yt(t,e){return(yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=mt(t);if(e){var r=mt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _t=["selectionchange","mousedown","mouseup","click"],wt="//fonts.googleapis.com/css?family=Dosis|Droid+Sans|Droid+Serif|Merriweather|Montserrat|Open+Sans|Play|PT+Sans|PT+Serif|Roboto:300,400|Titillium+Web|Ubuntu",Ot=Quill.import("delta"),kt=Quill.import("attributors/style/size"),xt=Quill.import("attributors/style/font"),St=Quill.import("attributors/style/align"),Ct=Quill.import("attributors/style/direction"),Et=Quill.import("blots/inline"),Pt=Quill.import("parchment"),Tt=Quill.import("blots/block/embed"),It=Quill.import("blots/block");It.tagName="DIV",kt.whitelist=["11px","13px","16px","19px","24px","32px","48px"],xt.whitelist=["arial","courier","dosis","droid sans","droid serif","helvetica","montserrat","noto sans jp","noto sans kr","noto sans sc","noto sans tc","open sans","play","pt sans","pt serif","roboto","roboto light","times","titillium web","ubuntu"];var jt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n)}(Et);jt.blotName="SFDCTags",jt.tagName=["address","big","br","blockquote","caption","col","colgroup","del","dfn","hr","ins","kbd","q","samp","small","strike","tfoot","tt","var","p"];var Bt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n)}(Tt);Bt.blotName="divider",Bt.tagName="hr";var Mt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n)}(Et);Mt.blotName="HeaderLowercase",Mt.tagName=["h1","h2","h3","h4","h5","h6"];var Dt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,null,[{key:"create",value:function(t){return t}},{key:"value",value:function(t){var e="";return"DL"===t.tagName&&(e=t),e}}]),n}(Tt);Dt.blotName="DefinitionTag",Dt.tagName=["dl","dt","dd"];var At=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,null,[{key:"create",value:function(t){var e=ut(mt(n),"create",this).call(this);return"string"==typeof t&&e.setAttribute("title",t),e}},{key:"formats",value:function(t){var e=t.getAttribute("title");return e||!0}}]),n}(Et);At.blotName="abbr",At.tagName=["ABBR","acronym"];var Rt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,null,[{key:"create",value:function(t){var e=ut(mt(n),"create",this).call(this);return e.setAttribute("dir",t),e}},{key:"formats",value:function(t){return t.getAttribute("dir")}}]),n}(Et);Rt.blotName="bdo",Rt.tagName="BDO";var Lt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,[{key:"offset",value:function(t){return t.domNode.innerText.length-this.domNode.innerText.length}},{key:"deleteAt",value:function(t,e){ut(mt(n.prototype),"deleteAt",this).call(this,t,e)}},{key:"index",value:function(t,e){}}],[{key:"create",value:function(t){var e=lt(t,3),o=e[0],r=e[1],i=e[2],a=ut(mt(n),"create",this).call(this,t),s=document.createElement("TBODY");return o.forEach((function(t){var e=document.createElement("TR");s.appendChild(e),t.forEach((function(t){var n=document.createElement("TD");n.colSpan&&n.setAttribute("colspan",n.colSpan),n.rowSpan&&n.setAttribute("rowspan",n.rowSpan),n.innerHTML=t,e.appendChild(n)}))})),r&&a.appendChild(r),i&&a.appendChild(i),a.appendChild(s),a}},{key:"value",value:function(t){var e,n,o=[];if("TABLE"===t.tagName){e=t.caption?t.caption:"",n=t.querySelector("colgroup")?t.querySelector("colgroup"):"";for(var r=t.rows,i=0;i<r.length;i++){o[i]=[];for(var a=0;a<r[i].cells.length;a++)o[i].push(r[i].cells[a].innerHTML)}}return[o,e,n]}}]),n}(Tt);Lt.blotName="table",Lt.className="table",Lt.tagName="TABLE";var qt=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,null,[{key:"create",value:function(t){var e=ut(mt(n),"create",this).call(this);return e.setAttribute("href",t.href),t.title&&e.setAttribute("title",t.title),t.target&&e.setAttribute("target",t.target),e}},{key:"formats",value:function(t){return{href:t.href,title:t.title,target:t.target,innerHTML:t.innerHTML}}}]),n}(Et);qt.blotName="AnchorBlot",qt.tagName="a";var Ft=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,null,[{key:"create",value:function(t){return ut(mt(n),"create",this).call(this,t)}},{key:"formats",value:function(t){return t.innerHTML}}]),n}(Et);Ft.blotName="CiteBlot",Ft.tagName="cite";var Nt=new(function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,[{key:"add",value:function(t,e){return 0===e?(this.remove(t),!0):ut(mt(n.prototype),"add",this).call(this,t,"".concat(e,"em"))}}]),n}(Pt.Attributor.Style))("indent","margin-left",{scope:Pt.Scope.BLOCK,whitelist:["1em","2em","3em","4em","5em","6em","7em","8em","9em"]}),zt=new Pt.Attributor.Style("text-decoration","text-decoration",{scope:Pt.Scope.BLOCK,whitelist:["underscore","line-through"]});Quill.register("formats/text-decoration",zt,!0),Quill.register(kt,!0),Quill.register(xt,!0),Quill.register(St,!0),Quill.register(Ct,!0),Quill.register(Nt,!0),Quill.register(It,!0),Quill.register(jt,!0),Quill.register(Bt,!0),Quill.register(Mt,!0),Quill.register(Dt,!0),Quill.register(At,!0),Quill.register(Rt,!0),Quill.register(Lt,!0),Quill.register(qt,!0),Quill.register(Ft,!0);var Ht=function(t){bt(n,t);var e=gt(n);function n(){return ft(this,n),e.apply(this,arguments)}return ht(n,[{key:"ready",value:function(){ut(mt(n.prototype),"ready",this).call(this),this.$.rteToolbar.addEventListener("rte-open-image-dialog",this._openImageDialog.bind(this)),this.$.rteContainer.addEventListener("rte-image-saved",this._imageURLValueSaved.bind(this)),this.$.rteContainer.addEventListener("rte-image-closed",this._imageDialogClosed.bind(this)),this._encapsulateStyle=!1;for(var t=document.querySelectorAll("head > link[rel=stylesheet]"),e=t?t.length:0,o=0;o<e;o++)if(t[o].getAttribute("href")==wt)return;var r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("href",wt),document.head.appendChild(r)}},{key:"connectedCallback",value:function(){ut(mt(n.prototype),"connectedCallback",this).call(this),this.tooltipTextMap=this._getTooltipMap()}},{key:"disconnectedCallback",value:function(){ut(mt(n.prototype),"disconnectedCallback",this).call(this),this._removeQuillEmitterEventListeners&&"function"==typeof this._removeQuillEmitterEventListeners&&this._removeQuillEmitterEventListeners()}},{key:"_initialize",value:function(){var t=this,e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.getFormat(e.index,e.length),r=o&&o.indent?o.indent:"0em",i=parseInt(r.substring(0,r.length-2));if(!n||0!==i){var a=n?i-1:i+1;t.format("indent",a)}},n={indent:{key:9,format:["indent","list"],handler:function(t){e(this.quill,t)}},outdent:{key:9,format:["indent","list"],shiftKey:!0,handler:function(t){e(this.quill,t,!0)}},"outdent backspace":{key:8,format:["indent","list"],offset:0,handler:function(t,n){null!=n.format.indent?e(this.quill,t,!0):null!=n.format.list&&this.quill.format("list",!1)}}},o={modules:{toolbar:{container:this.shadowRoot.querySelector("#rteToolbar"),handlers:{image:function(){this.container.dispatchEvent(new Event("rte-open-image-dialog",{bubbles:!0}))}}},clipboard:{matchVisual:!1},keyboard:{bindings:n}},theme:"snow"};this.quillInstance=new Quill(this.shadowRoot.querySelector("#rteContainer"),o),this._removeQuillEmitterEventListeners=this._applyEmitterShadowDOMFix(this.quillInstance),this.shadowRoot.querySelector("#rteContainer .ql-editor").classList.add("style-scope","sb-rte-dialog"),this.shadowRoot.querySelector(".ql-undo").addEventListener("click",(function(){t.quillInstance.history.undo()})),this.shadowRoot.querySelector(".ql-redo").addEventListener("click",(function(){t.quillInstance.history.redo()}))}},{key:"onSave",value:function(){this.saving=!0;var t=this.quillInstance.root.innerHTML,e=P.a.properties.i18n.value().l("Click to edit description");this.value=t!==e?t:null,this.rte.value=this.value,this.rte.dispatchEvent(Object(a.d)("rte-value-changed",{value:this.value})),this.rte.dispatchEvent(Object(a.d)("rte-saved",void 0)),this.close()}},{key:"onCancel",value:function(){this.imageDialogOpened||(this.rte.dispatchEvent(Object(a.d)("rte-esc",{keyCode:27})),this.close())}},{key:"open",value:function(){var t=P.a.properties.i18n.value().l("Click to edit description");this.$.dialog.open(),this.value!==t&&null!=this.value||(this.value=null),this.$.rteContainer.focus(),this.shadowRoot.querySelector(".title").innerHTML=P.a.properties.i18n.value().l("Edit ".concat(this.rte.label)),this.quillInstance?this.quillInstance.root.innerHTML!==this.value&&this._valueChanged():(this._initialize(),this._valueChanged()),this.quillInstance.history.clear(),this.addEventListener("sb-rte-cancel",this.onCancel)}},{key:"close",value:function(){this.saving=!1;var t=P.a.properties.i18n.value().l("Click to edit description");this.rte.dispatchEvent(Object(a.d)("rte-blur",void 0)),this.$.dialog.close(),this.value===t&&(this.value=null),this.removeEventListener("sb-rte-cancel",this.onCancel)}},{key:"_imageURLValueSaved",value:function(t){var e=t.detail;this.quillInstance.updateContents((new Ot).retain(this.currentSelection).insert({image:e.src},{width:e.width,height:e.height}))}},{key:"_imageDialogClosed",value:function(t){this.imageDialogOpened=!1,this.shadowRoot.querySelector("#rteContainer").removeChild(this.shadowRoot.querySelector("rte-image-dialog"))}},{key:"_openImageDialog",value:function(t){var e=this.quillInstance.getSelection();this.currentSelection=e?e.index:0;var n=this.shadowRoot.querySelector("#rteContainer"),o=document.createElement("rte-image-dialog");n.appendChild(o),this.imageDialogOpened=!0}},{key:"_valueChanged",value:function(){if(!this.saving&&this.shadowRoot.querySelector("#rteContainer .ql-editor")){var t=this.value;this.setContentToQuill(t)}}},{key:"setContentToQuill",value:function(t){this.quillInstance.setText(""),this.quillInstance.clipboard.dangerouslyPasteHTML(0,t);var e=this.quillInstance.editor.delta;if(e.ops.length>=1&&e.ops[e.ops.length-1].insert.endsWith("\n")){var n=e.length();this.quillInstance.updateContents((new Ot).retain(n-1).delete(1))}}},{key:"_getTooltipMap",value:function(){return{bold:P.a.properties.i18n.value().l("Bold"),italic:P.a.properties.i18n.value().l("Italic"),underline:P.a.properties.i18n.value().l("Underline"),strike:P.a.properties.i18n.value().l("Strikethrough"),fontSize:P.a.properties.i18n.value().l("Font size"),headerSize:P.a.properties.i18n.value().l("Header size"),fontFamily:P.a.properties.i18n.value().l("Font family"),alignLeft:P.a.properties.i18n.value().l("Align left"),center:P.a.properties.i18n.value().l("Center"),alignRight:P.a.properties.i18n.value().l("Align right"),textColor:P.a.properties.i18n.value().l("Text color"),backgroundColor:P.a.properties.i18n.value().l("Background color"),subscript:P.a.properties.i18n.value().l("Subscript"),superscript:P.a.properties.i18n.value().l("Superscript"),numberedList:P.a.properties.i18n.value().l("Numbered list"),bulletList:P.a.properties.i18n.value().l("Bullet list"),decreaseIndent:P.a.properties.i18n.value().l("Decrease indent"),increaseIndent:P.a.properties.i18n.value().l("Increase indent"),blockQuote:P.a.properties.i18n.value().l("Block quote"),link:P.a.properties.i18n.value().l("Insert or edit link"),image:P.a.properties.i18n.value().l("Insert or edit image"),clearFormatting:P.a.properties.i18n.value().l("Clear formatting"),undo:P.a.properties.i18n.value().l("Undo"),redo:P.a.properties.i18n.value().l("Redo")}}},{key:"_applyEmitterShadowDOMFix",value:function(t){var e={};return _t.forEach((function(n){function o(){t&&t.emitter&&t.emitter.handleDOM(arguments[0])}document.addEventListener(n,o),e[n]=o})),function(){_t.forEach((function(t){document.removeEventListener(t,e[t])}))}}}],[{key:"is",get:function(){return"sb-rte-dialog"}},{key:"properties",get:function(){return{value:{type:String,observer:"_valueChanged",notify:!0},tooltipTextMap:{type:Object},imageDialogOpened:{type:Boolean,value:!1},currentSelection:{type:Number},saving:{type:Boolean,value:!1}}}},{key:"template",get:function(){return Object(r.b)(at||(at=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n    \t\t\n\t        <div device>\n            <sb-dialog id="dialog" modal="true" close-dialog="sb-rte-cancel" ignore-mask-tap="true">\n                <div slot="title" class="title"><sb-i18n>Edit [[rte.label]]</sb-i18n></div>\n                <div slot="content" class="content">\n                    <div id="rteToolbar">\n                        <span class="ql-formats">\n                            <button class="ql-bold" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.bold]]"></button>\n                            <button class="ql-italic" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.italic]]"></button>\n                            <button class="ql-underline" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.underline]]"></button>\n                            <button class="ql-strike" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.strike]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-size" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.fontSize]]">\n                                <option value="11px">8pt</option>\n                                <option value="13px">10pt</option>\n                                <option selected value="16px">12pt</option>\n                                <option value="19px">14pt</option>\n                                <option value="24px">18pt</option>\n                                <option value="32px">24pt</option>\n                                <option value="48px">36pt</option>\n                            </select>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-header" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.headerSize]]">\n                            </select>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-font" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.fontFamily]]">\n                                <option selected value="arial">Arial</option>\n                                <option value="courier">Courier</option>\n                                <option value="dosis">Dosis</option>\n                                <option value="droid sans">Droid Sans</option>\n                                <option value="droid serif">Droid Serif</option>\n                                <option value="helvetica">Helvetica</option>\n\t\t\t\t\t\t\t\t<option value="merriweather">Merriweather</option>\n                                <option value="montserrat">Montserrat</option>\n                                <option value="noto sans jp">Noto Sans JP</option>\n                                <option value="noto sans kr">Noto Sans KR</option>\n                                <option value="noto sans sc">Noto Sans SC</option>\n                                <option value="noto sans tc">Noto Sans TC</option>\n                                <option value="open sans">Open Sans</option>\n                                <option value="play">Play</option>\n                                <option value="pt sans">PT Sans</option>\n                                <option value="pt serif">PT Serif</option>\n                                <option value="roboto">Roboto</option>\n                                <option value="roboto light">Roboto Light</option>\n                                <option value="times">Times</option>\n                                <option value="titillium web">Titillium Web</option>\n                                <option value="ubuntu">Ubuntu</option>\n                            </select>\n                        </span>\n\t\t\t\t\t\t<span class="ql-formats">\n                            <button class="ql-clean" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.clearFormatting]]"></button>\n                        </span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<span class="ql-formats">\n                            <button class="ql-undo" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.undo]]">\n                                <svg viewbox="0 0 18 18">\n                                    <polygon class="ql-fill ql-stroke" points="6 10 4 12 2 10 6 10"></polygon>\n                                    <path class="ql-stroke" d="M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"></path>\n                                </svg>\n                            </button>\n                            <button class="ql-redo" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.redo]]">\n                                <svg viewbox="0 0 18 18">\n                                    <polygon class="ql-fill ql-stroke" points="12 10 14 12 16 10 12 10"></polygon>\n                                    <path class="ql-stroke" d="M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"></path\n                                </svg>\n                            </button>\n                        </span>\n\t\t\t\t\t\t<span class="ql-formats">\n\t\t\t\t\t\t\t<button class="ql-align" data-toggle="tooltip" value="" title="[[tooltipTextMap.alignLeft]]"></button>\n\t\t\t\t\t\t\t<button class="ql-align" data-toggle="tooltip" value="center" title="[[tooltipTextMap.center]]"></button>\n\t\t\t\t\t\t\t<button class="ql-align" data-toggle="tooltip" value="right" title="[[tooltipTextMap.alignRight]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-color" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.textColor]]">\n                            </select>\n                            <select class="ql-background" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.backgroundColor]]">\n                            </select>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-script" value="sub" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.subscript]]"></button>\n                            <button class="ql-script" value="super" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.superscript]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-list" value="ordered" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.numberedList]]"></button>\n                            <button class="ql-list" value="bullet" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.bulletList]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-blockquote" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.blockQuote]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-link" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.link]]"></button>\n                        </span>\n\t\t\t\t\t\t<span class="ql-formats">\n                            <button class="ql-image" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.image]]"></button>\n                        </span>\n                    </div>\n                    <div id="rteContainer"></div>\n                </div>\n                <paper-button slot="paper-button" class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n            </sb-dialog>\n        </div>\n\t    '])),G)}}]),n}(r.a);customElements.define(Ht.is,Ht);var Ut;n(150),n(25),n(36);var Vt,Wt=Object(u.b)(Ut||(Ut=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sb-table-row-border-bottom-style: solid;\n  --sb-table-row-border-bottom-color: #d0d0d0;\n  --sb-table-row-border-bottom-width: 1px;\n  --sbTableInnerTdPadding: 8px 6px 8px 25px;\n}\n#search {\n  width: calc(100% - 60px);\n  position: absolute;\n  --headerSearchRight: 21px;\n}\n#search .searchActions {\n  right: 21px !important;\n}\n.close {\n  margin-left: 14px !important;\n  float: left;\n  border: white;\n  font-size: 20px !important;\n  width: 40px;\n}\n.searchbar {\n  height: 38px;\n  margin: 10px 0;\n}\n.datatable {\n  border-top-color: #d0d0d0;\n  border-top-style: solid;\n  border-top-width: 1px;\n}\n"])));function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xt(){return(Xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Jt(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Jt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ne(t)););return t}function Zt(t,e){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ne(t);if(e){var r=ne(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe,re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(s,t);var e,n,o,i=te(s);function s(){return Kt(this,s),i.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-search-bar-dialog"}},{key:"properties",get:function(){return{value:String,cols:{type:Array,value:["DisplayName"]},colsDisplay:{type:Array,value:["DisplayName"]},results:Array}}},{key:"template",get:function(){return Object(r.b)(Vt||(Vt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles sb-forms-styles sb-tables-styles sb-dialogs-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-dialog device id="dialog" modal="true" hide-header="true">\n\t\t\t<sb-i18n slot="title" class="title dialog">Product Search</sb-i18n>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<div class="searchbar">\n\t\t\t\t\t<paper-button class="close" noink on-click="close"><icon class="icon sf-icon-close"></icon></paper-button>\n\t\t\t\t\t<sb-search-bar id="search" quote="[[quote]]" search-service="ProductLookupServiceProvider.SearchModelSearcher"></sb-search-bar>\n\t\t\t\t</div>\n\t\t\t\t<div class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" cols="[[cols]]"></sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[results]]" as="row">\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\tcols="[[cols]]"\n\t\t\t\t\t\t\t\t\tcols-display="[[colsDisplay]]"\n\t\t\t\t\t\t\t\t\trow-data="[[row]]"\n\t\t\t\t\t\t\t\t\tdisable-swipe="true"\n\t\t\t\t\t\t\t\t\ton-click="mobileSelection"\n\t\t\t\t\t\t\t\t\tdata-name$="[[row.Name]]"\n\t\t\t\t\t\t\t\t\tdata-id$="[[row.Id]]"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</sb-dialog>\n\t\t'])),Wt)}}],(n=[{key:"ready",value:function(){Xt(ne(s.prototype),"ready",this).call(this),this.attachSearchProperties(),this.attachSearchEvents()}},{key:"attachSearchProperties",value:function(){this.$.search.searchResultCallback=this.handleSearchResults.bind(this)}},{key:"attachSearchEvents",value:function(){this.$.search.addEventListener("sb-search-invoked",this.toggle.bind(this)),this.$.search.addEventListener("sb-search-nil-search-invoked",this.updateSearchResults.bind(this))}},{key:"open",value:function(){this.$.search.value=this.value,""===this.value&&(this.results=[]),this.toggle(),this.$.search.$.typeahead.focus()}},{key:"close",value:function(){this.blur(),this.toggle()}},{key:"toggle",value:function(){this.$.dialog.toggle()}},{key:"handleSearchResults",value:function(t){this.results=t}},{key:"updateSearchResults",value:function(){var t,e=[],n=Gt(this.results);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.Name===this.$.search.value&&e.push(o)}}catch(t){n.e(t)}finally{n.f()}this.results=e}},{key:"mobileSelection",value:function(t){var e=t.target,n=e.getAttribute("data-name");this.$.search.value=n;var o=e.getAttribute("data-id");this.dispatchEvent(Object(a.d)("sb-search-item-selected",{item:this.$.search.getSearchResultRow(o),searchValue:n})),setTimeout(function(){this.toggle()}.bind(this),350),this.updateSearchResults()}},{key:"clearSearchResults",value:function(){this.results=[]}}])&&Yt(e.prototype,n),o&&Yt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.a);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function se(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ce(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ue(){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=de(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function de(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=be(t)););return t}function pe(t,e){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=be(t);if(e){var r=be(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return fe(this,n)}}function fe(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(re.is,re);var ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(l,t);var e,n,o,s=he(l);function l(){return le(this,l),s.apply(this,arguments)}return e=l,o=[{key:"is",get:function(){return"sb-page-header"}},{key:"properties",get:function(){return{viewport:{type:Object,observer:"_viewportChanged",value:function(){return i.a.getViewport()}},showMenu:{type:Boolean,value:function(){return!0}},menuClosed:{type:Boolean,value:function(){return!0}},hideFullTitle:{type:Boolean,value:!1},searchbar:{type:Boolean,observer:"_setSearchbarStyles"},debugMode:Boolean,ept:{type:Number,value:0},bpt:{type:Number,value:0},spt:{type:Number,value:0},showLookupDialog:Boolean}}},{key:"changeMenu",value:function(t,e,n,o,r){var i=t.currentTarget.getBoundingClientRect(),a=n.style;return a.top=i.bottom+2+"px",a.right=window.innerWidth-i.right+"px",Object(c.m)(o,e,n),!e}},{key:"template",get:function(){return Object(r.b)(oe||(oe=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="iron-flex iron-flex-alignment"></style>\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<header class="header" device>\n\t\t\t\x3c!-- dom-if needed here due to iron-list bug with fully recycling rows when closing-reopening --\x3e\n\t\t\t<template is="dom-if" if="[[showLookupDialog]]" restamp>\n\t\t\t\t<sb-lookup-dialog id="lookup"></sb-lookup-dialog>\n\t\t\t</template>\n\t\t\t<sb-search-bar-dialog id="search"></sb-search-bar-dialog>\n\t\t\t<sb-rte-dialog id="rte"></sb-rte-dialog>\n\n\t\t\t<template is="dom-if" if="[[debugMode]]">\n\t\t\t\t<div class="sticker">\n\t\t\t\t\t<div class="eptLabel">EPT: [[ept]] ms</div>\n\t\t\t\t\t<div class="bptLabel">BPT: [[bpt]] ms</div>\n\t\t\t\t\t<div class="sptLabel">SPT: [[spt]] ms</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t\x3c!--this is the row--\x3e\n\t\t\t<div class="layout horizontal">\n\t\t\t\t<div>\n\t\t\t\t\t<slot name="messages"></slot>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- header icon--\x3e\n\t\t\t\t<span id="icon" class="sbHeaderIcon"><slot name="icon"></slot></span>\n\n\t\t\t\t\x3c!--titles--\x3e\n\t\t\t\t<div class="titles">\n\t\t\t\t\t<p id="sub-title"><slot name="h2"></slot></p>\n\t\t\t\t\t<p id="title" on-click="_showFullTitle"><slot name="h1"></slot></p>\n\t\t\t\t\t<p id="full-title"></p>\n\n\t\t\t\t\t<p id="quoteTotal"><slot name="quoteTotal"></slot></p>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!--buttons--\x3e\n\t\t\t\t<template is="dom-if" if="[[searchbar]]">\n\t\t\t\t<div class="flex centered" id="searchbar">\n\t\t\t\t\t<slot name="headersearch"></slot>\n\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div class="flex layout horizontal wrap end-justified start centered">\n\t\t\t\t\t<div id="fixed" class="normal">\n\t\t\t\t\t\t<slot name="fixedActions"></slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="buttons" class="normal" on-click="_changeMenu">\n\t\t\t\t\t\t<slot name="actions"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="layout horizontal centered start end-justified" hidden$="{{!showMenu}}">\n\t\t\t\t\t<paper-button noink id="menuButton" on-click="_changeMenu"><i class="sf-icon-down"></i></paper-button>\n\t\t\t\t</div>\n\t\t\t\t<p id="fullScreenMode"><slot name="fullScreenMode"></slot></p>\n\t\t\t\t\x3c!--buttons--\x3e\n\n\t\t\t</div>\n\t\t</header>\n\n\t\t'])),f)}}],(n=[{key:"events",get:function(){var t={};return t[a.a.AUTO_LAUNCH_POPUP]=this.allowAutoLaunchPopup,t[a.a.NAVIGATION_CHANGED]=this.navigationChanged,t[a.a.OPEN_LOOKUP_DIALOG]=this.openLookupDialog,t[a.a.CLOSE_LOOKUP_DIALOG]=this.closeLookupDialog,t[a.a.OPEN_RTE_DIALOG]=this.openRteDialog,t[a.a.OPEN_SEARCH_BAR_DIALOG]=this.openSearchDialog,t[a.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"ready",value:function(){ue(be(l.prototype),"ready",this).call(this),this.debugMode=window.sb.mode&&window.sb.mode.debugMode||!1,this.debugMode&&this._setupMetricsServiceListeners()}},{key:"_showFullTitle",value:function(t){this.viewport.isMobile()&&(this.hideFullTitle||this.children[1].textContent)&&(this.hideFullTitle=!this.hideFullTitle,this.$["full-title"].innerText=this.hideFullTitle?this.children[1].textContent:"",this.$["full-title"].style.opacity=this.hideFullTitle?1:0)}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"navigationChanged",value:function(){this._closeMenu()}},{key:"_closeMenu",value:function(){Object(c.m)("open",!1,this.$.buttons),Object(c.m)("autoLaunch",!1,this.$.buttons),setTimeout(function(){this.menuClosed=!0}.bind(this),1)}},{key:"_changeMenu",value:function(t){t.composedPath().find((function(t){return t.getAttribute&&"Popup"==t.getAttribute("data-target")}))||(this.menuClosed=l.changeMenu(t,this.menuClosed,this.$.buttons,"open",this),this.menuClosed&&this.dispatchEvent(new CustomEvent("sb-menu-closed")))}},{key:"_viewportChanged",value:function(){this.showMenu=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up),this.showMenu?(this.$.buttons.classList.remove("normal"),this.updateClassForActionsContainers(!1)):(this.$.buttons.classList.add("normal"),this.updateClassForActionsContainers(!0))}},{key:"updateClassForActionsContainers",value:function(t){var e,n=ae(this.querySelectorAll('div[slot="actions"]'));try{for(n.s();!(e=n.n()).done;){var o=e.value;t?o.classList.add("normal"):o.classList.remove("normal")}}catch(t){n.e(t)}finally{n.f()}}},{key:"_setSearchbarStyles",value:function(){}},{key:"openLookupDialog",value:function(t){var e=this;this.showLookupDialog=!0,Object(S.a)(this,(function(){var n=e.shadowRoot.querySelector("#lookup");n.invoker=t.detail.lookup,n.open(t.detail.searchValue)}))}},{key:"closeLookupDialog",value:function(t){this.showLookupDialog=!1}},{key:"openRteDialog",value:function(t){var e=this.$.rte;e.value=t.detail.value,e.rte=t.detail.rte,e.open()}},{key:"openSearchDialog",value:function(t){var e=this.$.search;e.value=t.detail.value,e.quote=t.detail.quote,e.open()}},{key:"allowAutoLaunchPopup",value:function(){this.showMenu&&(Object(c.m)("open",!0,this.$.buttons),Object(c.m)("autoLaunch",!0,this.$.buttons),this.menuClosed=!1)}},{key:"_setupMetricsServiceListeners",value:function(){document.addEventListener("metrics-changed",function(t){var e=t.detail,n=this.querySelector(".header .sticker");null!=e.ept&&(this.ept=Math.round(e.ept)),null!=e.bpt&&(this.bpt=Math.round(e.bpt)),null!=e.spt&&(this.spt=Math.round(e.spt)),n&&(n.style.display="block",this.ept<=2e3?n.style.backgroundColor="#468847":this.ept>2e3&&this.ept<=3e3?n.style.backgroundColor="#daa520":n.style.backgroundColor="#b72020")}.bind(this))}}])&&ce(e.prototype,n),o&&ce(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(s.a)(Object(l.a)(r.a)));customElements.define(ye.is,ye)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(10),n(8);var o={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(t){this._setFocused("focus"===t.type)},_disabledChanged:function(t,e){this.setAttribute("aria-disabled",t?"true":"false"),this.style.pointerEvents=t?"none":"",t?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(10);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var o={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},r={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},i={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},a=/[a-z0-9*]/,s=/U\+/,l=/^arrow/,c=/^space(bar)?/,u=/^escape$/;function d(t,e){var n="";if(t){var o=t.toLowerCase();" "===o||c.test(o)?n="space":u.test(o)?n="esc":1==o.length?e&&!a.test(o)||(n=o):n=l.test(o)?o.replace("arrow",""):"multiply"==o?"*":o}return n}function p(t,e){return t.key?d(t.key,e):t.detail&&t.detail.key?d(t.detail.key,e):(n=t.keyIdentifier,i="",n&&(n in o?i=o[n]:s.test(n)?(n=parseInt(n.replace("U+","0x"),16),i=String.fromCharCode(n).toLowerCase()):i=n.toLowerCase()),i||function(t){var e="";return Number(t)&&(e=t>=65&&t<=90?String.fromCharCode(32+t):t>=112&&t<=123?"f"+(t-112+1):t>=48&&t<=57?String(t-48):t>=96&&t<=105?String(t-96):r[t]),e}(t.keyCode)||"");var n,i}function h(t,e){return p(e,t.hasModifiers)===t.key&&(!t.hasModifiers||!!e.shiftKey==!!t.shiftKey&&!!e.ctrlKey==!!t.ctrlKey&&!!e.altKey==!!t.altKey&&!!e.metaKey==!!t.metaKey)}function f(t){return t.trim().split(" ").map((function(t){return function(t){return 1===t.length?{combo:t,key:t,event:"keydown"}:t.split("+").reduce((function(t,e){var n=e.split(":"),o=n[0],r=n[1];return o in i?(t[i[o]]=!0,t.hasModifiers=!0):(t.key=o,t.event=r||"keydown"),t}),{combo:t.split(":").shift()})}(t)}))}var b={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(t,e){this._imperativeKeyBindings[t]=e,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(t,e){for(var n=f(e),o=0;o<n.length;++o)if(h(n[o],t))return!0;return!1},_collectKeyBindings:function(){var t=this.behaviors.map((function(t){return t.keyBindings}));return-1===t.indexOf(this.keyBindings)&&t.push(this.keyBindings),t},_prepKeyBindings:function(){for(var t in this._keyBindings={},this._collectKeyBindings().forEach((function(t){for(var e in t)this._addKeyBinding(e,t[e])}),this),this._imperativeKeyBindings)this._addKeyBinding(t,this._imperativeKeyBindings[t]);for(var e in this._keyBindings)this._keyBindings[e].sort((function(t,e){var n=t[0].hasModifiers;return n===e[0].hasModifiers?0:n?-1:1}))},_addKeyBinding:function(t,e){f(t).forEach((function(t){this._keyBindings[t.event]=this._keyBindings[t.event]||[],this._keyBindings[t.event].push([t,e])}),this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach((function(t){var e=this._keyBindings[t],n=this._onKeyBindingEvent.bind(this,e);this._boundKeyHandlers.push([this.keyEventTarget,t,n]),this.keyEventTarget.addEventListener(t,n)}),this)},_unlistenKeyEventListeners:function(){for(var t,e,n,o;this._boundKeyHandlers.length;)e=(t=this._boundKeyHandlers.pop())[0],n=t[1],o=t[2],e.removeEventListener(n,o)},_onKeyBindingEvent:function(t,e){if(this.stopKeyboardEventPropagation&&e.stopPropagation(),!e.defaultPrevented)for(var n=0;n<t.length;n++){var o=t[n][0],r=t[n][1];if(h(o,e)&&(this._triggerKeyHandler(o,r,e),e.defaultPrevented))return}},_triggerKeyHandler:function(t,e,n){var o=Object.create(t);o.keyboardEvent=n;var r=new CustomEvent(t.event,{detail:o,cancelable:!0});this[e].call(this,r),r.defaultPrevented&&n.preventDefault()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(43),r=n(157);function i(t,e){var n=new o.a(r.a.is);return n.addAttribute("value",1,"value",t),e&&n.addAttribute("class",1,"fieldClass",e,"$="),n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(59);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._quote=e,this._linesByKey=new Map,null!=this._quote.lineItems&&this._quote.lineItems.forEach((function(t){n._linesByKey.set(t.key,t)}));var r="Quote__c"===e.record.attributes.type?"":e.record.attributes.type.slice(0,-8);this._constants=new o.a(r)}var e,n,i;return e=t,(n=[{key:"mapPriorBundledQuantityByLineKey",value:function(){var t=this,e={};return null!=this._quote.lineItems&&this._quote.lineItems.forEach((function(n){e[n.key+""]=t._getPriorBundledQuantity(n)})),e}},{key:"getUpgradedAssetIdsAsArray",value:function(){var t=new Set,e=this._constants.UPGRADED_ASSET_FIELD;null!=this._quote.lineItems&&this._quote.lineItems.forEach((function(n){var o=n.record[e];null!=o&&t.add(o)}));var n=[];return t.forEach((function(t){n.push(t)})),n}},{key:"getExistingProductIdsFromLines",value:function(){var t=new Set,e=this._constants.EXISTING_FIELD,n=this._constants.PRODUCT;null!=this._quote.lineItems&&this._quote.lineItems.forEach((function(o){o.record[e]&&t.add(o.record[n])}));var o=[];return t.forEach((function(t){o.push(t)})),o}},{key:"getSegmentTemplatesByDimensionTypeForGroupKey",value:function(t){var e,n,o,r,i=this,a={},s=[],l=[],c=[],u=[],d=this._constants.DIMENSION_ID_FIELD,p=this._constants.DIMENSION_FIELD,h=this._constants.TYPE_FIELD,f=this._constants.SEGMENT_KEY_FIELD;return this._quote.lineItems&&this._quote.lineItems.forEach((function(a){if(a.parentGroupKey==t){var b=a.dimensionType||(a.record[d]?a.record[p][h]:null),y=a.record[f];switch(b){case i._constants.TYPE_CUSTOM_DIMENSION:e&&e!=y||(e=y,s.push(a));break;case i._constants.TYPE_YEARLY_DIMENSION:n&&n!=y||(n=y,c.push(a));break;case i._constants.TYPE_MONTHLY_DIMENSION:o&&o!=y||(o=y,l.push(a));break;case i._constants.TYPE_QUARTERLY_DIMENSION:r&&r!=y||(r=y,u.push(a))}}})),a[this._constants.TYPE_CUSTOM_DIMENSION]=s,a[this._constants.TYPE_MONTHLY_DIMENSION]=l,a[this._constants.TYPE_YEARLY_DIMENSION]=c,a[this._constants.TYPE_QUARTERLY_DIMENSION]=u,a}},{key:"getKeysOfEmptyGroups",value:function(){if(!this._quote.lineItemGroups||0==this._quote.lineItemGroups.length)return[];var t=new Set;this._quote.lineItemGroups.forEach((function(e){t.add(e.key)})),this._quote.lineItems&&this._quote.lineItems.forEach((function(e){t.delete(e.parentGroupKey)}));var e=[];return t.forEach((function(t){e.push(t)})),e}},{key:"_getPriorBundledQuantity",value:function(t){var e,n;return this._isCarryoverLine(t)?(e=this._getCarryoverQuantity(t),n=this._linesByKey.get(t.parentItemKey).record[this._constants.QUANTITY_FIELD]):(e=t.record[this._constants.PRIOR_QUANTITY_FIELD],n=this._linesByKey.get(t.parentItemKey)?this._linesByKey.get(t.parentItemKey).record[this._constants.PRIOR_QUANTITY_FIELD]:null),null!=n&&null!=e&&this._optionTypeIsComponent(t)?e/n:e}},{key:"_isCarryoverLine",value:function(t){return 1==t.record[this._constants.CARRYOVER_LINE_FIELD]}},{key:"_getCarryoverQuantity",value:function(t){var e=t.record[this._constants.PRIOR_QUANTITY_FIELD],n=this._linesByKey.get(t.parentItemKey);if(null!=t.sourceLineKey&&n){var o=this._linesByKey.get(t.sourceLineKey);o&&(e=this._getPriorBundledQuantity(o),this._optionTypeIsComponent(o)&&(e*=n.record[this._constants.QUANTITY_FIELD]))}return e}},{key:"_optionTypeIsComponent",value:function(t){var e=t.record[this._constants.OPTION_TYPE_FIELD];return null!=e&&"component"===e.toLowerCase()}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));function o(t){this.QUOTE="".concat(t,"Quote__c"),this.QUOTE_LINE="".concat(t,"QuoteLine__c"),this.QUOTE_LINE_GROUP="".concat(t,"QuoteLineGroup__c"),this.LAST_MODIFIED_DATE_FIELD="LastModifiedDate",this.ACCOUNT_FIELD="".concat(t,"Account__r"),this.ACCOUNT_ID_FIELD="".concat(t,"Account__c"),this.ACTION_FIELD="".concat(t,"Action__c"),this.ADDITIONAL_DISCOUNT_AMOUNT_FIELD="".concat(t,"AdditionalDiscountAmount__c"),this.ADDITIONAL_DISCOUNT_FIELD="".concat(t,"AdditionalDiscount__c"),this.ADDITIONAL_DISCOUNT_RATE_FIELD="".concat(t,"Discount__c"),this.ADDITIONAL_QUANTITY_FIELD="".concat(t,"AdditionalQuantity__c"),this.ALLOW_ASSET_REFUND_FIELD="".concat(t,"AllowAssetRefund__c"),this.BATCH_QUANTITY="".concat(t,"BatchQuantity__c"),this.BUNDLE_FIELD="".concat(t,"Bundle__c"),this.BUNDLED_FIELD="".concat(t,"Bundled__c"),this.BUNDLED_QUANTITY_FIELD="".concat(t,"BundledQuantity__c"),this.CARRYOVER_LINE_FIELD="".concat(t,"CarryoverLine__c"),this.CLASS_FIELD="".concat(t,"Class__c"),this.COMPONENT_DISCOUNTED_BY_PACKAGE_FIELD="".concat(t,"ComponentDiscountedByPackage__c"),this.COMPONENT_LIST_TOTAL_FIELD="".concat(t,"ComponentListTotal__c"),this.COMPONENT_SUBSCRIPTION_SCOPE_FIELD="".concat(t,"ComponentSubscriptionScope__c"),this.COMPONENT_VISIBILITY_FIELD="".concat(t,"ComponentVisibility__c"),this.CONDITIONS_MET_FIELD="".concat(t,"ConditionsMet__c"),this.CONSUMPTION_RATE_OVERRIDE="".concat(t,"ConsumptionRateOverride__c"),this.COST_EDITABLE_FIELD="".concat(t,"CostEditable__c"),this.CUSTOM_ACTION_CONDITIONS_FIELD="".concat(t,"Custom_Action_Conditions__r"),this.CUSTOMER_AMOUNT_FIELD="".concat(t,"CustomerAmount__c"),this.CUSTOMER_PRICE_FIELD="".concat(t,"CustomerPrice__c"),this.DEFAULT_SUBSCRIPTION_TERM_FIELD="".concat(t,"DefaultSubscriptionTerm__c"),this.DEFAULT_FIELD="".concat(t,"Default__c"),this.DESCRIPTION_FIELD="".concat(t,"Description__c"),this.DIMENSION_ID_FIELD="".concat(t,"Dimension__c"),this.DIMENSION_FIELD="".concat(t,"Dimension__r"),this.DISCOUNT_AMOUNT_FIELD="".concat(t,"DiscountAmount__c"),this.DISCOUNT_SCHEDULE_FIELD="".concat(t,"DiscountSchedule__c"),this.DISCOUNT_SCHEDULE_TYPE_FIELD="".concat(t,"DiscountScheduleType__c"),this.DISCOUNT_TIER_FIELD="".concat(t,"DiscountTier__c"),this.DISCOUNT_TIERS_FIELD="".concat(t,"DiscountTiers__r"),this.DISCOUNT_UNIT_FIELD="".concat(t,"DiscountUnit__c"),this.DISTRIBUTOR_DISCOUNT_FIELD="".concat(t,"DistributorDiscount__c"),this.EFFECTIVE_END_DATE_FIELD="".concat(t,"EffectiveEndDate__c"),this.EFFECTIVE_QUANTITY="".concat(t,"EffectiveQuantity__c"),this.END_DATE_FIELD="".concat(t,"EndDate__c"),this.EVENT_HANDLER_NAME_FIELD="".concat(t,"EventHandlerName__c"),this.EXISTING_FIELD="".concat(t,"Existing__c"),this.FAVORITE_ID_FIELD="".concat(t,"Favorite__c"),this.FIELD_FIELD="".concat(t,"Field__c"),this.FILTER_VALUE_FIELD="".concat(t,"FilterValue__c"),this.GROUP_LINE_ITEMS_FIELD="".concat(t,"LineItemsGrouped__c"),this.ICON_CLASS_FIELD="".concat(t,"IconClass__c"),this.LABEL_FIELD="".concat(t,"Label__c"),this.LIST_PRICE_FIELD="".concat(t,"ListPrice__c"),this.LOCATION_FIELD="".concat(t,"Location__c"),this.LONG_TEXT_AREA_FIELD="".concat(t,"LongTextArea__c"),this.LOWER_BOUND_FIELD="".concat(t,"LowerBound__c"),this.MARKUP_AMOUNT_FIELD="".concat(t,"MarkupAmount__c"),this.MARKUP_FIELD="".concat(t,"Markup__c"),this.MARKUP_RATE_FIELD="".concat(t,"MarkupRate__c"),this.NET_AMOUNT_FIELD="".concat(t,"NetAmount__c"),this.NET_PRICE_FIELD="".concat(t,"NetPrice__c"),this.NET_TOTAL_FIELD="".concat(t,"NetTotal__c"),this.NON_DISCOUNTABLE_FIELD="".concat(t,"NonDiscountable__c"),this.NON_PARTNER_DISCOUNTABLE_FIELD="".concat(t,"NonPartnerDiscountable__c"),this.NUMBER_FIELD="".concat(t,"Number__c"),this.OPERATOR_FIELD="".concat(t,"Operator__c"),this.OPPORTUNITY_FIELD="".concat(t,"Opportunity2__r"),this.OPPORTUNITY_ID_FIELD="".concat(t,"Opportunity2__c"),this.OPTION_LEVEL_FIELD="".concat(t,"OptionLevel__c"),this.OPTION_TYPE_FIELD="".concat(t,"OptionType__c"),this.OPTIONAL_FIELD="".concat(t,"Optional__c"),this.ORIGINAL_QUOTE_LINE_FIELD="".concat(t,"OriginalQuoteLine__c"),this.ORIGINAL_SCHEDULE_FIELD="".concat(t,"OriginalDiscountSchedule__c"),this.OVERRIDE_BEHAVIOR_FIELD="".concat(t,"OverrideBehavior__c"),this.PAGE_FIELD="".concat(t,"Page__c"),this.PARENT_CUSTOM_ACTION_FIELD="".concat(t,"ParentCustomAction__c"),this.PARTNER_DISCOUNT_FIELD="".concat(t,"PartnerDiscount__c"),this.PARTNER_PRICE_FIELD="".concat(t,"PartnerPrice__c"),this.PRICE_EDITABLE_FIELD="".concat(t,"PriceEditable__c"),this.PRICEBOOK_ID_FIELD="".concat(t,"PricebookId__c"),this.PRICEBOOK_LOOKUP_ID_FIELD="".concat(t,"PriceBook__c"),this.PRICING_GUIDANCE_FIELD="".concat(t,"Guidance__c"),this.PRICING_METHOD_EDITABLE_FIELD="".concat(t,"PricingMethodEditable__c"),this.PRICING_METHOD_FIELD="".concat(t,"PricingMethod__c"),this.PRIMARY_FIELD="".concat(t,"Primary__c"),this.PRICE_SCALE_FIELD="".concat(t,"PriceScale__c"),this.BRAND_BUTTON_FIELD="".concat(t,"BrandButton__c"),this.PRIOR_QUANTITY_FIELD="".concat(t,"PriorQuantity__c"),this.PRODUCT="".concat(t,"Product__c"),this.PRODUCT_CODE_FIELD="".concat(t,"ProductCode__c"),this.PRODUCT_NAME_FIELD="".concat(t,"ProductName__c"),this.PRORATE_MULTIPLIER_FIELD="".concat(t,"ProrateMultiplier__c"),this.QUANTITY_FIELD="".concat(t,"Quantity__c"),this.QUOTE_PROCESS_FIELD="".concat(t,"QuoteProcess__c"),this.QUOTE_PROCESS_ID_FIELD="".concat(t,"QuoteProcessId__c"),this.REGULAR_PRICE_FIELD="".concat(t,"RegularPrice__c"),this.RENEWAL_CHECKBOX="".concat(t,"Renewal__c"),this.RENEWED_ASSET_ID_FIELD="".concat(t,"RenewedAsset__c"),this.RENEWED_ASSET_RELATIONSHIP_FIELD="".concat(t,"RenewedAsset__r"),this.RENEWED_SUBSCRIPTION_RELATIONSHIP_FIELD="".concat(t,"RenewedSubscription__r"),this.REQUIRED_BY_FIELD="".concat(t,"RequiredBy__c"),this.RICH_TEXT_AREA_FIELD="".concat(t,"RichTextArea__c"),this.SEGMENT_INDEX_FIELD="".concat(t,"SegmentIndex__c"),this.SEGMENT_KEY_FIELD="".concat(t,"SegmentKey__c"),this.SEGMENT_LABEL_FIELD="".concat(t,"SegmentLabel__c"),this.SOLUTION_GROUP_ID_FIELD="".concat(t,"SolutionGroup__c"),this.SOURCE_FIELD="".concat(t,"Source__c"),this.SPECIAL_PRICE_FIELD="".concat(t,"SpecialPrice__c"),this.START_DATE_FIELD="".concat(t,"StartDate__c"),this.SUBSCRIBED_ASSET_IDS_FIELD="".concat(t,"SubscribedAssetIds__c"),this.SUBSCRIPTION_BASE_FIELD="".concat(t,"SubscriptionBase__c"),this.SUBSCRIPTION_PRICING_FIELD="".concat(t,"SubscriptionPricing__c"),this.SUBSCRIPTION_SCOPE_FIELD="".concat(t,"SubscriptionScope__c"),this.SUBSCRIPTION_TERM_FIELD="".concat(t,"SubscriptionTerm__c"),this.TARGET_CUSTOMER_AMOUNT="".concat(t,"TargetCustomerAmount__c"),this.SUBSCRIPTION_TYPE_FIELD="".concat(t,"SubscriptionType__c"),this.TARGET_CUSTOMER_AMOUNT="".concat(t,"TargetCustomerAmount__c"),this.TARGET_OBJECT_FIELD="".concat(t,"TargetObject__c"),this.TEXT_FIELD="".concat(t,"Text__c"),this.TEXT_AREA_FIELD="".concat(t,"TextArea__c"),this.TYPE_FIELD="".concat(t,"Type__c"),this.UNIT_COST_FIELD="".concat(t,"UnitCost__c"),this.UPGRADE_CONVERSION_RATE="".concat(t,"UpgradeConversionRate__c"),this.UPGRADED_ASSET_FIELD="".concat(t,"UpgradedAsset__c"),this.UPGRADED_QUANTITY="".concat(t,"UpgradedQuantity__c"),this.UPGRADED_SUBSCRIPTION_FIELD="".concat(t,"UpgradedSubscription__c"),this.UPGRADED_CONTRACT_LINE="UpgradedContractLine__c",this.UPLIFT_FIELD="".concat(t,"Uplift__c"),this.UPPER_BOUND_FIELD="".concat(t,"UpperBound__c"),this.URL_TARGET_FIELD="".concat(t,"URLTarget__c"),this.URL_FIELD="".concat(t,"URL__c"),this.RETURN_URL_FIELD="".concat(t,"ReturnURL__c"),this.USE_PRICE_FOR_AMOUNT_FIELD="".concat(t,"UsePriceForAmount__c"),this.USER_DEFINED_FIELD="".concat(t,"UserDefined__c"),this.UNOPENED_FIELD="".concat(t,"Unopened__c"),this.HAS_CONSUMPTION_SCHEDULE="".concat(t,"HasConsumptionSchedule__c"),this.CUSTOM_VALUE="Custom",this.PANEL_ADDED_INDEX=2,this.PERCENT_OF_TOTAL="Percent Of Total",this.TYPE_STANDARD="Standard",this.TYPE_YEARLY_DIMENSION="Year",this.TYPE_QUARTERLY_DIMENSION="Quarter",this.TYPE_MONTHLY_DIMENSION="Month",this.TYPE_SINGLE_DIMENSION="One-time",this.TYPE_CUSTOM_DIMENSION="Custom",this.STANDARD_LINE="STANDARD_LINE",this.SEGMENTED_LINE="SEGMENTED_LINE",this.GROUP_HEADER="GROUP_HEADER",this.GROUP_FOOTER="GROUP_FOOTER",this.PRICING_GUIDANCE_TARGET="".concat(t,"Target__c"),this.PRICING_GUIDANCE_FLOOR="".concat(t,"Floor__c"),this.PRICING_GUIDANCE_NORM="".concat(t,"Norm__c"),this.PRICING_GUIDANCE_EXPLANATION="".concat(t,"Explanation__c"),this.QUANTITY_FIELDS=new Set([this.ADDITIONAL_QUANTITY_FIELD,this.BATCH_QUANTITY,this.BUNDLED_QUANTITY_FIELD,this.EFFECTIVE_QUANTITY,this.PRIOR_QUANTITY_FIELD,this.QUANTITY_FIELD,this.UPGRADED_QUANTITY]),this.UNIT_PRICE_FIELDS=new Set([this.ADDITIONAL_DISCOUNT_FIELD,this.CUSTOMER_PRICE_FIELD,this.LIST_PRICE_FIELD,this.MARKUP_AMOUNT_FIELD,this.NET_PRICE_FIELD,this.PARTNER_PRICE_FIELD,this.REGULAR_PRICE_FIELD,this.SPECIAL_PRICE_FIELD,this.UNIT_COST_FIELD]),this.UBP_FIELDS={ConsumptionSchedule:"".concat(t,"QuoteLineConsumptionSchedule__r"),ConsumptionScheduleId:"".concat(t,"QuoteLineConsumptionSchedule__c"),ConsumptionRateFields:{UpperBound:"".concat(t,"UpperBound__c"),LowerBound:"".concat(t,"LowerBound__c"),ProcessingOrder:"".concat(t,"ProcessingOrder__c"),Price:"".concat(t,"Price__c")}},this.FIELD_SET_METADATA={Default:"".concat(t,"Default__c"),FieldSet:"".concat(t,"FieldSet__c"),ObjectType:"".concat(t,"ObjectType__c")},this.COLUMN_METADATA={FieldColumnSize:"".concat(t,"FieldColumnSize__c"),FieldName:"".concat(t,"FieldName__c"),FieldSetMetadata:"".concat(t,"FieldSetMetadata__c"),FieldSetMasterDetail:"".concat(t,"FieldSetMetadata__r"),FieldSet:"".concat(t,"FieldSet__c")},this.prefix=t,this}},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return i}));var r={Contract:"ContractNumber",Case:"CaseNumber",WorkOrder:"WorkOrderNumber",ContractLineItem:"LineItemNumber",AssetDowntimePeriod:"AssetDowntimePeriodNumber"},i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableName=e}var e,n,i;return e=t,(n=[{key:"getNameField",value:function(){return r[this.tableName]||"Name"}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var o,r,i=/(url\()([^)]*)(\))/g,a=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function s(t,e){if(t&&a.test(t))return t;if("//"===t)return t;if(void 0===o){o=!1;try{var n=new URL("b","http://a");n.pathname="c%20d",o="http://a/c%20d"===n.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),o)try{return new URL(t,e).href}catch(e){return t}return r||((r=document.implementation.createHTMLDocument("temp")).base=r.createElement("base"),r.head.appendChild(r.base),r.anchor=r.createElement("a"),r.body.appendChild(r.anchor)),r.base.href=e,r.anchor.href=t,r.anchor.href||t}function l(t,e){return t.replace(i,(function(t,n,o,r){return n+"'"+s(o.replace(/["']/g,""),e)+"'"+r}))}function c(t){return t.substring(0,t.lastIndexOf("/")+1)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var o={},r=/-[a-z]/g,i=/([A-Z])/g;function a(t){return o[t]||(o[t]=t.indexOf("-")<0?t:t.replace(r,(function(t){return t[1].toUpperCase()})))}function s(t){return o[t]||(o[t]=t.replace(i,"-$1").toLowerCase())}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n(53),r=n(133),i=n(79),a=n(104);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.connection=e,this.metricsService=n||new i.a}var e,n,o;return e=t,(n=[{key:"read",value:function(t,e,n){return this.prefix=t,new Promise(function(t,o){this._getApex().then(function(r){var i="&reader="+e+"&uid="+n+"&spt="+this.metricsService.canGatherMetrics(),a=this.metricsService.startServiceRequest(i);r.get(this._getEndpoint()+i).then(function(e){this._resolve(this._parse(e),t,a)}.bind(this),function(t){this._reject(o,t.message||t,a)}.bind(this))}.bind(this),(function(t){o(t.message||t)}))}.bind(this))}},{key:"load",value:function(t,e,n,o){return this.prefix=t,new Promise(function(t,r){this._getApex().then(function(i){var a="&loader="+e+"&uid="+n+"&spt="+this.metricsService.canGatherMetrics(),s=this.metricsService.startServiceRequest(a);i.patch(this._getEndpoint()+a,{context:JSON.stringify(o)}).then(function(e){this._resolve(this._parse(e),t,s)}.bind(this),function(t){this._reject(r,t.message||t,s)}.bind(this))}.bind(this),(function(t){r(t.message||t)}))}.bind(this))}},{key:"save",value:function(t,e,n){return this.prefix=t,new Promise(function(t,o){this._getApex().then(function(r){var i=this.metricsService.startServiceRequest(e);r.post(this._getEndpoint()+"&spt="+this.metricsService.canGatherMetrics(),{saver:e,model:"string"==typeof n?n:JSON.stringify(n)}).then(function(e){this._resolve(this._parse(e),t,i)}.bind(this),function(t){this._reject(o,t.message||t,i)}.bind(this))}.bind(this),(function(t){o(t.message||t)}))}.bind(this))}},{key:"describe",value:function(t){return this.getConnection().then((function(e){return e.describe(t)}))}},{key:"query",value:function(t){return this.getConnection().then((function(e){return e.query(t)}))}},{key:"requestPost",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getConnection().then((function(o){return o.requestPost(t,e,n)}))}},{key:"streamFileContents",value:function(t,e,n){var o=this;return new Promise((function(r,i){o._getApex().then((function(a){var s=o.metricsService.startServiceRequest(e);a.post(null,{saver:"sobjects",model:"/sobjects/"+t+"/"+e+"/"+n}).then((function(t){o._resolve(o._parse(t),r,s)}),(function(t){o._reject(i,t.message||t,s)}))}),(function(t){i(t.message||t)}))}))}},{key:"setConnection",value:function(t){this.connection=t}},{key:"getConnection",value:function(){return this.connection?Promise.resolve(this.connection):"undefined"==typeof window?Promise.reject("Connection not set"):(this.oauth=this.oauth||new r.a,this._getConnection(this.oauth))}},{key:"_getConnection",value:function(t){return new Promise(function(e,n){t.getConnection().then(function(t){this.connection=t,e(this.connection)}.bind(this),(function(t){n(t.message||t)}))}.bind(this))}},{key:"_getApex",value:function(){return this.getConnection().then((function(t){return Promise.resolve(t.apex)}))}},{key:"_getEndpoint",value:function(){return this._getPrefix()+"/ServiceRouter?"+(void 0===this.connection.oik?"":"oik="+this.connection.oik)}},{key:"_getPrefix",value:function(){return this.prefix?"/"+this.prefix:""}},{key:"_resolve",value:function(t,e,n){var o=-1!=Object.keys(t).indexOf("spt")?t.spt:void 0;this.response=o||0===o?this._parse(t.response):t,this.metricsService.stopServiceRequest(n,o),e(this.response)}},{key:"_reject",value:function(t,e,n){(new i.a).stopServiceRequest(n),t(this._adjustErrorMessage(e))}},{key:"_adjustErrorMessage",value:function(t){return"expired access/refresh token"===t&&(t+=" - to authorize go to http://localhost:"+location.port+"/common/oauth"),t}},{key:"_parse",value:function(t){try{return(new a.a).parse(t)}catch(e){return t}}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.VF_MAX_INPUT=1e6,this._remoteConnection=(new o.a).getRemoteConnection(),this._restClient=new l(this._remoteConnection),this.metricsService=e||new i.a}var e,n,r;return e=t,(n=[{key:"read",value:function(t,e,n){return this.prefix=t,this._remote("read",e,n)}},{key:"load",value:function(t,e,n,o){this.prefix=t;var r=JSON.stringify(o);return!0===this._isPayloadTooLarge([r,n])?this._restClient.load(t,e,n,o):this._remote("load",e,n,r)}},{key:"save",value:function(t,e,n){this.prefix=t;var o="string"==typeof n?n:JSON.stringify(n);return!0===this._isPayloadTooLarge([o,e])?this._restClient.save(t,e,n):this._remote("save",e,o)}},{key:"describe",value:function(t){return this._remoteConnection.describe(t)}},{key:"query",value:function(t,e){return(new o.a).getRemoteConnection(e).query(t)}},{key:"requestPost",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._remoteConnection.requestPost(t,e,n)}},{key:"_remote",value:function(t,e,n,o){var r=this._getAction()+"."+t;return new Promise(o?function(t,i){var a=this.metricsService.startServiceRequest(e);Visualforce.remoting.Manager.invokeAction(r,e,n,o,this.metricsService.canGatherMetrics(),function(e,n){this._callback(e,n,t,i,a)}.bind(this),{escape:!1,timeout:12e4})}.bind(this):function(t,o){var i=this.metricsService.startServiceRequest(e);Visualforce.remoting.Manager.invokeAction(r,e,n,this.metricsService.canGatherMetrics(),function(e,n){this._callback(e,n,t,o,i)}.bind(this),{escape:!1,timeout:12e4})}.bind(this))}},{key:"_getAction",value:function(){return this._getPrefix()+"ServiceRouter"}},{key:"_getPrefix",value:function(){return this.prefix?this.prefix+".":""}},{key:"_callback",value:function(t,e,n,o,r){if(!e.status)return this.metricsService.stopServiceRequest(r),void o(e.message);var i=this._parse(t),a=-1!=Object.keys(i).indexOf("spt")?i.spt:void 0;i=a||0===a?this._parse(i.response):i,this.metricsService.stopServiceRequest(r,a),n(i)}},{key:"_parse",value:function(t){try{return(new a.a).parse(t)}catch(e){return t}}},{key:"_isPayloadTooLarge",value:function(t){return JSON.stringify(t).length>this.VF_MAX_INPUT}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.client="undefined"!=typeof Visualforce?new u:new l}var e,n,o;return e=t,(n=[{key:"read",value:function(t,e,n){return this.client.read(t,e,n)}},{key:"load",value:function(t,e,n,o){return this.client.load(t,e,n,o)}},{key:"save",value:function(t,e,n){return this.client.save(t,e,n)}},{key:"md",value:function(t,e,n){return this.client.load(t,"OAuthExtension.MetadataReader",null,{type:e,items:n})}},{key:"describe",value:function(t,e){return this.client.describe(e)}},{key:"query",value:function(t,e){return this.client.query(t,e)}},{key:"requestPost",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.client.requestPost(t,e,n)}},{key:"streamFileContents",value:function(t,e,n){return this.client.streamFileContents(t,e,n)}},{key:"setConnection",value:function(t){"function"==typeof this.client.setConnection&&this.client.setConnection(t)}}])&&d(e.prototype,n),o&&d(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return d}));var a=[""],s=[["product","lookup"]],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"push",value:function(t,e){this._trackHistory(t,e)&&(a[0]=t)}},{key:"pop",value:function(){return a[0]}},{key:"popPath",value:function(){return this._parsePath(this.pop())}},{key:"resetHistory",value:function(){a=[""]}},{key:"_trackHistory",value:function(t,e){var n=this._parsePath(t),r=this._parsePath(e);if(n[0]!==r[0])return!0;var i,a=o(s);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(n[0]===l[0]&&n[1]===l[1])return!0}}catch(t){a.e(t)}finally{a.f()}return!1}},{key:"_parsePath",value:function(t){var e=0===t.indexOf("#/")?2:1;return(t=t.substring(e,t.length)).split("?")[0].split("/")}}],(n=null)&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),c=n(0);function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"nav",value:function(t,e,n,o,r){var i=this._getLocation(e,n,t);l.push(window.location.hash,i),this._nav(r,i,t)}},{key:"back",value:function(t,e,n){var o=l.pop();o&&o!==window.location.hash||(o=this._getLocation(e,n)),this._nav(t,o)}},{key:"getPreviousRoute",value:function(){return l.popPath().join("/")}},{key:"_getLocation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",o=n,r=e?e.length:0,i=t?Object.keys(t):[],a=i.length;if(e)for(var s=0;s<r;s++)null!=e[s]&&null!=e[s]&&""!=e[s]&&(o+="/"+encodeURIComponent(e[s]));for(var l=0;l<a;l++)o+=0==l?"?":"&",o+=encodeURIComponent(i[l])+"="+encodeURIComponent(t[i[l]]);return o}},{key:"_nav",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";Object(c.c)(c.a.NAVIGATION_CHANGED,{url:n,location:e}),window.location.hash=e}}],(n=null)&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";var o,r=n(2);n(18),n(45),n(50);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,i,c=l(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this)).waiting=!1,t}return e=u,i=[{key:"is",get:function(){return"sb-describe"}},{key:"properties",get:function(){return{objects:Array,fields:Array,cache:{type:String,value:"describe"},describe:{type:Object,notify:!0},error:{type:Object,notify:!0},background:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["describeObjects(objects)","describeFields(fields)"]}},{key:"template",get:function(){return Object(r.b)(o||(t=['\n\t\t\t<template is="dom-if" if="[[!background]]">\n\t\t\t\t<sb-loading-spinner show="[[waiting]]"/>\n\t\t\t</template>\n\t\t\t<sb-service id="service" cache="[[cache]]" background="true"></sb-service>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"describeObjects",value:function(){var t=[];this.objects.forEach((function(e){t.push(e)})),this._describe(this.objects).then(function(e){for(var n=null,o={objects:t},r=0,i=e.length;r<i;r++){var a=e[r];a&&((n=n||{})[a.name]=a)}n&&(o.md=n,this.describe=o),this.waiting=!1}.bind(this),function(t){this.waiting=!1,this.error=t||t.message}.bind(this))}},{key:"describeFields",value:function(){var t=[];this.fields.forEach((function(e){t.push(e)}));for(var e={},n=0,o=this.fields.length;n<o;n++){var r=this.fields[n].split("."),i=r[0],a=r[1];e[i]=e[i]||{},e[i][a]=!0}this._describe(Object.keys(e)).then(function(n){for(var o=null,r={},i={fields:t},a=[],s=0,l=n.length;s<l;s++){var c=n[s];if(c){o=o||{};for(var u=e[c.name],d=0,p=c.fields.length;d<p;d++)r[c.name+"."+c.fields[d].name]=c.fields[d],u[c.fields[d].name]&&(o[c.name+"."+c.fields[d].name]=c.fields[d],c.fields[d].tableName=c.name,null!=c.fields[d].controllerName&&a.push(c.fields[d]))}}a.forEach((function(t){var e=t.tableName+"."+t.controllerName;t.controllingField=r[e],t.controllingField.controllingPicklist=!0,o[e]=t.controllingField})),o&&(i.md=o,this.describe=i),this.waiting=!1}.bind(this),function(t){this.waiting=!1,this.error=t||t.message}.bind(this))}},{key:"_describe",value:function(t){this.waiting=!0;for(var e=[],n=0,o=t.length;n<o;n++)e.push(this.$.service.describe({sObject:t[n]}));return Promise.all(e)}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.a);customElements.define(d.is,d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(10);var o=n(8),r=n(16),i=new Set,a={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(i.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach((function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)}),this),this._fireResize())},assignParentResizable:function(t){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=t,t&&-1===t._interestedResizables.indexOf(this)&&(t._interestedResizables.push(this),t._subscribeIronResize(this))},stopResizeNotificationsFor:function(t){var e=this._interestedResizables.indexOf(t);e>-1&&(this._interestedResizables.splice(e,1),this._unsubscribeIronResize(t))},_subscribeIronResize:function(t){t.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(t){t.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(t){return!0},_onDescendantIronResize:function(t){this._notifyingDescendant?t.stopPropagation():r.r||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(t){var e=Object(o.a)(t).rootTarget;e!==this&&(e.assignParentResizable(this),this._notifyDescendant(e),t.stopPropagation())},_parentResizableChanged:function(t){t&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(t){this.isAttached&&(this._notifyingDescendant=!0,t.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var t=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",(function e(){document.removeEventListener("readystatechange",e),t()}))}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach((function(t){t!==this&&t._findParent()}),this):(i.forEach((function(t){t!==this&&t._findParent()}),this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?i.delete(this):i.add(this)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return j})),n.d(e,"a",(function(){return B}));n(31);var o=n(96),r=n(84),i=n(16),a=n(12);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var m=null;function _(){return m}_.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:_,writable:!0}});var w=Object(o.a)(_),O=Object(r.a)(w);function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];if(Boolean(t)!=Boolean(o.__hideTemplateChildren__))if(o.nodeType===Node.TEXT_NODE)t?(o.__polymerTextContent__=o.textContent,o.textContent=""):o.textContent=o.__polymerTextContent__;else if("slot"===o.localName)if(t)o.__polymerReplaced__=document.createComment("hidden-slot"),Object(a.a)(Object(a.a)(o).parentNode).replaceChild(o.__polymerReplaced__,o);else{var r=o.__polymerReplaced__;r&&Object(a.a)(Object(a.a)(r).parentNode).replaceChild(o,r)}else o.style&&(t?(o.__polymerDisplay__=o.style.display,o.style.display="none"):o.style.display=o.__polymerDisplay__);o.__hideTemplateChildren__=t,o._showHideChildren&&o._showHideChildren(t)}}var x=function(t){u(n,t);var e=p(n);function n(t){var o;v(this,n),(o=e.call(this))._configureProperties(t),o.root=o._stampTemplate(o.__dataHost);var r=[];o.children=r;for(var i=o.root.firstChild;i;i=i.nextSibling)r.push(i),i.__templatizeInstance=f(o);o.__templatizeOwner&&o.__templatizeOwner.__hideTemplateChildren__&&o._showHideChildren(!0);var a=o.__templatizeOptions;return(t&&a.instanceProps||!a.instanceProps)&&o._enableProperties(),o}return g(n,[{key:"_configureProperties",value:function(t){if(this.__templatizeOptions.forwardHostProp)for(var e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(var n in t)this._setPendingProperty(n,t[n])}},{key:"forwardHostProp",value:function(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}},{key:"_addEventListenerToNode",value:function(t,e,n){var o=this;if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,(function(t){t.model=o,n(t)}));else{var r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(t,e,n)}}},{key:"_showHideChildren",value:function(t){k(t,this.children)}},{key:"_setUnmanagedPropertyToNode",value:function(t,e,o){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=o:l(b(n.prototype),"_setUnmanagedPropertyToNode",this).call(this,t,e,o)}},{key:"parentModel",get:function(){var t=this.__parentModel;if(!t){var e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}},{key:"dispatchEvent",value:function(t){return!0}}]),n}(Object(o.a)(function(){return g((function t(){v(this,t)}))}()));x.prototype.__dataHost,x.prototype.__templatizeOptions,x.prototype._methodHost,x.prototype.__templatizeOwner,x.prototype.__hostProps;var S=Object(r.a)(x);function C(t){var e=t.__dataHost;return e&&e._methodHost||e}function E(t,e,n){var o=n.mutableData?S:x;j.mixin&&(o=j.mixin(o));var r=function(t){u(n,t);var e=p(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n)}(o);return r.prototype.__templatizeOptions=n,r.prototype._bindTemplate(t),function(t,e,n,o){var r=n.hostProps||{};for(var i in o.instanceProps){delete r[i];var a=o.notifyInstanceProp;a&&t.prototype._addPropertyEffect(i,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:I(i,a)})}if(o.forwardHostProp&&e.__dataHost)for(var s in r)n.hasHostProps||(n.hasHostProps=!0),t.prototype._addPropertyEffect(s,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,n){t.__dataHost._setPendingPropertyOrPath("_host_"+e,n[e],!0,!0)}})}(r,t,e,n),r}function P(t,e,n,o){var r,a,s=n.forwardHostProp;if(s&&e.hasHostProps){var l="template"==t.localName,c=e.templatizeTemplateClass;if(!c){if(l){var d=function(t){u(n,t);var e=p(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n)}(n.mutableData?O:w);c=e.templatizeTemplateClass=d}else{var h=function(t){u(n,t);var e=p(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n)}(t.constructor);c=e.templatizeTemplateClass=h}var f=e.hostProps;for(var b in f)c.prototype._addPropertyEffect("_host_"+b,c.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:T(b,s)}),c.prototype._createNotifyingProperty("_host_"+b);i.g&&o&&function(t,e,n){var o=n.constructor._properties,r=t.propertyEffects,i=e.instanceProps;for(var a in r)if(!(o[a]||i&&i[a]))for(var s=r[a],l=0;l<s.length;l++){var c=s[l].info.part;if(!c.signature||!c.signature.static){console.warn("Property '".concat(a,"' used in template but not ")+"declared in 'properties'; attribute will not be observed.");break}}}(e,n,o)}if(t.__dataProto&&Object.assign(t.__data,t.__dataProto),l)a=c,m=r=t,Object.setPrototypeOf(r,a.prototype),new a,m=null,t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties();else{Object.setPrototypeOf(t,c.prototype);var y=e.hostProps;for(var _ in y)if((_="_host_"+_)in t){var k=t[_];delete t[_],t.__data[_]=k}}}}function T(t,e){return function(t,n,o){e.call(t.__templatizeOwner,n.substring("_host_".length),o[n])}}function I(t,e){return function(t,n,o){e.call(t.__templatizeOwner,t,n,o[n])}}function j(t,e,n){if(i.m&&!C(t))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;var o=(e?e.constructor:x)._parseTemplate(t),r=o.templatizeInstanceClass;r||(r=E(t,o,n),o.templatizeInstanceClass=r);var a=C(t);P(t,o,n,a);var s=function(t){u(n,t);var e=p(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n)}(r);return s.prototype._methodHost=a,s.prototype.__dataHost=t,s.prototype.__templatizeOwner=e,s.prototype.__hostProps=o.hostProps,s=s}function B(t,e){for(var n;e;)if(n=e.__dataHost?e:e.__templatizeInstance){if(n.__dataHost==t)return n;e=n.__dataHost}else e=Object(a.a)(e).parentNode;return null}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));n(10),n(55);var o=n(56),r=n(8),i={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(t){this._detectKeyboardFocus(t),t||this._setPressed(!1)},_detectKeyboardFocus:function(t){this._setReceivedFocusFromKeyboard(!this.pointerDown&&t)},_userActivate:function(t){this.active!==t&&(this.active=t,this.fire("change"))},_downHandler:function(t){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(t){var e=t.detail.keyboardEvent,n=Object(r.a)(e).localTarget;this.isLightDescendant(n)||(e.preventDefault(),e.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(t){var e=t.detail.keyboardEvent,n=Object(r.a)(e).localTarget;this.isLightDescendant(n)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async((function(){this.click()}),1)},_pressedChanged:function(t){this._changedButtonState()},_ariaActiveAttributeChanged:function(t,e){e&&e!=t&&this.hasAttribute(e)&&this.removeAttribute(e)},_activeChanged:function(t,e){this.toggles?this.setAttribute(this.ariaActiveAttribute,t?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},a=[o.a,i]},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n(0);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.focusEvents=n,this.blurEvents=o}var e,n,i;return e=t,(n=[{key:"signalOnFocus",value:function(t,e){this.fireFocusSignal=this.fireFocusSignal||this._fireSignal.bind(this,t,!0),this.fireBlurSignal=this.fireBlurSignal||this._fireSignal.bind(this,t,!1);var n,o=r(this.focusEvents);try{for(o.s();!(n=o.n()).done;){var i=n.value;this.element.removeEventListener(i,this.fireFocusSignal),e||this.element.addEventListener(i,this.fireFocusSignal)}}catch(t){o.e(t)}finally{o.f()}var a,s=r(this.blurEvents);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.element.removeEventListener(l,this.fireBlurSignal),e||this.element.addEventListener(l,this.fireBlurSignal)}}catch(t){s.e(t)}finally{s.f()}}},{key:"fireSignal",value:function(t,e){this._fireSignals(t,e);var n=this._getLastSignaler();n!==this&&(n&&n._fireSignals(t,!1),this._setLastSignaler())}},{key:"getSignalTargets",value:function(){return[]}},{key:"disable",value:function(){this._toggleDisabled(!0)}},{key:"enable",value:function(){this._toggleDisabled(!1)}},{key:"_fireSignal",value:function(t,e){this._isDisabled()||this.fireSignal(t,e)}},{key:"_fireSignals",value:function(t,e){var n,i=r(this.getSignalTargets());try{for(i.s();!(n=i.n()).done;)n.value.dispatchEvent(Object(o.d)(t,{focused:e,signaler:this}))}catch(t){i.e(t)}finally{i.f()}}},{key:"_getLastSignaler",value:function(){return window&&window.signaler?window.signaler.last:null}},{key:"_isDisabled",value:function(){return window&&window.signaler&&window.signaler.disabled}},{key:"_setLastSignaler",value:function(){var t=window.signaler||{};t.last=this,window.signaler=t}},{key:"_toggleDisabled",value:function(t){var e=window.signaler||{};e.disabled=t,window.signaler=e}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l=n(1);function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.row=e,this.fields=n,this.rowIndex=o,this.rowIndexAttribute=r||"index"}var e,n,o;return e=t,o=[{key:"selectFirstEditableFieldInFirstRow",value:function(e,n,o){var r=t._selectTableRowByIndex(e,n,o,0),i=r?r.selector:null;if(i)return i.selectFirstEditableField()}},{key:"selectLastEditableFieldInLastRow",value:function(e,n,o,r){var i=t._selectTableRowByIndex(e,n,r,o-1),a=i?i.selector:null;if(a)return a.selectLastEditableField()}},{key:"_selectTableRowByIndex",value:function(t,e,n,o){return(t&&t.shadowRoot?t.shadowRoot:t).querySelector("".concat(e,"[").concat(n,'="').concat(o,'"]'))}}],(n=[{key:"selectFirstEditableField",value:function(){var t=this._selectEditableFields();return this._selectNextEditableField(t,0)}},{key:"selectLastEditableField",value:function(){var t=this._selectEditableFields();return this._selectPreviousEditableField(t,t.length-1)}},{key:"selectNextEditableField",value:function(t){var e=this._selectEditableFields(),n=e.indexOf(t),o=n>=0?n+1:-1;return this._selectNextEditableField(e,o)}},{key:"selectPreviousEditableField",value:function(t){var e=this._selectEditableFields(),n=e.indexOf(t),o=n>=0?n-1:-1;return this._selectPreviousEditableField(e,o)}},{key:"_selectEditableFields",value:function(){return this.fields.filter((function(t){return t.isEditable()}))||[]}},{key:"_selectNextEditableField",value:function(t,e){return e>=0&&e<t.length?t[e]:this._selectFirstEditableNextRow()}},{key:"_selectPreviousEditableField",value:function(t,e){return e>=0&&e<t.length?t[e]:this._selectLastEditablePreviousRow()}},{key:"_selectFirstEditableNextRow",value:function(){var t=this._selectRowByIndex(this.rowIndex+1),e=t?t.selector:null;if(e)return e.selectFirstEditableField()}},{key:"_selectLastEditablePreviousRow",value:function(){var t=this._selectRowByIndex(this.rowIndex-1),e=t?t.selector:null;if(e)return e.selectLastEditableField()}},{key:"_selectRowByIndex",value:function(e){return t._selectTableRowByIndex(Object(l.d)(this.row),this.row.tagName.toLowerCase(),this.rowIndexAttribute,e)}}])&&c(e.prototype,n),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,n,r,i=y(a);function a(t,e,n,o,r,s,l){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,t,["click","mouseenter"],["mouseleave"])).groupId=e,c.cellName=n,c.rowId=o,c.rowIndex=r,c.rowIndexAttribute=s,c.ironList=l,c}return e=a,r=[{key:"signalFirstEditableTargetFirstRow",value:function(t,e,n){var r=u.selectFirstEditableFieldInFirstRow(t,e,n);r&&r.dispatchEvent(Object(o.d)("sb-field-edit",{next:!0}))}},{key:"signalLastEditableTargetLastRow",value:function(t,e,n,r){var i=u.selectLastEditableFieldInLastRow(t,e,n,r);i&&i.dispatchEvent(Object(o.d)("sb-field-edit",{next:!1}))}}],(n=[{key:"getSignalTargets",value:function(){var t,e=[],n=p(this.groupId.constructor===Array?this.groupId:[this.groupId]);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=_(this.element).querySelector("#"+o);if(r){var i,a=p((r.shadowRoot?r.shadowRoot:r).querySelectorAll(this.cellName));try{for(a.s();!(i=a.n()).done;){var s=i.value;e.push(_(s).querySelector("sb-field"))}}catch(t){a.e(t)}finally{a.f()}}}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"signalNextPreviousEditableTarget",value:function(t,e){var n=this.selector,r=e?n.selectNextEditableField(t):n.selectPreviousEditableField(t);r&&r.dispatchEvent(Object(o.d)("sb-field-edit",{next:e}))}},{key:"signalFirstLastEditableTarget",value:function(t){var e=this.selector,n=t?e.selectFirstEditableField():e.selectLastEditableField();n&&n.dispatchEvent(Object(o.d)("sb-field-edit",{next:t}))}},{key:"toggleRowFocus",value:function(t){t.detail.focused&&!this.element.focused?(this.element.focused=!0,this.rowId&&Object(l.m)("focused",!0,_(this.element).querySelector("#"+this.rowId))):!t.detail.focused&&this.element.focused&&(this.element.focused=!1,this.rowId&&Object(l.m)("focused",!1,_(this.element).querySelector("#"+this.rowId)))}},{key:"selector",get:function(){return new u(this.element,this.getSignalTargets(),this.rowIndex,this.rowIndexAttribute)}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(s);function _(t){return t&&t.shadowRoot?t.shadowRoot:t}},function(t,e,n){"use strict";var o,r=n(4),i=n(2);n(65);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,n,a,u=p(h);function h(){return s(this,h),u.apply(this,arguments)}return e=h,a=[{key:"is",get:function(){return"sb-field-md"}},{key:"properties",get:function(){return{fields:Array,object:String,md:{type:Object,notify:!0},error:{type:String,notify:!0},background:{type:Boolean,value:!1},doNotFixObjectName:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["initFieldSetDescribe(fields)"]}},{key:"template",get:function(){return Object(i.b)(o||(t=['\n\t\t\t<sb-describe id="describe" background="[[background]]"></sb-describe>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"prefix",get:function(){return r.a.org.prefix?r.a.org.prefix+"__":""}},{key:"ready",value:function(){c(f(h.prototype),"ready",this).call(this),this.$.describe.addEventListener("describe-changed",function(t){for(var e=t.detail.value.md,n=t.detail.value.fields,o=[],r={},i=0,a=n.length;i<a;i++)if(e[n[i]]){var s=n[i].split(".")[0],l=n[i].split(".")[1];r[s]||(r[s]={}),o.push(e[n[i]]),r[s][l]=e[n[i]]}this.md={fields:o,fieldsByObject:r}}.bind(this)),this.$.describe.addEventListener("error-changed",function(t){this.error=t.detail.value}.bind(this))}},{key:"initFieldSetDescribe",value:function(){var t=[];this.fields.forEach(function(e){var n=e.split(".");2===n.length?t.push(this.buildFieldList(n[0],n[1])):t.push(this.buildFieldList(this.object,e))}.bind(this)),this.$.describe.fields=t}},{key:"buildFieldList",value:function(t,e){return this.doNotFixObjectName||!t.endsWith("__c")||t.startsWith(this.prefix)?t+"."+e:this.prefix+t+"."+e}}])&&l(e.prototype,n),a&&l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a);customElements.define(b.is,b)},function(t,e,n){"use strict";var o,r=n(32),i=n(53),a=n(4),s=n(2),l=n(0),c=n(20);n(50);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){var n=r.a.get("LineEditor",t,"promise");return n||function(t,e){var n=new i.a(e).getConnection().then((function(t){return new window.SB.QuoteDAO(e,t)})).then((function(e){return e.loadEditorModel(t)}));return r.a.add("LineEditor",t,n,"promise"),n}(t,e)}function g(t){return t.substring(0,15)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(f,t);var e,n,i,u=h(f);function f(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this)).showSpinner=!1,t}return e=f,i=[{key:"is",get:function(){return"sb-line-editor-read"}},{key:"properties",get:function(){return{quoteId:String,background:{type:Boolean,value:!1},lineEditorModel:{type:Object,notify:!0},error:{type:Array,notify:!0}}}},{key:"observers",get:function(){return["_updateObserver(quoteId, background)"]}},{key:"template",get:function(){return Object(s.b)(o||(t=['\n\t\t\t<sb-loading-spinner id="loadingSpinner" show="[[showSpinner]]"/>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"prefix",get:function(){return a.a.org.prefix?a.a.org.prefix:""}},{key:"_updateObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._update(t,e)}},{key:"update",value:function(t){t&&this.clearCache(),this._update(this.quoteId)}},{key:"_update",value:function(t){var e=this;this.showSpinner=!0;var n=g(t),o=r.a.get("LineEditor",n);o?c.c.run((function(){e.lineEditorModel=o,e.showSpinner=!1})):y(n,this.prefix).then((function(t){"Incomplete"===t?e._retryUpdateLater(n):(e.cache(n,t),e.lineEditorModel=t,e._setIsLastReadQuoteUnopened(),e.showSpinner=!1,e.startingPolling=null)})).catch(function(t){this.showSpinner=!1,this.dispatchEvent(Object(l.d)("toggle-page-loaded",{pageLoaded:!0})),this.error=[t.message||t]}.bind(this))}},{key:"clearCache",value:function(){var t=g(this.quoteId);this._clearedLineEditor=r.a.get("LineEditor",t),r.a.remove("LineEditor",t,"promise"),r.a.remove("LineEditor",t,"value")}},{key:"restoreCache",value:function(){if(this._clearedLineEditor){var t=g(this.quoteId);this.cache(t,this._clearedLineEditor),this._clearedLineEditor=null}}},{key:"cache",value:function(t,e){r.a.add("LineEditor",g(t),e,"value",this)}},{key:"_setIsLastReadQuoteUnopened",value:function(){this.isLastReadQuoteUnopened=this.lineEditorModel.quote.record[this.lineEditorModel.settings.developerPrefix+"Unopened__c"],this.lineEditorModel.quote.record[this.lineEditorModel.settings.developerPrefix+"Unopened__c"]=!1}},{key:"_retryUpdateLater",value:function(t){var e=this;this.startedPolling=this.startedPolling||Date.now(),Date.now(),this.startedPolling,setTimeout((function(){e.update(!0)}),1e3)}}])&&d(e.prototype,n),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),f}(s.a);customElements.define(v.is,v)},function(t,e,n){"use strict";var o,r=n(0),i=n(5),a=n(48),s=n(17),l=n(11),c=n(1),u=n(28),d=n(2),p=(n(13),n(15),n(36),n(3));var h,f,b,y=Object(p.b)(o||(h=["\n.open {\n  position: relative;\n  left: -185px;\n}\n:host div.listMode {\n  width: 100%;\n  display: inline-table;\n}\n:host div.listMode .drawerCell {\n  width: 33%;\n  display: inline-block;\n}\n:host div.listMode .drawerCell.hiddenInDesktop {\n  display: none;\n}\n:host div.rteListMode .drawerCell.hiddenInDesktop {\n  display: none;\n}\n"],f||(f=h.slice(0)),o=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(f)}}))));n(144);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=C(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function C(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=I(t);if(e){var r=I(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j="undefined"!=typeof Visualforce,B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(a,t);var e,n,o,i=P(a);function a(){return k(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-group"}},{key:"properties",get:function(){return{item:String,group:Array,data:{type:Object,notify:!0},model:{type:Object,value:null},groupClass:String,itemClass:String,groupDisplay:Object,primaryItems:{type:Array,value:null},numPrimary:{type:Number,value:0},includePrimaryInSecondary:{type:Boolean,value:!1},selected:{type:Boolean,value:!1,observer:"updateSelected"},disabled:{type:Boolean,value:!1,observer:"updateDisabled"},pathPrefix:{type:String,value:""},focusIndex:{type:Number,observer:"updateFocusIndex"},itemClassMap:{type:Object,value:{}},itemEditableMap:Object,columnWidths:{type:Object,value:{}},signaler:{type:Object,observer:"updateSignaler"},noDataPropagation:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_buildGroupObserver(model, item, group, data, primaryItems, itemClassMap, columnWidths)","_handlePrimaryEventsObserver(domBind, _primaryItems)","propagateFromParentToChild(data.*)","toggleItemClass(itemClassMap.*)","_toggleEditableObserver(itemEditableMap, elements)"]}},{key:"template",get:function(){return Object(d.b)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style>','</style>\n\t\t<div id="g" device class$="[[outerClass]]"></div>\n\t    '])),y)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.NAVIGATION_CHANGED]=this.navigationChanged,t}},{key:"ready",value:function(){var t=this;S(I(a.prototype),"ready",this).call(this),Object.entries({"datepicker-opened":"_datePickerOpened"}).map((function(e){var n=_(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])}))}},{key:"_itemClassMapChanged",value:function(){return!this.domBind||null!==this.domBind.itemClassMap&&null===this.itemClassMap||null===this.domBind.itemClassMap&&null!==this.itemClassMap||Object.keys(this.domBind.itemClassMap).length!==Object.keys(this.itemClassMap).length}},{key:"_updateItemClasses",value:function(){var t=this;if(this.domBind&&this.itemClassMap){var e=this.domBind.itemClassMap,n=this.itemClassMap;new Set(Object.keys(e).concat(Object.keys(n))).forEach((function(o){if(e[o]!==t.itemClassMap[o]){var r=t.$.g.querySelector("".concat(t.item,"[item='").concat(o,"']"));if(r){if(e&&e[o]){var i,a=e[o].class||e[o];a&&"string"==typeof a&&(i=r.classList).remove.apply(i,m(a.split(" ")))}if(n&&n[o]){var s,l=n[o].class||n[o];l&&"string"==typeof l&&(s=r.classList).add.apply(s,m(l.split(" ")))}}}})),this.domBind.itemClassMap=n}}},{key:"_updateItemValues",value:function(t){if(this.elements&&t){var e=Object.keys(t);this.elements.forEach((function(n){n.item&&e.indexOf(n.item)>-1&&(n.value=t[n.item])}))}}},{key:"_buildGroupObserver",value:function(t,e,n,o,r,i,a){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r&&void 0!==i&&void 0!==a)return this.buildGroup(t,e,n,o,r,i,a)}},{key:"buildGroup",value:function(t,e,n,o,r,i,a){if(this.initInternalGroupAndPrimaryItems(),this.domBind)this.domBind.group===this._group?(this.domBind.selected=this.selected,this.domBind.disabled=this.disabled,this.domBind.data=o,this.domBind.model=t,this._updateItemValues(o),Object(l.a)(this,(function(){a&&this.domBind.columnWidths!=a&&this._updateColumnWidths(),this._itemClassMapChanged()&&this._updateItemClasses()}))):j||console.error("Rebuilding a group is no longer supported. Called by ".concat(Object(c.d)(this).tagName.toLowerCase(),": old group [").concat(this.domBind.group,"], new group [").concat(this._group,"]"));else{this.expanded=!1,this.domBind=document.createElement("dom-bind");var s=document.createElement("template");this.domBind.appendChild(s),this.domBind.group=this._group,this.domBind.selected=this.selected,this.domBind.disabled=this.disabled,this.domBind.signaler=this.signaler,this.domBind.model=t,this.domBind.data=o,this.domBind.columnWidths=a,this.domBind.tabIndex=this.tabIndex,this.domBind.itemClassMap=this.itemClassMap,this.buildItems(s),this.$.g.appendChild(this.domBind),this.noDataPropagation||this.observeNode(this.$.g,function(t){t.addedNodes[0]&&this.bindElementEvents(t.addedNodes[0].childNodes)}.bind(this))}}},{key:"destroyGroup",value:function(){if(this.domBind)try{this.elements=null,this.$.g.removeChild(this.domBind),Object(u.b)(),this.domBind=null,this.group=void 0}catch(t){return}}},{key:"_updateColumnWidths",value:function(){if(this.columnWidths){var t=this.$.g.querySelectorAll(this.item);!t||t&&0==t.length?Object(l.a)(this,(function(){var t=this.$.g.querySelectorAll(this.item);this._setColumnWidths(t)})):this._setColumnWidths(t)}}},{key:"_setColumnWidths",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],r=o.getAttribute("item"),i=this.columnWidths[r];if(null!=i){var a=i.width||i;if(null!=a){var s,l=i.properties||["minWidth","maxWidth"],c=i.unit||"px",u=v(l);try{for(u.s();!(s=u.n()).done;){var d=s.value;o.style[d]=a+c}}catch(t){u.e(t)}finally{u.f()}}}}}},{key:"_createColumnWidthStyleHtml",value:function(t){var e,n=' style="',o=t.width||t,r=t.properties||["min-width","max-width"],i=t.unit||"px",a=v(r);try{for(a.s();!(e=a.n()).done;)n+=e.value+":"+o+i+";"}catch(t){a.e(t)}finally{a.f()}return n}},{key:"updateSelected",value:function(){this.domBind&&(this.domBind.selected=this.selected)}},{key:"updateDisabled",value:function(){this.domBind&&(this.domBind.disabled=this.disabled)}},{key:"updateSignaler",value:function(){this.domBind&&(this.domBind.signaler=this.signaler)}},{key:"applyFocusToItem",value:function(t){this.focusIndex=void 0,this.focusIndex=t}},{key:"updateFocusIndex",value:function(){if(this.domBind&&this.elements&&!(void 0===this.focusIndex||this.focusIndex<0))for(var t=0,e=this.domBind.group.length;t<e;t++)this.domBind["focus_".concat(t)]=!1,this.focusIndex===t&&(this.domBind["focus_".concat(t)]=!0)}},{key:"initInternalGroupAndPrimaryItems",value:function(){if(this._group=this.group,this._primaryItems=void 0,this.primaryItems&&0!==this.primaryItems.length){var t=[].concat(this.primaryItems);if(-1===this.group.indexOf(t[0])&&(t[0]=this.group[0]),t.length>1&&(t=-1===this.group.indexOf(t[1])?[t[0]]:[t[0],t[1]]),this._primaryItems=t,this.includePrimaryInSecondary)return this._group=t.concat(this.group),void this._normalizeWithDomBindGroup();var e=this.group.filter((function(e){return-1===t.indexOf(e)}));this._group=t.concat(e),this._normalizeWithDomBindGroup()}}},{key:"buildItems",value:function(t){var e=t.content.ownerDocument,n=e.createElement("div");this.groupClass&&n.setAttribute("class",this.groupClass);var o=this.numPrimary>0?this.numPrimary:this._primaryItems?this._primaryItems.length:0;this._group.forEach(function(t,r){var i="<"+this.item+' item="'+t+'" value="{{data.'+t+'}}" model="[[model]]" data="[[data]]" disabled="[[disabled]]" selected="[[selected]]" focus="[[focus_'+r+']]" index="'+r+'"',a=r<o;!a&&this.groupDisplay&&this.groupDisplay[t]?i+=' field-label="'+this.groupDisplay[t]+'"':!a&&this.groupDisplay&&this.groupDisplay[t.split(".")[1]]&&(i+=' field-label="'+this.groupDisplay[t.split(".")[1]]+'"');var s="";this.itemClass&&(s+=this.itemClass+" "),a?(s+=0===r?"primary first":"primary multi",s+=this.selected?" selected":""):o>0&&(s+="secondary"),this.itemClassMap&&this.itemClassMap[t]&&(s+=" "+(this.itemClassMap[t].class||this.itemClassMap[t]),this.itemClassMap[t].style&&(i+=' style="'.concat(this.itemClassMap[t].style,'"'))),s&&(i+=' class="'+s+'"');var l=this.columnWidths?this.columnWidths[t]:null;null!=l&&(i+=this._createColumnWidthStyleHtml(l)),null!=this.tabIndex&&(i+=' tab-index="[[tabIndex]]"'),i+=' signaler="[[signaler]]"></'+this.item+">";var c=e.createElement("div");c.innerHTML=i,n.appendChild(c.firstChild)}.bind(this)),t.content.appendChild(n)}},{key:"bindElementEvents",value:function(t){var e=this;this.elements=t;var n=t?t.length:0;this.updateFocusIndex();for(var o=0;o<n;o++)t[o]._createMethodObserver&&(t[o]._groupNotifyObserver=function(t){e.internal=!0,e.notifyPath(t.path),e.childToParentExtension&&e.childToParentExtension({path:t.path,value:t.value}),e.internal=!1},t[o]._createMethodObserver("_groupNotifyObserver(data.*)"))}},{key:"propagateFromParentToChild",value:function(t){this.internal||"data"!==t.path&&(this.propagateFromParentToChildOverride?this.propagateFromParentToChildOverride(t):this._propagateFromParentToChild(t))}},{key:"_propagateFromParentToChild",value:function(t){for(var e=this.elements,n=e?e.length:0,o=t.path.split("."),r=this.pathPrefix+o[o.length-1],i=0;i<n;i++)if(e[i].item===r)return void(e[i].value=t.value)}},{key:"_handlePrimaryEventsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.handlePrimaryEvents(t,e)}},{key:"handlePrimaryEvents",value:function(){this.primaryEventsResistered||(this.addEventListener("group-selected",function(t){for(var e=this.shadowRoot.querySelectorAll(this.item+".primary"),n=0,o=e.length;n<o;n++)Object(c.m)("selected",t.detail.selected,e[n])}.bind(this)),this.addEventListener("group-expanded",function(t){var e=t.detail.path.filter(function(t){return(t.tagName?t.tagName.toLowerCase():"")===this.item&&t.classList.contains("primary")}.bind(this));if(e&&0!==e.length){Object(c.m)("initial",!1,e[0]),this.expanded=!this.expanded;var n=Object(c.d)(this);n&&(n.expanded=!n.expanded);for(var o=this.shadowRoot.querySelectorAll(this.item),i=0,a=o.length;i<a;i++){var s=o[i].shadowRoot.querySelector("sb-field");s&&(s.renderReadOnly=!1),Object(c.m)("expanded",this.expanded,o[i])}this.dispatchEvent(Object(r.d)("expanded-changed",{expanded:this.expanded}))}}.bind(this)),this.primaryEventsResistered=!0)}},{key:"navigationChanged",value:function(){this.dispatchEvent(new CustomEvent("group-selected",{bubbles:!1,detail:{selected:!1}}))}},{key:"overridePropagateFromParentToChild",value:function(t){"function"==typeof t&&(this.propagateFromParentToChildOverride=t)}},{key:"setFromChildToParentExtension",value:function(t){"function"==typeof t&&(this.childToParentExtension=t)}},{key:"toggleItemClass",value:function(t){var e=t.path.split(".");if(1!==e.length){var n,o=e[1],r=v(this.elements);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.item===o){for(var a=0,s=t.value.length;a<s;a++)Object(c.m)(t.value[a].class,t.value[a].value,i);return}}}catch(t){r.e(t)}finally{r.f()}}}},{key:"_toggleEditableObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.toggleEditable(t,e)}},{key:"toggleEditable",value:function(t,e){t&&e&&e.forEach((function(e){null!=t[e.item]&&(e.editable=t[e.item])}))}},{key:"_normalizeWithDomBindGroup",value:function(){if(this.domBind&&this.domBind.group&&this.domBind.group.length===this._group.length){for(var t=0,e=this._group.length;t<e;t++)if(this.domBind.group[t]!==this._group[t])return;this._group=this.domBind.group}}},{key:"_datePickerOpened",value:function(t){var e=t.detail.dateContainer,n=t.detail.datepicker;n.style.position="absolute";var o=n.offsetParent.getBoundingClientRect(),r=e.getBoundingClientRect();n.style.left="".concat(-o.left+r.left,"px"),n.style.top="".concat(r.bottom-o.top,"px"),r.left+n.offsetWidth>window.innerWidth&&(n.style.left="",n.style.right=o.right-r.right+17+"px")}}])&&x(e.prototype,n),o&&x(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(a.a)(Object(i.a)(Object(s.a)(d.a))));customElements.define(B.is,B)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(1);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"boolean"==typeof e?this.hide={hidden:e,type:"hide"}:"object"===r(e)?this.hide={hidden:!!e.hidden,type:e.type||"hide"}:this.hide={hidden:!1,type:"hide"}}var e,n,a;return e=t,(n=[{key:"hidden",get:function(){return this.hide.hidden}},{key:"type",get:function(){return this.hide.type}},{key:"applyTo",value:function(t){var e=[this.hide];"hide"===this.type?e.push({hidden:!1,type:"invisible"}):e.push({hidden:!1,type:"hide"});for(var n=0,r=e;n<r.length;n++){var i=r[n];Object(o.m)(i.type,i.hidden,t)}}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n(10);var o,r=n(3);var i,a,s=Object(r.a)(o||(i=['\n\t\t\t\t<dom-module id="sb-dialogs-styles">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nModal dialog mask\n\nThe layer behind the dialog that masks the entire page.\n*/\n.sbModalMask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--sbDialogMaskColor);\n  opacity: 0.8;\n  z-index: 1000;\n}\n/*\nModal Dialog\n\nA dialog with modality that takes up the entire page.\n */\n.dialog {\n  background-color: var(--sbDialogBgColor);\n  border-radius: var(--sbDialogBorderRadius);\n  position: fixed;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  z-index: 1001;\n  color: var(--sbFontColor);\n  box-shadow: none;\n  font-family: var(--sbDialogFontFamily);\n  -webkit-font-smoothing: auto;\n}\n.dialog > header {\n  border-bottom: var(--sbDialogHeaderBorder);\n  padding-top: var(--sbDialogHeaderPaddingTop);\n  padding-right: var(--sbDialogHeaderPaddingRight);\n  padding-bottom: var(--sbDialogHeaderPaddingBottom);\n  padding-left: var(--sbDialogHeaderPaddingLeft);\n  text-align: center;\n  margin-top: 0px !important;\n}\n.dialog > header > .icon {\n  font-size: var(--sbIcon20);\n}\n.dialog > header > * {\n  vertical-align: middle;\n}\n.dialog > header > h2 {\n  margin: 0 0 0 0px;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\n.dialog > header > .sf-icon-close {\n  font-size: var(--sbIcon30);\n  position: absolute;\n  top: -50px;\n  right: 0px;\n}\n.dialog > header > .sf-icon-close:hover {\n  cursor: pointer;\n}\n.dialog > header > .sf-icon-close:before {\n  color: var(--sbDialogCloseColor);\n}\n.dialog > .content {\n  overflow: auto;\n  margin-top: 0px;\n  padding: 24px;\n}\n.dialog > footer {\n  border-top-width: var(--sbDialogFooterBorderWidth);\n  border-top-style: var(--sbDialogFooterBorderStyle);\n  border-top-color: var(--sbDialogFooterBorderColor);\n  padding: 12px 16px;\n  border-bottom-left-radius: var(--sbDialogBorderRadius);\n  border-bottom-right-radius: var(--sbDialogBorderRadius);\n  background-color: var(--sbDialogFooterColor);\n  display: inline-table;\n  margin-bottom: 0px !important;\n  width: 100%;\n  box-sizing: border-box;\n  margin-top: 0px;\n}\n.dialog > footer > paper-button {\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\n.dialog > footer .buttons {\n  float: right;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n(19);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=l(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,n,o,r=u(l);function l(){return i(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"ready",value:function(){s(p(l.prototype),"ready",this)&&s(p(l.prototype),"ready",this).call(this),this.handleProductsLoadServerResponse(),this.handleHideSearchFilterIfNoSearchColumnsDisplayed(),this.bindFilterEnterCallBacks()}},{key:"handleHideSearchFilterIfNoSearchColumnsDisplayed",value:function(){this.addEventListener("no-displayed-filters",function(){this.removeFilter()}.bind(this))}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(t)}))},function(t,e,n){"use strict";function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return a}));var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=e}var e,n,r;return e=t,(n=[{key:"localizeSearchModel",value:function(t){var e=t.localizationByFieldByProductId;if(!e)return t;var n,r=o(t.results);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e[i.record.Product2Id];if(a)for(var s in a){var l=this.getLocalizedValue(a[s].record);l&&(i.record.Product2[s]=l)}}}catch(t){r.e(t)}finally{r.f()}return t}},{key:"localizeProduct",value:function(t){if(!t.localizationByFieldByProductId)return t;var e=t.localizationByFieldByProductId[t.record.Id];if(e&&e.Name){var n=this.getLocalizedValue(e.Name.record);n&&(t.untranslatedRecord||(t.untranslatedRecord={Name:JSON.parse(JSON.stringify(t.record.Name))}),t.record.Name=n)}var r,i=o(t.options);try{for(i.s();!(r=i.n()).done;){var a=r.value,s={};for(var l in a.localizationByFieldName){var c=null;if(-1!==l.indexOf("__c")){var u=a.localizationByFieldName[l];u&&(c=this.getLocalizedValue(u.record)),"Description__c"===l&&(l=this.prefix+"ProductDescription__c"),s[l=this._appendPrefix(this.prefix,l,u.record[this.prefix+"APIName__c"])]=a.record[l],c&&a.record[l]?a.record[l]=JSON.parse(JSON.stringify(c)):c&&a.record[this.prefix+l]&&(a.record[this.prefix+l]=JSON.parse(JSON.stringify(c)))}}a.untranslatedRecord||(a.untranslatedRecord=s)}}catch(t){i.e(t)}finally{i.f()}var d,p=o(t.features);try{for(p.s();!(d=p.n()).done;){var h=d.value;h.untranslatedRecord||(h.untranslatedRecord={Name:JSON.parse(JSON.stringify(h.record.Name))});var f=h.localizationByFieldName;if(f&&f.Name){var b=f.Name,y=this.getLocalizedValue(b.record);y&&(h.record.Name=y)}}}catch(t){p.e(t)}finally{p.f()}return t}},{key:"_appendPrefix",value:function(t,e,n){return-1===n.indexOf(t)?e:e.replace("__c","")!==n.replace("__c","")||e===n.replace(t,"")?t+e:e}},{key:"getLocalizedValue",value:function(t){return t[this.prefix+"Text__c"]||t[this.prefix+"TextArea__c"]||t[this.prefix+"LongTextArea__c"]||t[this.prefix+"RichTextArea__c"]}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return r}));var r=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fieldSets=e,this.desktopFields={name:n},o&&(this.tabletFields={name:o}),r&&(this.phoneFields={name:r})}var e,n,r;return e=t,(n=[{key:"getByViewport",value:function(t){return t&&t.isPhone()?this._getPhoneFieldSet():t&&t.isTablet()?this._getTabletFieldSet():this._getDesktopFieldSet()}},{key:"_getPhoneFieldSet",value:function(){var t=this.phoneFields?this.fieldSets[this.phoneFields.name]:null;return t&&0!==t.length?(this.phoneFields.fields=t,this.phoneFields):this._getTabletFieldSet()}},{key:"_getTabletFieldSet",value:function(){var t=this.tabletFields?this.fieldSets[this.tabletFields.name]:null;return t&&0!==t.length?(this.tabletFields.fields=t,this.tabletFields):this._getDesktopFieldSet()}},{key:"_getDesktopFieldSet",value:function(){return this.desktopFields.fields=this.fieldSets[this.desktopFields.name],this.desktopFields}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return I})),n.d(e,"a",(function(){return j}));n(31);var o=n(16),r=n(19),i=n(119),a=n(61),s=n(101),l=n(96),c=n(120),u=n(131);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=b(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=m(t);if(e){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var _=Object(r.a)((function(t){function e(t){var e=Object.getPrototypeOf(t);return e.prototype instanceof o?e:null}function n(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){var e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){var n=t.properties;n&&(e=function(t){var e={};for(var n in t){var o=t[n];e[n]="function"==typeof o?{type:o}:o}return e}(n))}t.__ownProperties=e}return t.__ownProperties}var o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(s,t);var o,r,i,a=g(s);function s(){return p(this,s),a.apply(this,arguments)}return o=s,i=[{key:"observedAttributes",get:function(){var t=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){Object(c.b)(this.prototype);var e=this._properties;this.__observedAttributes=e?Object.keys(e).map((function(e){return t.prototype._addPropertyToAttributeMap(e)})):[]}return this.__observedAttributes}},{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var t=e(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}},{key:"_finalizeClass",value:function(){var t=n(this);t&&this.createProperties(t)}},{key:"_properties",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var t=e(this);this.__properties=Object.assign({},t&&t._properties,n(this))}return this.__properties}},{key:"typeForProperty",value:function(t){var e=this._properties[t];return e&&e.type}}],(r=[{key:"_initializeProperties",value:function(){Object(c.a)(),this.constructor.finalize(),f(m(s.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function(){f(m(s.prototype),"connectedCallback",this)&&f(m(s.prototype),"connectedCallback",this).call(this),this._enableProperties()}},{key:"disconnectedCallback",value:function(){f(m(s.prototype),"disconnectedCallback",this)&&f(m(s.prototype),"disconnectedCallback",this).call(this)}}])&&h(o.prototype,r),i&&h(o,i),Object.defineProperty(o,"prototype",{writable:!1}),s}(Object(u.a)(t));return o})),w=n(12);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=S(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function S(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=T(t);if(e){var r=T(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return P(this,n)}}function P(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */var I=window.ShadyCSS&&window.ShadyCSS.cssBuild,j=Object(r.a)((function(t){var e=_(Object(l.a)(t));return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(u,t);var n,r,l,c=E(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this))._template,t._importPath,t.rootPath,t.importPath,t.root,t.$,t}return n=u,l=[{key:"polymerElementVersion",get:function(){return"3.5.1"}},{key:"_finalizeClass",value:function(){e._finalizeClass.call(this);var t,n=((t=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",t))||(t.__ownObservers=t.hasOwnProperty(JSCompiler_renameProperty("observers",t))?t.observers:null),t.__ownObservers);n&&this.createObservers(n,this._properties),this._prepareTemplate()}},{key:"_prepareTemplate",value:function(){var t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):o.e||(t=t.cloneNode(!0))),this.prototype._template=t}},{key:"createProperties",value:function(t){for(var e in t)n=this.prototype,o=e,r=t[e],i=t,r.computed&&(r.readOnly=!0),r.computed&&(n._hasReadOnlyEffect(o)?console.warn("Cannot redefine computed property '".concat(o,"'.")):n._createComputedProperty(o,r.computed,i)),r.readOnly&&!n._hasReadOnlyEffect(o)?n._createReadOnlyProperty(o,!r.computed):!1===r.readOnly&&n._hasReadOnlyEffect(o)&&console.warn("Cannot make readOnly property '".concat(o,"' non-readOnly.")),r.reflectToAttribute&&!n._hasReflectEffect(o)?n._createReflectedProperty(o):!1===r.reflectToAttribute&&n._hasReflectEffect(o)&&console.warn("Cannot make reflected property '".concat(o,"' non-reflected.")),r.notify&&!n._hasNotifyEffect(o)?n._createNotifyingProperty(o):!1===r.notify&&n._hasNotifyEffect(o)&&console.warn("Cannot make notify property '".concat(o,"' non-notify.")),r.observer&&n._createPropertyObserver(o,r.observer,i[r.observer]),n._addPropertyToAttributeMap(o);var n,o,r,i}},{key:"createObservers",value:function(t,e){for(var n=this.prototype,o=0;o<t.length;o++)n._createMethodObserver(t[o],e)}},{key:"template",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){var t=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;"function"==typeof t&&(t=t()),this._template=void 0!==t?t:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(t){var e=null;if(t&&(!o.m||o.a)&&(e=s.a.import(t,"template"),o.m&&!e))throw new Error("strictTemplatePolicy: expecting dom-module or null template for ".concat(t));return e}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template},set:function(t){this._template=t}},{key:"importPath",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){var t=this.importMeta;if(t)this._importPath=Object(a.a)(t.url);else{var e=s.a.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}},{key:"_processStyleText",value:function(t,e){return Object(a.b)(t,e)}},{key:"_finalizeTemplate",value:function(t){var e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;var n=this.importPath;!function(t,e,n,r){if(!I){for(var a=e.content.querySelectorAll("style"),s=Object(i.c)(e),l=Object(i.b)(n),c=e.content.firstElementChild,u=0;u<l.length;u++){var d=l[u];d.textContent=t._processStyleText(d.textContent,r),e.content.insertBefore(d,c)}for(var p=0,h=0;h<s.length;h++){var f=s[h],b=a[p];b!==f?(f=f.cloneNode(!0),b.parentNode.insertBefore(f,b)):p++,f.textContent=t._processStyleText(f.textContent,r)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,n),o.q&&I&&o.n){var y=e.content.querySelectorAll("style");if(y){var g="";Array.from(y).forEach((function(t){g+=t.textContent,t.parentNode.removeChild(t)})),t._styleSheet=new CSSStyleSheet,t._styleSheet.replaceSync(g)}}}(this,e,t,n?Object(a.c)(n):""),this.prototype._bindTemplate(e)}}},{key:"_parseTemplateContent",value:function(t,n,o){return n.dynamicFns=n.dynamicFns||this._properties,e._parseTemplateContent.call(this,t,n,o)}},{key:"_addTemplatePropertyEffect",value:function(t,n,r){return!o.g||n in this._properties||r.info.part.signature&&r.info.part.signature.static||r.info.part.hostProp||t.nestedTemplate||console.warn("Property '".concat(n,"' used in template but not declared in 'properties'; ")+"attribute will not be observed."),e._addTemplatePropertyEffect.call(this,t,n,r)}}],(r=[{key:"_initializeProperties",value:function(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),x(T(u.prototype),"_initializeProperties",this).call(this),this.rootPath=o.k,this.importPath=this.constructor.importPath;var t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;var e=t._properties;for(var n in e){var o=e[n];"value"in o&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[n]=o)}}return t.__propertyDefaults}(this.constructor);if(t)for(var e in t){var n=t[e];if(this._canApplyPropertyDefault(e)){var r="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(e)?this._setPendingProperty(e,r,!0):this[e]=r}}}},{key:"_canApplyPropertyDefault",value:function(t){return!this.hasOwnProperty(t)}},{key:"connectedCallback",value:function(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),x(T(u.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),x(T(u.prototype),"ready",this).call(this)}},{key:"_readyClients",value:function(){this._template&&(this.root=this._attachDom(this.root)),x(T(u.prototype),"_readyClients",this).call(this)}},{key:"_attachDom",value:function(t){var e=Object(w.a)(this);if(e.attachShadow)return t?(e.shadowRoot||(e.attachShadow({mode:"open",shadyUpgradeFragment:t}),e.shadowRoot.appendChild(t),this.constructor._styleSheet&&(e.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),o.p&&window.ShadyDOM&&window.ShadyDOM.flushInitial(e.shadowRoot),e.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}},{key:"updateStyles",value:function(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}},{key:"resolveUrl",value:function(t,e){return!e&&this.importPath&&(e=Object(a.c)(this.importPath)),Object(a.c)(t,e)}}])&&k(n.prototype,r),l&&k(n,l),Object.defineProperty(n,"prototype",{writable:!1}),u}(e)}))},function(t,e,n){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return l}));var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this,t),this.salesforceBaseUrl=e}var e,n,i;return e=t,(n=[{key:"startTransaction",value:function(t){this.canGatherMetrics()&&this._isNotStarted()&&(this._init(),this._queueIdleCallback(),console.log(t||"CPQ Performance Metrics Service: started ept"))}},{key:"startServiceRequest",value:function(t,e){if(this._isNotStarted())return null;window.sb.MetricsService.internal.sptNum+=1;var n=this._getUniqueId();return void 0===t&&(t=""),void 0!==e&&(t=t+"/"+e),window.sb.MetricsService.internal.actions.set(n,this._buildTransportAction(t)),console.log("CPQ Performance Metrics Service: started service call"),n}},{key:"addExternalLogMetrics",value:function(t){t||(t={}),this._externalLogMetrics||(this._externalLogMetrics={}),Object.assign(this._externalLogMetrics,t)}},{key:"_buildTransportAction",value:function(t){return{context:{actionDefs:[t]},pageStartTime:Date.now(),ts:this._getTime(),name:"request",ns:"transport"}}},{key:"stopServiceRequest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._isNotStarted()||(window.sb.MetricsService.internal.sptNum-=1,window.sb.MetricsService.internal.idleRetries=2,window.sb.MetricsService.internal.idleStart>0&&(window.sb.MetricsService.internal.idleTime+=this._getTime()-window.sb.MetricsService.internal.idleStart,window.sb.MetricsService.internal.idleStart=0),this._populateTransportAction(t),window.sb.MetricsService.internal.sptTime+=e,console.log("CPQ Performance Metrics Service: ended service call",e))}},{key:"_init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Date.now(),n=this._getTime(),o=this._getPageStartTime();if(window.sb.visibilityStateEnd=document.visibilityState,window.sb=window.sb||{},null!=window.sb&&null==window.sb.MetricsService){if(window.sb.MetricsService={},window.sb.MetricsService.bootstrap={id:"qtc:bootstrap"},window.sb.MetricsService.bootstrap.bootstrapEPT=n,window.sb.MetricsService.bootstrap.pageStartTime=o,window.sb.MetricsService.bootstrap.visibilityStateStart=window.sb.visibilityStateStart,window.sb.MetricsService.bootstrap.visibilityStateEnd=window.sb.visibilityStateEnd,window.performance&&performance.timing){var r=window.performance,i=r.timing,a={readyStart:i.fetchStart-i.navigationStart,lookupDomainTime:i.domainLookupEnd-i.domainLookupStart,connectTime:i.connectEnd-i.connectStart,requestTime:i.responseEnd-i.requestStart,initDomTreeTime:i.domInteractive-i.responseEnd,domReadyTime:i.domComplete-i.domInteractive,loadEventTime:i.loadEventEnd-i.loadEventStart,loadTime:i.loadEventEnd-i.fetchStart,unloadEventTime:i.unloadEventEnd-i.unloadEventStart,appCacheTime:i.domainLookupStart-i.fetchStart,redirectTime:i.redirectEnd-i.redirectStart};window.sb.MetricsService.bootstrap.timing=Object.assign(i.toJSON(),a),window.sb.MetricsService.bootstrap.allRequests=[],r.getEntries().forEach((function(t){var e=this._summarizeResourcePerfInfo(t);window.sb.MetricsService.bootstrap.allRequests.push(e)}),this)}}else window.sb.MetricsService.bootstrap={};window.sb.MetricsService.internal={lastIdleEndTime:n,sptNum:0,idleStart:0,idleTime:0,sptTime:0,idleRetries:2,actions:new Map},window.sb.MetricsService.currentPage={ept:void 0,bpt:void 0,spt:void 0,pageStartTime:e,ts:n,page:{attributes:{app:{appName:"SteelBrick",appType:"Standard"},url:window.location.href},entity:t}}}},{key:"_idle",value:function(){if(!this._isNotStarted()){if(0===window.sb.MetricsService.internal.sptNum){if(0===window.sb.MetricsService.internal.idleRetries)return this._calcAndDisplayMetrics(),void this._logMetrics();2==window.sb.MetricsService.internal.idleRetries&&(window.sb.MetricsService.internal.lastIdleEndTime=this._getTime()),window.sb.MetricsService.internal.idleRetries--}0===window.sb.MetricsService.internal.idleStart&&(window.sb.MetricsService.internal.idleStart=this._getTime()),this._queueIdleCallback()}}},{key:"_summarizeResourcePerfInfo",value:function(t){return{name:t.name,initiatorType:t.initiatorType,duration:parseInt(t.responseEnd-t.startTime,10),startTime:parseInt(t.startTime,10),fetchStart:parseInt(t.fetchStart,10),requestStart:parseInt(t.requestStart,10),dns:parseInt(t.domainLookupEnd-t.domainLookupStart,10),tcp:parseInt(t.connectEnd-t.connectStart,10),ttfb:parseInt(t.responseStart-t.startTime,10),transfer:parseInt(t.responseEnd-t.responseStart,10),transferSize:parseInt(t.transferSize,10),encodedBodySize:parseInt(t.encodedBodySize,10),decodedBodySize:parseInt(t.decodedBodySize,10)}}},{key:"_populateTransportAction",value:function(t){if(t){var e=window.sb.MetricsService.internal.actions.get(t);e&&(e.duration=parseInt(this._getTime()-e.ts))}}},{key:"_queueIdleCallback",value:function(){this.canGatherMetrics()&&window.requestIdleCallback(this._idle.bind(this))}},{key:"_calcAndDisplayMetrics",value:function(){var t=window.sb.MetricsService.internal.lastIdleEndTime-window.sb.MetricsService.currentPage.ts,e=t-window.sb.MetricsService.internal.idleTime,n=window.sb.MetricsService.internal.sptTime,i=[],a=null;window.performance&&window.performance.getEntriesByType&&(a=window.performance.getEntriesByType("resource"));var s,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(window.sb.MetricsService.internal.actions);try{for(l.s();!(s=l.n()).done;){var c=o(s.value,2),u=(c[0],c[1]);if(null!=a){var d=a.filter((function(t){return t.startTime>=u.ts&&t.startTime<=u.ts+u.duration}))[0];null!=d&&(u.resource=d)}i.push(u)}}catch(t){l.e(t)}finally{l.f()}if(window.sb.MetricsService.internal=null,window.sb.MetricsService.currentPage.ept=t,window.sb.MetricsService.currentPage.bpt=e,window.sb.MetricsService.currentPage.spt=n,window.sb.MetricsService.currentPage.marks={transport:i},console.log("CPQ Performance Metrics Service: ",window.sb.MetricsService.bootstrap,window.sb.MetricsService.currentPage),this._canDisplayMetrics()){var p=new CustomEvent("metrics-changed",{detail:window.sb.MetricsService.currentPage,bootstrap:window.sb.MetricsService.bootstrap});document.dispatchEvent(p)}}},{key:"_normalizeApiHost",value:function(t){var e=/([a-zA-Z0-9_-]+)\.(vpod\.visual\.t\.force|visual\.force|salesforce)\.com$/.exec(t);return e&&(t="vpod.visual.t.force"==e[2]?e[1]+".vpod.t.force.com":e[1]+".salesforce.com"),t}},{key:"_logMetrics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(window.sb.MetricsService.currentPage.ept<150)&&this.salesforceBaseUrl){var e=this.salesforceBaseUrl+"/_ui/common/request/servlet/CPQLoggingServlet",n=new XMLHttpRequest;n.withCredentials=!0,n.open("POST",e,!0);var o=this;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE)if(200==n.status)console.log("CPQ Performance Metrics service Successfully logged");else{if(t)return console.log("Error while logging CPQ Performance Metrics Service:"),void console.log(n.getAllResponseHeaders());console.log("Logging failed, trying on different endpoint..");var e=o._normalizeApiHost(location.host),r=location.protocol+"//"+e;o.salesforceBaseUrl=r,o._logMetrics(!0)}};var r={pkgVersion:window.sb.userSettings.pkgVersion,apiVersion:48,url:window.sb.MetricsService.currentPage.page.attributes.url,pageStartTime:window.sb.MetricsService.currentPage.pageStartTime,version:"1.0",polymerVersion:"P3"};this._externalLogMetrics&&Object.assign(r,this._externalLogMetrics);var i=[{logName:"cpqEPT",logLevel:"INFO",logAttrs:{attrsId:"cpq:page",ept:window.sb.MetricsService.currentPage.ept,bpt:window.sb.MetricsService.currentPage.bpt,spt:window.sb.MetricsService.currentPage.spt,resources:window.sb.MetricsService.currentPage.marks}}];Object.assign(i[0].logAttrs,r),0!==Object.keys(window.sb.MetricsService.bootstrap).length&&(i.push({logName:"cpqEPT",logLevel:"INFO",logAttrs:{attrsId:window.sb.MetricsService.bootstrap.id,bootstrapEPT:window.sb.MetricsService.bootstrap.bootstrapEPT,visibilityStateStart:window.sb.MetricsService.bootstrap.visibilityStateStart,visibilityStateEnd:window.sb.MetricsService.bootstrap.visibilityStateEnd,resources:window.sb.MetricsService.bootstrap.allRequests,timing:window.sb.MetricsService.bootstrap.timing}}),Object.assign(i[1].logAttrs,r));var a=new FormData;a.append("logLines",JSON.stringify(i)),n.send(a)}}},{key:"_canDisplayMetrics",value:function(){if(!this.canGatherMetrics())return!1;var t=new URL(window.location.href);return 1==new URLSearchParams(t.search).get("eptVisible")}},{key:"canGatherMetrics",value:function(){return"function"==typeof window.requestIdleCallback}},{key:"_isNotStarted",value:function(){return null==window.sb||null==window.sb.MetricsService||null==window.sb.MetricsService.internal||null==window.sb.MetricsService.internal.sptNum}},{key:"_getTime",value:function(){return window.performance?window.performance.now():Date.now()}},{key:"_getPageStartTime",value:function(){var t=window.performance;return t&&t.timing&&t.timing.navigationStart?t.timing.navigationStart:window.pageStartTime}},{key:"_getUniqueId",value:function(){return this._getRandomInt(1,1e4)}},{key:"_getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(85),r=n(6);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.$=e.$,this.component=e,this.viewport=r.a.getViewport())}var e,n,a;return e=t,a=[{key:"containsMarkup",value:function(t){return/(<[a-z][\s\S]*>)|(&[^\s]*;)/.test(t)}},{key:"sanitizeHtmlText",value:function(t){return t?sanitizeHtml(t,{allowedTags:sanitizeHtml.defaults.allowedTags.concat(["div","img","span","sub","sup","u","s","h1","h2","h3"]),allowedAttributes:{div:["style","class"],img:["src","height","width","alt","border","align","style"],a:["href","name","target","title"],span:["style"],p:["style"],li:["style"],em:["style"],u:["style"],s:["style"],sub:["style"],sup:["style"],strong:["style"]},parser:{decodeEntities:!1}}):t}}],(n=[{key:"sanitizeAndSetInnerHTML",value:function(){if(this.isNil()){var e=!this.link&&!this.isMobile();this.$.me.innerHTML=e?'<img id="blank" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="width:50%; height:17px"/>':""}else{if(null!=this.booleanValue){var n=this.booleanValue?"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY4QjA4OTVEQkY3MTFFMDgzQzJCMzYyMkRFM0JDMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY4QjA4OTZEQkY3MTFFMDgzQzJCMzYyMkRFM0JDMjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNjFGRUE4QURCRjMxMUUwODNDMkIzNjIyREUzQkMyOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjhCMDg5NERCRjcxMUUwODNDMkIzNjIyREUzQkMyOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpLVrhgAAAEoSURBVHjanJS9aoRAFIXnjjqykCcJpE21sJBXMA+QgIWFCoKFVbrgX2EhpEiTOqAPEUi1bSBPsrCwzeQe0SK77rp64ShX5nx3frxDWmuBaNv2ll/3LCWm48DaOo7zi4QAYcBHD9j2A6ZCDeMZ9ExN0zxxskEiZkZf/EvyY836FssCvjUgK9Z+IQS+lZzrStNUH3+bBcnzXJumKcqy/AcyrwUURaENwxBQFEU0OZPjKaOyZVlCKXUCGIVkWdZVHKZcVZWGGZAwDGms6AkkSRKSUgqsva7rDmDbtvB9n84tdXQ5cRwTIKgOgOd5dGm/zp5OEAQdyHVdmtr0i0d8DWCA7Fg3C/9Y+HaAvLPeuJkeZjbfBj74h6vgkZMX1t0Mzg/rlbv/80+AAQCVIVhcOwWhjQAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTQ0NzJFMzhEQjQwMTFFMEJENkNCN0I0QjBBMDU3MzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQyN0E5N0NEQjQzMTFFMEJENkNCN0I0QjBBMDU3MzYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDQ3MkUzNkRCNDAxMUUwQkQ2Q0I3QjRCMEEwNTczNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNDQ3MkUzN0RCNDAxMUUwQkQ2Q0I3QjRCMEEwNTczNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnhkEREAAACaSURBVHjaYvz//z8DCKxdu1YLSJkBMRsDYfALiE8FBwdfA3EYQYYADZgPNeAUVAEhwAZTDzQokXHNmjUJQI49iMNAIoBafpAJSNgA8REG8gBInw3IEE4g/k6mISB9nEwMVACjhowaQqwhX4CYh0z9IH1fQIbMAuJpwMzkRGLmswfpA+mHFQUhQE4dEOuSYM5lIG4F5v6VAAEGAGkRMGla548DAAAAAElFTkSuQmCC";return this.isDirty&&(n=this.booleanValue?"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAGJ6VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAB4nFXIsQ2AMAwAwd5TeIR3HBwyDkIBRUKAsn9BAQ1XnuztbKOveo9r60cTVVVVz5JrrmkBZl4GbhgJKF8t/ExEDQ8rHgYgD0i2FMl6UPBzAAABCUlEQVQ4jZ3UsUrDUBgF4HN+Y2KhTyK4dioUfAYfoDeLLyDayU1sRdcOHZLZxxA6dRV8ECm0acj/O9RiSGNu0jOf8907XC7xm+zVXWrOAc8shCdWcCfntoru0i8AIABk0zg12oDGFWg7HwJjeOhHk8Tx++12HOX5KJokzjuuJJvGqRo+AtFiaMSyK7C/EJZCDIOgsJ5AN6cgYrpRsCeAdhpuZ7EdYacAVag1Uh5ePCT0ItWTmoBapHplH1CLlIttgFqkbtAE/IuUhz6gEWkLAEBAYq1kv025GhX2aVgLVRcwzLfP4+suQP7iRjDMqbrYfwUzd2OGR5BXh5KBII5e+F/MPkXwFN6n7z9GMnsCPVgwRwAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAGJ6VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAB4nFXIsQ2AMAwAwd5TeIR3HBwyDkIBRUKAsn9BAQ1XnuztbKOveo9r60cTVVVVz5JrrmkBZl4GbhgJKF8t/ExEDQ8rHgYgD0i2FMl6UPBzAAAA30lEQVQ4je3OMU4CYRiE4ZnPZckmdDaewYR2KxISz+AB+G28gDHEws6ohBYKCrb2GCZU25rY2tpYQcRd5BsKbbRZWUp8+3kyxHfFMBz7iikPFKMirVlaQ3nzInsGAALAfHCeNVSmFHNQZRUCMRaVUsyb/Wngy+iqdzR/7Sb9aagc/6q4O8tceIwO3986JGbbAl+HMDOiE8Xrz8TgyzqIyZcOJgZ4nf1PbGfhH9kHJCKxcLJVZ+zGFoWF0X0CYfxx2zvZBlgNQhfCmO4TAkBxH04lXINs/1mRnsxwE19mDxtbAk/8Q+6dmAAAAABJRU5ErkJggg=="),void(this.$.me.innerHTML='<img id="checkbox" src="data:image/png;base64,'+n+'"/>')}"string"!==this.type&&"textarea"!==this.type||!t.containsMarkup(this.value)?(this.$.formatted.style.padding="2px 0",this.$.me.textContent=(this.value+"").trim()):(this.$.formatted.style.padding="2px 0",this.$.me.innerHTML=t.sanitizeHtmlText((this.value+"").trim())),this.handleDefaultSizeIfImage()}}},{key:"handleDefaultSizeIfImage",value:function(){var t=this.component.shadowRoot.querySelector("#me img:not([style*=width])");t&&(t=this.component.shadowRoot.querySelector("#me img:not([width])")),t&&t.setAttribute("width",o.b);var e=this.component.shadowRoot.querySelector("#me img:not([style*=height])");e&&(e=this.component.shadowRoot.querySelector("#me img:not([height])")),e&&e.setAttribute("height",o.a)}},{key:"isNil",value:function(){return(null==this.value||""===(this.value+"").trim())&&null==this.booleanValue}},{key:"isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"clearTabIndex",value:function(){this._tabindex=this.tabindex,this.tabindex=void 0}},{key:"restoreTabIndex",value:function(){this.tabindex=this._tabindex}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";var o,r,i,a=n(6),s=n(0),l=n(5),c=n(17),u=n(22),d=n(48),p=n(28),h=n(1),f=n(2),b=n(62),y=(n(18),n(144),n(25),n(35),n(10)),g=(n(111),n(147),n(117)),v=n(14),m=n(8),_=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(v.a)({_template:Object(_.a)(o||(r=["\n    <style>\n      :host {\n        @apply --layout-inline;\n        @apply --layout-center-center;\n        position: relative;\n\n        vertical-align: middle;\n\n        fill: var(--iron-icon-fill-color, currentcolor);\n        stroke: var(--iron-icon-stroke-color, none);\n\n        width: var(--iron-icon-width, 24px);\n        height: var(--iron-icon-height, 24px);\n        @apply --iron-icon;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n    </style>\n"],i||(i=r.slice(0)),o=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:y.a.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(t){var e=(t||"").split(":");this._iconName=e.pop(),this._iconsetName=e.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(t){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Object(m.a)(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Object(m.a)(this.root).appendChild(this._img))}});n(113);var w,O=n(107);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(v.a)({is:"paper-icon-button",_template:Object(_.a)(w||(w=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /*\n          NOTE: Both values are needed, since some phones require the value to\n          be `transparent`.\n        */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]"\n               alt$="[[alt]]"></iron-icon>\n  '],['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /*\n          NOTE: Both values are needed, since some phones require the value to\n          be \\`transparent\\`.\n        */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]"\n               alt$="[[alt]]"></iron-icon>\n  ']))),hostAttributes:{role:"button",tabindex:"0"},behaviors:[O.a],registered:function(){this._template.setAttribute("strip-whitespace","")},properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(t,e){var n=this.getAttribute("aria-label");n&&e!=n||this.setAttribute("aria-label",t)}});var k;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/n(161);Object(v.a)({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new g.a({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map((function(t){return this.name+":"+t}),this)},applyIcon:function(t,e){this.removeIcon(t);var n=this._cloneIcon(e,this.rtlMirroring&&this._targetIsRTL(t));if(n){var o=Object(m.a)(t.root||t);return o.insertBefore(n,o.childNodes[0]),t._svgIcon=n}return null},removeIcon:function(t){t._svgIcon&&(Object(m.a)(t.root||t).removeChild(t._svgIcon),t._svgIcon=null)},_targetIsRTL:function(t){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var e=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===e.getAttribute("dir")}else t&&t.nodeType!==Node.ELEMENT_NODE&&(t=t.host),this.__targetIsRTL=t&&"rtl"===window.getComputedStyle(t).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async((function(){this.fire("iron-iconset-added",this,{node:window})}))},_createIconMap:function(){var t=Object.create(null);return Object(m.a)(this).querySelectorAll("[id]").forEach((function(e){t[e.id]=e})),t},_cloneIcon:function(t,e){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[t],this.size,e)},_prepareSvgClone:function(t,e,n){if(t){var o=t.cloneNode(!0),r=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=o.getAttribute("viewBox")||"0 0 "+e+" "+e,a="pointer-events: none; display: block; width: 100%; height: 100%;";return n&&o.hasAttribute("mirror-in-rtl")&&(a+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"),r.setAttribute("viewBox",i),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),r.style.cssText=a,r.appendChild(o).removeAttribute("id"),r}return null}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var x=Object(_.a)(k||(k=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['<iron-iconset-svg name="paper-tabs" size="24">\n<svg><defs>\n<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>\n<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>\n</defs></svg>\n</iron-iconset-svg>'])));document.head.appendChild(x.content);var S,C=n(68),E=n(55),P=n(86);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(v.a)({_template:Object(_.a)(S||(S=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-tab">:host {\n  display: var(--layout-inline_-_display);\n        -ms-flex-align: var(--layout-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center_-_-webkit-align-items);\n align-items: var(--layout-center_-_align-items);\n        -ms-flex-pack: var(--layout-center-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-center-justified_-_-webkit-justify-content);\n justify-content: var(--layout-center-justified_-_justify-content);\n        -ms-flex: var(--layout-flex-auto_-_-ms-flex);\n -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n flex: var(--layout-flex-auto_-_flex);\n\n        position: relative;\n        padding: 0 12px;\n        overflow: hidden;\n        cursor: pointer;\n        vertical-align: middle;\n\n        font-family: var(--paper-font-common-base_-_font-family);\n -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n        ;\n}\n\n:host(:focus) {\n  outline: none;\n}\n\n:host([link]) {\n  padding: 0;\n}\n\n.tab-content {\n  height: var(--paper-tab-content-height, 100%);\n  transform: translateZ(0);\n  -webkit-transform: translateZ(0);\n  transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);\n  display: var(--paper-tab-content-display, var(--layout-horizontal_-_display));\n \t-ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n \t-webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n \tflex-direction: var(--layout-horizontal_-_flex-direction);\n \t-ms-flex-align: var(--layout-center-center_-_-ms-flex-align);\n \t-webkit-align-items: var(--layout-center-center_-_-webkit-align-items);\n \talign-items: var(--layout-center-center_-_align-items);\n \t-ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);\n \t-webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);\n \tjustify-content: var(--layout-center-center_-_justify-content);\n \t-ms-flex: var(--layout-flex-auto_-_-ms-flex);\n \t-webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n \tflex: var(--layout-flex-auto_-_flex);\n\n\t/** CPQ Styling Properties */\n  overflow: var(--paper-tab-content-overflow);\n\ttext-overflow: var(--paper-tab-content-text-overflow);\n\twhite-space: var(--paper-tab-content-white-space);\n\ttext-decoration: var(--paper-tab-content-text-decoration);\n\tcursor: var(--paper-tab-content-cursor);\n\tline-height: var(--paper-tab-content-line-height);\n\tfont-family: var(--paper-tab-content-font-family);\n}\n\n:host(:not(.iron-selected)) > .tab-content {\n  opacity: 0.8;\n\n        ;\n}\n\n:host(:focus) .tab-content {\n  opacity: 1;\n\n\t/** CPQ Specific Style */\n  font-weight: var(--paper-tab-content-focused-font-weight, 700);\n}\n\npaper-ripple {\n  color: var(--paper-tab-ink, var(--paper-yellow-a100));\n}\n\n.tab-content > ::slotted(a) {\n  -ms-flex: var(--layout-flex-auto_-_-ms-flex);\n -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n flex: var(--layout-flex-auto_-_flex);\n\n        height: 100%;\n}\n\n</style>\n\n    <div class="tab-content">\n      <slot></slot>\n    </div>\n']))),is:"paper-tab",behaviors:[E.a,C.a,P.a],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var t=Object(m.a)(this).parentNode;return!!t&&!!t.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(t){if(this.link){var e=this.queryEffectiveChildren("a");if(!e)return;if(t.target===e)return;e.click()}}});var T,I=n(109),j={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(t){this.focusedItem.click(),t.detail.keyboardEvent.preventDefault()},_onDownKey:function(t){this.focusedItem.click(),t.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(t){this._isRTL?this._focusNext():this._focusPrevious(),t.detail.keyboardEvent.preventDefault()},_onRightKey:function(t){this._isRTL?this._focusPrevious():this._focusNext(),t.detail.keyboardEvent.preventDefault()},_onKeydown:function(t){this.keyboardEventMatchesKeys(t,"up down left right esc")||this._focusWithKeyboardEvent(t)}},B=[I.a,j],M=n(66);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(v.a)({_template:Object(_.a)(T||(T=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-tabs">:host {\n  display: var(--layout_-_display);\n        -ms-flex-align: var(--layout-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center_-_-webkit-align-items);\n align-items: var(--layout-center_-_align-items);\n\n        height: 48px;\n        font-size: 14px;\n        font-weight: 500;\n        overflow: hidden;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n\n        \n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        ;\n}\n\n:host(:dir(rtl)), :host([dir="rtl"]) {\n  display: var(--layout-horizontal-reverse_-_display);\n -ms-flex-direction: var(--layout-horizontal-reverse_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal-reverse_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal-reverse_-_flex-direction);\n}\n\n#tabsContainer {\n  position: relative;\n        height: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        -ms-flex: var(--layout-flex-auto_-_-ms-flex);\n -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n flex: var(--layout-flex-auto_-_flex);\n        ;\n}\n\n#tabsContent {\n  height: 100%;\n        -moz-flex-basis: auto;\n        -ms-flex-basis: auto;\n        flex-basis: auto;\n        ;\n}\n\n#tabsContent.scrollable {\n  position: absolute;\n        white-space: nowrap;\n}\n\n#tabsContent:not(.scrollable), #tabsContent.scrollable.fit-container {\n  display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n}\n\n#tabsContent.scrollable.fit-container {\n  min-width: 100%;\n}\n\n#tabsContent.scrollable.fit-container > ::slotted(*) {\n  -ms-flex: 1 0 auto;\n        -webkit-flex: 1 0 auto;\n        flex: 1 0 auto;\n}\n\n.hidden {\n  display: none;\n}\n\n.not-visible {\n  opacity: 0;\n        cursor: default;\n}\n\npaper-icon-button {\n  width: 48px;\n        height: 48px;\n        padding: 12px;\n        margin: 0 4px;\n}\n\n#selectionBar {\n  position: absolute;\n  height: var(--paper-tabs-selection-bar-height, 0);\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-bottom: var(--paper-tabs-selection-bar-border-bottom, 2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100)));\n    -webkit-transform: scale(0);\n  transform: scale(0);\n    -webkit-transform-origin: left center;\n  transform-origin: left center;\n    transition: -webkit-transform;\n  transition: transform;\n}\n\n#selectionBar.align-bottom {\n  top: 0;\n        bottom: auto;\n}\n\n#selectionBar.expand {\n  transition-duration: 0.15s;\n        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);\n}\n\n#selectionBar.contract {\n  transition-duration: 0.18s;\n        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n#tabsContent > ::slotted(:not(#selectionBar)) {\n  height: 100%;\n}\n\n</style>\n\n    <paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button>\n\n    <div id="tabsContainer" on-track="_scroll" on-down="_down">\n      <div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]">\n        <div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div>\n        <slot></slot>\n      </div>\n    </div>\n\n    <paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button>\n']))),is:"paper-tabs",behaviors:[M.a,B],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null,this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this),this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(t){Object(m.a)(this).querySelectorAll("paper-tab").forEach(t?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(t){t.setAttribute("noink","")},_removeNoinkAttribute:function(t){t.removeAttribute("noink")},_computeScrollButtonClass:function(t,e,n){return!e||n?"hidden":t?"not-visible":""},_computeTabsContentClass:function(t,e){return t?"scrollable"+(e?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(t,e){return t?"hidden":e?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",(function(){this._scroll(),this._tabChanged(this.selectedItem)}),10)},_onIronSelect:function(t){this._tabChanged(t.detail.item,this._previousTab),this._previousTab=t.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(t){this.debounce("tab-changed",(function(){this._tabChanged(null,this._previousTab),this._previousTab=null}),1)},_activateHandler:function(){this._cancelPendingActivation(),I.b._activateHandler.apply(this,arguments)},_scheduleActivation:function(t,e){this._pendingActivationItem=t,this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,e)},_delayedActivationHandler:function(){var t=this._pendingActivationItem;this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,t.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0)},_onArrowKeyup:function(t){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(t){t.target===this._pendingActivationItem&&this._cancelPendingActivation()},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(t,e){if(this.scrollable){var n=e&&-e.ddx||0;this._affectScroll(n)}},_down:function(t){this.async((function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)}),1)},_affectScroll:function(t){this.$.tabsContainer.scrollLeft+=t;var e=this.$.tabsContainer.scrollLeft;this._leftHidden=0===e,this._rightHidden=e===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft(),this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight(),this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(t,e){if(!t)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(0,0);var n=this.$.tabsContent.getBoundingClientRect(),o=n.width,r=t.getBoundingClientRect(),i=r.left-n.left;if(this._pos={width:this._calcPercent(r.width,o),left:this._calcPercent(i,o)},this.noSlide||null==e)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(this._pos.width,this._pos.left);var a=e.getBoundingClientRect(),s=this.items.indexOf(e),l=this.items.indexOf(t);this.$.selectionBar.classList.add("expand");var c=s<l;this._isRTL&&(c=!c),c?this._positionBar(this._calcPercent(r.left+r.width-a.left,o)-5,this._left):this._positionBar(this._calcPercent(a.left+a.width-r.left,o)-5,this._calcPercent(i,o)+5),this.scrollable&&this._scrollToSelectedIfNeeded(r.width,i)},_scrollToSelectedIfNeeded:function(t,e){var n=e-this.$.tabsContainer.scrollLeft;(n<0||(n+=t-this.$.tabsContainer.offsetWidth)>0)&&(this.$.tabsContainer.scrollLeft+=n)},_calcPercent:function(t,e){return 100*t/e},_positionBar:function(t,e){t=t||0,e=e||0,this._width=t,this._left=e,this.transform("translateX("+e+"%) scaleX("+t/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(t){var e=this.$.selectionBar.classList;e.contains("expand")?(e.remove("expand"),e.add("contract"),this._positionBar(this._pos.width,this._pos.left)):e.contains("contract")&&e.remove("contract")}});var D,A,R=n(91);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(v.a)({_template:Object(_.a)(D||(D=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host > ::slotted(:not(slot):not(.iron-selected)) {\n        display: none !important;\n      }\n    </style>\n\n    <slot></slot>\n"]))),is:"iron-pages",behaviors:[M.a,R.a],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(t,e){this.async(this.notifyResize)}});var L,q=Object(_.b)(A||(A=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([secondary-tabs]) {\n  --sb-option-cell-box-shadow: 0px -1px 0px 0px #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer {\n  margin: 0;\n  border-radius: .40rem .40rem 0 0;\n  border: none;\n  border-top: 1px solid #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tabs {\n  --paper-tabs-selection-bar-border-bottom: none;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab.iron-selected {\n  border: none;\n  box-shadow: none;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:hover:not(.iron-selected) {\n  border-color: #d8dde6;\n  box-shadow: none;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab {\n  width: 50px !important;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) ~ paper-tab.iron-selected {\n  border-left: 1px solid #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab.iron-selected ~ paper-tab:not(.iron-selected) {\n  border-left: 1px solid #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) ~ paper-tab:not(.iron-selected) {\n  margin-left: 0 !important;\n  border-left: 1px solid #d8dde6;\n}\npaper-tabs {\n  height: auto !important;\n}\npaper-tabs span {\n  position: relative;\n  top: 10px;\n  right: 5px;\n  color: #0070d2;\n}\npaper-tab[disabled]:not(.iron-selected) {\n  color: rgba(126, 140, 153, 0.8);\n}\npaper-tab[disabled]:not(.iron-selected) span {\n  color: rgba(126, 140, 153, 0.8);\n}\npaper-tab#overflowTab[overflow-tab-label-disabled]:not(.iron-selected):not([disabled]) {\n  color: rgba(126, 140, 153, 0.8);\n}\npaper-tab#overflowTab[overflow-tab-label-disabled]:not(.iron-selected):not([disabled]) span {\n  color: var(--sbTabSelectedColor);\n}\npaper-tab {\n  font-family: var(--sbTabFontFamily);\n  padding: 0 1rem;\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.25;\n  color: var(--sbTabColor);\n  text-transform: uppercase;\n  display: inline-block;\n  border-bottom: 2px solid transparent;\n}\npaper-tab[class*='--mobile'] {\n  font-size: 1rem;\n}\n[class*='--mobile'] paper-tab {\n  font-size: 1rem;\n}\npaper-tab:hover:not(.iron-selected) {\n  height: auto;\n  text-decoration: none;\n  color: var(--sbTabHoverColor);\n}\npaper-tab.iron-selected {\n  color: var(--sbTabSelectedColor);\n  border-color: var(--sbTabSelectedColor);\n  box-shadow: var(--sbTabSelectedShadowColor);\n}\npaper-tab.overflow {\n  display: none;\n}\npaper-tab.overflowTab {\n  display: inline-block !important;\n  overflow: visible;\n}\npaper-tab + paper-tab {\n  margin-left: 1.5rem;\n}\nsb-pagination {\n  --pagination-bar-text-align: center;\n  --pagination-bar-padding-bottom: 5px;\n  --pagination-bar-padding-top: 5px;\n}\n.center-justified {\n  text-align: center;\n}\n#downArrow {\n  margin-left: 5px;\n  top: 0;\n}\n#menuMask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  display: none;\n  z-index: 99;\n}\n#overflowTab {\n  display: none;\n}\n#paperTabContainer {\n  display: inline-block;\n  margin: 0 15px;\n  position: relative;\n}\n#paperTabContainer[class*='--mobile'] {\n  max-width: none;\n  display: block;\n  min-height: 42px;\n}\n[class*='--mobile'] #paperTabContainer {\n  max-width: none;\n  display: block;\n  min-height: 42px;\n}\n@media screen and (max-width: 480px) {\n  #paperTabContainer {\n    max-width: 480px;\n  }\n}\n@media screen and (max-width: 768px) and (min-width: 481px) {\n  #paperTabContainer {\n    max-width: 768px;\n  }\n}\n@media screen and (max-width: 1024px) and (min-width: 769px) {\n  #paperTabContainer {\n    max-width: 1024px;\n  }\n}\n@media screen and (max-width: 1200px) and (min-width: 1025px) {\n  #paperTabContainer {\n    max-width: 1200px;\n  }\n}\n@media screen and (min-width: 1201px) {\n  #paperTabContainer {\n    max-width: 1200px;\n  }\n}\n#paperTabContainer.hidden {\n  display: none !important;\n}\n#overflowTabMenu {\n  position: absolute;\n  right: 0;\n  background: #fff;\n  border: 1px solid #d8dde6;\n  border-radius: .25rem;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  max-width: 20rem;\n  max-height: 15rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 100;\n  display: none;\n}\n#overflowTabMenu .noOverflow {\n  display: none;\n}\n#overflowTabMenu ul {\n  list-style-type: none;\n  text-transform: uppercase;\n  color: #16325c;\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 0 0;\n  margin: 0 0;\n}\n#overflowTabMenu ul li {\n  font-family: var(--sbTabFontFamily);\n  color: #54698d;\n  padding: 0 1rem;\n  line-height: 3rem;\n  font-size: .75rem;\n  letter-spacing: .0625em;\n  border-bottom: 1px solid #d8dde6;\n}\n#overflowTabMenu ul li :last-child {\n  border-bottom: none;\n}\n#overflowTabMenu ul li[disabled]:not(.selected) {\n  color: rgba(126, 140, 153, 0.8);\n}\n#overflowTabMenu ul li:not([disabled]):hover {\n  cursor: pointer;\n  background-color: #f4f6f9;\n}\n#overflowTabMenu ul li:not([disabled]):active {\n  background-color: #EEF1F6;\n}\n#overflowTabMenu ul .selected {\n  background-color: #f4f6f9;\n}\n.showOverflowTabMenu {\n  display: inline-block !important;\n}\n.showOverflowTabMenu .overflow {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.showMenuMask {\n  display: block !important;\n}\n.hideIconClass {\n  display: none;\n}\n.overflowIconClass {\n  position: relative;\n  top: 0px;\n  right: -2px;\n  color: #0070d2;\n}\n[hidden] {\n  display: none !important;\n}\n.widthWithOverflow {\n  width: 100%;\n}\n:host > * {\n  --paper-tabs-selection-bar-color: #0070d2;\n  --paper-tabs-selection-bar-height: 0;\n  --paper-tab-content-overflow: hidden;\n  --paper-tab-content-text-overflow: ellipsis;\n  --paper-tab-content-white-space: nowrap;\n  --paper-tab-content-display: block;\n  --paper-tab-content-text-decoration: none;\n  --paper-tab-content-cursor: pointer;\n  --paper-tab-content-height: 2.5rem;\n  --paper-tab-content-line-height: 2.5rem;\n  --paper-tab-content-font-family: var(--sbTabFontFamily);\n  /** Focused tabs */\n  --paper-tab-content-focused-font-weight: 500;\n}\n#paperTabContainer.largeQuote[class*='--desktop'] {\n  display: flex;\n  flex-direction: row;\n  border-bottom: none;\n  border-top: none;\n  max-width: 120em;\n}\n#paperTabContainer.largeQuote.sbGroupTabs[class*='--desktop'] {\n  max-width: 60em;\n}\n#paperContentContainer.largeQuote[class*='--desktop'] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n#paperContentContainer.largeQuote[class*='--desktop'] > iron-pages {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n#paperContentContainer.largeQuote[class*='--desktop'] > iron-pages > .iron-selected {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n[class*='--desktop'] #paperTabContainer.largeQuote {\n  display: flex;\n  flex-direction: row;\n  border-bottom: none;\n  border-top: none;\n  max-width: 120em;\n}\n[class*='--desktop'] #paperTabContainer.largeQuote.sbGroupTabs {\n  max-width: 60em;\n}\n[class*='--desktop'] #paperContentContainer.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n[class*='--desktop'] #paperContentContainer.largeQuote > iron-pages {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n[class*='--desktop'] #paperContentContainer.largeQuote > iron-pages > .iron-selected {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host([secondary-tabs]) #paperTabContainer.largeQuote[class*='--desktop'] paper-tabs {\n  width: 100% !important;\n}\n:host([class*='--desktop'][secondary-tabs]) #paperTabContainer.largeQuote paper-tabs {\n  width: 100% !important;\n}\n:host([secondary-tabs]) > #paperTabContainer[class*='--mobile'] {\n  border-bottom: none;\n}\n:host([secondary-tabs]) > #paperTabContainer[class*='--mobile'] paper-tabs {\n  padding: 0;\n}\n:host([class*='--mobile'][secondary-tabs]) > #paperTabContainer {\n  border-bottom: none;\n}\n:host([class*='--mobile'][secondary-tabs]) > #paperTabContainer paper-tabs {\n  padding: 0;\n}\n:host .iconClass {\n  cursor: pointer;\n  color: #9faab5 !important;\n}\n:host .iconClass:hover {\n  color: #0070d2 !important;\n}\n:host > #paperTabContainer {\n  margin: 0;\n  border-bottom: 1px solid #d8dde6;\n}\n:host .iconClass[class*='--mobile'] {\n  margin-left: -14px;\n}\n:host [class*='--mobile'] .iconClass {\n  margin-left: -14px;\n}\n:host .iconClass[class*='--desktop'] {\n  margin-left: -7px;\n}\n:host [class*='--desktop'] .iconClass {\n  margin-left: -7px;\n}\n"])));n(13),n(15),n(180);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){H(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t){return function(t){if(Array.isArray(t))return Q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||W(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=W(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function W(t,e){if(t){if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function K(t,e){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=J(t);if(e){var r=J(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return X(this,n)}}function X(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(i,t);var e,n,o,r=Y(i);function i(){return G(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-tabs"}},{key:"properties",get:function(){return{tabs:Array,pageComponent:{type:String,value:null},selectedTabIndex:{type:Number,value:0},selectedPageIndex:{type:Number,value:0},tabsClass:{type:String,value:"horizontal layout center-justified"},usePagination:{type:Boolean,value:!1},paginationClass:{type:String,value:"horizontal layout center-justified"},viewport:{type:Object,observer:"_viewportChanged",value:function(){return a.a.getViewport()}},tabLimit:{type:Number,value:0},rendered:{type:Boolean,value:!1},overflowTab:Object,overflowTabClass:String,overflowTabMenuClass:String,menuMaskClass:String,bind:{type:Array,value:[]},hideTabs:{type:Boolean,value:!1},contentContainerClass:String,tabContainerClass:String,pageElements:{type:Array,value:[]},overflowTabMenuDisabled:{type:Boolean,value:!1},overflowTabMenuLabelDisabled:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_renderObserver(tabs, pageComponent, bind)","setPaginationListener(usePagination)","_handleSelectedChangedObserver(selectedPageIndex, pageElements)"]}},{key:"template",get:function(){return Object(f.b)(L||(L=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t\n\t\t<div device id="paperTabContainer" class$="[[contentContainerClass]]" hidden$="[[hideTabs]]">\n\t\t\t<paper-tabs\n\t\t\t\t\tnoink id="paperTabs"\n\t\t\t\t\tselected="{{selectedTabIndex}}"\n\t\t\t\t\tclass="tabs"\n\t\t\t\t\tno-slide class$="[[tabsClass]]"\n\t\t\t>\n\t\t\t\t<template is="dom-repeat" items="[[tabs]]" as="tab">\n\t\t\t\t\t<paper-tab\n\t\t\t\t\t\t\thidden="[[tab.hidden]]"\n\t\t\t\t\t\t\tdisabled="[[tab.disabled]]"\n\t\t\t\t\t\t\ton-click="selectTab"\n\t\t\t\t\t\t\tlabel$="[[tab.label]]"\n\t\t\t\t\t\t\tname$="[[tab.key]]"\n\t\t\t\t\t\t\tclass$="[[tab.className]]">[[tab.label]]</paper-tab>\n\n\t\t\t\t\t<template is="dom-if" if="[[tab.iconId]]">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tid$="[[tab.iconId]]"\n\t\t\t\t\t\t\t\tclass$="iconClass hideIconClass [[tab.iconClass]]"\n\t\t\t\t\t\t\t\ton-click="_handleEvent"\n\t\t\t\t\t\t\t\tdata-tap-event$="[[tab.iconEvent]]">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<paper-tooltip for="[[tab.iconId]]" position="top" offset="10" animation-delay="0">[[tab.label]]</paper-tooltip>\n\t\t\t\t\t</template>\n\n\t\t\t\t</template>\n\t\t\t\t<paper-tab\n\t\t\t\t\t\tid="overflowTab"\n\t\t\t\t\t\tdisabled="[[overflowTabMenuDisabled]]"\n\t\t\t\t\t\ton-click="showMenu"\n\t\t\t\t\t\tclass$="[[overflowTabClass]]"\n\t\t\t\t\t\toverflow-tab-label-disabled$="[[overflowTabMenuLabelDisabled]]"\n\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tid$="[[overflowTab.iconId]]-overflow"\n\t\t\t\t\t\t\t\tclass$="iconClass overflowIconClass hideIconClass [[overflowTab.iconClass]]"\n\t\t\t\t\t\t\t\ton-click="_handleEvent"\n\t\t\t\t\t\t\t\tdata-tap-event$="[[overflowTab.iconEvent]]">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<paper-tooltip for="[[overflowTab.iconId]]" position="top" offset="10" animation-delay="0">[[overflowTab.label]]</paper-tooltip>\n\t\t\t\t\t<span id="downArrow">&#9660;</span>\n\t\t\t\t</paper-tab>\n\n\t\t\t</paper-tabs>\n\t\t\t<div id="overflowTabMenu" class$="[[overflowTabMenuClass]]">\n\t\t\t\t<ul>\n\t\t\t\t\t<template is="dom-repeat" items="[[tabs]]" as="tab">\n\t\t\t\t\t\t<li id="{{index}}" class$="[[tab.className]]" name$="[[tab.key]]"\n\t\t\t\t\t\t\t\tdisabled$="[[tab.disabled]]" on-click="selectTab">\n\t\t\t\t\t\t\t<span id="tabLabel">[[tab.label]]</span>\n\t\t\t\t\t\t\t<paper-tooltip for="tabLabel" position="bottom" animation-delay="0"\n\t\t\t\t\t\t\t\t\toffset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</template>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div id="menuMask" on-click="closeMenu" class$="[[menuMaskClass]]"></div>\n\t\t</div>\n\t\t<div device id="paperContentContainer" class$="[[contentContainerClass]]">\n\t\t<iron-pages id="pages" selected="[[displayPage(selectedTabIndex)]]"></iron-pages>\n\t\t<template is="dom-if" if="[[usePagination]]">\n\t\t\t<div class$="[[paginationClass]]">\n\t\t\t\t<sb-pagination\n\t\t\t\t\t\tid="pagination"\n\t\t\t\t\t\tpage-size=\'1\'\n\t\t\t\t\t\tnum-items="[[tabs.length]]"\n\t\t\t\t\t\tpage-index="[[selectedTabIndex]]"\n\t\t\t\t></sb-pagination>\n\t\t\t</div>\n\t\t</template>\n\t\t</div>\n\t\t'])),q)}}],(n=[{key:"events",get:function(){var t={};return t[s.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"_renderObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.render(t,e,n)}},{key:"render",value:function(){this._enforceValidTabSelected(),this._buildTabs(),this.observeNode(this.$.paperTabs,function(){this.rendered=!0,!this.tabs||this.tabs.length<=0||this._viewportChanged()}.bind(this))}},{key:"destroyTabs",value:function(){if(this.template)try{for(var t=this.$.pages;t.firstChild;)t.removeChild(t.firstChild);Object(p.b)(),this.template=null,this.selectedTabIndex=0}catch(t){return void console.error(t)}}},{key:"_enforceValidTabSelected",value:function(){(isNaN(this.selectedPageIndex)||this.tabs&&this.tabs.length<=this.selectedPageIndex||this.selectedPageIndex<0||this.selectedPageIndex%1!=0)&&(this.selectedPageIndex=0)}},{key:"_buildTabs",value:function(){if(this.template)this.templateBindData(this.template,this.template.parentElement);else{var t=document.createElement("dom-bind");this.template=document.createElement("template"),t.appendChild(this.template),this._buildPages(this.template),this.templateBindData(this.template,t),this.$.pages.appendChild(t),Object(p.b)(),this.observeNode(this.$.pages,function(t){for(var e=0,n=t.addedNodes.length;e<n;e++)"div"===t.addedNodes[e].tagName.toLowerCase()&&(this.pageElements=this.pageElements.concat(t.addedNodes[e].firstElementChild));this.bindElementEvents(this.pageElements)}.bind(this))}}},{key:"setPageElements",value:function(t){var e,n=V(t||[]);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.pageElements.push(o)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_buildPages",value:function(t){var e=t.content.ownerDocument;this._bind=this.bind||[],this.tabs.forEach(function(n,o){var r=n.pageComponent||this.pageComponent;if(r){var i=e.createElement("div"),a=e.createElement(r);a.setAttribute("name",n.name),a.setAttribute("label",n.label),a.setAttribute("tab-index",o),a.setAttribute("key",n.key);var s,l=V(n.attributes||[]);try{for(l.s();!(s=l.n()).done;){var c=s.value;a.setAttribute(c.name,c.value)}}catch(t){l.e(t)}finally{l.f()}this.usePagination&&this.set("tabs."+o+".disabled",!0),n.bind&&(this._bind=U(new Set([].concat(U(this._bind),U(n.bind))))),this.addTwoWayBindingAttributes(a,this._bind),i.appendChild(a),t.content.appendChild(i)}}.bind(this));var n,o=V(this._bind);try{for(o.s();!(n=o.n()).done;){var r=n.value;this._createMethodObserver("_propertyChanged(".concat(r,".*)"))}}catch(t){o.e(t)}finally{o.f()}}},{key:"addTwoWayBindingAttributes",value:function(t,e){var n,o=V(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;t.setAttribute(Object(b.a)(r),"{{"+r+"}}")}}catch(t){o.e(t)}finally{o.f()}}},{key:"templateBindData",value:function(t,e){this.requiresTemplateBindData=this._bind&&this._bind.length>0;var n,o=V(this._bind);try{for(o.s();!(n=o.n()).done;){var r=n.value;(this.__data[r]&&this.__data[r]!==this[r]||void 0===this[r])&&(this[r]=this.__data[r]),void 0!==this[r]&&(this.requiresTemplateBindData=!1,t[r]=this[r],e[r]=this[r])}}catch(t){o.e(t)}finally{o.f()}}},{key:"displayPage",value:function(t){var e=this.$.paperTabs.querySelectorAll("paper-tab")[t];return null!=e&&"overflowTab"===e.id&&0!=t?this.selectedPageIndex:(this.selectedPageIndex=+t,t)}},{key:"setPaginationListener",value:function(){this.usePagination&&this.addEventListener("pagination-changed",this.changeTab.bind(this))}},{key:"changeTab",value:function(t){this._changeTab(t.detail.index)}},{key:"_changeTab",value:function(t){var e=this.$.paperTabs,n=e.querySelector("#overflowTab"),o=this.tabLimit,r=this.tabs.length;this.selectedTabIndex=t,this._ensureOverflowTabMenuDisabled(n),this.tabs=this._ensureOverflowSelection(this.tabs,this.selectedPageIndex),this.selectedTabIndex>=o&&r-1>o?(this._displayOverflowTabName(n,this.tabs[this.selectedTabIndex].label),e.selected=e.getElementsByTagName("paper-tab").length-1,this.usePagination&&(this.shadowRoot.querySelector("#pagination").pageIndex=t,this.overflowTabMenuDisabled=!1,this.overflowTabMenuLabelDisabled=!1)):r-2>o&&this._displayOverflowTabName(n,this.tabs[o].label)}},{key:"_ensureOverflowTabMenuDisabled",value:function(t){for(var e=!0,n=this.tabLimit,o=this.tabs.length;n<o;n++)if(!this.tabs[n].disabled){e=!1;break}if(this.overflowTabMenuDisabled=e,this.overflowTabMenuDisabled)this.overflowTabMenuLabelDisabled=!0;else{var r=t.firstChild.textContent,i=this._getTabIndexByLabel(r);i>=0&&(this.overflowTabMenuLabelDisabled=this.tabs[i].disabled)}}},{key:"_ensureOverflowSelection",value:function(t,e){return t.map((function(t,n){var o=e===n&&t.className.includes("overflow"),r=t.className.replace(" selected","")+(o?" selected":"");return z(z({},t),{},{className:r})}))}},{key:"closeMenu",value:function(t){var e=this.selectedPageIndex;this.overflowTabMenuClass="",this.menuMaskClass="",!0!==t&&e<this.tabLimit&&(this.selectedTabIndex=e)}},{key:"selectTab",value:function(t){var e=parseInt(t.currentTarget.id);if(!Number.isInteger(e)||!this.tabs[e].disabled){var n=this.$.paperTabs.querySelector("#overflowTab"),o=this.tabLimit;if(Number.isInteger(e)){if(this.selectedPageIndex=e,this._deselectPreviouslySelectedTab(),this.$.pages.selected=e,this.set("tabs."+e+".className","overflow selected"),this.overflowTab=this.tabs[e],this.tabs[e].iconId){var r=this.shadowRoot.querySelector("#"+this.tabs[e].iconId+"-overflow");Object(h.m)("hideIconClass",!1,r)}this._displayOverflowTabName(n,t.currentTarget.textContent),this.overflowTabClass="overflowTab",this.closeMenu(!0)}else this.tabs.length-1>o&&(this._deselectPreviouslySelectedTab(),this._displayOverflowTabName(n,this.tabs[o].label),this._ensureOverflowTabMenuDisabled(n))}}},{key:"_handleEvent",value:function(t){var e=t.currentTarget.getAttribute("data-tap-event"),n=t.currentTarget.getAttribute("id"),o=null!=e?e:"tab-"+Object(b.a)(n);this.dispatchEvent(Object(s.d)(o+"-tapped",{event:e,Id:n}))}},{key:"showMenu",value:function(){this.overflowTabMenuClass="showOverflowTabMenu",this.menuMaskClass="showMenuMask"}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"_displayOverflowTabName",value:function(t,e){t.firstChild.textContent=e,this.overflowTabClass="overflowTab"}},{key:"_handleOverFlow",value:function(){var t,e,n=this.$.paperTabs,o=this.selectedPageIndex,r=n.querySelector("#overflowTab"),i=this.shadowRoot.querySelector("#pagination"),a=this.tabLimit,s=this.tabs.length;this.overflowTabClass="";for(var l=0;l<s;l++){if(t="noOverflow",e=a,l>=a&&s-1>a&&(l===s-1&&(o>=a&&(e=o),this.overflowTab=this.tabs[e],this._displayOverflowTabName(r,this.tabs[e].label)),t="overflow"),s>=a&&(t+=" widthWithOverflow"),this.tabs[l].iconId){var c=this.shadowRoot.querySelector("#"+this.tabs[l].iconId),u=!("noOverflow"==t||"overflow"==t&&l>=a&&l!=s-1);if(Object(h.m)("hideIconClass",u,c),"overflow"==t&&l===o){var d=this.shadowRoot.querySelector("#"+this.tabs[l].iconId+"-overflow");Object(h.m)("hideIconClass",!1,d)}}this.tabs[l].disabled&&(t+=" disabled"),this.set("tabs."+l+".className",l===o?t+" iron-selected":t)}o<a||s-1===a&&o===a?(this.selectedTabIndex=o,this.set("tabs."+o+".className",this.tabs[o].className.replace(" selected",""))):o>=a&&(n.selected=s,this.overflowTabClass="overflowTab iron-selected",this.set("tabs."+o+".className","overflow selected")),this.usePagination&&null!=i&&(i.pageIndex=o),this._ensureOverflowTabMenuDisabled(r)}},{key:"_handleSelectedChangedObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._handleSelectedChanged(t,e)}},{key:"_handleSelectedChanged",value:function(){this._enforceValidTabSelected(),this.dispatchEvent(Object(s.d)("selected-page-changed",this.selectedPageIndex)),this.fireTabSelected()}},{key:"fireTabSelected",value:function(){this.pageElements.length>0&&this.pageElements.length>this.selectedPageIndex&&this.pageElements[this.selectedPageIndex].dispatchEvent(Object(s.d)("sb-tab-selected"))}},{key:"_deselectPreviouslySelectedTab",value:function(){var t=this.$.overflowTabMenu.querySelector(".selected");if(t){var e=parseInt(t.id);Number.isInteger(e)&&this.set("tabs."+e+".className",this.tabs[e].className.replace(" selected",""))}}},{key:"_viewportChanged",value:function(){this.rendered&&(this.viewport&&this.viewport.XL.up?this.tabLimit=7:this.viewport&&this.viewport.L.up?this.tabLimit=5:this.viewport&&this.viewport.M.up?this.tabLimit=4:this.viewport&&this.viewport.S.up?this.tabLimit=3:this.viewport&&this.viewport.XS.up&&(this.tabLimit=2),this._handleOverFlow())}},{key:"bindElementEvents",value:function(t){var e=t?t.length:0;if(0!=e){this.fireTabSelected();for(var n=0;n<e;n++){var o,r=V(this._bind);try{for(r.s();!(o=r.n()).done;){var i=o.value,a=Object(b.a)(i);t[n].addEventListener(a+"-changed",function(t){t.detail.path&&Object(h.d)(this).set(t.detail.path,t.detail.value)}.bind(this))}}catch(t){r.e(t)}finally{r.f()}}this.requiresTemplateBindData&&this.templateBindData(this.template,this.template.parentElement)}}},{key:"_propertyChanged",value:function(t){this.template&&this.template.parentElement&&this.template.parentElement.notifyPath(t.path,t.value)}},{key:"contentFilteredHandler",value:function(t,e){if(null!=t){var n=this._getTabIndexByLabel(t);n<0||(this.set("tabs."+n+".disabled",!e||this.usePagination),this.tabs[n]._disabled=!e,this._changeToNextEnabledTabQueued&&clearTimeout(this._changeToNextEnabledTabQueued),this._changeToNextEnabledTabQueued=setTimeout(this._changeToNextEnabledTab.bind(this),1))}}},{key:"_getTabIndexByLabel",value:function(t){for(var e=0,n=this.tabs.length;e<n;e++)if(this.tabs[e].label===t)return e;return-1}},{key:"_changeToNextEnabledTab",value:function(){var t=this._getNextEnabledPageIndex();this._changeTab(t)}},{key:"_getNextEnabledPageIndex",value:function(){for(var t=this.selectedPageIndex,e=this.tabs.length;t<e;t++)if(!this.tabs[t]._disabled)return t;for(var n=0,o=this.selectedPageIndex;n<o;n++)if(!this.tabs[n]._disabled)return n;return this.selectedPageIndex}}])&&$(e.prototype,n),o&&$(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(d.a)(Object(u.a)(Object(l.a)(Object(c.a)(f.a)))));customElements.define(Z.is,Z)},function(t,e,n){"use strict";var o,r=n(6),i=n(73),a=n(0),s=n(5),l=n(17),c=n(11),u=n(1),d=n(2),p=n(3);var h,f,b,y=Object(p.b)(o||(h=["\n:host {\n  display: table-row-group;\n  background-color: var(--sbTableHeaderBgColor);\n  color: var(--sbTableHeaderColor);\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n}\n:host .th {\n  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbTableHeaderBorderBottomColor);\n}\n:host #table-header {\n  display: table;\n}\n:host .hidden {\n  display: none;\n}\n:host p {\n  text-transform: none;\n}\n:host #drawerPlaceHolder {\n  min-width: 40px;\n  max-width: 40px;\n}\n"],f||(f=h.slice(0)),o=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(f)}}))));n(18),n(35),n(146),n(181),n(72),n(157),n(182);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=w(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function O(t,e){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=S(t);if(e){var r=S(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(l,t);var e,n,o,s=k(l);function l(){return v(this,l),s.apply(this,arguments)}return e=l,o=[{key:"is",get:function(){return"sb-table-header"}},{key:"properties",get:function(){return{cols:Array,selectable:Boolean,selectionType:{type:String,value:"checkbox"},selected:{type:Boolean,value:!1,notify:!0},selectionDisabled:{type:Boolean,value:!1},selectionTooltip:String,headerClassMap:{type:Object,value:{}},columnWidths:{type:Object,value:null},viewport:{type:Object,value:function(){return r.a.getViewport()}},headerActions:Array,hideHiddenSelectable:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_buildLabelsObserver(cols, headerClassMap, columnWidths)","_setSelectableObserver(selectable, selectionType)","_setSelectedObserver(selected, selectable, selectionType)"]}},{key:"template",get:function(){return Object(d.b)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="table-header" device>\n\t\t<sb-group id="selection" item="sb-table-cell-select" class="th hidden"></sb-group>\n\t\t<template is="dom-if" if="[[selectionTooltip]]">\n\t\t\t<paper-tooltip for="selection" animation-delay="250" offset="5" fit-to-visible-bounds="true">\n\t\t\t\t<p>[[selectionTooltip]]</p>\n\t\t\t</paper-tooltip>\n\t\t</template>\n\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t<template is="dom-if" if="[[_showHeaderActions(\'left\', headerActions.*)]]">\n\t\t\t\t<div class="th">\n\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\tselected="[[selected]]"\n\t\t\t\t\t\t\tposition="left"\n\t\t\t\t\t\t\trow-actions="[[headerActions]]"\n\t\t\t\t\t></sb-actions>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</template>\n\t\t<div id="headerRow" class="th">\n\t\t\t<sb-group\n\t\t\t\t\tid="header"\n\t\t\t\t\titem="sb-div"\n\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\tgroup-class="tgroup"\n\t\t\t\t\titem-class="innerTh"\n\t\t\t></sb-group>\n\t\t</div>\n\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t<template is="dom-if" if="[[_showHeaderActions(\'right\', headerActions.*)]]">\n\t\t\t\t<div class="th">\n\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\tselected="[[selected]]"\n\t\t\t\t\t\t\tposition="right"\n\t\t\t\t\t\t\trow-actions="[[headerActions]]"\n\t\t\t\t\t></sb-actions>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</template>\n\t\t\t<template is="dom-if" if="[[hasPlaceholder]]">\n\t\t\t\t<div id="drawerPlaceHolder" class="th"></div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),y)}}],(n=[{key:"events",get:function(){var t={};return t[a.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"ready",value:function(){_(S(l.prototype),"ready",this).call(this),this.isMobile=this._isMobileViewport()}},{key:"_isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"setIsMobile",value:function(t){if(t)return t.isMobile()}},{key:"_buildLabelsObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.buildLabels(t,e,n)}},{key:"buildLabels",value:function(){var t={},e=[],n=0;this.cols.forEach((function(o){o&&(e.push(n),t[n++]=o)})),this.$.header.data=void 0,this.$.header.itemClassMap=this.headerClassMap,this.$.header.columnWidths=this.columnWidths,this.$.header.group||(this.$.header.group=e),this.$.header.data=t}},{key:"_setSelectableObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setSelectable(t,e)}},{key:"setSelectable",value:function(){this.selectable&&(this.registeredDataChangedHandler||(this.registeredDataChangedHandler=!0,Object(c.a)(this,this.registerSelectionChangedHandler.bind(this))))}},{key:"registerSelectionChangedHandler",value:function(){this.$.selection.addEventListener("data-changed",this.selectionChangedHandler.bind(this))}},{key:"selectionChangedHandler",value:function(t){"template"!==t.composedPath()[0].nodeName.toLowerCase()&&(this.internal=!0,this.selected=void 0!==t.detail.value[this.selectionType]?t.detail.value[this.selectionType]:t.detail.value,this.internal=!1,this.dispatchEvent(Object(a.d)("header-selection-changed",{selected:this.selected})))}},{key:"_setSelectedObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setSelected(t,e,n)}},{key:"setSelected",value:function(){if(!this.internal){var t="radio"===this.selectionType?"radio":"checkbox";this.$.selection.group||(this.$.selection.group=[t]);var e={disabled:this.selectionDisabled},n=this.selected;e[t]=n;var o=new i.a(!this.selectable).hide;o.type="invisible",e.hidden=o,this.$.selection.data=e;var r=!!this.hideHiddenSelectable&&!this.selectable;Object(u.m)("hidden",r,this.$.selection)}}},{key:"_showHeaderActions",value:function(t){if(!this.headerActions||0===this.headerActions.length)return!1;for(var e=0,n=this.headerActions.length;e<n;e++)if(this.headerActions[e].position==t&&!this.headerActions[e].hidden)return!0;return!1}}])&&m(e.prototype,n),o&&m(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(s.a)(Object(l.a)(d.a)));customElements.define(C.is,C)},function(t,e,n){"use strict";var o,r=n(6),i=n(73),a=n(69),s=n(0),l=n(5),c=n(17),u=n(22),d=n(11),p=n(1),h=n(2),f=n(3);var b,y,g,v=Object(f.b)(o||(b=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background-color: var(--sbTableRowBgColor);\n  color: var(--sbTableRowColor);\n  font-family: var(--sbTableRowFontFamilly);\n  font-size: var(--sbTableRowFontSize);\n  font-weight: var(--sbTableRowFontWeight);\n  font-style: var(--sbTableRowFontStyle);\n  text-decoration: var(--sb-table-row-text-decoration);\n  line-height: var(--sbTableRowLineHeight);\n  padding-top: var(--sbTableRowPaddingTop);\n  padding-bottom: var(--sbTableRowPaddingBottom);\n  display: table-row-group;\n}\n:host #swipe-header {\n  display: table;\n}\n:host #rowDiv.droppableTopBorder {\n  border-top: 4.5px solid #005fb2;\n}\n:host #rowDiv.droppableBottomBorder {\n  border-bottom: 4.5px solid #005fb2;\n}\n:host([class*='--mobile']) {\n  display: table-row;\n}\n:host #swipe-menu[class*='--mobile'] {\n  position: relative;\n}\n:host([class*='--mobile']) {\n  display: table-row;\n}\n:host [class*='--mobile'] #swipe-menu {\n  position: relative;\n}\n:host .actionsContainer {\n  display: table-cell;\n}\n:host .configurationRequired {\n  background-color: #C00;\n  width: 5px;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n:host .configurationRequired[class*='--mobile'] {\n  height: 53px;\n}\n:host [class*='--mobile'] .configurationRequired {\n  height: 53px;\n}\n:host .left {\n  left: -28px;\n}\n:host #selectionContainer {\n  position: relative;\n}\n:host #drawerIcon {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n:host #drawerIcon:hover {\n  cursor: pointer;\n}\n:host .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n:host #drawerPlaceHolder {\n  min-width: 40px;\n  max-width: 40px;\n}\n.zone {\n  z-index: 1;\n}\n"],y||(y=b.slice(0)),o=Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(y)}}))));n(18),n(25),n(35),n(181),n(72),n(183),n(182),n(13),n(47),n(15),n(36);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=O(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=E(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function E(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(c,t);var e,n,o,l=T(c);function c(){return x(this,c),l.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-table-row"}},{key:"properties",get:function(){return{cell:String,cols:Array,colsDisplay:Object,rowActions:Array,routeSource:String,rowData:{type:Object,notify:!0},model:{type:Object,value:null},requiresModel:{type:Boolean,value:!1},selectable:{type:Boolean,value:!1},selected:{type:Boolean,value:!1,notify:!0},selectionType:{type:String,value:"checkbox"},disabledData:{type:Object,value:{disabled:!1,constrained:!1}},selectionIdDataPath:{type:String,value:"Id"},parentIdDataPath:{type:String,value:"Parent"},parentAttributesPath:String,primaryMobileCols:{type:Array,value:[]},repeatPrimaryMobileCols:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return r.a.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"setIsMobile(viewport)"},actionId:{type:String,computed:"setActionId(isMobile)"},grouper:String,grouperExpanded:Boolean,groupie:String,ignoreViewportChange:Boolean,rowClassMap:{type:Object,value:{}},editFirstWhenSelected:{type:String,value:""},index:{type:Number,reflectToAttribute:!0},disableSwipe:{type:Boolean,value:!1},expanded:{type:Boolean,value:!1,observer:"_broadcastMobileExpanded"},expandDisabled:{type:Boolean,value:!1},rowSwiped:{type:Boolean,value:!1},hideSelection:{type:Object,value:null},selectionClass:{type:String,value:null},leftClass:{type:String,value:"",computed:"setLeftClass(routeSource, rowData, selected)"},highlightRowOnFocus:{type:Boolean,observer:"_highlightRowOnFocus"},deferGrouping:{type:Boolean,value:!1},selectionOnLoad:{type:Boolean,value:!1},columnWidths:{type:Object,value:null},forceColumnWidths:{type:Boolean,value:!1},mobileExpandedDetails:{type:Object,value:null,observer:"expandMobileRow"},mobileSelectedDetails:{type:Object,value:null,observer:"selectMobileRow"},disableSelectionTabFocus:{type:Boolean,value:!1},disableAllFields:Boolean,hasTogglePlaceholder:Boolean,hasToggle:Boolean,togglePlaceholder:{type:Boolean,computed:"_hasTogglePlaceholder(hasTogglePlaceholder, hasToggle)"},noDataPropagation:Boolean,pathPrefix:String}}},{key:"observers",get:function(){return["_buildRowObserver(cell, cols, colsDisplay, rowData, model, primaryMobileCols, repeatPrimaryMobileCols, requiresModel, rowClassMap, columnWidths)","_setSelectableObserver(selectable, selectionOnLoad)","_setSelectedObserver(selected, selectable, selectionType, rowActions, routeSource, disabledData, hideSelection, selectionClass)","_setGrouperObserver(rowData, grouper)","_setGrouperClassesObserver(grouperExpanded, rowData, grouper)","_disableAllTableFieldsObserver(rowData.record, disableAllFields)"]}},{key:"template",get:function(){return Object(h.b)(g||(g=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-tables-styles sb-icons-styles"></style>\n\n\t\t<sb-swipe-container device disable-swipe=[[disableSwipe]] is-required-row-not-selected="[[!optionSelected]]">\n\t\t\t<div id="swipe-header">\n\t\t\t\t<div id="selectionContainer">\n\t\t\t\t\t<sb-group id="selection" item="sb-table-cell-select" on-click="select"></sb-group>\n\t\t\t\t\t<paper-tooltip for="selection" animation-delay="250" offset="5" fit-to-visible-bounds="true">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[rowData.constraintMessage]]" as="messageLine">\n\t\t\t\t\t\t\t<p>[[messageLine]]</p>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</div>\n\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[displayRowActions(\'left\', rowActions.*)]]">\n\t\t\t\t\t\t\t<div id$="[[actionId]]" class="td" style="position:relative;">\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[_configurationRequired(routeSource, rowData.configurationRequired, selected)]]">\n\t\t\t\t\t\t\t\t\t<span class$="[[leftClass]] configurationRequired"></span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\t\t\t\tdata="[[rowData]]"\n\t\t\t\t\t\t\t\t\t\trow-actions="[[rowActions]]"\n\t\t\t\t\t\t\t\t\t\tposition="left"\n\t\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t></sb-actions>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\n\t\t\t\t<div id="rowDiv" class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="row"\n\t\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\t\tdata="{{rowData}}"\n\t\t\t\t\t\t\tgroup-class="tgroup"\n\t\t\t\t\t\t\titem-class="innerTd"\n\t\t\t\t\t\t\ton-click="expand"\n\t\t\t\t\t\t\tpath-prefix="[[pathPrefix]]"\n\t\t\t\t\t\t\tdisabled="[[disabled]]"\n\t\t\t\t\t\t\tsignaler="[[signaler]]"\n\t\t\t\t\t\t\tno-data-propagation="[[noDataPropagation]]"\n\t\t\t\t\t\t\titem-editable-map="[[itemEditableMap]]"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\n\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[displayRowActions(\'right\', rowActions.*)]]">\n\t\t\t\t\t\t<div id$="[[actionId]]" class="td">\n\t\t\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\t\t\tdata="[[rowData]]"\n\t\t\t\t\t\t\t\t\trow-actions="[[rowActions]]"\n\t\t\t\t\t\t\t\t\tposition="right"\n\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t></sb-actions>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\n\t\t\t\t<template is="dom-if" if="[[hasToggle]]">\n\t\t\t\t\t<div id="drawerIcon" class="td" on-click="toggleRowDrawer">\n\t\t\t\t\t\t<span class$="[[rowData._transient_.drawerIconClass]]" index="[[index]]"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[togglePlaceholder]]">\n\t\t\t\t\t<div id="drawerPlaceHolder" class="td"></div>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t<template is="dom-if" if="[[_configurationRequired(routeSource, rowData.configurationRequired, selected)]]">\n\t\t\t\t\t<span class="configurationRequired "></span>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[displayRowActions()]]">\n\t\t\t\t\t<div id$="[[actionId]]">\n\t\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\t\tdata="[[rowData]]"\n\t\t\t\t\t\t\t\trow-actions="[[rowActions]]"\n\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t></sb-actions>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</sb-swipe-container>\n\t\t'])),v)}}],(n=[{key:"ready",value:function(){var t=this;C(j(c.prototype),"ready",this).call(this),Object.entries({"row-swiped":"onRowSwiped"}).map((function(e){var n=w(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])}))}},{key:"events",get:function(){var t={};return t[s.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"onRowSwiped",value:function(t){this.rowSwiped=t.detail.isOpen}},{key:"setIsMobile",value:function(t){if(t)return t.isMobile()}},{key:"setActionId",value:function(t){return t?"swipe-menu":""}},{key:"_buildRowObserver",value:function(t,e,n,o,r,i,a,s,l,c){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r&&void 0!==i&&void 0!==a&&void 0!==s&&void 0!==l&&void 0!==c)return this.buildRow(t,e,n,o,r,i,a,s,l,c)}},{key:"buildRow",value:function(){this.requiresModel&&!this.model||(this.$.row.item=void 0,this.$.row.groupDisplay=void 0,this.setPrimaryMobileColumnsIfMobileViewport(),this.setFullWidthIfGroupRow(),this.$.row.columnWidths=this.forceColumnWidths?this._cloneColumnWidths():this.columnWidths,this.$.row.itemClassMap=this.rowClassMap,this.$.row.groupDisplay=this.colsDisplay,this.$.row.group||(this.$.row.group=this.cols),this.$.row.item=this.cell)}},{key:"_setSelectableObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setSelectable(t,e)}},{key:"setSelectable",value:function(){this.selectable&&(this.registeredDataChangedHandler||(this.registeredDataChangedHandler=!0,this.selectionOnLoad?this.registerSelectionChangedHandler():Object(d.a)(this,this.registerSelectionChangedHandler.bind(this))))}},{key:"registerSelectionChangedHandler",value:function(){this.$.selection.addEventListener("data-changed",this.selectionChangedHandler.bind(this))}},{key:"selectionChangedHandler",value:function(t){if(!t.composedPath()||!t.composedPath()[0]||"template"!==t.composedPath()[0].nodeName.toLowerCase()){var e=this.selected;this.internal=!0,this.selected=void 0!==t.detail.value[this.selectionType]?t.detail.value[this.selectionType]:t.detail.value,this.$.row.selected=this.selected,this.$.row.dispatchEvent(Object(s.d)("group-selected",{selected:this.selected})),this.internal=!1;var n=e!==this.selected,o="data.checkbox"===t.detail.path||"data.radio"==t.detail.path;this.editFirstWhenSelected&&this.selected&&n&&this.editFirst(),this.selectionOnLoad&&this._selectedChangeByParent?Object(d.a)(this,this.fireSetSelectionEvent.bind(this,n,o)):this.fireSetSelectionEvent(n,o)}}},{key:"_disableAllTableFieldsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.disableAllTableFields(t,e)}},{key:"disableAllTableFields",value:function(t,e){if(e&&t){var n={};Object.keys(t).map((function(t){return n["record."+t]=!1})),this.$.row.itemEditableMap=n}}},{key:"editFirst",value:function(){var t=this.$.row.shadowRoot.querySelector(this.cell).shadowRoot.querySelector(this.editFirstWhenSelected);t&&"function"==typeof t.edit&&t.edit()}},{key:"fireSetSelectionEvent",value:function(t,e){this.dispatchEvent(Object(s.d)("selection-changed",{selected:this.selected,selectionType:this.selectionType,Id:this.get("rowData."+this.selectionIdDataPath),bundleId:this.get("rowData."+this.parentIdDataPath),attributes:void 0===this.parentAttributesPath?void 0:this.get("rowData."+this.parentAttributesPath),group:this.grouper,changed:t,path:e,index:this.index,rowData:this.rowData,autoSelectGroupRows:!this._selectedChangeByParent}))}},{key:"_setSelectedObserver",value:function(t,e,n,o,r,i,a,s){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r&&void 0!==i&&void 0!==a&&void 0!==s)return this.setSelected(t,e,n,o,r,i,a,s)}},{key:"setSelected",value:function(){this.selectable&&!this.internal&&(this._selectedChangeByParent=!0,this._setSelected(this.selected),this._selectedChangeByParent=!1)}},{key:"_setSelected",value:function(t){this.disabledData.constrained&&!0===t&&(this.internal=!0,this.$.row.dispatchEvent(Object(s.d)("group-selected",{selected:!1})),t=!1,this.internal=!1);var e=new i.a("Configurator"===this.routeSource&&this.hasDeleteAction()).hide;if(null!=this.hideSelection){var n=new i.a(this.hideSelection).hide;Object(p.e)(e,n)}this.disableSelectionTabFocus&&(this.$.selection.tabIndex="-1"),this.selectionData={hidden:e},this.selectionData[this.selectionType]=t,this.selectionData.disabled=this.disabledData.disabled||this.disabledData.constrained,this.$.selection.data=this.selectionData,void 0===this.$.selection.group&&(this.$.selection.group=[this.selectionType]),Object(p.m)("td",this.selectable&&!e.hidden||"invisible"===e.type,this.$.selectionContainer),Object(p.m)("innerTd",this.selectable&&!e.hidden||"invisible"===e.type,this.$.selection),Object(p.m)("selection",this.selectable&&!e.hidden||"invisible"===e.type,this.$.selection),this.selectionClass&&Object(p.m)(this.selectionClass,!0,this.$.selection)}},{key:"select",value:function(t){if(void 0===this.selectionData||!0!==this.selectionData.disabled){var e=t.composedPath()[0];"sb-group"===(e&&e.tagName?e.tagName.toLowerCase():"")&&this._setSelected(!this.selected),this._broadcastGroupSelected(this.selected),this._broadcastMobileSelected()}}},{key:"_broadcastGroupSelected",value:function(t){this._groupSelected=t,this.$.row.dispatchEvent(Object(s.d)("group-selected",{selected:t,selectionDisabled:this.selectionDisabled,tableRow:this}))}},{key:"expand",value:function(t){this.expandDisabled||this.rowSwiped||(this.expandPath=t.detail&&t.detail.preventer?t.detail.preventer.composedPath():t.composedPath(),this.$.row.dispatchEvent(Object(s.d)("group-expanded",{path:this.expandPath})))}},{key:"setPrimaryMobileColumnsIfMobileViewport",value:function(){this.$.row.numPrimary=this.primaryMobileCols.length,this.$.row.primaryItems=this.isMobileViewport()?this.primaryMobileCols:null,this.$.row.includePrimaryInSecondary=!!this.isMobileViewport()&&this.repeatPrimaryMobileCols}},{key:"expandMobileRow",value:function(){this.isMobileViewport()&&this.mobileExpandedDetails&&this.mobileExpandedDetails.expanded!==this.expanded&&(this.internalExpand=!0,this.$.row.dispatchEvent(Object(s.d)("group-expanded",{path:this.mobileExpandedDetails.path})),this.internalExpand=!1)}},{key:"selectMobileRow",value:function(){if(this.isMobileViewport()&&this.mobileSelectedDetails){var t=this.mobileSelectedDetails.selected;t===this.selected&&t===this._groupSelected||this._broadcastGroupSelected(t)}}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport,this.ignoreViewportChange||this.setPrimaryMobileColumnsIfMobileViewport()}},{key:"_setGrouperObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setGrouper(t,e)}},{key:"setGrouper",value:function(){var t=!this.isMobileViewport()&&!!this.grouper;Object(p.m)("groupTr",t,this),Object(p.m)("groupTd",t,this.$.row),Object(p.m)("groupExpandTd",t,this.$.rowDiv),this.setGrouperToggle(t)}},{key:"setGrouperToggle",value:function(t){this._toggleGroupHandler=this._toggleGroupHandler||this.toggleGroupEventHandler.bind(this),this.$.rowDiv.removeEventListener("click",this._toggleGroupHandler),t&&this.$.rowDiv.addEventListener("click",this._toggleGroupHandler)}},{key:"toggleGroupEventHandler",value:function(t){Object(p.m)("expanded",null,this.$.row),Object(p.m)("expanded",null,this),this.dispatchEvent(Object(s.d)("sb-row-group-tapped",{group:this.grouper}))}},{key:"_setGrouperClassesObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setGrouperClasses(t,e,n)}},{key:"setGrouperClasses",value:function(t){Object(p.m)("expanded",t,this.$.row),Object(p.m)("expanded",t,this)}},{key:"toggleRowDrawer",value:function(){this.set("rowData._transient_.optionDrawerExpanded",!this.rowData._transient_.optionDrawerExpanded),this.set("rowData._transient_.drawerIconClass",this.rowData._transient_.optionDrawerExpanded?"sf-icon-chevrondown":"sf-icon-chevronright")}},{key:"isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"displayRowActions",value:function(t){if(!t)return!0;if(!this.rowActions||0===this.rowActions.length)return!1;for(var e=0,n=this.rowActions.length;e<n;e++)if(this.rowActions[e].position==t&&!this.rowActions[e].hidden)return!0;return!1}},{key:"hasDeleteAction",value:function(){var t,e=_(this.rowActions);try{for(e.s();!(t=e.n()).done;)return"Delete"===t.value.title}catch(t){e.e(t)}finally{e.f()}}},{key:"setFullWidthIfGroupRow",value:function(){this._isGrouperRow()&&(this.rowData.fullWidthItem="firstInnerTd")}},{key:"_configurationRequired",value:function(){return!("Configurator"!==this.routeSource||!this.rowData.configurationRequired||!this.selected||this.rowData.configured)}},{key:"setLeftClass",value:function(){if(void 0!==this.rowData)return this._configurationRequired()&&!this.rowData.added?"left":void 0}},{key:"_hasTogglePlaceholder",value:function(){return this.hasTogglePlaceholder&&!this.hasToggle}},{key:"_highlightRowOnFocus",value:function(){this.signaler=this.signaler||new a.a(this,"row",this.cell,"swipe-header"),this.signaler.signalOnFocus("sb-row-focus-signal",!this.highlightRowOnFocus)}},{key:"_isGrouperRow",value:function(){return!this.isMobileViewport()&&!!this.grouper}},{key:"_cloneColumnWidths",value:function(){if(!this.columnWidths)return null;if(!this._isGrouperRow())return JSON.parse(JSON.stringify(this.columnWidths));if(null!=this.columnWidths[this.cols[0]]){var t=JSON.parse(JSON.stringify(this.columnWidths)),e=t[this.cols[0]];return e.width=100,e.unit="%",t}return null}},{key:"_broadcastMobileExpanded",value:function(){!this.internalExpand&&Object(p.d)(this)&&this.isMobileViewport()&&this.expandPath&&this.dispatchEvent(Object(s.d)("sb-mobile-row-expanded",{expanded:this.expanded,path:[].concat(this.expandPath),index:this.index,id:this.get("rowData."+this.selectionIdDataPath)}))}},{key:"_broadcastMobileSelected",value:function(){Object(p.d)(this)&&this.isMobileViewport()&&this.dispatchEvent(Object(s.d)("sb-mobile-row-selected",{selected:this.selected,index:this.index,id:this.get("rowData."+this.selectionIdDataPath)}))}},{key:"notify",value:function(t){if(this.rowData){var e,n=_(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,r=this.get("rowData."+o);this.notifyPath("rowData.".concat(o),r,!0)}}catch(t){n.e(t)}finally{n.f()}}}}])&&S(e.prototype,n),o&&S(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(u.a)(Object(l.a)(Object(c.a)(h.a))));customElements.define(B.is,B)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return b}));var o=n(19);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function h(t,e,n,o,r){var i;r&&(i="object"===p(n)&&null!==n)&&(o=t.__dataTemp[e]);var a=o!==n&&(o==o||n==n);return i&&a&&(t.__dataTemp[e]=n),a}var f=Object(o.a)((function(t){return function(t){s(n,t);var e=c(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n,[{key:"_shouldPropertyChange",value:function(t,e,n){return h(this,t,e,n,!0)}}]),n}(t)})),b=Object(o.a)((function(t){return function(t){s(n,t);var e=c(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n,[{key:"_shouldPropertyChange",value:function(t,e,n){return h(this,t,e,n,this.mutableData)}}],[{key:"properties",get:function(){return{mutableData:Boolean}}}]),n}(t)}));f._mutablePropertyChange=h},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a}));var r=60,i=60,a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.metadata=e,this.labelMultiplier=null!=n?n:9}var e,n,i;return e=t,(n=[{key:"getImageWidth",value:function(t){var e=this._getImageWidth(t,0);if(null!=e){var n=-1;do{n=Math.max(n,e.width),e=this._getImageWidth(t,e.end)}while(null!=e);return this.hasInvalidWidth&&this._warnInvalidWidthParameter(),n}}},{key:"_getImageWidth",value:function(t,e){if(this.metadata){var n=this._getImageFunctionStart(e);if(-1!==n){var o=this._getImageFunctionEnd(n),r=this.metadata.calculatedFormula.substring(n,o).split(","),i=this._getWidthFromImageFunctionArgs(r);t=null!=t?t:0;var a=this.metadata.label.length*this.labelMultiplier;return{width:Math.max(i,a)+t,end:o}}}}},{key:"_getImageFunctionStart",value:function(t){return this.metadata.calculatedFormula?this.metadata.calculatedFormula.toLowerCase().indexOf("image(",t):-1}},{key:"_getImageFunctionEnd",value:function(t){var e=this.metadata.calculatedFormula?this.metadata.calculatedFormula.toLowerCase():null;if(!e)return-1;for(var n=0,o=0,r=t,i=e.length;r<i;r++)if("("===e.substring(r,r+1)?n++:")"===e.substring(r,r+1)&&o++,n>0&&n===o)return r;return-1}},{key:"_getWidthFromImageFunctionArgs",value:function(t){if(t.length<=3)return r;var e;try{e=parseInt(t[3].trim())}catch(t){return this.hasInvalidWidth=!0,r}return isNaN(e)?(this.hasInvalidWidth=!0,r):e}},{key:"_warnInvalidWidthParameter",value:function(){console.warn('May not have properly sized the column to fit the image specified by this formula: "'+this.metadata.calculatedFormula+"\"\nREASON: At least one of the formula's IMAGE function(s) has its width parameter (4th argument) defined from a field.\nSOLUTION: All of the formula's IMAGE function(s) should have its width parameter either omitted or hardcoded to a number.")}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(10);var o,r=n(56),i=n(14),a=n(8),s=n(3);
/**
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var l,c,u={distance:function(t,e,n,o){var r=t-n,i=e-o;return Math.sqrt(r*r+i*i)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function d(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function p(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Object(a.a)(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}d.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,e){var n=u.distance(t,e,0,0),o=u.distance(t,e,this.width,0),r=u.distance(t,e,0,this.height),i=u.distance(t,e,this.width,this.height);return Math.max(n,o,r,i)}},p.MAX_RADIUS=300,p.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=u.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?u.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(t+e),p.MAX_RADIUS)+5,o=1.1-n/p.MAX_RADIUS*.2,r=this.mouseInteractionSeconds/o,i=n*(1-Math.pow(80,-r));return Math.abs(i)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,e=this.opacity;return Math.max(0,Math.min(t,e))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,p.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,p.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new d(this.element)},draw:function(){var t,e,n;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),e=this.xNow-this.containerMetrics.width/2,n=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+e+"px, "+n+"px)",this.waveContainer.style.transform="translate3d("+e+"px, "+n+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var e=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=u.now(),this.center?(this.xStart=e,this.yStart=n,this.slideDistance=u.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=e,this.yEnd=n,this.slideDistance=u.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(t){this.isMouseDown&&(this.mouseUpStart=u.now())},remove:function(){Object(a.a)(Object(a.a)(this.waveContainer).parentNode).removeChild(this.waveContainer)}},Object(i.a)({_template:Object(s.a)(o||(l=['\n    <style>\n      :host {\n        display: block;\n        position: absolute;\n        border-radius: inherit;\n        overflow: hidden;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,\n         * creating a node (with a position:absolute) in the middle of an event\n         * handler "interrupts" that event handler (which happens when the\n         * ripple is created on demand) */\n        pointer-events: none;\n      }\n\n      :host([animating]) {\n        /* This resolves a rendering issue in Chrome (as of 40) where the\n           ripple is not properly clipped by its parent (which may have\n           rounded corners). See: http://jsbin.com/temexa/4\n\n           Note: We only apply this style conditionally. Otherwise, the browser\n           will create a new compositing layer for every ripple element on the\n           page, and that would be bad. */\n        -webkit-transform: translate(0, 0);\n        transform: translate3d(0, 0, 0);\n      }\n\n      #background,\n      #waves,\n      .wave-container,\n      .wave {\n        pointer-events: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n\n      #background,\n      .wave {\n        opacity: 0;\n      }\n\n      #waves,\n      .wave {\n        overflow: hidden;\n      }\n\n      .wave-container,\n      .wave {\n        border-radius: 50%;\n      }\n\n      :host(.circle) #background,\n      :host(.circle) #waves {\n        border-radius: 50%;\n      }\n\n      :host(.circle) .wave-container {\n        overflow: hidden;\n      }\n    </style>\n\n    <div id="background"></div>\n    <div id="waves"></div>\n'],c||(c=l.slice(0)),o=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}})))),is:"paper-ripple",behaviors:[r.a],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==Object(a.a)(this).parentNode.nodeType?this.keyEventTarget=Object(a.a)(this).getOwnerRoot().host:this.keyEventTarget=Object(a.a)(this).parentNode;var t=this.keyEventTarget;this.listen(t,"up","uiUpAction"),this.listen(t,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async((function(){this.upAction()}),1)},uiDownAction:function(t){this.noink||this.downAction(t)},downAction:function(t){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(t),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(t){this.noink||this.upAction(t)},upAction:function(t){this.holdDown||(this.ripples.forEach((function(e){e.upAction(t)})),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor="",this.fire("transitionend")},addRipple:function(){var t=new p(this);return Object(a.a)(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var e=this.ripples.indexOf(t);e<0||(this.ripples.splice(e,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var t,e;for(t=0;t<this.ripples.length;++t)(e=this.ripples[t]).draw(),this.$.background.style.opacity=e.outerOpacity,e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},animateRipple:function(){return this.animate()},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(t,e){void 0!==e&&(t?this.downAction():this.upAction())}});var h=n(68),f={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(t){h.b._downHandler.call(this,t),this.pressed&&this.ensureRipple(t)},ensureRipple:function(t){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var e=this._rippleContainer||this.root;if(e&&Object(a.a)(e).appendChild(this._ripple),t){var n=Object(a.a)(this._rippleContainer||this),o=Object(a.a)(t).rootTarget;n.deepContains(o)&&this._ripple.uiDownAction(t)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(t){this.hasRipple()&&(this._ripple.noink=t)}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var o=n(19),r=n(7);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){t._ignoreFns.hasOwnProperty(e)&&t._ignoreFns[e](),t._ignoreFns[e]=Object(r.c)(t._recordIds[e],t.constructor.properties[e].observing.path,(function(n){t.__data?t.set(e,n):t._detach()}))}var b=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(c,t);var e,n,o,i=d(c);function c(){return a(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"ready",value:function(){var t=this;l(h(c.prototype),"ready",this)&&l(h(c.prototype),"ready",this).call(this),this._ignoreFns={},this._recordIds={};var e=function(e){var n=t.constructor.properties[e].observing;if(n){if(!Array.isArray(n.path))throw new Error("Expected path to be an Array. Got: ".concat(n.path));if(n.twoWay){var o="__".concat(e,"Changed");t[o]=function(o){t._recordIds.hasOwnProperty(e)&&Object(r.d)(t._recordIds[e],n.path,o)},t._createPropertyObserver(e,o)}var i="__".concat(e,"IdChanged");if(n.hasOwnProperty("id"))t._recordIds[e]=n.id,f(t,e);else if(n.hasOwnProperty("idProperty"))t[i]=function(){t._recordIds[e]=t.hasOwnProperty(e)?t[n.idProperty]:t.__data[n.idProperty],f(t,e)},t._createPropertyObserver(n.idProperty,i);else{var a=n.idFunction.indexOf("("),s=-1===a?null:n.idFunction.substring(0,a);t[i]=function(){t._recordIds[e]=t[s].apply(t,arguments),f(t,e)},t._createMethodObserver("".concat(i).concat(n.idFunction.substring(a)))}}};for(var n in this.constructor.properties)e(n)}},{key:"connectedCallback",value:function(){for(var t in l(h(c.prototype),"connectedCallback",this)&&l(h(c.prototype),"connectedCallback",this).call(this),this._recordIds)f(this,t)}},{key:"disconnectedCallback",value:function(){l(h(c.prototype),"disconnectedCallback",this)&&l(h(c.prototype),"disconnectedCallback",this).call(this),this._detach()}},{key:"_detach",value:function(){for(var t in this._ignoreFns)this._ignoreFns[t]()}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(t)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(95);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.locale=e||o.a.get(),this.isCommaDecimalLocale=o.a.isCommaDecimal(this.locale)}var e,n,i;return e=t,(n=[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if("string"!=typeof t)return this.applyScale(t,n);t=this.replaceMinusCharacterToHyphenMinus(t),t=this.removeUnusualSeparators(t),t=this.removeNonDecimalCommas(t),t=this.removeDecimalSepartors(t),t=this.replaceCommaDecimalWithPeriod(t);var o=parseFloat(t);return e?o==t?this.applyScale(o,n):NaN:this.applyScale(o,n)}},{key:"replaceMinusCharacterToHyphenMinus",value:function(t){return t.replace(new RegExp(/\u2212/,"u"),"-")}},{key:"removeUnusualSeparators",value:function(t){return t.replace(new RegExp("[\\s]+","g"),"").replace(new RegExp("'","g"),"").replace(new RegExp("","g"),"")}},{key:"removeNonDecimalCommas",value:function(t){return this.isCommaDecimalLocale?t:t.replace(new RegExp(",","g"),"")}},{key:"removeDecimalSepartors",value:function(t){return this.isCommaDecimalLocale?t.replace(new RegExp("[.]","g"),""):t}},{key:"replaceCommaDecimalWithPeriod",value:function(t){return this.isCommaDecimalLocale?t.replace(new RegExp(",","g"),"."):t}},{key:"applyScale",value:function(t,e){return null==e||"number"!=typeof t?t:parseFloat(t.toFixed(e))}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(63),r=n(60);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.searchFilterData={}}var e,n,a;return e=t,a=[{key:"handleDynamicSearchFilters",value:function(t,e){if(!e)return t;var n,o=i(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;"Optional Filter"===r.type&&t[r.targetFieldName]&&(t[r.targetFieldName].value=r.stringValue)}}catch(t){o.e(t)}finally{o.f()}return t}}],(n=[{key:"buildFields",value:function(t){return t}},{key:"getSearchTable",value:function(){return this.model.targetObjectName}},{key:"getGroupKey",value:function(t){return this.model.hasCustomSearchFilters?t.record.Id:t.targetFieldName}},{key:"setDefaultFilterValues",value:function(e,n){var o=this,a={},s=[];if(this.model.hasCustomSearchFilters){var l,c=i(e);try{var u=function(){var t,e=l.value,c=i(o.model.searchFilters);try{for(c.s();!(t=c.n()).done;){var u=t.value;if(u.record.Id===e){a[e]={value:void 0===o.searchFilterData[e]?u.stringValue:o.searchFilterData[e].value,field:void 0===o.searchFilterData[e]?u.targetFieldName?u.targetFieldName:"":o.searchFilterData[e].field,hidden:u.hidden},n&&u.stringValue&&o.isLookupType(n[e].model.type)&&s.push(o.queryLookupFilterName(a[e].value,n[e].model.referenceTo[0]).then((function(t){var n=t.records[0];if(n){var o=new r.a(n.attributes.type).getNameField();a[e].label=n[o]}})));break}}}catch(t){c.e(t)}finally{c.f()}};for(c.s();!(l=c.n()).done;)u()}catch(t){c.e(t)}finally{c.f()}}else{var d,p=i(e);try{for(p.s();!(d=p.n()).done;){var h=d.value;a[h]={value:void 0===this.searchFilterData[h]?n[h].stringValue:this.searchFilterData[h].value,hidden:n[h].hidden},this.searchFilterData[h]&&this.searchFilterData[h].label&&(a[h].label=this.searchFilterData[h].label)}}catch(t){p.e(t)}finally{p.f()}}return new Promise((function(e){Promise.all(s).then((function(){o.searchFilterData=t.handleDynamicSearchFilters(a,o.dynamicSearchFilters),e(a)}))}))}},{key:"getFieldSet",value:function(){return this.fieldSet}},{key:"getFilterContext",value:function(){return this.model.hasCustomSearchFilters?this.loadCustomSearchFilterValues(this.model.searchFilters,this.searchFilterData):this.loadStandardSearchFilterValues(this.searchFilterData)}},{key:"loadCustomSearchFilterValues",value:function(t,e){var n={};for(var o in e){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;!0!==s.hidden&&o===s.record.Id&&void 0!==e[o]&&null!==e[o]&&!0!==this.isBlank(e[o].value)&&(n[s.targetFieldName]=e[o].value)}}catch(t){a.e(t)}finally{a.f()}}return n}},{key:"loadStandardSearchFilterValues",value:function(t){var e={};for(var n in t)!0!==this.isBlank(t[n].value)&&(e[n]=t[n].value);return e}},{key:"getAdditionalProperties",value:function(){if(this.dynamicSearchFilters){for(var t=[],e=0,n=this.dynamicSearchFilters.length;e<n;e++)"Default Filter"===this.dynamicSearchFilters[e].type&&t.push(JSON.stringify(this.dynamicSearchFilters[e]));return t}}},{key:"clearFields",value:function(){var t={};for(var e in this.searchFilterData)t[e]=JSON.parse(JSON.stringify(this.searchFilterData[e])),t[e].value="";return this.searchFilterData=t}},{key:"runOnLoad",value:function(t){this.searchFilterData=t}},{key:"isLookupType",value:function(t){return"reference"===t||"id"===t}},{key:"queryLookupFilterName",value:function(t,e){var n=new r.a(e).getNameField(),i=t?"'".concat(t,"'"):null;return(new o.a).query("SELECT Id, ".concat(n," FROM ").concat(e," WHERE Id = ").concat(i))}},{key:"hasSearchFilterValues",value:function(){var t=this.getFilterContext();for(var e in t)if(null!=t[e])return!0;return!1}},{key:"isBlank",value:function(t){return null===t||""===t||void 0===t}}])&&s(e.prototype,n),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(76),r=n(33),i=n(0);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(e,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(n,e,o,r,i)}var e,n,s;return e=t,(n=[{key:"init",value:function(t,e,n,o,r){this.product=t||this.product,this.qId=e||this.qId,this.prefix=n?n+"__":this.prefix||"",this.currencyIsoCode=o||this.currencyIsoCode,this.featureLookupId=r||this.featureLookupId,this.optionsById={},this.optionIndexById={},this.optionsByFeatureId={},this.featuresWithOptionsOrConfigAttr=[],this.featureIdsWithOptionsOrConfigAttr={},this.featureIdsWithSelectionMethodAdd={},this.featureIdsWithSelectionMethodClick={},this.featureIdsWIthSelectionMethodDynamic={},this.configAttributesByFeatureId={},this.configurationAttributeValueMap={},this.configurationAttributeModelMap={},this.configurationAttributeTargetFieldMap={},this.configurationAttributeApplyToOptionMap={},this.attributeValueMap={},this.productRulesActions={},this.optionDataByOptionIds={},this.featureIdByOptionId={},this.productOptionConfigurationsMap={},this.initializeProduct(),this.product.initialized=!0}},{key:"getFeature",value:function(t){return void 0!==t&&"null"!==t||(t=null),this.product.features.find((function(e){return e.record.Id===t}))}},{key:"getOption",value:function(t){return this.optionsById[t]}},{key:"getOptionsByFeatureId",value:function(t){if(null!==t&&"null"!==t||(t="Other"),this.isOptionLookupViewModel()){var e=[];return this.optionsByFeatureId[t].forEach((function(t){var n=JSON.parse(JSON.stringify(t));n.selected=!1,e.push(n)})),e}var n,o=this.getFeature(t),r=a(o._transient_.optionConfigurations);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.isClickFeature(o)||(i.selected=!0)}}catch(t){r.e(t)}finally{r.f()}return o._transient_.optionConfigurations}},{key:"getFeatureByOptionId",value:function(t){var e=this.featureIdByOptionId[t];return this.getFeature(e)}},{key:"maxOptionsMet",value:function(t){var e=this.prefix+"MaxOptionCount__c";return t._transient_.optionConfigurations.length>=t.record[e]}},{key:"setOptionSelected",value:function(t,e){var n=this.optionsById[t];this.featureIdsWithSelectionMethodClick[this.featureIdByOptionId[t]]&&!n.record[this.prefix+"Required__c"]&&(n.selected=e)}},{key:"setConfigurationAttributesToOptions",value:function(t){for(var e in this.configurationAttributeApplyToOptionMap)t.record[e]=this.product.configuration.configurationData[e]}},{key:"getOptionLayout",value:function(){var t=this.prefix+"OptionLayout__c";return this.product.record[t]||"Sections"}},{key:"getTabFeaturesMap",value:function(){var t=this,e=this.product.featureCategoryLabels,n=this.featuresWithOptionsOrConfigAttr.filter((function(e){return void 0===e.record[t.prefix+"Category__c"]})),o={};return this.featuresWithOptionsOrConfigAttr.length===n.length?this.featuresWithOptionsOrConfigAttr.forEach((function(t){o[t.record.Name]=[t]})):(this.product.featureCategories.forEach((function(n){t.featuresWithOptionsOrConfigAttr.forEach((function(r){var i=r.record[t.prefix+"Category__c"];void 0!==i&&i===e[n]&&(void 0!==o[n]?o[n].push(r):o[n]=[r])}))})),0!==n.length&&(o.Other=o.Other||[],o.Other=o.Other.concat(n))),o}},{key:"checkAtLeastOneFeatureHasCategory",value:function(){var t=this;return!!this.featuresWithOptionsOrConfigAttr.find((function(e){return null!=e.record[t.prefix+"Category__c"]&&"Other"!==e.record[t.prefix+"Category__c"]}))}},{key:"isAppliedImmediately",value:function(t){var e=this.prefix+"AppliedImmediately__c";return this.getOption(t).record[e]}},{key:"initializeProduct",value:function(){var t=this;this.localizer=new o.a(this.prefix),this.product=this.localizer.localizeProduct(this.product),this.product.configuration.configurationEntered=!0;var e=this.prefix+"Feature__c",n=[];this.featureLookupId||(this.initConfigAttributesById(),this.initConfigurationAttributeMap());var r,i=a(this.product.options);try{for(i.s();!(r=i.n()).done;){var s=r.value;this.initOptionInfo(s,n)}}catch(t){i.e(t)}finally{i.f()}this.buildOptionConfigurationMap();var l,c=a(this.product.features);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.optionSelectionMethod=this.getOptionSelectionMethod(u),u._transient_||(u._transient_={}),this.initFeatureOptionConfigurations(u),this.addFeaturesWithOptionsOrConfigAttr(u)}}catch(t){c.e(t)}finally{c.f()}for(var d=function(){var n=h[p],o=t.getFeature(n.record[e]||"Other"),r=void 0;"radio"===n.selectionType&&n.hidden&&o.visibleSelected&&(n.selected=!1),t.isAddFeature(o)&&((r=o._transient_.optionConfigurations.find((function(t){return t.record.Id===n.record.Id})))?(r.added=!0,void 0!==n.configured&&(r.configured=n.configured),t.setOptionDisabledData(r)):o._transient_.optionConfigurations.push(n),n.added=!0),t.setOptionDisabledData(n)},p=0,h=n;p<h.length;p++)d()}},{key:"initOptionInfo",value:function(t,e){var n=this.prefix+"Feature__c",o=this.prefix+"Quantity__c",r=this.prefix+"MinQuantity__c",i=this.prefix+"Selected__c",a=this.prefix+"Required__c",s=this.prefix+"UnitPrice__c",l=this.prefix+"ProductName__c",c=t.record[n]||"Other";this.setConfigurationAttributesToOptions(t),t.valueChanged=!1,t.record[s]=null==t.record[s]?void 0:t.record[s],t.hidden=t.hiddenByRule&&t.hidden||void 0===t.record[s],t.removed=t.removed||!1===t.selected&&t.record[i],t.selected=void 0===t.selected?t.record[i]&&!t.removed||t.record[a]:t.selected,t.name=t.record[l],t._transient_||(t._transient_={}),t.selected?null!=e&&e.push(t):this.setOptionDisabledData(t),!0===t.isUpgrade&&(t.hidden=!0),t.record[n]||this.product.mappedFeaturelessOptions||(this.product.features.push(this.createOtherOptionsFeature(this.product.virtualFeatureTitle)),this.product.mappedFeaturelessOptions=!0),void 0===t.record[o]&&(t.recordHasQuantity=!1,t.record[o]=void 0===t.record[r]?1:t.record[r]),t.record[a]&&(t.required=!0),this.product._transient_&&this.product._transient_.attributeSet&&this.product._transient_.attributeSet.attributeItemIdsByOptionId[t.record.Id]&&(this.product._transient_.hasAttributeItems=!0,this.addAttributeItems(t,this.product._transient_.attributeSet)),this.optionsById[t.record.Id]=t,this.featureIdByOptionId[t.record.Id]=c,this.addToOptionByFeatureId(c,t)}},{key:"createOtherOptionsFeature",value:function(t){return{addOptionButtonLabel:"Add Option",addOptionDialogTitle:"Add Option",instructionsText:null,record:{Id:"Other",Name:t},searchFilters:null}}},{key:"addAttributeItems",value:function(t,e){t._transient_.attributeItems={};var n,o=a(e.attributeItemIdsByOptionId[t.record.Id]);try{for(o.s();!(n=o.n()).done;){var r=n.value,i=e.attributeItemById[r].targetFieldName;t._transient_.attributeItems[i]=t.record[i]}}catch(t){o.e(t)}finally{o.f()}t._transient_.optionDrawerExpanded=!1,t._transient_.drawerIconClass="sf-icon-chevronright"}},{key:"getOptionSelectionMethod",value:function(t){return null!=t.record[this.prefix+"OptionSelectionMethod__c"]?t.record[this.prefix+"OptionSelectionMethod__c"]:null!=this.product.record[this.prefix+"OptionSelectionMethod__c"]?this.product.record[this.prefix+"OptionSelectionMethod__c"]:"Click"}},{key:"setOptionDisabledData",value:function(t,e){t.disabledData=t.disabledData||{disabled:!!t.record[this.prefix+"Required__c"]&&!t.added||!!t.record[this.prefix+"System__c"],constrained:!1},e&&(this.optionsById[t.record.Id].disabledData={disabled:!1,constrained:!1},t.disabledData.disabled=!1)}},{key:"initFeatureOptionConfigurations",value:function(t){if(null==t._transient_.optionConfigurations&&(t._transient_.optionConfigurations=[]),null!=this.optionsByFeatureId[t.record.Id]){var e,n=1===t.record[this.prefix+"MaxOptionCount__c"],o=0===t._transient_.optionConfigurations.length,r=t.record.Id||"Other",i=[],s=a(this.optionsByFeatureId[r]);try{for(s.s();!(e=s.n()).done;){var l=e.value;l.index=0,t.visibleSelected=t.visibleSelected||!l.hidden&&l.selected,l.selectionType=n?"radio":"checkbox",l.record[this.prefix+"ConfiguredSKU__c"]=this.product.record.Id;var c=l.record[this.prefix+"UnitPrice__c"];void 0===l.listPrice&&""!==c&&null!=c&&(l.listPrice=c),this.isDynamicFeature(t)&&!t._transient_.changedExternally&&(l.selected=!0,l.added=!0),this.featureLookupId?l._transient_.rowActions=[]:((null==l._transient_.rowActions||0===l._transient_.rowActions.length||t._transient_.changedExternally)&&this.initOptionActions(l,!this.isClickFeature(t)),this.initReconfiguredOption(l,t,o,i))}}catch(t){s.e(t)}finally{s.f()}i.length>0&&this.sortAndAddOptionConfigs(t,i)}}},{key:"buildOptionConfigurationMap",value:function(){if(this.product.features[0])if(null==this.product.features[0]._transient_||null==this.product.features[0]._transient_.optionConfigurations){var t,e=a(this.product.configuration.optionConfigurations);try{for(e.s();!(t=e.n()).done;){var n=t.value,o=n.optionId;this.productOptionConfigurationsMap[o]=this.productOptionConfigurationsMap[o]||[],this.productOptionConfigurationsMap[o].push(n)}}catch(t){e.e(t)}finally{e.f()}}else this._syncOptionConfigurations()}},{key:"initOptionActions",value:function(t,e){var n=[];e&&n.push(this.createOptionAction("sf-icon-delete","Delete","left",!0,!1,!1,"delete-tapped")),this.addOptionConfigurationAction(t,n),t._transient_.rowActions=n}},{key:"addOptionConfigurationAction",value:function(t,e){var n=t.configurable?t.configurationRequired:void 0;e.push(this.createOptionAction("sf-icon-custom_apps","Configure","left",!1,!1,!1,"configure-tapped",n))}},{key:"createOptionAction",value:function(t,e,n,o,r,a,s,l){return{icon:t,title:e,position:n,mobileDisabled:o,hidden:r,invisible:a,configurationRequired:l,onTapFunction:function(){this.dispatchEvent(Object(i.d)(s,{Id:this.data.record.Id,index:this.index}))}}}},{key:"addToOptionByFeatureId",value:function(t,e){this.optionsByFeatureId[t]=this.optionsByFeatureId[t]||[],this.optionsByFeatureId[t].push(e)}},{key:"initConfigAttributesById",value:function(){for(var t=this.product.configurationAttributes,e=t.length,n=0;n<e;n++)null===t[n].featureId?this.configAttributesByFeatureId.featureless?this.configAttributesByFeatureId.featureless.push(t[n]):this.configAttributesByFeatureId.featureless=[t[n]]:this.configAttributesByFeatureId[t[n].featureId]?this.configAttributesByFeatureId[t[n].featureId].push(t[n]):this.configAttributesByFeatureId[t[n].featureId]=[t[n]]}},{key:"initConfigurationAttributeMap",value:function(){for(var t=this.product.configurationAttributes,e=t.length,n=this.product.configuration.configurationData,o=0;o<e;o++){var i=t[o].targetFieldName;this.attributeValueMap[t[o].targetFieldName]="";var a=new r.a(i,n).getRelationshipName(),s=n[i];this.configurationAttributeValueMap[t[o].myId]=void 0!==s?s:null;var l=this.product.productKey||this.product.record.Id;this.configurationAttributeModelMap[t[o].myId]={targetFieldName:t[o].targetFieldName,value:s,required:t[o].required,hidden:t[o].hidden,myId:t[o].myId,bundleId:l,autoSelect:t[o].autoSelect,shownValues:t[o].shownValues,hiddenValues:t[o].hiddenValues,referencedFieldValue:a};var c=this.configurationAttributeTargetFieldMap[t[o].targetFieldName]||[];c.push(t[o].myId),this.configurationAttributeTargetFieldMap[t[o].targetFieldName]=c,!0===t[o].applyToProductOptions&&void 0===this.configurationAttributeApplyToOptionMap[t[o].targetFieldName]&&(this.configurationAttributeApplyToOptionMap[t[o].targetFieldName]=!0)}}},{key:"initReconfiguredOption",value:function(t,e,n,o){var r=this.productOptionConfigurationsMap[t.record.Id];if(!r||t.removed)return n&&this.isClickFeature(e)?e._transient_.optionConfigurations.push(t):void 0;if(this.isAddFeature(e))this.cloneOptionAndSyncConfiguration(t,o);else{var i=r[0];this.syncOptionToConfigData(t),this.setPropertiesWithConfig(t,i),n&&(this.isClickFeature(e)?e._transient_.optionConfigurations.push(t):o.push(t))}}},{key:"cloneOptionAndSyncConfiguration",value:function(t,e){for(var n=this.productOptionConfigurationsMap[t.record.Id],o={},r=0;r<n.length;r++){var i=n[r],a=JSON.parse(JSON.stringify(t));a._transient_.rowActions=t._transient_.rowActions,!0===o[a.record.Id]?a.required=!1:o[a.record.Id]=!0,a.index=r,this.syncOptionToConfigData(a),this.setPropertiesWithConfig(a,i),e.push(a)}}},{key:"syncOptionToConfigData",value:function(t){var e=this.getProductOptionConfigurationData(t.record.Id,t.index);if(void 0!==e)for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}},{key:"getProductOptionConfigurationData",value:function(t,e){return void 0===this.productOptionConfigurationsMap[t][e]&&this.buildOptionConfigurationMap(),this.productOptionConfigurationsMap[t][e]}},{key:"setPropertiesWithConfig",value:function(t,e){var n=t.untranslatedRecord&&Object.keys(t.untranslatedRecord).length>0;for(var o in e.optionData)if("attributes"!==o){if(n&&void 0!==t.untranslatedRecord[o]&&t.untranslatedRecord[o]===e.optionData[o])continue;t.record[o]=e.optionData[o]}t.dynamicOptionKey=e.dynamicOptionKey,t.selected=!1!==t.selected}},{key:"getHasUpgradeOptions",value:function(t){if("Other"===t.record.Id){for(var e=0;e<t._transient_.optionConfigurations.length;e++)if(!0===t._transient_.optionConfigurations[e].isUpgrade)return!0;return!1}return t.containsUpgrades}},{key:"sortAndAddOptionConfigs",value:function(t,e){var n,o,r=this,i=a(e);try{var s=function(){var e=o.value;e&&(r.isAddFeature(t)&&(e.added=!0,n=!!t._transient_.optionConfigurations.filter((function(t){return t.record.Id===e.record.Id}))),r.setOptionDisabledData(e,n),t._transient_.optionConfigurations.push(e))};for(i.s();!(o=i.n()).done;)s()}catch(t){i.e(t)}finally{i.f()}}},{key:"createConstraintsHoverMessages",value:function(t){this.optionConstraintsByConstrained=t;var e,n=a(this.product.options);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.createConstraintHoverMessage(o)}}catch(t){n.e(t)}finally{n.f()}}},{key:"createConstraintHoverMessage",value:function(t){if(this.optionConstraintsByConstrained[t.record.Id]){var e=this.optionConstraintsByConstrained[t.record.Id],n={Requires:[],Excludes:[]},o=[];if(e.ungroupedConstraints.forEach(function(t){var e="Dependency"===t.type?"Requires":"Excludes",o="Dependency"===t.type?"or ":"and ",r=n[e].length?o:e+": ",i=this.optionsById[t.option].record[this.prefix+"ProductName__c"];n[e].push(r+i)}.bind(this)),Object.keys(e.groups).forEach(function(t,o){var r=e.groups[t],i="Dependency"===r.type?"Requires":"Excludes",a=n[i].length?0==o&&e.ungroupedConstraints[0]?"and ":"or ":i+": ",s="";r.options.forEach(function(t,e){var n=this.optionsById[t].record[this.prefix+"ProductName__c"];s+=(a=0===e?a:" and ")+n}.bind(this)),n[i].push(s)}.bind(this)),n.Requires.length){var r,i=a(n.Requires);try{for(i.s();!(r=i.n()).done;){var s=r.value;o.push(s)}}catch(t){i.e(t)}finally{i.f()}}if(n.Excludes.length){var l,c=a(n.Excludes);try{for(c.s();!(l=c.n()).done;){var u=l.value;o.push(u)}}catch(t){c.e(t)}finally{c.f()}}t.constraintMessage=o}}},{key:"optionSystemOrRequired",value:function(t){var e=this.optionsById[t];return e.record[this.prefix+"System__c"]||e.record[this.prefix+"Required__c"]}},{key:"isOptionLookupViewModel",value:function(){return!!this.featureLookupId}},{key:"isClickFeature",value:function(t){return"Click"===t.optionSelectionMethod}},{key:"isAddFeature",value:function(t){return"Add"===t.optionSelectionMethod}},{key:"isDynamicFeature",value:function(t){return"Dynamic"===t.optionSelectionMethod}},{key:"addFeaturesWithOptionsOrConfigAttr",value:function(t){(this.optionsByFeatureId[t.record.Id]||this.configAttributesByFeatureId[t.record.Id]||this.isDynamicFeature(t))&&(this.featuresWithOptionsOrConfigAttr.push(t),this.featureIdsWithOptionsOrConfigAttr[t.record.Id]=t,this.isClickFeature(t)?this.featureIdsWithSelectionMethodClick[t.record.Id]=!0:this.isAddFeature(t)?this.featureIdsWithSelectionMethodAdd[t.record.Id]=!0:this.isDynamicFeature(t)&&(this.featureIdsWIthSelectionMethodDynamic[t.record.Id]=!0))}},{key:"_syncOptionConfigurations",value:function(){var t=this._getPreviouslyConfiguredBundle();if(null!==t){var e,n=t.optionData.Id||t.optionId,o=a(this.getFeatureByOptionId(n)._transient_.optionConfigurations);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(r.record.Id===n&&r.index===t.index)return r.optionConfigurations=t.optionConfigurations,r.configurationData=t.configurationData,void delete t.tag}}catch(t){o.e(t)}finally{o.f()}}}},{key:"_getPreviouslyConfiguredBundle",value:function(){var t,e=a(this.product.configuration.optionConfigurations);try{for(e.s();!(t=e.n()).done;){var n=t.value;if("saved"===n.tag)return n}}catch(t){e.e(t)}finally{e.f()}return null}}])&&l(e.prototype,n),s&&l(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(10);var o=n(8),r=n(62);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.selection=[],this.selectCallback=e}var e,n,o;return e=t,(n=[{key:"get",value:function(){return this.multi?this.selection.slice():this.selection[0]}},{key:"clear",value:function(t){this.selection.slice().forEach((function(e){(!t||t.indexOf(e)<0)&&this.setItemSelected(e,!1)}),this)}},{key:"isSelected",value:function(t){return this.selection.indexOf(t)>=0}},{key:"setItemSelected",value:function(t,e){if(null!=t&&e!==this.isSelected(t)){if(e)this.selection.push(t);else{var n=this.selection.indexOf(t);n>=0&&this.selection.splice(n,1)}this.selectCallback&&this.selectCallback(t,e)}}},{key:"select",value:function(t){this.multi?this.toggle(t):this.get()!==t&&(this.setItemSelected(this.get(),!1),this.setItemSelected(t,!0))}},{key:"toggle",value:function(t){this.setItemSelected(t,!this.isSelected(t))}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new a(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Object(o.a)(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(t){return this.items?this.items.indexOf(t):-1},select:function(t){this.selected=t},selectPrevious:function(){var t=this.items.length,e=t-1;void 0!==this.selected&&(e=(Number(this._valueToIndex(this.selected))-1+t)%t),this.selected=this._indexToValue(e)},selectNext:function(){var t=0;void 0!==this.selected&&(t=(Number(this._valueToIndex(this.selected))+1)%this.items.length),this.selected=this._indexToValue(t)},selectIndex:function(t){this.select(this._indexToValue(t))},forceSynchronousItemUpdate:function(){this._observer&&"function"==typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(t){this.listen(this,t,"_activateHandler")},_removeListener:function(t){this.unlisten(this,t,"_activateHandler")},_activateEventChanged:function(t,e){this._removeListener(e),this._addListener(t)},_updateItems:function(){var t=Object(o.a)(this).queryDistributedElements(this.selectable||"*");t=Array.prototype.filter.call(t,this._bindFilterItem),this._setItems(t)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(t){if(this.items){var e=this._valueToItem(this.selected);e?this._selection.select(e):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(t){return!this._excludedLocalNames[t.localName]},_valueToItem:function(t){return null==t?null:this.items[this._valueToIndex(t)]},_valueToIndex:function(t){if(!this.attrForSelected)return Number(t);for(var e,n=0;e=this.items[n];n++)if(this._valueForItem(e)==t)return n},_indexToValue:function(t){if(!this.attrForSelected)return t;var e=this.items[t];return e?this._valueForItem(e):void 0},_valueForItem:function(t){if(!t)return null;if(!this.attrForSelected){var e=this.indexOf(t);return-1===e?null:e}var n=t[Object(r.b)(this.attrForSelected)];return null!=n?n:t.getAttribute(this.attrForSelected)},_applySelection:function(t,e){this.selectedClass&&this.toggleClass(this.selectedClass,e,t),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,e,t),this._selectionChange(),this.fire("iron-"+(e?"select":"deselect"),{item:t})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(t){return Object(o.a)(t).observeNodes((function(t){this._updateItems(),this._updateSelected(),this.fire("iron-items-changed",t,{bubbles:!1,cancelable:!1})}))},_activateHandler:function(t){for(var e=t.target,n=this.items;e&&e!=this;){var o=n.indexOf(e);if(o>=0){var r=this._indexToValue(o);return void this._itemActivate(r,e)}e=e.parentNode}},_itemActivate:function(t,e){this.fire("iron-activate",{selected:t,item:e},{cancelable:!0}).defaultPrevented||this.select(t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return M}));n(10);var o=n(8),r=void 0,i={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},expandSizingTargetForScrollbars:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var t=Object(o.a)(this).parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t=t.host),t},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},get _isRTL(){return void 0===this._memoizedIsRTL&&(this._memoizedIsRTL="rtl"==window.getComputedStyle(this).direction),this._memoizedIsRTL},attached:function(){this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var t=window.getComputedStyle(this),e=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==t.top?"top":"auto"!==t.bottom?"bottom":null,horizontally:"auto"!==t.left?"left":"auto"!==t.right?"right":null},sizedBy:{height:"none"!==e.maxHeight,width:"none"!==e.maxWidth,minWidth:parseInt(e.minWidth,10)||0,minHeight:parseInt(e.minHeight,10)||0},margin:{top:parseInt(t.marginTop,10)||0,right:parseInt(t.marginRight,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0}}}},resetFit:function(){var t=this._fitInfo||{};for(var e in t.sizerInlineStyle)this.sizingTarget.style[e]=t.sizerInlineStyle[e];for(var e in t.inlineStyle)this.style[e]=t.inlineStyle[e];this._fitInfo=null},refit:function(){var t=this.sizingTarget.scrollLeft,e=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=t,this.sizingTarget.scrollTop=e},position:function(){if(this.__shouldPosition){this._discoverInfo(),window.ShadyDOM&&window.ShadyDOM.flush(),this.style.position="fixed",this.sizingTarget.style.boxSizing="border-box",this.style.left="0px",this.style.top="0px";var t,e,n,o,i=this.getBoundingClientRect(),a=this.__getNormalizedRect(this.positionTarget),s=this.__getNormalizedRect(this.fitInto);this.expandSizingTargetForScrollbars&&(t=this.sizingTarget.offsetWidth,e=this.sizingTarget.offsetHeight,n=this.sizingTarget.clientWidth,o=this.sizingTarget.clientHeight);var l=this._fitInfo.margin,c={width:i.width+l.left+l.right,height:i.height+l.top+l.bottom},u=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,c,i,a,s),d=u.left+l.left,p=u.top+l.top,h=Math.min(s.right-l.right,d+i.width),f=Math.min(s.bottom-l.bottom,p+i.height);d=Math.max(s.left+l.left,Math.min(d,h-this._fitInfo.sizedBy.minWidth)),p=Math.max(s.top+l.top,Math.min(p,f-this._fitInfo.sizedBy.minHeight));var b=Math.max(h-d,this._fitInfo.sizedBy.minWidth),y=Math.max(f-p,this._fitInfo.sizedBy.minHeight);this.sizingTarget.style.maxWidth=b+"px",this.sizingTarget.style.maxHeight=y+"px";var g=d-i.left,v=p-i.top;if(this.style.left="".concat(g,"px"),this.style.top="".concat(v,"px"),this.expandSizingTargetForScrollbars){var m=this.sizingTarget.offsetHeight,_=m-this.sizingTarget.clientHeight-(e-o);if(_>0){var w=s.height-l.top-l.bottom,O=Math.min(w,y+_);this.sizingTarget.style.maxHeight="".concat(O,"px");var k,x=this.sizingTarget.offsetHeight,S=x-m;"top"===u.verticalAlign?k=v:"middle"===u.verticalAlign?k=v-S/2:"bottom"===u.verticalAlign&&(k=v-S),k=Math.max(s.top+l.top,Math.min(k,s.bottom-l.bottom-x)),this.style.top="".concat(k,"px")}var C=this.sizingTarget.offsetWidth,E=C-this.sizingTarget.clientWidth-(t-n);if(E>0){var P=function(){if(void 0!==r)return r;var t=document.createElement("div");Object.assign(t.style,{overflow:"auto",position:"fixed",left:"0px",top:"0px",maxWidth:"100px",maxHeight:"100px"});var e=document.createElement("div");return e.style.width="200px",e.style.height="200px",t.appendChild(e),document.body.appendChild(t),r=Math.abs(t.offsetWidth-100)>1?t.offsetWidth-t.clientWidth:0,document.body.removeChild(t),r}(),T=s.width-l.left-l.right,I=Math.min(T,b+E-P);this.sizingTarget.style.maxWidth="".concat(I,"px");var j,B=this.sizingTarget.offsetWidth+P,M=B-C;"left"===u.horizontalAlign?j=g:"center"===u.horizontalAlign?j=g-M/2:"right"===u.horizontalAlign&&(j=g-M),j=Math.max(s.left+l.left,Math.min(j,s.right-l.right-B)),this.style.left="".concat(j,"px")}}}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var t=this._fitInfo;t.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px"),t.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var e=this.getBoundingClientRect();t.sizedBy.height||this.__sizeDimension(e,t.positionedBy.vertically,"top","bottom","Height"),t.sizedBy.width||this.__sizeDimension(e,t.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(t,e,n,o,r){this.__sizeDimension(t,e,n,o,r)},__sizeDimension:function(t,e,n,o,r){var i=this._fitInfo,a=this.__getNormalizedRect(this.fitInto),s="Width"===r?a.width:a.height,l=e===o,c=l?s-t[o]:t[n],u=i.margin[l?n:o],d="offset"+r,p=this[d]-this.sizingTarget[d];this.sizingTarget.style["max"+r]=s-u-c-p+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var t=this._fitInfo.positionedBy;if(!t.vertically||!t.horizontally){this.style.position="fixed",t.vertically||(this.style.top="0px"),t.horizontally||(this.style.left="0px");var e=this.getBoundingClientRect(),n=this.__getNormalizedRect(this.fitInto);if(!t.vertically){var o=n.top-e.top+(n.height-e.height)/2;this.style.top=o+"px"}if(!t.horizontally){var r=n.left-e.left+(n.width-e.width)/2;this.style.left=r+"px"}}}},__getNormalizedRect:function(t){return t===document.documentElement||t===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:t.getBoundingClientRect()},__getOffscreenArea:function(t,e,n){var o=Math.min(0,t.top)+Math.min(0,n.bottom-(t.top+e.height)),r=Math.min(0,t.left)+Math.min(0,n.right-(t.left+e.width));return Math.abs(o)*e.width+Math.abs(r)*e.height},__getPosition:function(t,e,n,o,r,i){var a,s=[{verticalAlign:"top",horizontalAlign:"left",top:r.top+this.verticalOffset,left:r.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:r.top+this.verticalOffset,left:r.right-n.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:r.bottom-n.height-this.verticalOffset,left:r.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:r.bottom-n.height-this.verticalOffset,left:r.right-n.width-this.horizontalOffset}];if(this.noOverlap){for(var l=0,c=s.length;l<c;l++){var u={};for(var d in s[l])u[d]=s[l][d];s.push(u)}s[0].top=s[1].top+=r.height,s[2].top=s[3].top-=r.height,s[4].left=s[6].left+=r.width,s[5].left=s[7].left-=r.width}e="auto"===e?null:e,(t="auto"===t?null:t)&&"center"!==t||(s.push({verticalAlign:"top",horizontalAlign:"center",top:r.top+this.verticalOffset+(this.noOverlap?r.height:0),left:r.left-o.width/2+r.width/2+this.horizontalOffset}),s.push({verticalAlign:"bottom",horizontalAlign:"center",top:r.bottom-n.height-this.verticalOffset-(this.noOverlap?r.height:0),left:r.left-o.width/2+r.width/2+this.horizontalOffset})),e&&"middle"!==e||(s.push({verticalAlign:"middle",horizontalAlign:"left",top:r.top-o.height/2+r.height/2+this.verticalOffset,left:r.left+this.horizontalOffset+(this.noOverlap?r.width:0)}),s.push({verticalAlign:"middle",horizontalAlign:"right",top:r.top-o.height/2+r.height/2+this.verticalOffset,left:r.right-n.width-this.horizontalOffset-(this.noOverlap?r.width:0)})),"middle"===e&&"center"===t&&s.push({verticalAlign:"middle",horizontalAlign:"center",top:r.top-o.height/2+r.height/2+this.verticalOffset,left:r.left-o.width/2+r.width/2+this.horizontalOffset});for(l=0;l<s.length;l++){var p=s[l],h=p.verticalAlign===e,f=p.horizontalAlign===t;if(!this.dynamicAlign&&!this.noOverlap&&h&&f){a=p;break}var b=(!e||h)&&(!t||f);if(this.dynamicAlign||b){if(p.offscreenArea=this.__getOffscreenArea(p,n,i),0===p.offscreenArea&&b){a=p;break}a=a||p;var y=p.offscreenArea-a.offscreenArea;(y<0||0===y&&(h||f))&&(a=p)}}return a}},a=n(66),s=n(16);function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var c,u,d,p=Element.prototype,h=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,f=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getTabbableNodes",value:function(t){var e=[];return this._collectTabbableNodes(t,e)?this._sortByTabIndex(e):e}},{key:"isFocusable",value:function(t){return h.call(t,"input, select, textarea, button, object")?h.call(t,":not([disabled])"):h.call(t,"a[href], area[href], iframe, [tabindex], [contentEditable]")}},{key:"isTabbable",value:function(t){return this.isFocusable(t)&&h.call(t,':not([tabindex="-1"])')&&this._isVisible(t)}},{key:"_normalizedTabIndex",value:function(t){if(this.isFocusable(t)){var e=t.getAttribute("tabindex")||0;return Number(e)}return-1}},{key:"_collectTabbableNodes",value:function(t,e){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=t;if(!this._isVisible(n))return!1;var r,i=this._normalizedTabIndex(n),a=i>0;i>=0&&e.push(n),r="content"===n.localName||"slot"===n.localName?Object(o.a)(n).getDistributedNodes():Object(o.a)(n.root||n).children;for(var s=0;s<r.length;s++)a=this._collectTabbableNodes(r[s],e)||a;return a}},{key:"_isVisible",value:function(t){var e=t.style;return"hidden"!==e.visibility&&"none"!==e.display&&"hidden"!==(e=window.getComputedStyle(t)).visibility&&"none"!==e.display}},{key:"_sortByTabIndex",value:function(t){var e=t.length;if(e<2)return t;var n=Math.ceil(e/2),o=this._sortByTabIndex(t.slice(0,n)),r=this._sortByTabIndex(t.slice(n));return this._mergeSortByTabIndex(o,r)}},{key:"_mergeSortByTabIndex",value:function(t,e){for(var n=[];t.length>0&&e.length>0;)this._hasLowerTabOrder(t[0],e[0])?n.push(e.shift()):n.push(t.shift());return n.concat(t,e)}},{key:"_hasLowerTabOrder",value:function(t,e){var n=Math.max(t.tabIndex,0),o=Math.max(e.tabIndex,0);return 0===n||0===o?o>n:n>o}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),b=n(14),y=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(b.a)({_template:Object(y.a)(c||(u=["\n    <style>\n      :host {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: var(--iron-overlay-backdrop-background-color, #000);\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n        @apply --iron-overlay-backdrop;\n      }\n\n      :host(.opened) {\n        opacity: var(--iron-overlay-backdrop-opacity, 0.6);\n        pointer-events: auto;\n        @apply --iron-overlay-backdrop-opened;\n      }\n    </style>\n\n    <slot></slot>\n"],d||(d=u.slice(0)),c=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(d)}})))),is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Object(o.a)(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||Object(o.a)(this.parentNode).removeChild(this)},_onTransitionend:function(t){t&&t.target===this&&this.complete()},_openedChanged:function(t){if(t)this.prepare();else{var e=window.getComputedStyle(this);"0s"!==e.transitionDuration&&0!=e.opacity||this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass("opened",this.opened)}.bind(this)))}});var g=n(56),v=n(41);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var _,w,O=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._overlays=[],this._minimumZ=101,this._backdropElement=null,v.a(document.documentElement,"tap",(function(){})),document.addEventListener("tap",this._onCaptureClick.bind(this),!0),document.addEventListener("focus",this._onCaptureFocus.bind(this),!0),document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)}var e,n,r;return e=t,(n=[{key:"backdropElement",get:function(){return this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop")),this._backdropElement}},{key:"deepActiveElement",get:function(){var t=document.activeElement;for(t&&t instanceof Element!=0||(t=document.body);t.root&&Object(o.a)(t.root).activeElement;)t=Object(o.a)(t.root).activeElement;return t}},{key:"_bringOverlayAtIndexToFront",value:function(t){var e=this._overlays[t];if(e){var n=this._overlays.length-1,o=this._overlays[n];if(o&&this._shouldBeBehindOverlay(e,o)&&n--,!(t>=n)){var r=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(e)<=r&&this._applyOverlayZ(e,r);t<n;)this._overlays[t]=this._overlays[t+1],t++;this._overlays[n]=e}}}},{key:"addOrRemoveOverlay",value:function(t){t.opened?this.addOverlay(t):this.removeOverlay(t)}},{key:"addOverlay",value:function(t){var e=this._overlays.indexOf(t);if(e>=0)return this._bringOverlayAtIndexToFront(e),void this.trackBackdrop();var n=this._overlays.length,o=this._overlays[n-1],r=Math.max(this._getZ(o),this._minimumZ),i=this._getZ(t);if(o&&this._shouldBeBehindOverlay(t,o)){this._applyOverlayZ(o,r),n--;var a=this._overlays[n-1];r=Math.max(this._getZ(a),this._minimumZ)}i<=r&&this._applyOverlayZ(t,r),this._overlays.splice(n,0,t),this.trackBackdrop()}},{key:"removeOverlay",value:function(t){var e=this._overlays.indexOf(t);-1!==e&&(this._overlays.splice(e,1),this.trackBackdrop())}},{key:"currentOverlay",value:function(){var t=this._overlays.length-1;return this._overlays[t]}},{key:"currentOverlayZ",value:function(){return this._getZ(this.currentOverlay())}},{key:"ensureMinimumZ",value:function(t){this._minimumZ=Math.max(this._minimumZ,t)}},{key:"focusOverlay",value:function(){var t=this.currentOverlay();t&&t._applyFocus()}},{key:"trackBackdrop",value:function(){var t=this._overlayWithBackdrop();(t||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(t)-1,this.backdropElement.opened=!!t,this.backdropElement.prepare())}},{key:"getBackdrops",value:function(){for(var t=[],e=0;e<this._overlays.length;e++)this._overlays[e].withBackdrop&&t.push(this._overlays[e]);return t}},{key:"backdropZ",value:function(){return this._getZ(this._overlayWithBackdrop())-1}},{key:"_overlayWithBackdrop",value:function(){for(var t=this._overlays.length-1;t>=0;t--)if(this._overlays[t].withBackdrop)return this._overlays[t]}},{key:"_getZ",value:function(t){var e=this._minimumZ;if(t){var n=Number(t.style.zIndex||window.getComputedStyle(t).zIndex);n==n&&(e=n)}return e}},{key:"_setZ",value:function(t,e){t.style.zIndex=e}},{key:"_applyOverlayZ",value:function(t,e){this._setZ(t,e+2)}},{key:"_overlayInPath",value:function(t){t=t||[];for(var e=0;e<t.length;e++)if(t[e]._manager===this)return t[e]}},{key:"_onCaptureClick",value:function(t){var e=this._overlays.length-1;if(-1!==e)for(var n,r=Object(o.a)(t).path;(n=this._overlays[e])&&this._overlayInPath(r)!==n&&(n._onCaptureClick(t),n.allowClickThrough);)e--}},{key:"_onCaptureFocus",value:function(t){var e=this.currentOverlay();e&&e._onCaptureFocus(t)}},{key:"_onCaptureKeyDown",value:function(t){var e=this.currentOverlay();e&&(g.a.keyboardEventMatchesKeys(t,"esc")?e._onCaptureEsc(t):g.a.keyboardEventMatchesKeys(t,"tab")&&e._onCaptureTab(t))}},{key:"_shouldBeBehindOverlay",value:function(t,e){return!t.alwaysOnTop&&e.alwaysOnTop}}])&&m(e.prototype,n),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),k={pageX:0,pageY:0},x=null,S=[],C=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];function E(t){T.indexOf(t)>=0||(0===T.length&&function(){_=_||I.bind(void 0);for(var t=0,e=C.length;t<e;t++)document.addEventListener(C[t],_,{capture:!0,passive:!1})}(),T.push(t),w=T[T.length-1],[],[])}function P(t){var e=T.indexOf(t);-1!==e&&(T.splice(e,1),w=T[T.length-1],[],[],0===T.length&&function(){for(var t=0,e=C.length;t<e;t++)document.removeEventListener(C[t],_,{capture:!0,passive:!1})}())}var T=[];function I(t){if(t.cancelable&&function(t){var e=Object(o.a)(t).rootTarget;"touchmove"!==t.type&&x!==e&&(x=e,S=function(t){for(var e=[],n=t.indexOf(w),o=0;o<=n;o++)if(t[o].nodeType===Node.ELEMENT_NODE){var r=t[o],i=r.style;"scroll"!==i.overflow&&"auto"!==i.overflow&&(i=window.getComputedStyle(r)),"scroll"!==i.overflow&&"auto"!==i.overflow||e.push(r)}return e}(Object(o.a)(t).path));if(!S.length)return!0;if("touchstart"===t.type)return!1;var n=function(t){var e={deltaX:t.deltaX,deltaY:t.deltaY};if("deltaX"in t);else if("wheelDeltaX"in t&&"wheelDeltaY"in t)e.deltaX=-t.wheelDeltaX,e.deltaY=-t.wheelDeltaY;else if("wheelDelta"in t)e.deltaX=0,e.deltaY=-t.wheelDelta;else if("axis"in t)e.deltaX=1===t.axis?t.detail:0,e.deltaY=2===t.axis?t.detail:0;else if(t.targetTouches){var n=t.targetTouches[0];e.deltaX=k.pageX-n.pageX,e.deltaY=k.pageY-n.pageY}return e}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/(t);return!function(t,e,n){if(!e&&!n)return;for(var o=Math.abs(n)>=Math.abs(e),r=0;r<t.length;r++){var i=t[r];if(o?n<0?i.scrollTop>0:i.scrollTop<i.scrollHeight-i.clientHeight:e<0?i.scrollLeft>0:i.scrollLeft<i.scrollWidth-i.clientWidth)return i}}(S,n.deltaX,n.deltaY)}(t)&&t.preventDefault(),t.targetTouches){var e=t.targetTouches[0];k.pageX=e.pageX,k.pageY=e.pageY}}var j={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:O},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Object(o.a)(this).querySelector("[autofocus]")||this},get _focusableNodes(){return f.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__rafs={},this.__restoreFocusNode=null,this.__scrollTop=this.__scrollLeft=null,this.__onCaptureScroll=this.__onCaptureScroll.bind(this),this.__rootNodes=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=Object(o.a)(this).observeNodes(this._onNodesChange)},detached:function(){for(var t in this._observer&&Object(o.a)(this).unobserveNodes(this._observer),this._observer=null,this.__rafs)null!==this.__rafs[t]&&cancelAnimationFrame(this.__rafs[t]);this.__rafs={},this._manager.removeOverlay(this),this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(t){this.fire("iron-overlay-canceled",t,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(t){t?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none",this.style.zIndex="",this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(){this.style.display="none",this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition="",this.style.transform=this.style.webkitTransform="",this.style.display="",this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var t=this._manager.deepActiveElement;(t===document.body||B(this,t))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null,this._focusNode.blur(),this._focusedChild=null}},_onCaptureClick:function(t){this.noCancelOnOutsideClick||this.cancel(t)},_onCaptureFocus:function(t){if(this.withBackdrop){var e=Object(o.a)(t).path;-1===e.indexOf(this)?(t.stopPropagation(),this._applyFocus()):this._focusedChild=e[0]}},_onCaptureEsc:function(t){this.noCancelOnEscKey||this.cancel(t)},_onCaptureTab:function(t){if(this.withBackdrop){this.__ensureFirstLastFocusables();var e=t.shiftKey,n=e?this.__firstFocusableNode:this.__lastFocusableNode,o=e?this.__lastFocusableNode:this.__firstFocusableNode,r=!1;if(n===o)r=!0;else{var i=this._manager.deepActiveElement;r=i===n||i===this}r&&(t.preventDefault(),this._focusedChild=o,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){var t=this._focusableNodes;this.__firstFocusableNode=t[0],this.__lastFocusableNode=t[t.length-1]},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(t,e){var n=this.__rafs;null!==n[t]&&cancelAnimationFrame(n[t]),n[t]=requestAnimationFrame(function(){n[t]=null,e.call(this)}.bind(this))},__updateScrollObservers:function(t,e,n){t&&e&&this.__isValidScrollAction(n)?("lock"===n&&(this.__saveScrollPosition(),E(this)),this.__addScrollListeners()):(P(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){if(this.__rootNodes=[],s.r)for(var t=this;t;)t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host&&this.__rootNodes.push(t),t=t.host||t.assignedSlot||t.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach((function(t){t.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})}),this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach((function(t){t.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})}),this),this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(t){return"lock"===t||"refit"===t||"cancel"===t},__onCaptureScroll:function(t){if(!(this.__isAnimating||Object(o.a)(t).path.indexOf(this)>=0))switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(t)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}},B=function(t,e){for(var n=e;n;n=(o=n).assignedSlot||o.parentNode||o.host)if(n===t)return!0;var o;return!1},M=[i,a.a,j]},function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var o,r=n(2),i=(n(18),n(128),n(35),n(37)),a=n(5),s=(n(13),n(47),n(15),n(3));var l,c,u,d=Object(s.b)(o||(l=["\n.link {\n  color: #1589EE;\n}\n.link:hover {\n  cursor: pointer;\n  text-decoration: underline;\n}\n#container {\n  outline-color: var(--sbInputOutlineColor);\n  outline-width: var(--sbInputOutlineWidth);\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  border-radius: var(--sbTextboxRadius);\n  padding: 3px;\n  background-color: var(--sbTextboxBgColor);\n  width: var(--sidePanelInputWidth, 125px);\n  min-height: var(--sb-lookup-pill-container-min-height);\n  min-width: var(--sb-lookup-pill-container-min-width);\n}\n#container.inlineEdit {\n  width: 100%;\n  height: 100%;\n  border-color: #0070d2;\n}\n#container.inlineEdit:focus {\n  outline: none;\n}\n#container.inlineEdit span.pill {\n  padding-top: 5px;\n  vertical-align: middle;\n  text-align: left;\n}\n#container.inlineEdit span.pill span#label {\n  width: calc(94%);\n}\n.pill {\n  border: 1px solid #cccccc;\n  border-radius: 5px;\n  padding: 1px 4px;\n  display: block;\n  white-space: nowrap;\n  height: 100%;\n}\n.pill.dialog {\n  padding: 3px 4px;\n}\n.pill:hover {\n  background-color: #eeeeee;\n  cursor: default;\n}\n.pill .text {\n  width: var(--pillTextWidth, 92px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n  vertical-align: middle;\n  min-width: var(--sb-lookup-pill-text-min-width);\n}\n.pill .delete:after {\n  content: '\\e802';\n  font-family: 'sf-icons';\n  color: #888888;\n  cursor: pointer;\n}\n"],(c=["\n.link {\n  color: #1589EE;\n}\n.link:hover {\n  cursor: pointer;\n  text-decoration: underline;\n}\n#container {\n  outline-color: var(--sbInputOutlineColor);\n  outline-width: var(--sbInputOutlineWidth);\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  border-radius: var(--sbTextboxRadius);\n  padding: 3px;\n  background-color: var(--sbTextboxBgColor);\n  width: var(--sidePanelInputWidth, 125px);\n  min-height: var(--sb-lookup-pill-container-min-height);\n  min-width: var(--sb-lookup-pill-container-min-width);\n}\n#container.inlineEdit {\n  width: 100%;\n  height: 100%;\n  border-color: #0070d2;\n}\n#container.inlineEdit:focus {\n  outline: none;\n}\n#container.inlineEdit span.pill {\n  padding-top: 5px;\n  vertical-align: middle;\n  text-align: left;\n}\n#container.inlineEdit span.pill span#label {\n  width: calc(94%);\n}\n.pill {\n  border: 1px solid #cccccc;\n  border-radius: 5px;\n  padding: 1px 4px;\n  display: block;\n  white-space: nowrap;\n  height: 100%;\n}\n.pill.dialog {\n  padding: 3px 4px;\n}\n.pill:hover {\n  background-color: #eeeeee;\n  cursor: default;\n}\n.pill .text {\n  width: var(--pillTextWidth, 92px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n  vertical-align: middle;\n  min-width: var(--sb-lookup-pill-text-min-width);\n}\n.pill .delete:after {\n  content: '\\\\e802';\n  font-family: 'sf-icons';\n  color: #888888;\n  cursor: pointer;\n}\n"])||(c=l.slice(0)),o=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}})))),p=n(1),h=n(4),f=n(6),b=n(0),y=(n(46),n(45),n(65),n(70),n(152),n(60)),g=n(134);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=x(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,t);var e,n,o,i=C(a);function a(){return w(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-lookup"}},{key:"properties",get:function(){return{tableName:{type:String,observer:"initTableLabel"},limit:{type:Number,value:5},value:{type:String,value:null},label:{type:String,value:null},disabled:{type:Boolean,value:!1},labelName:{type:String,value:"label"},selectedLabel:{type:String,computed:"getSelectedLabel(tableName)"},menuItemLabels:{type:Array,value:null},lookupCallback:{type:Function,value:function(){return this.lookupResultsCallback.bind(this)}},hideInputAndShowPill:{type:Boolean,value:!1},hideCancelIcon:{type:Boolean,value:!0},i18n:{type:Object,value:function(){return h.a.properties.i18n.value()}},inDialog:{type:Boolean,value:!1},blurDisabled:{type:Boolean,value:!1},focusDisabled:{type:Boolean,value:!1},tableLabel:{type:String,value:""},placeholder:{type:String,value:null},labelValue:{type:String},labels:{type:Array,computed:"getLabels(selectedLabel, menuItemLabels)"},searchText:{type:String,computed:"getSearchText(placeholder, tableLabel, i18n)"},viewport:{type:Object,value:function(){return f.a.getViewport()}},showSearchIcon:{type:Boolean,computed:"showSearch(viewport, inDialog)"},mobile:{type:Boolean,computed:"isMobile(viewport)"},fieldFullName:String,hasFilter:{type:Boolean,value:!1},controllingFields:{type:Array,value:[]},clearAfterSelection:{type:Boolean,value:!1},errors:Array,currentRecordFilters:Object,record:{type:Object,value:null},dialogMetadata:Object,variant:{type:String,value:""},pillClass:{type:String,value:""}}}},{key:"observers",get:function(){return["_setSelectedItemObserver(value, selectedLabel)","_setLabelObserver(label, value, record)","setCallback(customCallback)","_handleMobileEventsObserver(viewport, inDialog)","setForceSuggest(record.*)","_initCurrentRecordFiltersObserver(hasFilter, controllingFields, fieldFullName)"]}},{key:"template",get:function(){return Object(r.b)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-toast type="error" messages="[[errors]]"></sb-toast>\n\t\t<sb-service id="q" error="{{err}}" response="{{res}}" background="true"></sb-service>\n\t\t<sb-describe id="object" background="true"></sb-describe>\n\t\t<sb-field-md id="fields" background="true" do-not-fix-object-name="true"></sb-field-md>\n\t\t<sb-typeahead id="typeahead"\n\t\t\t\t\t  focus-on-attached="[[focusOnAttached]]"\n\t\t\t\t\t  disabled="[[disabled]]"\n\t\t\t\t\t  apply-focus="[[applyFocus]]"\n\t\t\t\t\t  hide-cancel-icon="[[hideCancelIcon]]"\n\t\t\t\t\t  show-search-icon="[[showSearchIcon]]"\n\t\t\t\t\t  clear-after-selection="[[clearAfterSelection]]"\n\t\t\t\t\t  value="[[selectedLabel]]"\n\t\t\t\t\t  labels="[[labels]]"\n\t\t\t\t\t  items-callback="[[lookupCallback]]"\n\t\t\t\t\t  placeholder="[[searchText]]"\n\t\t\t\t\t  label-value="{{labelValue}}"\n\t\t\t\t\t  hide-input="[[hideInputAndShowPill]]"\n\t\t\t\t\t  focus-disabled="[[focusDisabled]]"\n\t\t\t\t\t  blur-disabled="[[blurDisabled]]"\n\t\t\t\t\t  revert-on-escape="[[revertOnEscape]]"\n\t\t\t\t\t  calculate-list-position="[[calculateListPosition]]"\n\t\t\t\t\t  show-list-no-suggestion="true"\n\t\t\t\t\t  show-list-on-focus="[[!mobile]]"\n\t\t\t\t\t  has-filter="[[hasFilter]]"\n\t\t\t\t\t  variant="[[variant]]"\n\t\t\t\t\t  device\n\t\t></sb-typeahead>\n\t\t<div device id="container" hidden$="[[!hideInputAndShowPill]]" tabindex="0" on-keydown="preventBlurOnDelete" on-keyup="propagateEscOrHandleDelete" on-blur="blurContainer" class$="[[variant]]">\n\t\t\t<span class$="pill [[pillClass]]">\n\t\t\t\t<span id="label" class="text">{{labelValue}}</span>\n\t\t\t\t<paper-tooltip for="label" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t[[labelValue]]\n\t\t\t\t</paper-tooltip>\n\t\t\t\t<template is="dom-if" if="[[!disabled]]">\n\t\t\t\t\t<span class="delete" on-down="preventBlur" on-click="deletePill"></span>\n\t\t\t\t</template>\n\t\t\t</span>\n\t\t</div>\n\t\t'])),d)}}],(n=[{key:"ready",value:function(){k(P(a.prototype),"ready",this).call(this),this.$.object.addEventListener("describe-changed",this.setTableLabel.bind(this)),this.$.typeahead.addEventListener("enter-without-selection",this.handleEnterPressed.bind(this)),this.$.fields.addEventListener("md-changed",this.setCurrentRecordFilters.bind(this))}},{key:"initTableLabel",value:function(){this.tableName&&(this.$.object.objects=[this.tableName])}},{key:"setTableLabel",value:function(t){this.tableLabel=t.detail.value.md[this.tableName].labelPlural}},{key:"setCallback",value:function(){this.lookupCallback=this.customCallback.bind(this)}},{key:"lookupResultsCallback",value:function(t){return new Promise(function(e,n){this.tableName?this.queryLookupResults(t,e,n):e([])}.bind(this))}},{key:"queryLookupResults",value:function(t,e,n){this.errors=null;var o=new g.a(this.tableName,this.selectedLabel,this.hasFilter,this.fieldFullName,this.limit,this.currentRecordFilters,this.record,!0,this.dialogMetadata).build(t,!1,this.inDialog);this.$.q.query({soql:o,version:h.a.apiVersionString}).then(function(n){var o=n.records,r=null==t?"":t,i={Id:"",__md__:{class:"search",searchValue:r,clearAfterSelection:!this.inDialog,noFocusAfterSelection:this.inDialog}},a=this.tableLabel;if(!a){var s=this.tableName.split("__");a=s[s.length>1?s.length-2:0]}if(this.isMobile())i[this.selectedLabel]=r?this.i18n.l('"{0}"',[r]):"",o.push(i);else{var l=r?'"{0}" in {1}':" in {1}";i[this.selectedLabel]=this.i18n.l(l,[r,a]),o=[i].concat(o)}this.inDialog&&this.isMobile()?Object(p.d)(this).handleSearchResults(this.limit,{records:o,totalSize:n.totalSize}):e(o)}.bind(this),function(t){var e;e="INVALID_FIELD"===t.errorCode?this.i18n.l("lookupQueryError"):"SOQL Execution Error: "+o+" ("+(t&&t.message?t.message:t)+")",this.errors=[{type:"error",msg:e}],n(e)}.bind(this))}},{key:"_setLabelObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setLabel(t,e,n)}},{key:"setLabel",value:function(t,e,n){this._setLabel(t,e,n),null!=this.value&&null!=this.selectedLabel&&this.setSelectedItem()}},{key:"_setSelectedItemObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setSelectedItem(t,e)}},{key:"setSelectedItem",value:function(){if(!this.internal&&null!=this.label){var t=this.getLabel(),e={Id:this.value};e[this.selectedLabel]=t,this.$.typeahead.items=this.$.typeahead.items||[e],this.$.typeahead.setSelectedItem(e),this.setHideInputAndShowPill(this.value),this.focus(),this._handleSelectedItemChanged||(this._handleSelectedItemChanged=this.handleSelectedItemChanged.bind(this),this.$.typeahead.addEventListener("selected-item-changed",this._handleSelectedItemChanged))}}},{key:"handleSelectedItemChanged",value:function(t){if(!t.detail.path&&""!=t.detail.value){var e=t.detail.value.__md__,n=e&&void 0!==e.searchValue?e.searchValue:void 0;void 0===n?(this.setHideInputAndShowPill(t.detail.value.Id),this.focus(),this.internal=!0,this.value=t.detail.value.Id||null,this.label=t.detail.value[this.selectedLabel]||"",this.internal=!1,this._setLabel(),this.fireLookupValueChanged(this.value,this.label,t.detail.value)):this.applySearchValue(n)}}},{key:"applySearchValue",value:function(t){if(t&&t.detail&&(t=t.detail.value),this.inDialog){var e=Object(p.d)(this);e.searchValue=t,e.querySearchResults()}else Object(b.c)(b.a.OPEN_LOOKUP_DIALOG,{lookup:this,searchValue:t})}},{key:"handleEnterPressed",value:function(t){this.currentRecordFilters&&this.applySearchValue(t.detail.value)}},{key:"fireLookupValueChanged",value:function(t,e,n){var o={value:t,obj:n,item:this.record?this.record.item:null};o[this.labelName]=e,this.dispatchEvent(Object(b.d)("lookup-value-changed",o))}},{key:"focus",value:function(t){this.isMobile()||(this.hideInputAndShowPill?this.focusDisabled||this.$.container.focus():(this.$.typeahead.focus(t||this.forceSuggest),this.forceSuggest=!1))}},{key:"getLabel",value:function(){this.labelsByValue=this.labelsByValue||{};var t=this._getLabelValueKey(),e=this.labelsByValue[t];return this.value&&!e&&(this.labelsByValue[t]=this.label,e=this.label),e}},{key:"_setLabel",value:function(t,e,n){var o=this._getLabelValueKey();this.labelsByValue=this.labelsByValue||{},this.labelsByValue[o]=this.getDefaultLabelFromRecord(t,e,n)}},{key:"_getLabelValueKey",value:function(){return this.value&&"string"==typeof this.value?this.value.substring(0,15):this.value}},{key:"setHideInputAndShowPill",value:function(t){this.hideInputAndShowPill=!this.isMobile()&&!this.isNil(t)&&!this.clearAfterSelection}},{key:"blurContainer",value:function(){this.hideInputAndShowPill&&!this.blurDisabled&&this.blur()}},{key:"blur",value:function(){this.$.typeahead.setOriginalSelected(),this.dispatchEvent(Object(b.d)("sb-type-blur"))}},{key:"propagateEscOrHandleDelete",value:function(t){27===t.keyCode?this.$.typeahead.suggest(t):8===t.keyCode&&(this.deletePill(),this.blurDisabled=!!this.previousBlurDisabled)}},{key:"preventBlurOnDelete",value:function(t){this.previousBlurDisabled=this.blurDisabled,8===t.keyCode&&(this.blurDisabled=!0)}},{key:"preventBlur",value:function(){this.previousBlurDisabled=this.blurDisabled,this.blurDisabled=!0}},{key:"deletePill",value:function(){this.disabled||this.$.typeahead.clear(),this.blurDisabled=this.previousBlurDisabled}},{key:"isNil",value:function(t){return null==t||""===t}},{key:"dialogOpened",value:function(){this.blurDisabled=!0,this.focusDisabled=!0}},{key:"dialogClosed",value:function(){this.blurDisabled=!1,this.focusDisabled=!1,this.focus(!0),Object(b.c)(b.a.CLOSE_LOOKUP_DIALOG,{lookup:this})}},{key:"getDefaultLabelFromRecord",value:function(t,e,n){if(!(n&&n.model&&n.model.attributeMD&&n.model.attributeMD[n.item]))return t;var o=n.model.attributeMD[n.item];return o.value===e&&null!=o.referencedFieldValue?o.referencedFieldValue:t}},{key:"getSelectedLabel",value:function(){return new y.a(this.tableName).getNameField()}},{key:"getLabels",value:function(){return this.menuItemLabels||[this.selectedLabel]}},{key:"getSearchText",value:function(){return this.placeholder||this.buildSearchText()}},{key:"buildSearchText",value:function(){return this.i18n&&"function"==typeof this.i18n.l?this.i18n.l("Search {0}",[this.tableLabel]):"Search ".concat(this.tableLabel)}},{key:"_handleMobileEventsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.handleMobileEvents(t,e)}},{key:"handleMobileEvents",value:function(){if(this.isMobile())if(this.inDialog){var t=Object(p.d)(this);this._clearAndSave=this._clearAndSave||(t.clearAndSave?t.clearAndSave.bind(t):null),this._clearAndSave&&(this.$.typeahead.removeEventListener("sb-type-clear",this._clearAndSave),this.$.typeahead.addEventListener("sb-type-clear",this._clearAndSave))}else this._applySearchValue=this._applySearchValue||this.applySearchValue.bind(this),this.$.typeahead.removeEventListener("sb-type-focus",this._applySearchValue),this.$.typeahead.addEventListener("sb-type-focus",this._applySearchValue)}},{key:"showSearch",value:function(){return this.isMobile()&&!this.inDialog}},{key:"isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"_initCurrentRecordFiltersObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.initCurrentRecordFilters(t,e,n)}},{key:"initCurrentRecordFilters",value:function(){if(0!==this.controllingFields.length){var t,e=this.fieldFullName.split(".")[0],n=[],o=m(this.controllingFields);try{for(o.s();!(t=o.n()).done;){var r=t.value;n.push(e+"."+r)}}catch(t){o.e(t)}finally{o.f()}this.$.fields.fields=n}else this.currentRecordFilters={}}},{key:"setCurrentRecordFilters",value:function(t){var e,n={},o=m(t.detail.value.fields);try{for(o.s();!(e=o.n()).done;){var r=e.value;n[r.name]=r.type}}catch(t){o.e(t)}finally{o.f()}this.currentRecordFilters=n}},{key:"setForceSuggest",value:function(t){if(!this.forceSuggest&&t&&t.path&&"record"!==t.path&&this.hasFilter){var e=this.currentRecordFilters?Object.keys(this.currentRecordFilters):[];if(0!==e.length){var n=t.path.split("."),o=n[n.length-1];-1!==e.indexOf(o)&&(this.forceSuggest=!0)}}}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(i.a)(Object(a.a)(r.a)));customElements.define(T.is,T)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(31);var o=n(132),r=n(20),i=n(12);function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function s(t){return"slot"===t.localName}var l=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=n,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=function(){o._schedule()},this.connect(),this._schedule()}var e,n,l;return e=t,l=[{key:"getFlattenedNodes",value:function(t){var e=Object(i.a)(t);return s(t)?(t=t,e.assignedNodes({flatten:!0})):Array.from(e.childNodes).map((function(t){return s(t)?(t=t,Object(i.a)(t).assignedNodes({flatten:!0})):[t]})).reduce((function(t,e){return t.concat(e)}),[])}}],(n=[{key:"connect",value:function(){var t=this;s(this._target)?this._listenSlots([this._target]):Object(i.a)(this._target).children&&(this._listenSlots(Object(i.a)(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,(function(e){t._processMutations(e)})):(this._nativeChildrenObserver=new MutationObserver((function(e){t._processMutations(e)})),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}},{key:"disconnect",value:function(){s(this._target)?this._unlistenSlots([this._target]):Object(i.a)(this._target).children&&(this._unlistenSlots(Object(i.a)(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}},{key:"_schedule",value:function(){var t=this;this._scheduled||(this._scheduled=!0,r.c.run((function(){return t.flush()})))}},{key:"_processMutations",value:function(t){this._processSlotMutations(t),this.flush()}},{key:"_processSlotMutations",value:function(t){if(t)for(var e=0;e<t.length;e++){var n=t[e];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}},{key:"flush",value:function(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;for(var t,e={target:this._target,addedNodes:[],removedNodes:[]},n=this.constructor.getFlattenedNodes(this._target),r=Object(o.a)(n,this._effectiveNodes),i=0;i<r.length&&(t=r[i]);i++)for(var a,s=0;s<t.removed.length&&(a=t.removed[s]);s++)e.removedNodes.push(a);for(var l,c=0;c<r.length&&(l=r[c]);c++)for(var u=l.index;u<l.index+l.addedCount;u++)e.addedNodes.push(n[u]);this._effectiveNodes=n;var d=!1;return(e.addedNodes.length||e.removedNodes.length)&&(d=!0,this.callback.call(this._target,e)),d}},{key:"_listenSlots",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];s(n)&&n.addEventListener("slotchange",this._boundSchedule)}}},{key:"_unlistenSlots",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];s(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}}])&&a(e.prototype,n),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(4);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"get",value:function(){return o.a.user&&o.a.user.locale||"en-US"}},{key:"isCommaDecimal",value:function(e){return-1!==a.indexOf(e||t.get())}}],(n=null)&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a=["ar-DZ","bg-BG","ca-ES","hr-HR","cs-CZ","da-DK","nl-AW","nl-BE","nl-NL","nl-SR","en-ZA","et-EE","fi-FI","fr-BE","fr-CA","fr-KM","fr-FR","fr-GN","fr-HT","fr-LU","fr-MR","fr-MC","fr-CH","fr-WF","de-AT","de-DE","de-LU","el-GR","hu-HU","in-ID","it-IT","lv-LV","lt-LT","no-NO","pl-PL","pt-AO","pt-BR","pt-CV","pt-MZ","pt-PT","pt-ST","ro-MD","ro-RO","ru-RU","sr-BA","sr-RS","sr-CS","sk-SK","sl-SI","es-AR","es-BO","es-CL","es-CO","es-CR","es-EC","es-PY","es-ES","es-UY","es-VE","sv-SE","tr-TR","uk-UA","vi-VN"]},function(t,e,n){"use strict";n.d(e,"a",(function(){return ft}));n(31);var o=n(12),r=n(19),i=n(21),a=n(62),s=n(130);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var b={"dom-if":!0,"dom-repeat":!0},y=!1,g=!1;function v(t){(function(){if(!y){y=!0;var t=document.createElement("textarea");t.placeholder="a",g=t.placeholder===t.textContent}return g})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}var m,_=(m=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:function(t){return t}}),function(t,e,n){var o=e.getAttribute(n);m&&n.startsWith("on-")?t.setAttribute(n,m.createScript(o,n)):t.setAttribute(n,o)});function w(t){var e=t.getAttribute("is");if(e&&b[e]){var n=t;for(n.removeAttribute("is"),t=n.ownerDocument.createElement(e),n.parentNode.replaceChild(t,n),t.appendChild(n);n.attributes.length;){var o=n.attributes[0].name;_(t,n,o),n.removeAttribute(o)}}return t}function O(t,e){var n=e.parentInfo&&O(t,e.parentInfo);if(!n)return t;for(var o=n.firstChild,r=0;o;o=o.nextSibling)if(e.parentIndex===r++)return o}function k(t,e,n,o){o.id&&(e[o.id]=n)}function x(t,e,n){if(n.events&&n.events.length)for(var o,r=0,i=n.events;r<i.length&&(o=i[r]);r++)t._addMethodEventListenerToNode(e,o.name,o.value,t)}function S(t,e,n,o){n.templateInfo&&(e._templateInfo=n.templateInfo,e._parentTemplateInfo=o)}var C=Object(r.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(i,t);var e,n,o,r=p(i);function i(){return c(this,i),r.apply(this,arguments)}return e=i,o=[{key:"_parseTemplate",value:function(t,e){if(!t._templateInfo){var n=t._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=Boolean(e),n.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute&&t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,n,{parent:null})}return t._templateInfo}},{key:"_parseTemplateContent",value:function(t,e,n){return this._parseTemplateNode(t.content,e,n)}},{key:"_parseTemplateNode",value:function(t,e,n){var o=!1,r=t;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(e.hasInsertionPoint=!0):o=this._parseTemplateNestedTemplate(r,e,n)||o,v(r),r.firstChild&&this._parseTemplateChildNodes(r,e,n),r.hasAttributes&&r.hasAttributes()&&(o=this._parseTemplateNodeAttributes(r,e,n)||o),o||n.noted}},{key:"_parseTemplateChildNodes",value:function(t,e,n){if("script"!==t.localName&&"style"!==t.localName)for(var o,r=t.firstChild,i=0;r;r=o){if("template"==r.localName&&(r=w(r)),o=r.nextSibling,r.nodeType===Node.TEXT_NODE){for(var a=o;a&&a.nodeType===Node.TEXT_NODE;)r.textContent+=a.textContent,o=a.nextSibling,t.removeChild(a),a=o;if(e.stripWhiteSpace&&!r.textContent.trim()){t.removeChild(r);continue}}var s={parentIndex:i,parentInfo:n};this._parseTemplateNode(r,e,s)&&(s.infoIndex=e.nodeInfoList.push(s)-1),r.parentNode&&i++}}},{key:"_parseTemplateNestedTemplate",value:function(t,e,n){var o=t,r=this._parseTemplate(o,e);return(r.content=o.content.ownerDocument.createDocumentFragment()).appendChild(o.content),n.templateInfo=r,!0}},{key:"_parseTemplateNodeAttributes",value:function(t,e,n){for(var o,r=!1,i=Array.from(t.attributes),a=i.length-1;o=i[a];a--)r=this._parseTemplateNodeAttribute(t,e,n,o.name,o.value)||r;return r}},{key:"_parseTemplateNodeAttribute",value:function(t,e,n,o,r){return"on-"===o.slice(0,3)?(t.removeAttribute(o),n.events=n.events||[],n.events.push({name:o.slice(3),value:r}),!0):"id"===o&&(n.id=r,!0)}},{key:"_contentForTemplate",value:function(t){var e=t._templateInfo;return e&&e.content||t.content}}],(n=[{key:"_stampTemplate",value:function(t,e){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);var n=(e=e||this.constructor._parseTemplate(t)).nodeInfoList,o=e.content||t.content,r=document.importNode(o,!0);r.__noInsertionPoint=!e.hasInsertionPoint;var i=r.nodeList=new Array(n.length);r.$={};for(var a,s=0,l=n.length;s<l&&(a=n[s]);s++){var c=i[s]=O(r,a);k(0,r.$,c,a),S(0,c,a,e),x(this,c,a)}return r=r}},{key:"_addMethodEventListenerToNode",value:function(t,e,n,o){var r=function(t,e,n){return t=t._methodHost||t,function(e){t[n]?t[n](e,e.detail):console.warn("listener method `"+n+"` not defined")}}(o=o||t,0,n);return this._addEventListenerToNode(t,e,r),r}},{key:"_addEventListenerToNode",value:function(t,e,n){t.addEventListener(e,n)}},{key:"_removeEventListenerFromNode",value:function(t,e,n){t.removeEventListener(e,n)}}])&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(t)})),E=n(16);function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function T(){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=I(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function I(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}function j(t,e){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=D(t);if(e){var r=D(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */var R=0,L=[],q={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},F=/[A-Z]/;function N(t,e,n){var o=t[e];if(o){if(!t.hasOwnProperty(e)&&(o=t[e]=Object.create(t[e]),n))for(var r in o)for(var i=o[r],a=o[r]=Array(i.length),s=0;s<i.length;s++)a[s]=i[s]}else o=t[e]={};return o}function z(t,e,n,o,r,a){if(e){var s=!1,l=R++;for(var c in n){var u=e[r?Object(i.g)(c):c];if(u)for(var d,p=0,h=u.length;p<h&&(d=u[p]);p++)d.info&&d.info.lastRun===l||r&&!U(c,d.trigger)||(d.info&&(d.info.lastRun=l),d.fn(t,c,n,o,d.info,r,a),s=!0)}return s}return!1}function H(t,e,n,o,r,a,s,l){var c=!1,u=e[s?Object(i.g)(o):o];if(u)for(var d,p=0,h=u.length;p<h&&(d=u[p]);p++)d.info&&d.info.lastRun===n||s&&!U(o,d.trigger)||(d.info&&(d.info.lastRun=n),d.fn(t,o,r,a,d.info,s,l),c=!0);return c}function U(t,e){if(e){var n=e.name;return n==t||!(!e.structured||!Object(i.b)(n,t))||!(!e.wildcard||!Object(i.c)(n,t))}return!0}function V(t,e,n,o,r){var i="string"==typeof r.method?t[r.method]:r.method,a=r.property;i?i.call(t,t.__data[a],o[a]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function W(t,e,n){var o=Object(i.g)(e);return o!==e&&(Q(t,Object(a.a)(o)+"-changed",n[e],e),!0)}function Q(t,e,n,r){var i={value:n,queueProperty:!0};r&&(i.path=r),Object(o.a)(t).dispatchEvent(new CustomEvent(e,{detail:i}))}function G(t,e,n,o,r,a){var s=(a?Object(i.g)(e):e)!=e?e:null,l=s?Object(i.a)(t,s):t.__data[e];s&&void 0===l&&(l=n[e]),Q(t,r.eventName,l,s)}function $(t,e,n,o,r){var i=t.__data[e];E.l&&(i=Object(E.l)(i,r.attrName,"attribute",t)),t._propertyToAttribute(e,r.attrName,i)}function K(t,e,n,o){var r=t[q.COMPUTE];if(r)if(E.h){R++;var i,a=function(t){var e=t.constructor.__orderedComputedDeps;e||function(){e=new Map;for(var n,o=t[q.COMPUTE],r=function(t){var e=t.__computeInfo,n={},o=t[q.COMPUTE],r=[],i=0;for(var a in e){var s=e[a];i+=n[a]=s.args.filter((function(t){return!t.literal})).length+(s.dynamicFn?1:0)}for(var l in o)e[l]||r.push(l);return{counts:n,ready:r,total:i}}(t),i=r.counts,a=r.ready,s=r.total;n=a.shift();){e.set(n,e.size);var l=o[n];l&&l.forEach((function(t){var e=t.info.methodInfo;--s,0==--i[e]&&a.push(e)}))}if(0!==s){var c=t;console.warn("Computed graph for ".concat(c.localName," incomplete; circular?"))}t.constructor.__orderedComputedDeps=e}();return e}(t),s=[];for(var l in e)X(l,r,s,a,o);for(;i=s.shift();)J(t,"",e,n,i)&&X(i.methodInfo,r,s,a,o);Object.assign(n,t.__dataOld),Object.assign(e,t.__dataPending),t.__dataPending=null}else for(var c=e;z(t,r,c,n,o);)Object.assign(n,t.__dataOld),Object.assign(e,t.__dataPending),c=t.__dataPending,t.__dataPending=null}var Y=function(t,e,n){for(var o=0,r=e.length-1,i=-1;o<=r;){var a=o+r>>1,s=n.get(e[a].methodInfo)-n.get(t.methodInfo);if(s<0)o=a+1;else{if(!(s>0)){i=a;break}r=a-1}}i<0&&(i=r+1),e.splice(i,0,t)},X=function(t,e,n,o,r){var a=e[r?Object(i.g)(t):t];if(a)for(var s=0;s<a.length;s++){var l=a[s];l.info.lastRun===R||r&&!U(t,l.trigger)||(l.info.lastRun=R,Y(l.info,n,o))}};function J(t,e,n,o,r){var i=it(t,e,n,o,r);if(i===L)return!1;var a=r.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[a]?t._setPendingProperty(a,i,!0):(t[a]=i,!1)}function Z(t,e,n,o,r,i,s){n.bindings=n.bindings||[];var l={kind:o,target:r,parts:i,literal:s,isCompound:1!==i.length};if(n.bindings.push(l),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(l)){var c=l.parts[0],u=c.event,d=c.negate;l.listenerEvent=u||Object(a.a)(r)+"-changed",l.listenerNegate=d}for(var p=e.nodeInfoList.length,h=0;h<l.parts.length;h++){var f=l.parts[h];f.compoundIndex=h,tt(t,e,l,f,p)}}function tt(t,e,n,o,r){if(!o.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else for(var i=o.dependencies,a={index:r,binding:n,part:o,evaluator:t},s=0;s<i.length;s++){var l=i[s];"string"==typeof l&&((l=ut(l)).wildcard=!0),t._addTemplatePropertyEffect(e,l.rootProperty,{fn:et,info:a,trigger:l})}}function et(t,e,n,o,r,a,s){var l=s[r.index],c=r.binding,u=r.part;if(a&&u.source&&e.length>u.source.length&&"property"==c.kind&&!c.isCompound&&l.__isPropertyEffectsClient&&l.__dataHasAccessor&&l.__dataHasAccessor[c.target]){var d=n[e];e=Object(i.i)(u.source,c.target,e),l._setPendingPropertyOrPath(e,d,!1,!0)&&t._enqueueClient(l)}else{var p=r.evaluator._evaluateBinding(t,u,e,n,o,a);p!==L&&function(t,e,n,o,r){r=function(t,e,n,o){if(n.isCompound){var r=t.__dataCompoundStorage[n.target];r[o.compoundIndex]=e,e=r.join("")}"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=null==e?"":e));return e}(e,r,n,o),E.l&&(r=Object(E.l)(r,n.target,n.kind,e));if("attribute"==n.kind)t._valueToNodeAttribute(e,r,n.target);else{var i=n.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[i]?e[q.READ_ONLY]&&e[q.READ_ONLY][i]||e._setPendingProperty(i,r)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,i,r)}}(t,l,c,u,p)}}function nt(t,e){if(e.isCompound){for(var n=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),r=e.parts,i=new Array(r.length),a=0;a<r.length;a++)i[a]=r[a].literal;var s=e.target;n[s]=i,e.literal&&"property"==e.kind&&("className"===s&&(t=Object(o.a)(t)),t[s]=e.literal)}}function ot(t,e,n){if(n.listenerEvent){var o=n.parts[0];t.addEventListener(n.listenerEvent,(function(t){!function(t,e,n,o,r){var a,s=t.detail,l=s&&s.path;l?(o=Object(i.i)(n,o,l),a=s&&s.value):a=t.currentTarget[n],a=r?!a:a,e[q.READ_ONLY]&&e[q.READ_ONLY][o]||!e._setPendingPropertyOrPath(o,a,!0,Boolean(l))||s&&s.queueProperty||e._invalidateProperties()}(t,e,n.target,o.source,o.negate)}))}}function rt(t,e,n,o,r,i){i=e.static||i&&("object"!==A(i)||i[e.methodName]);for(var a,s={methodName:e.methodName,args:e.args,methodInfo:r,dynamicFn:i},l=0;l<e.args.length&&(a=e.args[l]);l++)a.literal||t._addPropertyEffect(a.rootProperty,n,{fn:o,info:s,trigger:a});return i&&t._addPropertyEffect(e.methodName,n,{fn:o,info:s}),s}function it(t,e,n,o,r){var i=t._methodHost||t,a=i[r.methodName];if(a){var s=t._marshalArgs(r.args,e,n);return s===L?L:a.apply(i,s)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}var at=[],st=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function lt(t){for(var e="",n=0;n<t.length;n++){e+=t[n].literal||""}return e}function ct(t){var e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){var n={methodName:e[1],static:!0,args:at};return e[2].trim()?function(t,e){return e.args=t.map((function(t){var n=ut(t);return n.literal||(e.static=!1),n}),this),e}(e[2].replace(/\\,/g,"&comma;").split(","),n):n}return null}function ut(t){var e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:e,value:"",literal:!1},o=e[0];switch("-"===o&&(o=e[1]),o>="0"&&o<="9"&&(o="#"),o){case"'":case'"':n.value=e.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(e),n.literal=!0}return n.literal||(n.rootProperty=Object(i.g)(e),n.structured=Object(i.d)(e),n.structured&&(n.wildcard=".*"==e.slice(-2),n.wildcard&&(n.name=e.slice(0,-2)))),n}function dt(t,e,n){var o=Object(i.a)(t,n);return void 0===o&&(o=e[n]),o}function pt(t,e,n,o){var r={indexSplices:o};E.f&&!t._overrideLegacyUndefined&&(e.splices=r),t.notifyPath(n+".splices",r),t.notifyPath(n+".length",e.length),E.f&&!t._overrideLegacyUndefined&&(r.indexSplices=[])}function ht(t,e,n,o,r,i){pt(t,e,n,[{index:o,addedCount:r,removed:i,object:e,type:"splice"}])}var ft=Object(r.a)((function(t){var e=C(Object(s.a)(t));return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(c,t);var n,r,s,l=B(c);function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this)).__isPropertyEffectsClient=!0,t.__dataClientsReady,t.__dataPendingClients,t.__dataToNotify,t.__dataLinkedPaths,t.__dataHasPaths,t.__dataCompoundStorage,t.__dataHost,t.__dataTemp,t.__dataClientsInitialized,t.__data,t.__dataPending,t.__dataOld,t.__computeEffects,t.__computeInfo,t.__reflectEffects,t.__notifyEffects,t.__propagateEffects,t.__observeEffects,t.__readOnly,t.__templateInfo,t._overrideLegacyUndefined,t}return n=c,s=[{key:"addPropertyEffect",value:function(t,e,n){this.prototype._addPropertyEffect(t,e,n)}},{key:"createPropertyObserver",value:function(t,e,n){this.prototype._createPropertyObserver(t,e,n)}},{key:"createMethodObserver",value:function(t,e){this.prototype._createMethodObserver(t,e)}},{key:"createNotifyingProperty",value:function(t){this.prototype._createNotifyingProperty(t)}},{key:"createReadOnlyProperty",value:function(t,e){this.prototype._createReadOnlyProperty(t,e)}},{key:"createReflectedProperty",value:function(t){this.prototype._createReflectedProperty(t)}},{key:"createComputedProperty",value:function(t,e,n){this.prototype._createComputedProperty(t,e,n)}},{key:"bindTemplate",value:function(t){return this.prototype._bindTemplate(t)}},{key:"_addTemplatePropertyEffect",value:function(t,e,n){(t.hostProps=t.hostProps||{})[e]=!0;var o=t.propertyEffects=t.propertyEffects||{};(o[e]=o[e]||[]).push(n)}},{key:"_parseTemplateNode",value:function(t,n,o){var r=e._parseTemplateNode.call(this,t,n,o);if(t.nodeType===Node.TEXT_NODE){var i=this._parseBindings(t.textContent,n);i&&(t.textContent=lt(i)||" ",Z(this,n,o,"text","textContent",i),r=!0)}return r}},{key:"_parseTemplateNodeAttribute",value:function(t,n,o,r,i){var s=this._parseBindings(i,n);if(s){var l=r,c="property";F.test(r)?c="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),c="attribute");var u=lt(s);return u&&"attribute"==c&&("class"==r&&t.hasAttribute("class")&&(u+=" "+t.getAttribute(r)),t.setAttribute(r,u)),"attribute"==c&&"disable-upgrade$"==l&&t.setAttribute(r,""),"input"===t.localName&&"value"===l&&t.setAttribute(l,""),t.removeAttribute(l),"property"===c&&(r=Object(a.b)(r)),Z(this,n,o,c,r,s,u),!0}return e._parseTemplateNodeAttribute.call(this,t,n,o,r,i)}},{key:"_parseTemplateNestedTemplate",value:function(t,n,o){var r=e._parseTemplateNestedTemplate.call(this,t,n,o),i=t.parentNode,a=o.templateInfo,s="dom-if"===i.localName,l="dom-repeat"===i.localName;E.j&&(s||l)&&(i.removeChild(t),(o=o.parentInfo).templateInfo=a,o.noted=!0,r=!1);var c=a.hostProps;if(E.c&&s)c&&(n.hostProps=Object.assign(n.hostProps||{},c),E.j||(o.parentInfo.noted=!0));else for(var u in c)Z(this,n,o,"property","_host_"+u,[{mode:"{",source:u,dependencies:[u],hostProp:!0}]);return r}},{key:"_parseBindings",value:function(t,e){for(var n,o=[],r=0;null!==(n=st.exec(t));){n.index>r&&o.push({literal:t.slice(r,n.index)});var i=n[1][0],a=Boolean(n[2]),s=n[3].trim(),l=!1,c="",u=-1;"{"==i&&(u=s.indexOf("::"))>0&&(c=s.substring(u+2),s=s.substring(0,u),l=!0);var d=ct(s),p=[];if(d){for(var h=d.args,f=d.methodName,b=0;b<h.length;b++){var y=h[b];y.literal||p.push(y)}var g=e.dynamicFns;(g&&g[f]||d.static)&&(p.push(f),d.dynamicFn=!0)}else p.push(s);o.push({source:s,mode:i,negate:a,customEvent:l,signature:d,dependencies:p,event:c}),r=st.lastIndex}if(r&&r<t.length){var v=t.substring(r);v&&o.push({literal:v})}return o.length?o:null}},{key:"_evaluateBinding",value:function(t,e,n,o,r,a){var s;return s=e.signature?it(t,n,o,0,e.signature):n!=e.source?Object(i.a)(t,e.source):a&&Object(i.d)(n)?Object(i.a)(t,n):t.__data[n],e.negate&&(s=!s),s}}],(r=[{key:"PROPERTY_EFFECT_TYPES",get:function(){return q}},{key:"_initializeProperties",value:function(){T(D(c.prototype),"_initializeProperties",this).call(this),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}},{key:"_registerHost",value:function(){if(bt.length){var t=bt[bt.length-1];t._enqueueClient(this),this.__dataHost=t}}},{key:"_initializeProtoProperties",value:function(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}},{key:"_initializeInstanceProperties",value:function(t){var e=this[q.READ_ONLY];for(var n in t)e&&e[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=t[n])}},{key:"_addPropertyEffect",value:function(t,e,n){this._createPropertyAccessor(t,e==q.READ_ONLY);var o=N(this,e,!0)[t];o||(o=this[e][t]=[]),o.push(n)}},{key:"_removePropertyEffect",value:function(t,e,n){var o=N(this,e,!0)[t],r=o.indexOf(n);r>=0&&o.splice(r,1)}},{key:"_hasPropertyEffect",value:function(t,e){var n=this[e];return Boolean(n&&n[t])}},{key:"_hasReadOnlyEffect",value:function(t){return this._hasPropertyEffect(t,q.READ_ONLY)}},{key:"_hasNotifyEffect",value:function(t){return this._hasPropertyEffect(t,q.NOTIFY)}},{key:"_hasReflectEffect",value:function(t){return this._hasPropertyEffect(t,q.REFLECT)}},{key:"_hasComputedEffect",value:function(t){return this._hasPropertyEffect(t,q.COMPUTE)}},{key:"_setPendingPropertyOrPath",value:function(t,e,n,o){if(o||Object(i.g)(Array.isArray(t)?t[0]:t)!==t){if(!o){var r=Object(i.a)(this,t);if(!(t=Object(i.h)(this,t,e))||!T(D(c.prototype),"_shouldPropertyChange",this).call(this,t,e,r))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,n))return function(t,e,n){var o,r=t.__dataLinkedPaths;if(r)for(var a in r){var s=r[a];Object(i.c)(a,e)?(o=Object(i.i)(a,s,e),t._setPendingPropertyOrPath(o,n,!0,!0)):Object(i.c)(s,e)&&(o=Object(i.i)(s,a,e),t._setPendingPropertyOrPath(o,n,!0,!0))}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,n);this[t]=e}return!1}},{key:"_setUnmanagedPropertyToNode",value:function(t,e,n){n===t[e]&&"object"!=A(n)||("className"===e&&(t=Object(o.a)(t)),t[e]=n)}},{key:"_setPendingProperty",value:function(t,e,n){var o=this.__dataHasPaths&&Object(i.d)(t),r=o?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,r[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),o?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(o||this[q.NOTIFY]&&this[q.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=n),!0)}},{key:"_setProperty",value:function(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}},{key:"_invalidateProperties",value:function(){this.__dataReady&&this._flushProperties()}},{key:"_enqueueClient",value:function(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}},{key:"_flushClients",value:function(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}},{key:"__enableOrFlushClients",value:function(){var t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(var e=0;e<t.length;e++){var n=t[e];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}},{key:"_readyClients",value:function(){this.__enableOrFlushClients()}},{key:"setProperties",value:function(t,e){for(var n in t)!e&&this[q.READ_ONLY]&&this[q.READ_ONLY][n]||this._setPendingPropertyOrPath(n,t[n],!0);this._invalidateProperties()}},{key:"ready",value:function(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}},{key:"_propertiesChanged",value:function(t,e,n){var o,r=this.__dataHasPaths;this.__dataHasPaths=!1,K(this,e,n,r),o=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(e,n,r),this._flushClients(),z(this,this[q.REFLECT],e,n,r),z(this,this[q.OBSERVE],e,n,r),o&&function(t,e,n,o,r){var i,a,s=t[q.NOTIFY],l=R++;for(var c in e)e[c]&&(s&&H(t,s,l,c,n,o,r)||r&&W(t,c,n))&&(i=!0);i&&(a=t.__dataHost)&&a._invalidateProperties&&a._invalidateProperties()}(this,o,e,n,r),1==this.__dataCounter&&(this.__dataTemp={})}},{key:"_propagatePropertyChanges",value:function(t,e,n){this[q.PROPAGATE]&&z(this,this[q.PROPAGATE],t,e,n),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,t,e,n)}},{key:"_runEffectsForTemplate",value:function(t,e,n,o){var r=this,i=function(e,o){z(r,t.propertyEffects,e,n,o,t.nodeList);for(var i=t.firstChild;i;i=i.nextSibling)r._runEffectsForTemplate(i,e,n,o)};t.runEffects?t.runEffects(i,e,o):i(e,o)}},{key:"linkPaths",value:function(t,e){t=Object(i.f)(t),e=Object(i.f)(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}},{key:"unlinkPaths",value:function(t){t=Object(i.f)(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}},{key:"notifySplices",value:function(t,e){var n={path:""};pt(this,Object(i.a)(this,t,n),n.path,e)}},{key:"get",value:function(t,e){return Object(i.a)(e||this,t)}},{key:"set",value:function(t,e,n){n?Object(i.h)(n,t,e):this[q.READ_ONLY]&&this[q.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}},{key:"push",value:function(t){for(var e={path:""},n=Object(i.a)(this,t,e),o=n.length,r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var l=n.push.apply(n,a);return a.length&&ht(this,n,e.path,o,a.length,[]),l}},{key:"pop",value:function(t){var e={path:""},n=Object(i.a)(this,t,e),o=Boolean(n.length),r=n.pop();return o&&ht(this,n,e.path,n.length,0,[r]),r}},{key:"splice",value:function(t,e,n){for(var o=arguments.length,r=new Array(o>3?o-3:0),a=3;a<o;a++)r[a-3]=arguments[a];var s,l={path:""},c=Object(i.a)(this,t,l);return e<0?e=c.length-Math.floor(-e):e&&(e=Math.floor(e)),s=2===arguments.length?c.splice(e):c.splice.apply(c,[e,n].concat(r)),(r.length||s.length)&&ht(this,c,l.path,e,r.length,s),s}},{key:"shift",value:function(t){var e={path:""},n=Object(i.a)(this,t,e),o=Boolean(n.length),r=n.shift();return o&&ht(this,n,e.path,0,0,[r]),r}},{key:"unshift",value:function(t){for(var e={path:""},n=Object(i.a)(this,t,e),o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];var s=n.unshift.apply(n,r);return r.length&&ht(this,n,e.path,0,r.length,[]),s}},{key:"notifyPath",value:function(t,e){var n;if(1==arguments.length){var o={path:""};e=Object(i.a)(this,t,o),n=o.path}else n=Array.isArray(t)?Object(i.f)(t):t;this._setPendingPropertyOrPath(n,e,!0,!0)&&this._invalidateProperties()}},{key:"_createReadOnlyProperty",value:function(t,e){var n;this._addPropertyEffect(t,q.READ_ONLY),e&&(this["_set"+(n=t,n[0].toUpperCase()+n.substring(1))]=function(e){this._setProperty(t,e)})}},{key:"_createPropertyObserver",value:function(t,e,n){var o={property:t,method:e,dynamicFn:Boolean(n)};this._addPropertyEffect(t,q.OBSERVE,{fn:V,info:o,trigger:{name:t}}),n&&this._addPropertyEffect(e,q.OBSERVE,{fn:V,info:o,trigger:{name:e}})}},{key:"_createMethodObserver",value:function(t,e){var n=ct(t);if(!n)throw new Error("Malformed observer expression '"+t+"'");rt(this,n,q.OBSERVE,it,null,e)}},{key:"_createNotifyingProperty",value:function(t){this._addPropertyEffect(t,q.NOTIFY,{fn:G,info:{eventName:Object(a.a)(t)+"-changed",property:t}})}},{key:"_createReflectedProperty",value:function(t){var e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,q.REFLECT,{fn:$,info:{attrName:e}})}},{key:"_createComputedProperty",value:function(t,e,n){var o=ct(e);if(!o)throw new Error("Malformed computed expression '"+e+"'");var r=rt(this,o,q.COMPUTE,J,t,n);N(this,"__computeInfo")[t]=r}},{key:"_marshalArgs",value:function(t,e,n){for(var o=this.__data,r=[],a=0,s=t.length;a<s;a++){var l=t[a],c=l.name,u=l.structured,d=l.wildcard,p=l.value;if(!l.literal)if(d){var h=Object(i.c)(c,e),f=dt(o,n,h?e:c);p={path:h?e:c,value:f,base:h?Object(i.a)(o,c):f}}else p=u?dt(o,n,c):o[c];if(E.f&&!this._overrideLegacyUndefined&&void 0===p&&t.length>1)return L;r[a]=p}return r}},{key:"_bindTemplate",value:function(t,e){var n=this.constructor._parseTemplate(t),o=this.__preBoundTemplateInfo==n;if(!o)for(var r in n.propertyEffects)this._createPropertyAccessor(r);if(e)if((n=Object.create(n)).wasPreBound=o,this.__templateInfo){var i=t._parentTemplateInfo||this.__templateInfo,a=i.lastChild;n.parent=i,i.lastChild=n,n.previousSibling=a,a?a.nextSibling=n:i.firstChild=n}else this.__templateInfo=n;else this.__preBoundTemplateInfo=n;return n}},{key:"_stampTemplate",value:function(t,e){e=e||this._bindTemplate(t,!0),bt.push(this);var n=T(D(c.prototype),"_stampTemplate",this).call(this,t,e);if(bt.pop(),e.nodeList=n.nodeList,!e.wasPreBound)for(var o=e.childNodes=[],r=n.firstChild;r;r=r.nextSibling)o.push(r);return n.templateInfo=e,function(t,e){var n=e.nodeList,o=e.nodeInfoList;if(o.length)for(var r=0;r<o.length;r++){var i=o[r],a=n[r],s=i.bindings;if(s)for(var l=0;l<s.length;l++){var c=s[l];nt(a,c),ot(a,t,c)}a.__dataHost=t}}(this,e),this.__dataClientsReady&&(this._runEffectsForTemplate(e,this.__data,null,!1),this._flushClients()),n}},{key:"_removeBoundDom",value:function(t){var e=t.templateInfo,n=e.previousSibling,r=e.nextSibling,i=e.parent;n?n.nextSibling=r:i&&(i.firstChild=r),r?r.previousSibling=n:i&&(i.lastChild=n),e.nextSibling=e.previousSibling=null;for(var a=e.childNodes,s=0;s<a.length;s++){var l=a[s];Object(o.a)(Object(o.a)(l).parentNode).removeChild(l)}}}])&&P(n.prototype,r),s&&P(n,s),Object.defineProperty(n,"prototype",{writable:!1}),c}(e)})),bt=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n(4);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=o.a.org.prefix?o.a.org.prefix+"__":"",this.data=e,this.product=n,this.validationMessages=[],this.productRulesActions={},this.optionDataByOptionIdAndIndex={}}var e,n,i;return e=t,(n=[{key:"getValidationMessages",value:function(){return this.validationMessages}},{key:"getProductRulesActions",value:function(){return this.productRulesActions}},{key:"getOptionDataByOptionIdAndIndex",value:function(){return this.optionDataByOptionIdAndIndex}},{key:"init",value:function(t){this.initValidationMessages(),this.product&&(this.initProductRulesActions(),this.initDescendantTree(t),this.initOptionDataByOptionIdAndIndex())}},{key:"initValidationMessages",value:function(){if(this.data.validationMessages){var t,e=r(this.data.validationMessages);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.validationMessages.push(n)}}catch(t){e.e(t)}finally{e.f()}}else{var o,i=r(this.data.configuredProducts);try{for(i.s();!(o=i.n()).done;){var a,s=r(o.value.configuration.validationMessages);try{for(s.s();!(a=s.n()).done;)n=a.value,this.validationMessages.push(n)}catch(t){s.e(t)}finally{s.f()}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"initProductRulesActions",value:function(t){var e,n={},o={},i={},a={},s={},l={},c={},u={},d={},p=r(this.data.optionConfigurations);try{for(p.s();!(e=p.n()).done;){var h=e.value;n[h.optionData.Id||h.optionId]=!0}}catch(t){p.e(t)}finally{p.f()}if(null!=this.data.disabledOptionIds){var f,b=r(this.data.disabledOptionIds);try{for(b.s();!(f=b.n()).done;)o[f.value]=!0}catch(t){b.e(t)}finally{b.f()}}if(null!=this.data.hiddenOptionIds){var y,g=r(this.data.hiddenOptionIds);try{for(g.s();!(y=g.n()).done;)i[y.value]=!0}catch(t){g.e(t)}finally{g.f()}}if(t)return this.assignProductRules(n,o,i);var v,m=r(this.product.options);try{for(m.s();!(v=m.n()).done;){var _=v.value;this.optionNotInPricebook(_)||(this.handleProductActions(i,_,l,c,"hiddenByRule"),this.handleProductActions(o,_,u,d,"disabled"),this.handleProductActions(n,_,s,a,"selected"))}}catch(t){m.e(t)}finally{m.f()}this.productRulesActions={showOptions:l,hideOptions:c,selectOptions:a,deselectOptions:s,enableOptions:u,disableOptions:d}}},{key:"initOptionDataByOptionIdAndIndex",value:function(){for(var t=this.data.optionConfigurations,e=0;e<t.length;e++){var n=t[e];void 0===this.optionDataByOptionIdAndIndex[n.optionId]&&(this.optionDataByOptionIdAndIndex[n.optionId]={}),this.optionDataByOptionIdAndIndex[n.optionId][n.index]={optionData:n.optionData,listPrice:n.listPrice}}}},{key:"handleProductActions",value:function(t,e,n,o,r){return"disabled"===r?t[e.record.Id]&&e.disabledData&&!e.disabledData.disabled?o[e.record.Id]=!0:!t[e.record.Id]&&e.disabledData&&e.disabledData.disabled?n[e.record.Id]=!0:void 0:t[e.record.Id]&&!e[r]?o[e.record.Id]=!0:!t[e.record.Id]&&e[r]?n[e.record.Id]=!0:void 0}},{key:"assignProductRules",value:function(t,e,n){this.prefix,this.product.rulesProcessed=!0;var o,i=r(this.product.options);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.optionNotInPricebook(a)||(a.selected=a.selectedByRule=!!t[a.record.Id],e[a.record.Id]&&(a.disabledData={disabled:!0,constrained:!1}),n[a.record.Id]&&(a.hidden=!0,a.hiddenByRule=!0))}}catch(t){i.e(t)}finally{i.f()}}},{key:"initDescendantTree",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.product.nestedOptionModel;if(t)for(var e={},n=0;n<this.data.optionConfigurations.length;n++){var o=this.data.optionConfigurations[n];e[o.optionId]=void 0===e[o.optionId]?0:e[o.optionId]+1;var r={optionId:this.data.optionId,index:this.data.index||0},i={optionId:o.optionId,index:e[o.optionId]};o.index=e[o.optionId],t.handleDescendantRules([r,i],o.optionConfigurations,o.hiddenOptionIds,o.disabledOptionIds,o.changedByProductActions)}else console.log&&console.warn("Skipped descendant level rules",this.product)}},{key:"optionNotInPricebook",value:function(t){return void 0===t.record[this.prefix+"UnitPrice__c"]||null==t.record[this.prefix+"UnitPrice__c"]}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n(10);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n/* Most common used flex styles*/\n<dom-module id="iron-flex">\n  <template>\n    <style>\n      .layout.horizontal,\n      .layout.vertical {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      }\n\n      .layout.inline {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      }\n\n      .layout.horizontal {\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      }\n\n      .layout.vertical {\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      }\n\n      .layout.wrap {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      }\n\n      .layout.no-wrap {\n        -ms-flex-wrap: nowrap;\n        -webkit-flex-wrap: nowrap;\n        flex-wrap: nowrap;\n      }\n\n      .layout.center,\n      .layout.center-center {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .layout.center-justified,\n      .layout.center-center {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      }\n\n      .flex {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      }\n\n      .flex-auto {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      }\n\n      .flex-none {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Basic flexbox reverse styles */\n<dom-module id="iron-flex-reverse">\n  <template>\n    <style>\n      .layout.horizontal-reverse,\n      .layout.vertical-reverse {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      }\n\n      .layout.horizontal-reverse {\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      }\n\n      .layout.vertical-reverse {\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      }\n\n      .layout.wrap-reverse {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Flexbox alignment */\n<dom-module id="iron-flex-alignment">\n  <template>\n    <style>\n      /**\n       * Alignment in cross axis.\n       */\n      .layout.start {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      }\n\n      .layout.center,\n      .layout.center-center {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .layout.end {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      }\n\n      .layout.baseline {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      }\n\n      /**\n       * Alignment in main axis.\n       */\n      .layout.start-justified {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      }\n\n      .layout.center-justified,\n      .layout.center-center {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      }\n\n      .layout.end-justified {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      }\n\n      .layout.around-justified {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      }\n\n      .layout.justified {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      }\n\n      /**\n       * Self alignment.\n       */\n      .self-start {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      }\n\n      .self-center {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      }\n\n      .self-end {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      }\n\n      .self-stretch {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      }\n\n      .self-baseline {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      }\n\n      /**\n       * multi-line alignment in main axis.\n       */\n      .layout.start-aligned {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      }\n\n      .layout.end-aligned {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      }\n\n      .layout.center-aligned {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      }\n\n      .layout.between-aligned {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      }\n\n      .layout.around-aligned {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Non-flexbox positioning helper styles */\n<dom-module id="iron-flex-factors">\n  <template>\n    <style>\n      .flex,\n      .flex-1 {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      }\n\n      .flex-2 {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      }\n\n      .flex-3 {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      }\n\n      .flex-4 {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      }\n\n      .flex-5 {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      }\n\n      .flex-6 {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      }\n\n      .flex-7 {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      }\n\n      .flex-8 {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      }\n\n      .flex-9 {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      }\n\n      .flex-10 {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      }\n\n      .flex-11 {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      }\n\n      .flex-12 {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      }\n    </style>\n  </template>\n</dom-module>\n<dom-module id="iron-positioning">\n  <template>\n    <style>\n      .block {\n        display: block;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      .invisible {\n        visibility: hidden !important;\n      }\n\n      .relative {\n        position: relative;\n      }\n\n      .fit {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      body.fullbleed {\n        margin: 0;\n        height: 100vh;\n      }\n\n      .scroll {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      }\n\n      /* fixed position */\n      .fixed-bottom,\n      .fixed-left,\n      .fixed-right,\n      .fixed-top {\n        position: fixed;\n      }\n\n      .fixed-top {\n        top: 0;\n        left: 0;\n        right: 0;\n      }\n\n      .fixed-right {\n        top: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      .fixed-bottom {\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      .fixed-left {\n        top: 0;\n        bottom: 0;\n        left: 0;\n      }\n    </style>\n  </template>\n</dom-module>\n'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n(10);var o=n(14);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(o.a)({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var t=this.query;t&&(this.full||"("===t[0]||(t="("+t+")"),this._mq=window.matchMedia(t),this._add(),this.queryHandler(this._mq))},queryHandler:function(t){this._setQueryMatches(t.matches)}});var r=n(121);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Object(o.a)({is:"iron-selector",behaviors:[r.a]});var i,a=n(66),s=n(8),l=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var c,u,d=null;Object(o.a)({_template:Object(l.a)(i||(c=['\x3c!--css-build:shadow--\x3e<style scope="paper-drawer-panel">:host {\n  display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n}\n\n#drawer {\n  position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        background-color: white;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n        ;\n}\n\n.transition-drawer {\n  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n        transition: transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n}\n\n.left-drawer > #drawer {\n  ;\n}\n\n.right-drawer > #drawer {\n  left: auto;\n        right: 0;\n        ;\n}\n\n#main {\n  position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        ;\n}\n\n.transition > #main {\n  transition: left ease-in-out 0.3s, padding ease-in-out 0.3s;\n}\n\n.right-drawer > #main {\n  left: 0;\n}\n\n.right-drawer.transition > #main {\n  transition: right ease-in-out 0.3s, padding ease-in-out 0.3s;\n}\n\n#main > ::slotted(*) {\n  height: 100%;\n}\n\n#drawer > ::slotted(*) {\n  height: 100%;\n}\n\n#scrim {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity ease-in-out 0.38s, visibility ease-in-out 0.38s;\n  background-color: rgba(0, 0, 0, 0.3);\n\twidth: var(--paper-drawer-panel-scrim-width);\n}\n\n.narrow-layout > #drawer {\n  will-change: transform;\n}\n\n.narrow-layout > #drawer.iron-selected {\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);\n}\n\n.right-drawer.narrow-layout > #drawer.iron-selected {\n  box-shadow: -2px 2px 4px rgba(0, 0, 0, 0.15);\n}\n\n.narrow-layout > #drawer > ::slotted(*) {\n  border: 0;\n}\n\n.left-drawer.narrow-layout > #drawer:not(.iron-selected) {\n  visibility: hidden;\n        -webkit-transform: translateX(-100%);\n        transform: translateX(-100%);\n}\n\n.right-drawer.narrow-layout > #drawer:not(.iron-selected) {\n  left: auto;\n        visibility: hidden;\n        -webkit-transform: translateX(100%);\n        transform: translateX(100%);\n}\n\n.left-drawer.dragging > #drawer:not(.iron-selected), .left-drawer.peeking > #drawer:not(.iron-selected), .right-drawer.dragging > #drawer:not(.iron-selected), .right-drawer.peeking > #drawer:not(.iron-selected) {\n  visibility: visible;\n}\n\n.narrow-layout > #main {\n  padding: 0;\n}\n\n.right-drawer.narrow-layout > #main {\n  left: 0;\n        right: 0;\n}\n\n.narrow-layout > #main:not(.iron-selected) > #scrim, .dragging > #main > #scrim {\n  visibility: visible;\n        opacity: var(--paper-drawer-panel-scrim-opacity, 1);\n}\n\n.narrow-layout > #main > * {\n  margin: 0;\n        min-height: 100%;\n        left: 0;\n        right: 0;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n}\n\n</style>\n\n    <iron-media-query id="mq" on-query-matches-changed="_onQueryMatchesChanged" query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]">\n    </iron-media-query>\n\n    <iron-selector attr-for-selected="id" class$="[[_computeIronSelectorClass(narrow, _transition, dragging, rightDrawer, peeking)]]" on-transitionend="_onTransitionEnd" activate-event selected="[[selected]]">\n\n      <div id="main">\n        <slot name="main"></slot>\n        <div id="scrim" on-tap="closeDrawer"></div>\n      </div>\n\n      <div id="drawer">\n        <slot id="drawerSlot" name="drawer"></slot>\n      </div>\n\n    </iron-selector>\n'],u||(u=c.slice(0)),i=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}})))),is:"paper-drawer-panel",behaviors:[a.a],properties:{defaultSelected:{type:String,value:"main"},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},drawerWidth:{type:String,value:"256px"},drawerToggleAttribute:{type:String,value:"paper-drawer-toggle"},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return"transform"in this.style}},hasWillChange:{type:Boolean,value:function(){return"willChange"in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,readOnly:!0,notify:!0},peeking:{type:Boolean,value:!1,readOnly:!0,notify:!0},responsiveWidth:{type:String,value:"768px"},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,notify:!0,type:String,value:null},drawerFocusSelector:{type:String,value:'a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'},_transition:{type:Boolean,value:!1}},listeners:{tap:"_onTap",track:"_onTrack",down:"_downHandler",up:"_upHandler"},observers:["_forceNarrowChanged(forceNarrow, defaultSelected)","_toggleFocusListener(selected)","_setMainStyle(narrow, rightDrawer, drawerWidth)","_setDrawerStyle(drawerWidth)"],ready:function(){this._transition=!0,this._boundFocusListener=this._didFocus.bind(this),console.warn(this.is,"is deprecated. Please use app-layout instead!")},togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){requestAnimationFrame(function(){this.toggleClass("transition-drawer",!0,this.$.drawer),this.selected="drawer"}.bind(this))},closeDrawer:function(){requestAnimationFrame(function(){this.toggleClass("transition-drawer",!0,this.$.drawer),this.selected="main"}.bind(this))},_onTransitionEnd:function(t){if(Object(s.a)(t).localTarget===this.$.drawer&&("left"!==t.propertyName&&"right"!==t.propertyName||this.notifyResize(),"transform"===t.propertyName&&(requestAnimationFrame(function(){this.toggleClass("transition-drawer",!1,this.$.drawer)}.bind(this)),"drawer"===this.selected))){var e=this._getAutoFocusedNode();e&&e.focus()}},_computeIronSelectorClass:function(t,e,n,o,r){return function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]&&e.push(n);return e.join(" ")}({dragging:n,"narrow-layout":t,"right-drawer":o,"left-drawer":!o,transition:e,peeking:r})},_setDrawerStyle:function(t){this.$.drawer.style.width=t},_setMainStyle:function(t,e,n){this.$.main.style.left=t||e?"0":n,e&&(this.$.main.style.right=t?"":n)},_computeMediaQuery:function(t,e){return t?"":"(max-width: "+e+")"},_computeSwipeOverlayHidden:function(t,e){return!t||e},_onTrack:function(t){if(!d||this===d)switch(t.detail.state){case"start":this._trackStart(t);break;case"track":this._trackX(t);break;case"end":this._trackEnd(t)}},_responsiveChange:function(t){this._setNarrow(t),this.selected=this.narrow?this.defaultSelected:null,this.setScrollDirection(this._swipeAllowed()?"y":"all"),this.fire("paper-responsive-change",{narrow:this.narrow})},_onQueryMatchesChanged:function(t){this._responsiveChange(t.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return"main"===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this._setPeeking(!0)},_stopEdgePeek:function(){this.peeking&&(this._setPeeking(!1),this._moveDrawer(null))},_downHandler:function(t){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(t)&&!d&&(this._startEdgePeek(),t.preventDefault(),d=this)},_upHandler:function(){this._stopEdgePeek(),d=null},_onTap:function(t){var e=Object(s.a)(t).localTarget;e&&this.drawerToggleAttribute&&e.hasAttribute(this.drawerToggleAttribute)&&this.togglePanel()},_isEdgeTouch:function(t){var e=t.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?e>=this.offsetWidth-this.edgeSwipeSensitivity:e<=this.edgeSwipeSensitivity)},_trackStart:function(t){this._swipeAllowed()&&(d=this,this._setDragging(!0),this._isMainSelected()&&this._setDragging(this.peeking||this._isEdgeTouch(t)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this._transition=!1))},_translateXForDeltaX:function(t){var e=this._isMainSelected();return this.rightDrawer?Math.max(0,e?this.width+t:t):Math.min(0,e?t-this.width:t)},_trackX:function(t){if(this.dragging){var e=t.detail.dx;if(this.peeking){if(Math.abs(e)<=this.edgeSwipeSensitivity)return;this._setPeeking(!1)}this._moveDrawer(this._translateXForDeltaX(e))}},_trackEnd:function(t){if(this.dragging){var e=t.detail.dx>0;this._setDragging(!1),this._transition=!0,d=null,this._moveDrawer(null),this.rightDrawer?this[e?"closeDrawer":"openDrawer"]():this[e?"openDrawer":"closeDrawer"]()}},_transformForTranslateX:function(t){return null===t?"":this.hasWillChange?"translateX("+t+"px)":"translate3d("+t+"px, 0, 0)"},_moveDrawer:function(t){this.transform(this._transformForTranslateX(t),this.$.drawer)},_getDrawerSlot:function(){return Object(s.a)(this.$.drawerSlot).getDistributedNodes()[0]},_getAutoFocusedNode:function(){return this.drawerFocusSelector?Object(s.a)(this._getDrawerSlot()).querySelector(this.drawerFocusSelector):null},_toggleFocusListener:function(t){"drawer"===t?this.addEventListener("focus",this._boundFocusListener,!0):this.removeEventListener("focus",this._boundFocusListener,!0)},_didFocus:function(t){var e=this._getAutoFocusedNode();if(e){var n=Object(s.a)(t).path,o=(n[0],this._getDrawerSlot());-1!==n.indexOf(o)||(t.stopPropagation(),e.focus())}},_isDrawerClosed:function(t,e){return!t||"drawer"!==e}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var o,r=n(2),i=(n(25),n(4)),a=n(5),s=n(49),l=n(0),c=n(3);var u,d,p,h=Object(c.b)(o||(u=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  position: relative;\n}\n:host select {\n  width: 100%;\n  max-width: 225px;\n}\n:host select.inlineEdit {\n  max-width: none;\n  border-radius: .25rem;\n  border: 1px solid #0070d2;\n  height: 100%;\n}\n:host select.inlineEdit:focus {\n  outline: none;\n}\n:host select.inlineEdit.discount {\n  width: 38%;\n}\n:host select.inlineEdit[class*='--mobile'] {\n  border: 1px solid #d8dde6;\n}\n:host [class*='--mobile'] select.inlineEdit {\n  border: 1px solid #d8dde6;\n}\n:host select:not([multiple]) {\n  min-width: var(--sidePanelInputWidth, var(--sbSelectMinWidth, 85px));\n}\n:host select[class*='--desktop']:not([multiple]) {\n  padding-right: 30px;\n}\n:host [class*='--desktop'] select:not([multiple]) {\n  padding-right: 30px;\n}\n:host select[multiple] {\n  min-width: var(--sidePanelInputWidth, var(--sbMultiSelectMinWidth, 125px));\n  min-height: var(--sbSelectMinHeight);\n}\n:host select[multiple] option {\n  padding: var(--sbSelectOptionPadding);\n}\n:host select:-moz-focusring {\n  color: transparent;\n  text-shadow: 0 0 0 #000;\n}\n:host .sbOption {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nselect::-ms-expand {\n  display: none;\n  width: 0;\n  height: 0;\n}\n"],d||(d=u.slice(0)),o=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(d)}}))));n(47),n(13);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=O(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function O(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}function k(t,e){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=C(t);if(e){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(c,t);var e,n,o,a=x(c);function c(){return m(this,c),a.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-select"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:{type:String,value:""},options:Array,isRequired:{type:Boolean,value:!1},noneLabel:{type:String,value:""},focusOnAttached:Boolean,multiSelect:{type:Boolean,observer:"_multiSelectChanged"},size:Number,_multiple:{type:Boolean,computed:"_setMultiple(multiSelect)"},_options:Array},s.a.properties)}},{key:"observers",get:function(){return["_buildOptionsObserver(options, isRequired)","_setSelectedObserver(value, _options)"]}},{key:"getValues",value:function(t,e){return null!=t&&""!==t?e?t.split(";"):[t.toString()]:[]}},{key:"template",get:function(){return Object(r.b)(p||(p=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style>','</style>\n\n\t\t<select id="myselect" device on-keydown="handleKeyboardInteractions" on-change="change" disabled$="[[disabled]]" class$="myselect [[selectClass]] [[variant]]" on-blur="blur" multiple$="[[_multiple]]" size$="[[size]]">\n\t\t\t<template is="dom-repeat" items="[[_options]]" as="option">\n\t\t\t\t<option id="[[option.value]]" value="[[option.value]]" selected="[[option.selected]]" class="sbOption" title="[[option.label]]">[[option.label]]</option>\n\t\t\t</template>\n\t\t</select>\n\t\t'])),h)}}],(n=[{key:"_multiSelectChanged",value:function(t,e){void 0===e&&t&&this.buildOptions()}},{key:"_buildOptionsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.buildOptions(t,e)}},{key:"buildOptions",value:function(){if(this.options){for(var t=!0,e=[],n=this._getValues(),o=0,r=this.options.length;o<r;o++){var a=this.options[o],s=-1!==n.indexOf(a.value.toString());t=t&&!s,e.push({value:a.value,label:a.label,selected:s})}if(t&&n.length>0){var l,c=g(n);try{for(c.s();!(l=c.n()).done;){var u=l.value;e.push({value:u,label:u,selected:!0})}}catch(t){c.e(t)}finally{c.f()}t=!1}if((t&&!this.multiSelect||!this.isRequired)&&(e=[{value:"",label:this.noneLabel,selected:t}].concat(e)),i.a.isIE()){for(var d=this.$.myselect,p=d.childNodes,h=0,f=p.length;h<f;h++)d.removeChild(p[h]);for(var b=0,y=e.length;b<y;b++)this._createOptionElements(this.$.myselect,e[b])}else this._options=e}}},{key:"_createOptionElements",value:function(t,e){var n=document.createElement("option");n.label=e.label,n.value=e.value,n.selected=e.selected,t.appendChild(n)}},{key:"_setSelectedObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setSelected(t,e)}},{key:"setSelected",value:function(){if(!this.internal)for(var t=this._getValues(),e=this.$.myselect,n=0,o=this._options.length;n<o;n++)this._options[n].selected=-1!==t.indexOf(this._options[n].value.toString()),e.options[n]&&(e.options[n].selected=-1!==t.indexOf(e.options[n].value.toString()))}},{key:"change",value:function(){for(var t=this.$.myselect.options,e=null,n=0,o=t.length;n<o;n++)i.a.isIE()||(this._options[n].selected=t[n].selected),t[n].selected&&(this.multiSelect&&null!=e?e+=";"+t[n].value:e=t[n].value);this.internal=!0,this.value=e,this.internal=!1,this.dispatchEvent(Object(l.d)("change",{value:this.value}))}},{key:"connectedCallback",value:function(){w(C(c.prototype),"connectedCallback",this).call(this),this.focusOnAttached&&this.focus()}},{key:"focus",value:function(){this.$.myselect.focus()}},{key:"blur",value:function(){this.dispatchEvent(Object(l.d)("blur"))}},{key:"_applyFocus",value:function(){this.applyFocus&&this.focus()}},{key:"_setMultiple",value:function(){return!!this.multiSelect||void 0}},{key:"_getValues",value:function(){return c.getValues(this.value,this.multiSelect)}},{key:"handleKeyboardInteractions",value:function(t){switch(t.keyCode){case 38:case 40:t.stopPropagation()}}}])&&_(e.prototype,n),o&&_(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(s.a)(Object(a.a)(r.a)));customElements.define(E.is,E)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(31);var o=n(61),r=n(16);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return u(t,arguments,h(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),p(o,t)})(t)}function u(t,e,n){return(u=d()?Reflect.construct.bind():function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&p(r,n.prototype),r}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var f={},b={};function y(t,e){f[t]=b[t.toLowerCase()]=e}function g(t){return f[t]||b[t.toLowerCase()]}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(b,t);var e,n,i,c,u,f=(e=b,n=d(),function(){var t,o=h(e);if(n){var r=h(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return l(this,t)});function b(){return a(this,b),f.apply(this,arguments)}return i=b,u=[{key:"observedAttributes",get:function(){return["id"]}},{key:"import",value:function(t,e){if(t){var n=g(t);return n&&e?n.querySelector(e):n}return null}}],(c=[{key:"attributeChangedCallback",value:function(t,e,n,o){e!==n&&this.register()}},{key:"assetpath",get:function(){if(!this.__assetpath){var t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=Object(o.c)(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=Object(o.a)(e)}return this.__assetpath}},{key:"register",value:function(t){if(t=t||this.id){if(r.m&&void 0!==g(t))throw y(t,null),new Error("strictTemplatePolicy: dom-module ".concat(t," re-registered"));this.id=t,y(t,this),(e=this).querySelector("style")&&console.warn("dom-module %s has style outside template",e.id)}var e}}])&&s(i.prototype,c),u&&s(i,u),Object.defineProperty(i,"prototype",{writable:!1}),b}(c(HTMLElement));v.prototype.modules=f,customElements.define("dom-module",v)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(16),r=!1;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function i(){if(o.e&&!o.r){if(!r){r=!0;var t=document.createElement("style");t.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(t)}return!0}return!1}},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return O}));var o=n(124),r=n(16);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var f={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},b={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},y=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},b);function g(t,e){return w({},Object(o.a)(e),t)}function v(t,e,n,o){for(var r in function(t,e,n){for(var o=t._noAccessors,r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var a=r[i];if(!(a in n))if(o)e[a]=t[a];else{var s=Object.getOwnPropertyDescriptor(t,a);s&&(s.configurable=!0,Object.defineProperty(e,a,s))}}}(e,t,o),f)e[r]&&(n[r]=n[r]||[],n[r].push(e[r]))}function m(t,e){for(var n in e){var o=t[n],r=e[n];t[n]=!("value"in r)&&o&&"value"in o?Object.assign({value:o.value},r):r}}var _=Object(o.a)(HTMLElement);function w(t,e,n){var o,i={},c=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(g,n);var c,p,b,y=d(g);function g(){return a(this,g),y.apply(this,arguments)}return c=g,b=[{key:"_finalizeClass",value:function(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(o)for(var n,r=0;r<o.length;r++)(n=o[r]).properties&&this.createProperties(n.properties),n.observers&&this.createObservers(n.observers,n.properties);t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties),this._prepareTemplate()}else e._finalizeClass.call(this)}},{key:"properties",get:function(){var e={};if(o)for(var n=0;n<o.length;n++)m(e,o[n].properties);return m(e,t.properties),e}},{key:"observers",get:function(){var e=[];if(o)for(var n,r=0;r<o.length;r++)(n=o[r]).observers&&(e=e.concat(n.observers));return t.observers&&(e=e.concat(t.observers)),e}}],(p=[{key:"created",value:function(){l(h(g.prototype),"created",this).call(this);var t=i.created;if(t)for(var e=0;e<t.length;e++)t[e].call(this)}},{key:"_registered",value:function(){var t=g.prototype;if(!t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))){t.__hasRegisterFinished=!0,l(h(g.prototype),"_registered",this).call(this),r.e&&f(t);var e=Object.getPrototypeOf(this),n=i.beforeRegister;if(n)for(var o=0;o<n.length;o++)n[o].call(e);if(n=i.registered)for(var a=0;a<n.length;a++)n[a].call(e)}}},{key:"_applyListeners",value:function(){l(h(g.prototype),"_applyListeners",this).call(this);var t=i.listeners;if(t)for(var e=0;e<t.length;e++){var n=t[e];if(n)for(var o in n)this._addMethodEventListenerToNode(this,o,n[o])}}},{key:"_ensureAttributes",value:function(){var t=i.hostAttributes;if(t)for(var e=t.length-1;e>=0;e--){var n=t[e];for(var o in n)this._ensureAttribute(o,n[o])}l(h(g.prototype),"_ensureAttributes",this).call(this)}},{key:"ready",value:function(){l(h(g.prototype),"ready",this).call(this);var t=i.ready;if(t)for(var e=0;e<t.length;e++)t[e].call(this)}},{key:"attached",value:function(){l(h(g.prototype),"attached",this).call(this);var t=i.attached;if(t)for(var e=0;e<t.length;e++)t[e].call(this)}},{key:"detached",value:function(){l(h(g.prototype),"detached",this).call(this);var t=i.detached;if(t)for(var e=0;e<t.length;e++)t[e].call(this)}},{key:"attributeChanged",value:function(t,e,n){l(h(g.prototype),"attributeChanged",this).call(this);var o=i.attributeChanged;if(o)for(var r=0;r<o.length;r++)o[r].call(this,t,e,n)}}])&&s(c.prototype,p),b&&s(c,b),Object.defineProperty(c,"prototype",{writable:!1}),g}(e);if(n){Array.isArray(n)||(n=[n]);var p=e.prototype.behaviors;o=function t(e,n,o){n=n||[];for(var r=e.length-1;r>=0;r--){var i=e[r];i?Array.isArray(i)?t(i,n):n.indexOf(i)<0&&(!o||o.indexOf(i)<0)&&n.unshift(i):console.warn("behavior is null, check for missing or 404 import")}return n}(n,null,p),c.prototype.behaviors=p?p.concat(n):o}var f=function(e){o&&function(t,e,n){for(var o=0;o<e.length;o++)v(t,e[o],n,y)}(e,o,i),v(e,t,i,b)};return r.e||f(c.prototype),c.generatedFrom=t,c}var O=function(t,e){t||console.warn("Polymer.Class requires `info` argument");var n=e?e(_):_;return(n=w(t,n,t.behaviors)).is=n.prototype.is=t.is,n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(32);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"parse",value:function(t){return JSON.parse(t,this._reviver)}},{key:"_reviver",value:function(t,e){if("ui_original_record"!==t)return e;if(!e)return e;var n=this.record,r=e.cacheName,i=e.cacheId,a=e.cachedOriginalRecordPath||[],s=e.cloneRecordIfNoCache,l=a.length;if(!(r&&i&&l>0))return s?JSON.parse(JSON.stringify(n)):null;var c=o.a.get(r,i.substring(0,15));if(!c)return s?JSON.parse(JSON.stringify(n)):null;for(var u=c[a[0]],d=1;d<l;d++){var p=a[d];try{var h=parseInt(p);p=isNaN(h)?p:h}catch(t){}u=u?u[p]:null}return u||(s?JSON.parse(JSON.stringify(n)):null)}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(29);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,t),this.stripTime=e;var n=o.a.getLocaleData()?o.a.getLocaleData().date.formats.dateFormats.yMd:"M/D/YY",i=n.replace(new RegExp("[dD]+"),"D").replace(new RegExp("[mM]+"),"M").replace(new RegExp("[yY]+"),"Y");this.separator=i.match(new RegExp("[/.-]"))[0];var a=i.split(this.separator);this.dateIdx=a.indexOf("D"),this.monthIdx=a.indexOf("M"),this.yearIdx=a.indexOf("Y")}var e,n,a;return e=t,(n=[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isValidYear;if("string"!=typeof t)return t;this.stripTime&&(t=t.split(" ")[0]);var n=!0,o=t.split(this.separator),r=o[this.dateIdx],i=o[this.monthIdx],a=o[this.yearIdx];if(a&&4==a.length&&i&&i.length>0&&i.length<=2&&r&&r.length>0&&r.length<=2){if(r=parseInt(r),i=parseInt(i),a=parseInt(a),o.length&&!isNaN(a)&&!isNaN(i)&&!isNaN(r)){if("function"==typeof e&&!e(a))return null;if(i>=1&&i<=12){var s=31;2==i?(s=28,a%4==0&&(a%100!=0||a%400==0)&&(s=29)):4!=i&&6!=i&&9!=i&&11!=i||(s=30),r>=1&&r<=s&&(n=!1)}}return n?null:new Date(Date.UTC(a,i-1,r))}return null}},{key:"_isValidYear",value:function(t){return t>=1700&&t<=4e3}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(10);var o=n(8);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var i={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(t,e){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),e)if("document"===t)this.scrollTarget=this._doc;else if("string"==typeof t){var n=this.domHost;this.scrollTarget=n&&n.$?n.$[t]:Object(o.a)(this.ownerDocument).querySelector("#"+t)}else this._isValidScrollTarget()&&(this._oldScrollTarget=t,this._toggleScrollListener(this._shouldHaveListener,t))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(t){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=t)},set _scrollLeft(t){this.scrollTarget===this._doc?window.scrollTo(t,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=t)},scroll:function(t,e){var n;"object"===r(t)?(n=t.left,e=t.top):n=t,n=n||0,e=e||0,this.scrollTarget===this._doc?window.scrollTo(n,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=n,this.scrollTarget.scrollTop=e)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(t,e){var n=e===this._doc?window:e;t?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),n.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(n.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(t){this._shouldHaveListener=t,this._toggleScrollListener(t,this.scrollTarget)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));n(10);var o=n(68),r=n(55),i=n(86),a={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(t){t&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=t)},_createRipple:function(){var t=i.a._createRipple();return t.id="ink",t.setAttribute("center",""),t.classList.add("circle"),t}},s=[o.a,r.a,i.a,a]},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return r}));var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controlledPicklist=e,this.controllingValue=n}var e,n,r;return e=t,(n=[{key:"build",value:function(){var t=this.controlledPicklist.picklistValues,e=[];return t.forEach(function(t){this._testBit(atob(t.validFor),this._getControllingValueIndex(this.controllingValue))&&e.push(t)}.bind(this)),e}},{key:"_getControllingValueIndex",value:function(t){if("boolean"===this.controlledPicklist.controllingField.type)return!0===t?1:0;for(var e=this.controlledPicklist.controllingField.picklistValues,n=0,o=e.length;n<o;n++)if(e[n].value==t)return n;return-1}},{key:"_testBit",value:function(t,e){var n=Math.floor(e/8),o=7-e%8;return(Math.pow(2,o)&t.charCodeAt(n))>>o==1}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));n(10);var o=n(56),r=n(121),i=n(91),a=n(8),s={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(t){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var e=this._valueToItem(t);e&&e.hasAttribute("disabled")||(this._setFocusedItem(e),r.b.select.apply(this,arguments))},_resetTabindices:function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach((function(e){e.setAttribute("tabindex",e===t?"0":"-1"),e.setAttribute("aria-selected",this._selection.isSelected(e))}),this)},_updateMultiselectable:function(t){t?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(t){if(-1===this._MODIFIER_KEYS.indexOf(t.key)){this.cancelDebouncer("_clearSearchText");for(var e,n=this._searchText||"",o=(n+=(t.key&&1==t.key.length?t.key:String.fromCharCode(t.keyCode)).toLocaleLowerCase()).length,r=0;e=this.items[r];r++)if(!e.hasAttribute("disabled")){var i=this.attrForItemTitle||"textContent",a=(e[i]||e.getAttribute(i)||"").trim();if(!(a.length<o)&&a.slice(0,o).toLocaleLowerCase()==n){this._setFocusedItem(e);break}}this._searchText=n,this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var t=this.items.length,e=Number(this.indexOf(this.focusedItem)),n=1;n<t+1;n++){var o=this.items[(e-n+t)%t];if(!o.hasAttribute("disabled")){var r=Object(a.a)(o).getOwnerRoot()||document;if(this._setFocusedItem(o),Object(a.a)(r).activeElement==o)return}}},_focusNext:function(){for(var t=this.items.length,e=Number(this.indexOf(this.focusedItem)),n=1;n<t+1;n++){var o=this.items[(e+n)%t];if(!o.hasAttribute("disabled")){var r=Object(a.a)(o).getOwnerRoot()||document;if(this._setFocusedItem(o),Object(a.a)(r).activeElement==o)return}}},_applySelection:function(t,e){e?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"),i.a._applySelection.apply(this,arguments)},_focusedItemChanged:function(t,e){e&&e.setAttribute("tabindex","-1"),!t||t.hasAttribute("disabled")||this.disabled||(t.setAttribute("tabindex","0"),t.focus())},_onIronItemsChanged:function(t){t.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(t){var e=this.getAttribute("tabindex");s._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute("tabindex","-1"),this.async((function(){this.setAttribute("tabindex",e),s._shiftTabPressed=!1}),1)},_onFocus:function(t){if(!s._shiftTabPressed){var e=Object(a.a)(t).rootTarget;(e===this||void 0===e.tabIndex||this.isLightDescendant(e))&&(this._defaultFocusAsync=this.async((function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),t?this._setFocusedItem(t):this.items[0]&&this._focusNext()})))}},_onUpKey:function(t){this._focusPrevious(),t.detail.keyboardEvent.preventDefault()},_onDownKey:function(t){this._focusNext(),t.detail.keyboardEvent.preventDefault()},_onEscKey:function(t){var e=this.focusedItem;e&&e.blur()},_onKeydown:function(t){this.keyboardEventMatchesKeys(t,"up down esc")||this._focusWithKeyboardEvent(t),t.stopPropagation()},_activateHandler:function(t){i.a._activateHandler.call(this,t),t.stopPropagation()},_disabledChanged:function(t){t?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)},_shiftTabPressed:!1},l=[r.a,o.a,s]},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! http://mths.be/startswith v0.2.0 by @mathias */var r,i,a;n.d(e,"a",(function(){return ut})),n.d(e,"b",(function(){return dt})),String.prototype.startsWith||(r=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),i={}.toString,a=function(t){if(null==this)throw TypeError();var e=String(this);if(t&&"[object RegExp]"==i.call(t))throw TypeError();var n=e.length,o=String(t),r=o.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),n);if(r+l>n)return!1;for(var c=-1;++c<r;)if(e.charCodeAt(l+c)!=o.charCodeAt(c))return!1;return!0},r?r(String.prototype,"startsWith",{value:a,configurable:!0,writable:!0}):String.prototype.startsWith=a)
/*! http://mths.be/endswith v0.2.0 by @mathias */,String.prototype.endsWith||function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var o=n.length,r=String(t),i=r.length,a=o;if(arguments.length>1){var s=arguments[1];void 0!==s&&(a=s?Number(s):0)!=a&&(a=0)}var l=Math.min(Math.max(a,0),o),c=l-i;if(c<0)return!1;for(var u=-1;++u<i;)if(n.charCodeAt(c+u)!=r.charCodeAt(u))return!1;return!0};t?t(String.prototype,"endsWith",{value:n,configurable:!0,writable:!0}):String.prototype.endsWith=n}()
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function u(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var d=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,r=arguments,i=u(t),a=1;a<arguments.length;a++){for(var d in n=Object(r[a]))l.call(n,d)&&(i[d]=n[d]);if(s){o=s(n);for(var p=0;p<o.length;p++)c.call(n,o[p])&&(i[o[p]]=n[o[p]])}}return i},p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var b=function(t,e){for(var n=-1,o=[];-1!==(n=t.indexOf(e,n+1));)o.push(n);return o};var y=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,o=t.length,r=t[0],i=t[0],a=1;a<o;++a)if(i=r,e(r=t[a],i)){if(a===n){n++;continue}t[n++]=r}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,o=t[0],r=t[0],i=1;i<n;++i,r=o)if(r=o,(o=t[i])!==r){if(i===e){e++;continue}t[e++]=o}return t.length=e,t}(t))},g=f((function(t,e){e.__esModule=!0,e.default=function(t){return t.replace(n,(function(t,e,n){var o="0x"+e-65536;return o!=o||n?e:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)}))};var n=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig");t.exports=e.default})),v=f((function(t,e){e.__esModule=!0,e.default=function(t){for(var e=arguments,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=e[r];for(;o.length>0;){var i=o.shift();if(!t[i])return;t=t[i]}return t},t.exports=e.default})),m=f((function(t,e){e.__esModule=!0,e.default=function(t){for(var e=arguments,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=e[r];for(;o.length>0;){var i=o.shift();t[i]||(t[i]={}),t=t[i]}},t.exports=e.default})),_=f((function(t,e){e.__esModule=!0,e.default=function(t){var e="",n=t.indexOf("/*"),o=0;for(;n>=0;){e+=t.slice(o,n);var r=t.indexOf("*/",n+2);if(r<0)return e;o=r+2,n=t.indexOf("/*",o)}return e+=t.slice(o)},t.exports=e.default})),w=f((function(t,e){e.__esModule=!0,e.stripComments=e.ensureObject=e.getProp=e.unesc=void 0;var n=a(g);e.unesc=n.default;var o=a(v);e.getProp=o.default;var r=a(m);e.ensureObject=r.default;var i=a(_);function a(t){return t&&t.__esModule?t:{default:t}}e.stripComments=i.default})),O=f((function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}e.__esModule=!0,e.default=void 0;var r=function(){function t(t){void 0===t&&(t={}),d(this,t),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var e,r,i,a=t.prototype;return a.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},a.replaceWith=function(){var t=arguments;if(this.parent){for(var e in arguments)this.parent.insertBefore(this,t[e]);this.remove()}return this},a.next=function(){return this.parent.at(this.parent.index(this)+1)},a.prev=function(){return this.parent.at(this.parent.index(this)-1)},a.clone=function(t){void 0===t&&(t={});var e=function t(e,n){if("object"!==o(e)||null===e)return e;var r=new e.constructor;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i],s=o(a);"parent"===i&&"object"===s?n&&(r[i]=n):r[i]=a instanceof Array?a.map((function(e){return t(e,r)})):t(a,r)}return r}(this);for(var n in t)e[n]=t[n];return e},a.appendToPropertyAndEscape=function(t,e,n){this.raws||(this.raws={});var o=this[t],r=this.raws[t];this[t]=o+e,r||n!==e?this.raws[t]=(r||o)+n:delete this.raws[t]},a.setPropertyAndEscape=function(t,e,n){this.raws||(this.raws={}),this[t]=e,this.raws[t]=n},a.setPropertyWithoutEscape=function(t,e){this[t]=e,this.raws&&delete this.raws[t]},a.isAtPosition=function(t,e){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>t)&&(!(this.source.end.line<t)&&(!(this.source.start.line===t&&this.source.start.column>e)&&!(this.source.end.line===t&&this.source.end.column<e)))},a.stringifyProperty=function(t){return this.raws&&this.raws[t]||this[t]},a.valueToString=function(){return String(this.stringifyProperty("value"))},a.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},e=t,(r=[{key:"rawSpaceBefore",get:function(){var t=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===t&&(t=this.spaces&&this.spaces.before),t||""},set:function(t){(0,w.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=t}},{key:"rawSpaceAfter",get:function(){var t=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===t&&(t=this.spaces.after),t||""},set:function(t){(0,w.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=t}}])&&n(e.prototype,r),i&&n(e,i),t}();e.default=r,t.exports=e.default})),k=f((function(t,e){e.__esModule=!0,e.UNIVERSAL=e.ATTRIBUTE=e.CLASS=e.COMBINATOR=e.COMMENT=e.ID=e.NESTING=e.PSEUDO=e.ROOT=e.SELECTOR=e.STRING=e.TAG=void 0;e.TAG="tag";e.STRING="string";e.SELECTOR="selector";e.ROOT="root";e.PSEUDO="pseudo";e.NESTING="nesting";e.ID="id";e.COMMENT="comment";e.COMBINATOR="combinator";e.CLASS="class";e.ATTRIBUTE="attribute";e.UNIVERSAL="universal"})),x=f((function(t,e){e.__esModule=!0,e.default=void 0;var n,o=(n=O)&&n.__esModule?n:{default:n},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}(k);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).nodes||(n.nodes=[]),n}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a,s,l,c=o.prototype;return c.append=function(t){return t.parent=this,this.nodes.push(t),this},c.prepend=function(t){return t.parent=this,this.nodes.unshift(t),this},c.at=function(t){return this.nodes[t]},c.index=function(t){return"number"==typeof t?t:this.nodes.indexOf(t)},c.removeChild=function(t){var e;for(var n in t=this.index(t),this.at(t).parent=void 0,this.nodes.splice(t,1),this.indexes)(e=this.indexes[n])>=t&&(this.indexes[n]=e-1);return this},c.removeAll=function(){var t=this.nodes,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var o;if(e){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}o.parent=void 0}return this.nodes=[],this},c.empty=function(){return this.removeAll()},c.insertAfter=function(t,e){e.parent=this;var n,o=this.index(t);for(var r in this.nodes.splice(o+1,0,e),e.parent=this,this.indexes)o<=(n=this.indexes[r])&&(this.indexes[r]=n+1);return this},c.insertBefore=function(t,e){e.parent=this;var n,o=this.index(t);for(var r in this.nodes.splice(o,0,e),e.parent=this,this.indexes)(n=this.indexes[r])<=o&&(this.indexes[r]=n+1);return this},c._findChildAtPosition=function(t,e){var n=void 0;return this.each((function(o){if(o.atPosition){var r=o.atPosition(t,e);if(r)return n=r,!1}else if(o.isAtPosition(t,e))return n=o,!1})),n},c.atPosition=function(t,e){return this.isAtPosition(t,e)?this._findChildAtPosition(t,e)||this:void 0},c._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},d(this.source.end,this.last.source.end))},c.each=function(t){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var e=this.lastEach;if(this.indexes[e]=0,this.length){for(var n,o;this.indexes[e]<this.length&&(n=this.indexes[e],!1!==(o=t(this.at(n),n)));)this.indexes[e]+=1;return delete this.indexes[e],!1!==o&&void 0}},c.walk=function(t){return this.each((function(e,n){var o=t(e,n);if(!1!==o&&e.length&&(o=e.walk(t)),!1===o)return!1}))},c.walkAttributes=function(t){var e=this;return this.walk((function(n){if(n.type===r.ATTRIBUTE)return t.call(e,n)}))},c.walkClasses=function(t){var e=this;return this.walk((function(n){if(n.type===r.CLASS)return t.call(e,n)}))},c.walkCombinators=function(t){var e=this;return this.walk((function(n){if(n.type===r.COMBINATOR)return t.call(e,n)}))},c.walkComments=function(t){var e=this;return this.walk((function(n){if(n.type===r.COMMENT)return t.call(e,n)}))},c.walkIds=function(t){var e=this;return this.walk((function(n){if(n.type===r.ID)return t.call(e,n)}))},c.walkNesting=function(t){var e=this;return this.walk((function(n){if(n.type===r.NESTING)return t.call(e,n)}))},c.walkPseudos=function(t){var e=this;return this.walk((function(n){if(n.type===r.PSEUDO)return t.call(e,n)}))},c.walkTags=function(t){var e=this;return this.walk((function(n){if(n.type===r.TAG)return t.call(e,n)}))},c.walkUniversals=function(t){var e=this;return this.walk((function(n){if(n.type===r.UNIVERSAL)return t.call(e,n)}))},c.split=function(t){var e=this,n=[];return this.reduce((function(o,r,i){var a=t.call(e,r);return n.push(r),a?(o.push(n),n=[]):i===e.length-1&&o.push(n),o}),[])},c.map=function(t){return this.nodes.map(t)},c.reduce=function(t,e){return this.nodes.reduce(t,e)},c.every=function(t){return this.nodes.every(t)},c.some=function(t){return this.nodes.some(t)},c.filter=function(t){return this.nodes.filter(t)},c.sort=function(t){return this.nodes.sort(t)},c.toString=function(){return this.map(String).join("")},a=o,(s=[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}])&&i(a.prototype,s),l&&i(a,l),o}(o.default);e.default=a,t.exports=e.default})),S=f((function(t,e){var n;function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}e.__esModule=!0,e.default=void 0;var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).type=k.ROOT,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,a,s,l=r.prototype;return l.toString=function(){var t=this.reduce((function(t,e){return t.push(String(e)),t}),[]).join(",");return this.trailingComma?t+",":t},l.error=function(t,e){return this._error?this._error(t,e):new Error(t)},i=r,(a=[{key:"errorGenerator",set:function(t){this._error=t}}])&&o(i.prototype,a),s&&o(i,s),r}(((n=x)&&n.__esModule?n:{default:n}).default);e.default=r,t.exports=e.default})),C=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.SELECTOR,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=x)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),E={}.hasOwnProperty,P=/[ -,\.\/:-@\[-\^`\{-~]/,T=/[ -,\.\/:-@\[\]\^`\{-~]/,I=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,j=function t(e,n){"single"!=(n=function(t,e){if(!t)return e;var n={};for(var o in e)n[o]=E.call(t,o)?t[o]:e[o];return n}(n,t.options)).quotes&&"double"!=n.quotes&&(n.quotes="single");for(var o="double"==n.quotes?'"':"'",r=n.isIdentifier,i=e.charAt(0),a="",s=0,l=e.length;s<l;){var c=e.charAt(s++),u=c.charCodeAt(),d=void 0;if(u<32||u>126){if(u>=55296&&u<=56319&&s<l){var p=e.charCodeAt(s++);56320==(64512&p)?u=((1023&u)<<10)+(1023&p)+65536:s--}d="\\"+u.toString(16).toUpperCase()+" "}else d=n.escapeEverything?P.test(c)?"\\"+c:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==c||!r&&('"'==c&&o==c||"'"==c&&o==c)||r&&T.test(c)?"\\"+c:c;a+=d}return r&&(/^-[-\d]/.test(a)?a="\\-"+a.slice(1):/\d/.test(i)&&(a="\\3"+i+" "+a.slice(1))),a=a.replace(I,(function(t,e,n){return e&&e.length%2?t:(e||"")+n})),!r&&n.wrap?o+a+o:a};j.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},j.version="3.0.0";var B=j,M=f((function(t,e){e.__esModule=!0,e.default=void 0;var n=o(B);function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(t){var e,o,i,a,s;function l(e){var n;return(n=t.call(this,e)||this).type=k.CLASS,n._constructed=!0,n}return o=t,(e=l).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o,l.prototype.valueToString=function(){return"."+t.prototype.valueToString.call(this)},i=l,(a=[{key:"value",set:function(t){if(this._constructed){var e=(0,n.default)(t,{isIdentifier:!0});e!==t?((0,w.ensureObject)(this,"raws"),this.raws.value=e):this.raws&&delete this.raws.value}this._value=t},get:function(){return this._value}}])&&r(i.prototype,a),s&&r(i,s),l}(o(O).default);e.default=i,t.exports=e.default})),D=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.COMMENT,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=O)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),A=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.ID,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.valueToString=function(){return"#"+t.prototype.valueToString.call(this)},o}(((n=O)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),R=f((function(t,e){e.__esModule=!0,e.default=void 0;var n=o(B);function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(t){var e,o;function i(){return t.apply(this,arguments)||this}o=t,(e=i).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var a,s,l,c=i.prototype;return c.qualifiedName=function(t){return this.namespace?this.namespaceString+"|"+t:t},c.valueToString=function(){return this.qualifiedName(t.prototype.valueToString.call(this))},a=i,(s=[{key:"namespace",get:function(){return this._namespace},set:function(t){if(!0===t||"*"===t||"&"===t)return this._namespace=t,void(this.raws&&delete this.raws.namespace);var e=(0,n.default)(t,{isIdentifier:!0});this._namespace=t,e!==t?((0,w.ensureObject)(this,"raws"),this.raws.namespace=e):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(t){this.namespace=t}},{key:"namespaceString",get:function(){if(this.namespace){var t=this.stringifyProperty("namespace");return!0===t?"":t}return""}}])&&r(a.prototype,s),l&&r(a,l),i}(o(O).default);e.default=i,t.exports=e.default})),L=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.TAG,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=R)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),q=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.STRING,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=O)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),F=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.PSEUDO,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.toString=function(){var t=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),t,this.rawSpaceAfter].join("")},o}(((n=x)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),N=function(t,e){if(z("noDeprecation"))return t;var n=!1;return function(){if(!n){if(z("throwDeprecation"))throw new Error(e);z("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}};function z(t){try{if(!p.localStorage)return!1}catch(t){return!1}var e=p.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}var H=f((function(t,e){e.__esModule=!0,e.unescapeValue=h,e.default=void 0;var n,o=a(B),r=a(g),i=a(R);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=/^('|")(.*)\1$/,c=N((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),u=N((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),p=N((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function h(t){var e=!1,n=null,o=t,i=o.match(l);return i&&(n=i[1],o=i[2]),(o=(0,r.default)(o))!==t&&(e=!0),{deprecatedUsage:e,unescaped:o,quoteMark:n}}var f=function(t){var e,n;function r(e){var n;return void 0===e&&(e={}),(n=t.call(this,function(t){if(void 0!==t.quoteMark)return t;if(void 0===t.value)return t;p();var e=h(t.value),n=e.quoteMark,o=e.unescaped;return t.raws||(t.raws={}),void 0===t.raws.value&&(t.raws.value=t.value),t.value=o,t.quoteMark=n,t}(e))||this).type=k.ATTRIBUTE,n.raws=n.raws||{},Object.defineProperty(n.raws,"unquoted",{get:N((function(){return n.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:N((function(){return n.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),n._constructed=!0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,a,l,f=r.prototype;return f.getQuotedValue=function(t){void 0===t&&(t={});var e=this._determineQuoteMark(t),n=b[e];return(0,o.default)(this._value,n)},f._determineQuoteMark=function(t){return t.smart?this.smartQuoteMark(t):this.preferredQuoteMark(t)},f.setValue=function(t,e){void 0===e&&(e={}),this._value=t,this._quoteMark=this._determineQuoteMark(e),this._syncRawValue()},f.smartQuoteMark=function(t){var e=this.value,n=e.replace(/[^']/g,"").length,i=e.replace(/[^"]/g,"").length;if(n+i===0){var a=(0,o.default)(e,{isIdentifier:!0});if(a===e)return r.NO_QUOTE;var s=this.preferredQuoteMark(t);if(s===r.NO_QUOTE){var l=this.quoteMark||t.quoteMark||r.DOUBLE_QUOTE,c=b[l];if((0,o.default)(e,c).length<a.length)return l}return s}return i===n?this.preferredQuoteMark(t):i<n?r.DOUBLE_QUOTE:r.SINGLE_QUOTE},f.preferredQuoteMark=function(t){var e=t.preferCurrentQuoteMark?this.quoteMark:t.quoteMark;return void 0===e&&(e=t.preferCurrentQuoteMark?t.quoteMark:this.quoteMark),void 0===e&&(e=r.DOUBLE_QUOTE),e},f._syncRawValue=function(){var t=(0,o.default)(this._value,b[this.quoteMark]);t===this._value?this.raws&&delete this.raws.value:this.raws.value=t},f._handleEscapes=function(t,e){if(this._constructed){var n=(0,o.default)(e,{isIdentifier:!0});n!==e?this.raws[t]=n:delete this.raws[t]}},f._spacesFor=function(t){var e=this.spaces[t]||{},n=this.raws.spaces&&this.raws.spaces[t]||{};return d({before:"",after:""},e,n)},f._stringFor=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=y);var o=this._spacesFor(e);return n(this.stringifyProperty(t),o)},f.offsetOf=function(t){var e=1,n=this._spacesFor("attribute");if(e+=n.before.length,"namespace"===t||"ns"===t)return this.namespace?e:-1;if("attributeNS"===t)return e;if(e+=this.namespaceString.length,this.namespace&&(e+=1),"attribute"===t)return e;e+=this.stringifyProperty("attribute").length,e+=n.after.length;var o=this._spacesFor("operator");e+=o.before.length;var r=this.stringifyProperty("operator");if("operator"===t)return r?e:-1;e+=r.length,e+=o.after.length;var i=this._spacesFor("value");e+=i.before.length;var a=this.stringifyProperty("value");return"value"===t?a?e:-1:(e+=a.length,e+=i.after.length,e+=this._spacesFor("insensitive").before.length,"insensitive"===t&&this.insensitive?e:-1)},f.toString=function(){var t=this,e=[this.rawSpaceBefore,"["];return e.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(e.push(this._stringFor("operator")),e.push(this._stringFor("value")),e.push(this._stringFor("insensitiveFlag","insensitive",(function(e,n){return!(e.length>0)||t.quoted||0!==n.before.length||t.spaces.value&&t.spaces.value.after||(n.before=" "),y(e,n)})))),e.push("]"),e.push(this.rawSpaceAfter),e.join("")},i=r,(a=[{key:"quoted",get:function(){var t=this.quoteMark;return"'"===t||'"'===t},set:function(t){u()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(t){this._constructed?this._quoteMark!==t&&(this._quoteMark=t,this._syncRawValue()):this._quoteMark=t}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(t){if(this._constructed){var e=h(t),n=e.deprecatedUsage,o=e.unescaped,r=e.quoteMark;if(n&&c(),o===this._value&&r===this._quoteMark)return;this._value=o,this._quoteMark=r,this._syncRawValue()}else this._value=t}},{key:"attribute",get:function(){return this._attribute},set:function(t){this._handleEscapes("attribute",t),this._attribute=t}}])&&s(i.prototype,a),l&&s(i,l),r}(i.default);e.default=f,f.NO_QUOTE=null,f.SINGLE_QUOTE="'",f.DOUBLE_QUOTE='"';var b=((n={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}}).null={isIdentifier:!0},n);function y(t,e){return""+e.before+t+e.after}})),U=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.UNIVERSAL,n.value="*",n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=R)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),V=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.COMBINATOR,n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=O)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),W=f((function(t,e){var n;e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=k.NESTING,n.value="&",n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o}(((n=O)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),Q=f((function(t,e){e.__esModule=!0,e.default=function(t){return t.sort((function(t,e){return t-e}))},t.exports=e.default})),G=f((function(t,e){e.__esModule=!0,e.combinator=e.word=e.comment=e.str=e.tab=e.newline=e.feed=e.cr=e.backslash=e.bang=e.slash=e.doubleQuote=e.singleQuote=e.space=e.greaterThan=e.pipe=e.equals=e.plus=e.caret=e.tilde=e.dollar=e.closeSquare=e.openSquare=e.closeParenthesis=e.openParenthesis=e.semicolon=e.colon=e.comma=e.at=e.asterisk=e.ampersand=void 0;e.ampersand=38;e.asterisk=42;e.at=64;e.comma=44;e.colon=58;e.semicolon=59;e.openParenthesis=40;e.closeParenthesis=41;e.openSquare=91;e.closeSquare=93;e.dollar=36;e.tilde=126;e.caret=94;e.plus=43;e.equals=61;e.pipe=124;e.greaterThan=62;e.space=32;e.singleQuote=39;e.doubleQuote=34;e.slash=47;e.bang=33;e.backslash=92;e.cr=13;e.feed=12;e.newline=10;e.tab=9;e.str=39;e.comment=-1;e.word=-2;e.combinator=-3})),$=f((function(t,e){e.__esModule=!0,e.default=function(t){var e,n,o,i,a,s,l,u,d,p,h,f,b,y=[],g=t.css.valueOf(),v=g.length,m=-1,_=1,w=0,O=0;function k(e,n){if(!t.safe)throw t.error("Unclosed "+e,_,w-m,w);d=(g+=n).length-1}for(;w<v;){switch((e=g.charCodeAt(w))===r.newline&&(m=w,_+=1),e){case r.space:case r.tab:case r.newline:case r.cr:case r.feed:d=w;do{d+=1,(e=g.charCodeAt(d))===r.newline&&(m=d,_+=1)}while(e===r.space||e===r.newline||e===r.tab||e===r.cr||e===r.feed);b=r.space,i=_,o=d-m-1,O=d;break;case r.plus:case r.greaterThan:case r.tilde:case r.pipe:d=w;do{d+=1,e=g.charCodeAt(d)}while(e===r.plus||e===r.greaterThan||e===r.tilde||e===r.pipe);b=r.combinator,i=_,o=w-m,O=d;break;case r.asterisk:case r.ampersand:case r.bang:case r.comma:case r.equals:case r.dollar:case r.caret:case r.openSquare:case r.closeSquare:case r.colon:case r.semicolon:case r.openParenthesis:case r.closeParenthesis:b=e,i=_,o=w-m,O=(d=w)+1;break;case r.singleQuote:case r.doubleQuote:f=e===r.singleQuote?"'":'"',d=w;do{for(a=!1,-1===(d=g.indexOf(f,d+1))&&k("quote",f),s=d;g.charCodeAt(s-1)===r.backslash;)s-=1,a=!a}while(a);b=r.str,i=_,o=w-m,O=d+1;break;default:e===r.slash&&g.charCodeAt(w+1)===r.asterisk?(0===(d=g.indexOf("*/",w+2)+1)&&k("comment","*/"),n=g.slice(w,d+1),u=n.split("\n"),(l=u.length-1)>0?(p=_+l,h=d-u[l].length):(p=_,h=m),b=r.comment,_=p,i=p,o=d-h):e===r.slash?(b=e,i=_,o=w-m,O=(d=w)+1):(d=c(g,w),b=r.word,i=_,o=d-m),O=d+1}y.push([b,_,w-m,i,o,w,O]),h&&(m=h,h=null),w=O}return y},e.FIELDS=void 0;var n,o,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}(G);for(var i=((n={})[r.tab]=!0,n[r.newline]=!0,n[r.cr]=!0,n[r.feed]=!0,n),a=((o={})[r.space]=!0,o[r.tab]=!0,o[r.newline]=!0,o[r.cr]=!0,o[r.feed]=!0,o[r.ampersand]=!0,o[r.asterisk]=!0,o[r.bang]=!0,o[r.comma]=!0,o[r.colon]=!0,o[r.semicolon]=!0,o[r.openParenthesis]=!0,o[r.closeParenthesis]=!0,o[r.openSquare]=!0,o[r.closeSquare]=!0,o[r.singleQuote]=!0,o[r.doubleQuote]=!0,o[r.plus]=!0,o[r.pipe]=!0,o[r.tilde]=!0,o[r.greaterThan]=!0,o[r.equals]=!0,o[r.dollar]=!0,o[r.caret]=!0,o[r.slash]=!0,o),s={},l=0;l<"0123456789abcdefABCDEF".length;l++)s["0123456789abcdefABCDEF".charCodeAt(l)]=!0;function c(t,e){var n,o=e;do{if(n=t.charCodeAt(o),a[n])return o-1;n===r.backslash?o=u(t,o)+1:o++}while(o<t.length);return o-1}function u(t,e){var n=e,o=t.charCodeAt(n+1);if(i[o]);else if(s[o]){var a=0;do{n++,a++,o=t.charCodeAt(n+1)}while(s[o]&&a<6);a<6&&o===r.space&&n++}else n++;return n}e.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}})),K=f((function(t,e){e.__esModule=!0,e.default=void 0;var n,o,r=I(b),i=I(y),a=I(S),s=I(C),l=I(M),c=I(D),u=I(A),p=I(L),h=I(q),f=I(F),g=T(H),v=I(U),m=I(V),_=I(W),O=I(Q),x=T($),E=T(G),P=T(k);function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var B=((n={})[E.space]=!0,n[E.cr]=!0,n[E.feed]=!0,n[E.newline]=!0,n[E.tab]=!0,n),R=d({},B,((o={})[E.comment]=!0,o));function N(t){return{line:t[x.FIELDS.START_LINE],column:t[x.FIELDS.START_COL]}}function z(t){return{line:t[x.FIELDS.END_LINE],column:t[x.FIELDS.END_COL]}}function K(t,e,n,o){return{start:{line:t,column:e},end:{line:n,column:o}}}function Y(t){return K(t[x.FIELDS.START_LINE],t[x.FIELDS.START_COL],t[x.FIELDS.END_LINE],t[x.FIELDS.END_COL])}function X(t,e){if(t)return K(t[x.FIELDS.START_LINE],t[x.FIELDS.START_COL],e[x.FIELDS.END_LINE],e[x.FIELDS.END_COL])}function J(t,e){var n=t[e];if("string"==typeof n)return-1!==n.indexOf("\\")&&((0,w.ensureObject)(t,"raws"),t[e]=(0,w.unesc)(n),void 0===t.raws[e]&&(t.raws[e]=n)),t}var Z=function(){function t(t,e){void 0===e&&(e={}),this.rule=t,this.options=d({lossy:!1,safe:!1},e),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,x.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var n=X(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new a.default({source:n}),this.root.errorGenerator=this._errorGenerator();var o=new s.default({source:{start:{line:1,column:1}}});this.root.append(o),this.current=o,this.loop()}var e,n,o,b=t.prototype;return b._errorGenerator=function(){var t=this;return function(e,n){return"string"==typeof t.rule?new Error(e):t.rule.error(e,n)}},b.attribute=function(){var t=[],e=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[x.FIELDS.TYPE]!==E.closeSquare;)t.push(this.currToken),this.position++;if(this.currToken[x.FIELDS.TYPE]!==E.closeSquare)return this.expected("closing square bracket",this.currToken[x.FIELDS.START_POS]);var n=t.length,o={source:K(e[1],e[2],this.currToken[3],this.currToken[4]),sourceIndex:e[x.FIELDS.START_POS]};if(1===n&&!~[E.word].indexOf(t[0][x.FIELDS.TYPE]))return this.expected("attribute",t[0][x.FIELDS.START_POS]);for(var r=0,i="",a="",s=null,l=!1;r<n;){var c=t[r],u=this.content(c),d=t[r+1];switch(c[x.FIELDS.TYPE]){case E.space:if(l=!0,this.options.lossy)break;if(s){(0,w.ensureObject)(o,"spaces",s);var p=o.spaces[s].after||"";o.spaces[s].after=p+u;var h=(0,w.getProp)(o,"raws","spaces",s,"after")||null;h&&(o.raws.spaces[s].after=h+u)}else i+=u,a+=u;break;case E.asterisk:if(d[x.FIELDS.TYPE]===E.equals)o.operator=u,s="operator";else if((!o.namespace||"namespace"===s&&!l)&&d){i&&((0,w.ensureObject)(o,"spaces","attribute"),o.spaces.attribute.before=i,i=""),a&&((0,w.ensureObject)(o,"raws","spaces","attribute"),o.raws.spaces.attribute.before=i,a=""),o.namespace=(o.namespace||"")+u,((0,w.getProp)(o,"raws","namespace")||null)&&(o.raws.namespace+=u),s="namespace"}l=!1;break;case E.dollar:if("value"===s){var f=(0,w.getProp)(o,"raws","value");o.value+="$",f&&(o.raws.value=f+"$");break}case E.caret:d[x.FIELDS.TYPE]===E.equals&&(o.operator=u,s="operator"),l=!1;break;case E.combinator:if("~"===u&&d[x.FIELDS.TYPE]===E.equals&&(o.operator=u,s="operator"),"|"!==u){l=!1;break}d[x.FIELDS.TYPE]===E.equals?(o.operator=u,s="operator"):o.namespace||o.attribute||(o.namespace=!0),l=!1;break;case E.word:if(d&&"|"===this.content(d)&&t[r+2]&&t[r+2][x.FIELDS.TYPE]!==E.equals&&!o.operator&&!o.namespace)o.namespace=u,s="namespace";else if(!o.attribute||"attribute"===s&&!l){i&&((0,w.ensureObject)(o,"spaces","attribute"),o.spaces.attribute.before=i,i=""),a&&((0,w.ensureObject)(o,"raws","spaces","attribute"),o.raws.spaces.attribute.before=a,a=""),o.attribute=(o.attribute||"")+u,((0,w.getProp)(o,"raws","attribute")||null)&&(o.raws.attribute+=u),s="attribute"}else if(!o.value&&""!==o.value||"value"===s&&!l){var b=(0,w.unesc)(u),y=(0,w.getProp)(o,"raws","value")||"",v=o.value||"";o.value=v+b,o.quoteMark=null,(b!==u||y)&&((0,w.ensureObject)(o,"raws"),o.raws.value=(y||v)+u),s="value"}else{var m="i"===u||"I"===u;!o.value&&""!==o.value||!o.quoteMark&&!l?(o.value||""===o.value)&&(s="value",o.value+=u,o.raws.value&&(o.raws.value+=u)):(o.insensitive=m,m&&"I"!==u||((0,w.ensureObject)(o,"raws"),o.raws.insensitiveFlag=u),s="insensitive",i&&((0,w.ensureObject)(o,"spaces","insensitive"),o.spaces.insensitive.before=i,i=""),a&&((0,w.ensureObject)(o,"raws","spaces","insensitive"),o.raws.spaces.insensitive.before=a,a=""))}l=!1;break;case E.str:if(!o.attribute||!o.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:c[x.FIELDS.START_POS]});var _=(0,g.unescapeValue)(u),O=_.unescaped,k=_.quoteMark;o.value=O,o.quoteMark=k,s="value",(0,w.ensureObject)(o,"raws"),o.raws.value=u,l=!1;break;case E.equals:if(!o.attribute)return this.expected("attribute",c[x.FIELDS.START_POS],u);if(o.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:c[x.FIELDS.START_POS]});o.operator=o.operator?o.operator+u:u,s="operator",l=!1;break;case E.comment:if(s)if(l||d&&d[x.FIELDS.TYPE]===E.space||"insensitive"===s){var S=(0,w.getProp)(o,"spaces",s,"after")||"",C=(0,w.getProp)(o,"raws","spaces",s,"after")||S;(0,w.ensureObject)(o,"raws","spaces",s),o.raws.spaces[s].after=C+u}else{var P=o[s]||"",T=(0,w.getProp)(o,"raws",s)||P;(0,w.ensureObject)(o,"raws"),o.raws[s]=T+u}else a+=u;break;default:return this.error('Unexpected "'+u+'" found.',{index:c[x.FIELDS.START_POS]})}r++}J(o,"attribute"),J(o,"namespace"),this.newNode(new g.default(o)),this.position++},b.parseWhitespaceEquivalentTokens=function(t){t<0&&(t=this.tokens.length);var e=this.position,n=[],o="",r=void 0;do{if(B[this.currToken[x.FIELDS.TYPE]])this.options.lossy||(o+=this.content());else if(this.currToken[x.FIELDS.TYPE]===E.comment){var i={};o&&(i.before=o,o=""),r=new c.default({value:this.content(),source:Y(this.currToken),sourceIndex:this.currToken[x.FIELDS.START_POS],spaces:i}),n.push(r)}}while(++this.position<t);if(o)if(r)r.spaces.after=o;else if(!this.options.lossy){var a=this.tokens[e],s=this.tokens[this.position-1];n.push(new h.default({value:"",source:K(a[x.FIELDS.START_LINE],a[x.FIELDS.START_COL],s[x.FIELDS.END_LINE],s[x.FIELDS.END_COL]),sourceIndex:a[x.FIELDS.START_POS],spaces:{before:o,after:""}}))}return n},b.convertWhitespaceNodesToSpace=function(t,e){var n=this;void 0===e&&(e=!1);var o="",r="";return t.forEach((function(t){var i=n.lossySpace(t.spaces.before,e),a=n.lossySpace(t.rawSpaceBefore,e);o+=i+n.lossySpace(t.spaces.after,e&&0===i.length),r+=i+t.value+n.lossySpace(t.rawSpaceAfter,e&&0===a.length)})),r===o&&(r=void 0),{space:o,rawSpace:r}},b.isNamedCombinator=function(t){return void 0===t&&(t=this.position),this.tokens[t+0]&&this.tokens[t+0][x.FIELDS.TYPE]===E.slash&&this.tokens[t+1]&&this.tokens[t+1][x.FIELDS.TYPE]===E.word&&this.tokens[t+2]&&this.tokens[t+2][x.FIELDS.TYPE]===E.slash},b.namedCombinator=function(){if(this.isNamedCombinator()){var t=this.content(this.tokens[this.position+1]),e=(0,w.unesc)(t).toLowerCase(),n={};e!==t&&(n.value="/"+t+"/");var o=new m.default({value:"/"+e+"/",source:K(this.currToken[x.FIELDS.START_LINE],this.currToken[x.FIELDS.START_COL],this.tokens[this.position+2][x.FIELDS.END_LINE],this.tokens[this.position+2][x.FIELDS.END_COL]),sourceIndex:this.currToken[x.FIELDS.START_POS],raws:n});return this.position=this.position+3,o}this.unexpected()},b.combinator=function(){var t=this;if("|"===this.content())return this.namespace();var e=this.locateNextMeaningfulToken(this.position);if(!(e<0||this.tokens[e][x.FIELDS.TYPE]===E.comma)){var n,o=this.currToken,r=void 0;if(e>this.position&&(r=this.parseWhitespaceEquivalentTokens(e)),this.isNamedCombinator()?n=this.namedCombinator():this.currToken[x.FIELDS.TYPE]===E.combinator?(n=new m.default({value:this.content(),source:Y(this.currToken),sourceIndex:this.currToken[x.FIELDS.START_POS]}),this.position++):B[this.currToken[x.FIELDS.TYPE]]||r||this.unexpected(),n){if(r){var i=this.convertWhitespaceNodesToSpace(r),a=i.space,s=i.rawSpace;n.spaces.before=a,n.rawSpaceBefore=s}}else{var l=this.convertWhitespaceNodesToSpace(r,!0),c=l.space,u=l.rawSpace;u||(u=c);var d={},p={spaces:{}};c.endsWith(" ")&&u.endsWith(" ")?(d.before=c.slice(0,c.length-1),p.spaces.before=u.slice(0,u.length-1)):c.startsWith(" ")&&u.startsWith(" ")?(d.after=c.slice(1),p.spaces.after=u.slice(1)):p.value=u,n=new m.default({value:" ",source:X(o,this.tokens[this.position-1]),sourceIndex:o[x.FIELDS.START_POS],spaces:d,raws:p})}return this.currToken&&this.currToken[x.FIELDS.TYPE]===E.space&&(n.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(n)}var h=this.parseWhitespaceEquivalentTokens(e);if(h.length>0){var f=this.current.last;if(f){var b=this.convertWhitespaceNodesToSpace(h),y=b.space,g=b.rawSpace;void 0!==g&&(f.rawSpaceAfter+=g),f.spaces.after+=y}else h.forEach((function(e){return t.newNode(e)}))}},b.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;this.current._inferEndPosition();var t=new s.default({source:{start:N(this.tokens[this.position+1])}});this.current.parent.append(t),this.current=t,this.position++},b.comment=function(){var t=this.currToken;this.newNode(new c.default({value:this.content(),source:Y(t),sourceIndex:t[x.FIELDS.START_POS]})),this.position++},b.error=function(t,e){throw this.root.error(t,e)},b.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[x.FIELDS.START_POS]})},b.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[x.FIELDS.START_POS])},b.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[x.FIELDS.START_POS])},b.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[x.FIELDS.START_POS])},b.namespace=function(){var t=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[x.FIELDS.TYPE]===E.word?(this.position++,this.word(t)):this.nextToken[x.FIELDS.TYPE]===E.asterisk?(this.position++,this.universal(t)):void 0},b.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var t=this.currToken;this.newNode(new _.default({value:this.content(),source:Y(t),sourceIndex:t[x.FIELDS.START_POS]})),this.position++},b.parentheses=function(){var t=this.current.last,e=1;if(this.position++,t&&t.type===P.PSEUDO){var n=new s.default({source:{start:N(this.tokens[this.position-1])}}),o=this.current;for(t.append(n),this.current=n;this.position<this.tokens.length&&e;)this.currToken[x.FIELDS.TYPE]===E.openParenthesis&&e++,this.currToken[x.FIELDS.TYPE]===E.closeParenthesis&&e--,e?this.parse():(this.current.source.end=z(this.currToken),this.current.parent.source.end=z(this.currToken),this.position++);this.current=o}else{for(var r,i=this.currToken,a="(";this.position<this.tokens.length&&e;)this.currToken[x.FIELDS.TYPE]===E.openParenthesis&&e++,this.currToken[x.FIELDS.TYPE]===E.closeParenthesis&&e--,r=this.currToken,a+=this.parseParenthesisToken(this.currToken),this.position++;t?t.appendToPropertyAndEscape("value",a,a):this.newNode(new h.default({value:a,source:K(i[x.FIELDS.START_LINE],i[x.FIELDS.START_COL],r[x.FIELDS.END_LINE],r[x.FIELDS.END_COL]),sourceIndex:i[x.FIELDS.START_POS]}))}if(e)return this.expected("closing parenthesis",this.currToken[x.FIELDS.START_POS])},b.pseudo=function(){for(var t=this,e="",n=this.currToken;this.currToken&&this.currToken[x.FIELDS.TYPE]===E.colon;)e+=this.content(),this.position++;return this.currToken?this.currToken[x.FIELDS.TYPE]!==E.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[x.FIELDS.START_POS]):void this.splitWord(!1,(function(o,r){e+=o,t.newNode(new f.default({value:e,source:X(n,t.currToken),sourceIndex:n[x.FIELDS.START_POS]})),r>1&&t.nextToken&&t.nextToken[x.FIELDS.TYPE]===E.openParenthesis&&t.error("Misplaced parenthesis.",{index:t.nextToken[x.FIELDS.START_POS]})})):this.expected(["pseudo-class","pseudo-element"],this.position-1)},b.space=function(){var t=this.content();0===this.position||this.prevToken[x.FIELDS.TYPE]===E.comma||this.prevToken[x.FIELDS.TYPE]===E.openParenthesis||this.current.nodes.every((function(t){return"comment"===t.type}))?(this.spaces=this.optionalSpace(t),this.position++):this.position===this.tokens.length-1||this.nextToken[x.FIELDS.TYPE]===E.comma||this.nextToken[x.FIELDS.TYPE]===E.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(t),this.position++):this.combinator()},b.string=function(){var t=this.currToken;this.newNode(new h.default({value:this.content(),source:Y(t),sourceIndex:t[x.FIELDS.START_POS]})),this.position++},b.universal=function(t){var e=this.nextToken;if(e&&"|"===this.content(e))return this.position++,this.namespace();var n=this.currToken;this.newNode(new v.default({value:this.content(),source:Y(n),sourceIndex:n[x.FIELDS.START_POS]}),t),this.position++},b.splitWord=function(t,e){for(var n=this,o=this.nextToken,a=this.content();o&&~[E.dollar,E.caret,E.equals,E.word].indexOf(o[x.FIELDS.TYPE]);){this.position++;var s=this.content();if(a+=s,s.lastIndexOf("\\")===s.length-1){var c=this.nextToken;c&&c[x.FIELDS.TYPE]===E.space&&(a+=this.requiredSpace(this.content(c)),this.position++)}o=this.nextToken}var d=(0,r.default)(a,".").filter((function(t){return"\\"!==a[t-1]})),h=(0,r.default)(a,"#").filter((function(t){return"\\"!==a[t-1]})),f=(0,r.default)(a,"#{");f.length&&(h=h.filter((function(t){return!~f.indexOf(t)})));var b=(0,O.default)((0,i.default)([0].concat(d,h)));b.forEach((function(o,r){var i,s=b[r+1]||a.length,c=a.slice(o,s);if(0===r&&e)return e.call(n,c,b.length);var f=n.currToken,y=f[x.FIELDS.START_POS]+b[r],g=K(f[1],f[2]+o,f[3],f[2]+(s-1));if(~d.indexOf(o)){var v={value:c.slice(1),source:g,sourceIndex:y};i=new l.default(J(v,"value"))}else if(~h.indexOf(o)){var m={value:c.slice(1),source:g,sourceIndex:y};i=new u.default(J(m,"value"))}else{var _={value:c,source:g,sourceIndex:y};J(_,"value"),i=new p.default(_)}n.newNode(i,t),t=null})),this.position++},b.word=function(t){var e=this.nextToken;return e&&"|"===this.content(e)?(this.position++,this.namespace()):this.splitWord(t)},b.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},b.parse=function(t){switch(this.currToken[x.FIELDS.TYPE]){case E.space:this.space();break;case E.comment:this.comment();break;case E.openParenthesis:this.parentheses();break;case E.closeParenthesis:t&&this.missingParenthesis();break;case E.openSquare:this.attribute();break;case E.dollar:case E.caret:case E.equals:case E.word:this.word();break;case E.colon:this.pseudo();break;case E.comma:this.comma();break;case E.asterisk:this.universal();break;case E.ampersand:this.nesting();break;case E.slash:case E.combinator:this.combinator();break;case E.str:this.string();break;case E.closeSquare:this.missingSquareBracket();case E.semicolon:this.missingBackslash();default:this.unexpected()}},b.expected=function(t,e,n){if(Array.isArray(t)){var o=t.pop();t=t.join(", ")+" or "+o}var r=/^[aeiou]/.test(t[0])?"an":"a";return n?this.error("Expected "+r+" "+t+', found "'+n+'" instead.',{index:e}):this.error("Expected "+r+" "+t+".",{index:e})},b.requiredSpace=function(t){return this.options.lossy?" ":t},b.optionalSpace=function(t){return this.options.lossy?"":t},b.lossySpace=function(t,e){return this.options.lossy?e?" ":"":t},b.parseParenthesisToken=function(t){var e=this.content(t);return t[x.FIELDS.TYPE]===E.space?this.requiredSpace(e):e},b.newNode=function(t,e){return e&&(/^ +$/.test(e)&&(this.options.lossy||(this.spaces=(this.spaces||"")+e),e=!0),t.namespace=e,J(t,"namespace")),this.spaces&&(t.spaces.before=this.spaces,this.spaces=""),this.current.append(t)},b.content=function(t){return void 0===t&&(t=this.currToken),this.css.slice(t[x.FIELDS.START_POS],t[x.FIELDS.END_POS])},b.locateNextMeaningfulToken=function(t){void 0===t&&(t=this.position+1);for(var e=t;e<this.tokens.length;){if(!R[this.tokens[e][x.FIELDS.TYPE]])return e;e++}return-1},e=t,(n=[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}])&&j(e.prototype,n),o&&j(e,o),t}();e.default=Z,t.exports=e.default})),Y=f((function(t,e){e.__esModule=!0,e.default=void 0;var n,o=(n=K)&&n.__esModule?n:{default:n};var r=function(){function t(t,e){this.func=t||function(){},this.funcRes=null,this.options=e}var e=t.prototype;return e._shouldUpdateSelector=function(t,e){return void 0===e&&(e={}),!1!==d({},this.options,e).updateSelector&&"string"!=typeof t},e._isLossy=function(t){return void 0===t&&(t={}),!1===d({},this.options,t).lossless},e._root=function(t,e){return void 0===e&&(e={}),new o.default(t,this._parseOptions(e)).root},e._parseOptions=function(t){return{lossy:this._isLossy(t)}},e._run=function(t,e){var n=this;return void 0===e&&(e={}),new Promise((function(o,r){try{var i=n._root(t,e);Promise.resolve(n.func(i)).then((function(o){var r=void 0;return n._shouldUpdateSelector(t,e)&&(r=i.toString(),t.selector=r),{transform:o,root:i,string:r}})).then(o,r)}catch(t){return void r(t)}}))},e._runSync=function(t,e){void 0===e&&(e={});var n=this._root(t,e),o=this.func(n);if(o&&"function"==typeof o.then)throw new Error("Selector processor returned a promise to a synchronous call.");var r=void 0;return e.updateSelector&&"string"!=typeof t&&(r=n.toString(),t.selector=r),{transform:o,root:n,string:r}},e.ast=function(t,e){return this._run(t,e).then((function(t){return t.root}))},e.astSync=function(t,e){return this._runSync(t,e).root},e.transform=function(t,e){return this._run(t,e).then((function(t){return t.transform}))},e.transformSync=function(t,e){return this._runSync(t,e).transform},e.process=function(t,e){return this._run(t,e).then((function(t){return t.string||t.root.toString()}))},e.processSync=function(t,e){var n=this._runSync(t,e);return n.string||n.root.toString()},t}();e.default=r,t.exports=e.default})),X=f((function(t,e){e.__esModule=!0,e.universal=e.tag=e.string=e.selector=e.root=e.pseudo=e.nesting=e.id=e.comment=e.combinator=e.className=e.attribute=void 0;var n=f(H),o=f(M),r=f(V),i=f(D),a=f(A),s=f(W),l=f(F),c=f(S),u=f(C),d=f(q),p=f(L),h=f(U);function f(t){return t&&t.__esModule?t:{default:t}}e.attribute=function(t){return new n.default(t)};e.className=function(t){return new o.default(t)};e.combinator=function(t){return new r.default(t)};e.comment=function(t){return new i.default(t)};e.id=function(t){return new a.default(t)};e.nesting=function(t){return new s.default(t)};e.pseudo=function(t){return new l.default(t)};e.root=function(t){return new c.default(t)};e.selector=function(t){return new u.default(t)};e.string=function(t){return new d.default(t)};e.tag=function(t){return new p.default(t)};e.universal=function(t){return new h.default(t)}})),J=f((function(t,e){var n;e.__esModule=!0,e.isNode=i,e.isPseudoElement=m,e.isPseudoClass=function(t){return h(t)&&!m(t)},e.isContainer=function(t){return!(!i(t)||!t.walk)},e.isNamespace=function(t){return s(t)||g(t)},e.isUniversal=e.isTag=e.isString=e.isSelector=e.isRoot=e.isPseudo=e.isNesting=e.isIdentifier=e.isComment=e.isCombinator=e.isClassName=e.isAttribute=void 0;var r=((n={})[k.ATTRIBUTE]=!0,n[k.CLASS]=!0,n[k.COMBINATOR]=!0,n[k.COMMENT]=!0,n[k.ID]=!0,n[k.NESTING]=!0,n[k.PSEUDO]=!0,n[k.ROOT]=!0,n[k.SELECTOR]=!0,n[k.STRING]=!0,n[k.TAG]=!0,n[k.UNIVERSAL]=!0,n);function i(t){return"object"===o(t)&&r[t.type]}function a(t,e){return i(e)&&e.type===t}var s=a.bind(null,k.ATTRIBUTE);e.isAttribute=s;var l=a.bind(null,k.CLASS);e.isClassName=l;var c=a.bind(null,k.COMBINATOR);e.isCombinator=c;var u=a.bind(null,k.COMMENT);e.isComment=u;var d=a.bind(null,k.ID);e.isIdentifier=d;var p=a.bind(null,k.NESTING);e.isNesting=p;var h=a.bind(null,k.PSEUDO);e.isPseudo=h;var f=a.bind(null,k.ROOT);e.isRoot=f;var b=a.bind(null,k.SELECTOR);e.isSelector=b;var y=a.bind(null,k.STRING);e.isString=y;var g=a.bind(null,k.TAG);e.isTag=g;var v=a.bind(null,k.UNIVERSAL);function m(t){return h(t)&&t.value&&(t.value.startsWith("::")||":before"===t.value.toLowerCase()||":after"===t.value.toLowerCase())}e.isUniversal=v})),Z=f((function(t,e){e.__esModule=!0,Object.keys(k).forEach((function(t){"default"!==t&&"__esModule"!==t&&(e[t]=k[t])})),Object.keys(X).forEach((function(t){"default"!==t&&"__esModule"!==t&&(e[t]=X[t])})),Object.keys(J).forEach((function(t){"default"!==t&&"__esModule"!==t&&(e[t]=J[t])}))})),tt=h(f((function(t,e){e.__esModule=!0,e.default=void 0;var n,o=(n=Y)&&n.__esModule?n:{default:n},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}(Z);var i=function(t){return new o.default(t)};d(i,r),delete i.__esModule;var a=i;e.default=a,t.exports=e.default}))),et=Element.prototype.matches||Element.prototype.msMatchesSelector;var nt=function(t){this._queue=[t],this.next()};function ot(t){for(var e=[],n=t.length-1;n>=0;n--){var o=t[n];if("combinator"===o.type)break;e.push(o)}return e.reverse()}function rt(t){if("function"!=typeof t.assignedElements&&t.assignedSlot&&t.assignedSlot.parentElement)return t.assignedSlot.parentElement;if(t.parentElement)return t.parentElement;var e=t.getRootNode();return e!==document?e.host:void 0}function it(t,e){for(var n=rt(t);n;){if(st(n,{nodes:e}))return n;n=rt(n)}}function at(t,e){for(var n=t.previousElementSibling;n;){if(st(n,{nodes:e}))return n;n=n.previousElementSibling}}function st(t,e){for(var n=e.nodes,o=n.length-1;o>=0;o--){var r=n[o];if("id"===r.type){if(t.id!==r.value)return!1}else if("class"===r.type){if(!t.classList.contains(r.value))return!1}else if("tag"===r.type){if(t.tagName.toLowerCase()!==r.value.toLowerCase())return!1}else if("pseudo"===r.type||"attribute"===r.type){if(!et.call(t,r.sourceCode))return!1}else if("combinator"===r.type)if(" "===r.value){var i=ot(n.slice(0,o)),a=it(t,i);if(!a)return!1;t=a,o-=i.length}else if(">"===r.value){var s=ot(n.slice(0,o)),l=rt(t);if(!l||!st(l,{nodes:s}))return!1;t=l,o-=1}else if("+"===r.value){var c=ot(n.slice(0,o)),u=t.previousElementSibling;if(!u||!st(u,{nodes:c}))return!1;o-=c.length}else if("~"===r.value){var d=ot(n.slice(0,o));if(!at(t,d))return!1;o-=d.length}}return!0}function lt(t){var e=tt().astSync(t);return function t(e,n){for(var o=0,r=e.nodes;o<r.length;o+=1){var i=r[o];if("pseudo"===i.type||"attribute"===i.type){for(var a=n.split("\n"),s=i.source,l=s.start,c=s.end,u="",d=l.line-1;d<c.line;d++){var p=a[d],h=d===l.line-1?l.column:0,f=d===c.line-1?c.column:p.length;u+=p.substring(h,f)}i.sourceCode=("pseudo"===i.type?":":"[")+u}i.nodes&&t(i,n)}}(e,t),e}function ct(t,e,n){var o=lt(t);return function(t,e,n){for(var o,r=n?[]:null;o=t.next();)for(var i=0,a=e.nodes;i<a.length;i+=1){if(st(o,a[i])){if(!n)return o;r.push(o)}}return r}(new nt(e),o,n)}function ut(t,e){return void 0===e&&(e=document),ct(t,e,!1)}function dt(t,e){return void 0===e&&(e=document),ct(t,e,!0)}nt.prototype.next=function(){var t=this._queue.pop();if(t){var e=function(t){if(t.documentElement)return[t.documentElement];if(t.shadowRoot)return t.shadowRoot.children;if("function"==typeof t.assignedElements){var e=t.assignedElements();return e.length?e:t.children}return t.children}(t);if(e)for(var n=e.length-1;n>=0;n--)this._queue.push(e[n])}return t}}).call(this,n(145))},function(t,e,n){"use strict";n(10);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n  <style css-build="shadow">[hidden] {\n  display: none !important;\n}\n\n</style>\n\n\n  <style css-build="shadow">html {\n  --layout_-_display:  flex;;\n\n      --layout-inline_-_display:  inline-flex;;\n\n      --layout-horizontal_-_display:  var(--layout_-_display);\n--layout-horizontal_-_-ms-flex-direction:  row;\n--layout-horizontal_-_-webkit-flex-direction:  row;\n--layout-horizontal_-_flex-direction:  row;;\n\n      --layout-horizontal-reverse_-_display:  var(--layout_-_display);\n--layout-horizontal-reverse_-_-ms-flex-direction:  row-reverse;\n--layout-horizontal-reverse_-_-webkit-flex-direction:  row-reverse;\n--layout-horizontal-reverse_-_flex-direction:  row-reverse;;\n\n      --layout-vertical_-_display:  var(--layout_-_display);\n--layout-vertical_-_-ms-flex-direction:  column;\n--layout-vertical_-_-webkit-flex-direction:  column;\n--layout-vertical_-_flex-direction:  column;;\n\n      --layout-vertical-reverse_-_display:  var(--layout_-_display);\n--layout-vertical-reverse_-_-ms-flex-direction:  column-reverse;\n--layout-vertical-reverse_-_-webkit-flex-direction:  column-reverse;\n--layout-vertical-reverse_-_flex-direction:  column-reverse;;\n\n      --layout-wrap_-_-ms-flex-wrap:  wrap;\n--layout-wrap_-_-webkit-flex-wrap:  wrap;\n--layout-wrap_-_flex-wrap:  wrap;;\n\n      --layout-wrap-reverse_-_-ms-flex-wrap:  wrap-reverse;\n--layout-wrap-reverse_-_-webkit-flex-wrap:  wrap-reverse;\n--layout-wrap-reverse_-_flex-wrap:  wrap-reverse;;\n\n      --layout-flex-auto_-_-ms-flex:  1 1 auto;\n--layout-flex-auto_-_-webkit-flex:  1 1 auto;\n--layout-flex-auto_-_flex:  1 1 auto;;\n\n      --layout-flex-none_-_-ms-flex:  none;\n--layout-flex-none_-_-webkit-flex:  none;\n--layout-flex-none_-_flex:  none;;\n\n      --layout-flex_-_-ms-flex:  1 1 0.000000001px;\n--layout-flex_-_-webkit-flex:  1;\n--layout-flex_-_flex:  1;\n--layout-flex_-_-webkit-flex-basis:  0.000000001px;\n--layout-flex_-_flex-basis:  0.000000001px;;\n\n      --layout-flex-2_-_-ms-flex:  2;\n--layout-flex-2_-_-webkit-flex:  2;\n--layout-flex-2_-_flex:  2;;\n\n      --layout-flex-3_-_-ms-flex:  3;\n--layout-flex-3_-_-webkit-flex:  3;\n--layout-flex-3_-_flex:  3;;\n\n      --layout-flex-4_-_-ms-flex:  4;\n--layout-flex-4_-_-webkit-flex:  4;\n--layout-flex-4_-_flex:  4;;\n\n      --layout-flex-5_-_-ms-flex:  5;\n--layout-flex-5_-_-webkit-flex:  5;\n--layout-flex-5_-_flex:  5;;\n\n      --layout-flex-6_-_-ms-flex:  6;\n--layout-flex-6_-_-webkit-flex:  6;\n--layout-flex-6_-_flex:  6;;\n\n      --layout-flex-7_-_-ms-flex:  7;\n--layout-flex-7_-_-webkit-flex:  7;\n--layout-flex-7_-_flex:  7;;\n\n      --layout-flex-8_-_-ms-flex:  8;\n--layout-flex-8_-_-webkit-flex:  8;\n--layout-flex-8_-_flex:  8;;\n\n      --layout-flex-9_-_-ms-flex:  9;\n--layout-flex-9_-_-webkit-flex:  9;\n--layout-flex-9_-_flex:  9;;\n\n      --layout-flex-10_-_-ms-flex:  10;\n--layout-flex-10_-_-webkit-flex:  10;\n--layout-flex-10_-_flex:  10;;\n\n      --layout-flex-11_-_-ms-flex:  11;\n--layout-flex-11_-_-webkit-flex:  11;\n--layout-flex-11_-_flex:  11;;\n\n      --layout-flex-12_-_-ms-flex:  12;\n--layout-flex-12_-_-webkit-flex:  12;\n--layout-flex-12_-_flex:  12;;\n\n      \n\n      --layout-start_-_-ms-flex-align:  start;\n--layout-start_-_-webkit-align-items:  flex-start;\n--layout-start_-_align-items:  flex-start;;\n\n      --layout-center_-_-ms-flex-align:  center;\n--layout-center_-_-webkit-align-items:  center;\n--layout-center_-_align-items:  center;;\n\n      --layout-end_-_-ms-flex-align:  end;\n--layout-end_-_-webkit-align-items:  flex-end;\n--layout-end_-_align-items:  flex-end;;\n\n      --layout-baseline_-_-ms-flex-align:  baseline;\n--layout-baseline_-_-webkit-align-items:  baseline;\n--layout-baseline_-_align-items:  baseline;;\n\n      \n\n      --layout-start-justified_-_-ms-flex-pack:  start;\n--layout-start-justified_-_-webkit-justify-content:  flex-start;\n--layout-start-justified_-_justify-content:  flex-start;;\n\n      --layout-center-justified_-_-ms-flex-pack:  center;\n--layout-center-justified_-_-webkit-justify-content:  center;\n--layout-center-justified_-_justify-content:  center;;\n\n      --layout-end-justified_-_-ms-flex-pack:  end;\n--layout-end-justified_-_-webkit-justify-content:  flex-end;\n--layout-end-justified_-_justify-content:  flex-end;;\n\n      --layout-around-justified_-_-ms-flex-pack:  distribute;\n--layout-around-justified_-_-webkit-justify-content:  space-around;\n--layout-around-justified_-_justify-content:  space-around;;\n\n      --layout-justified_-_-ms-flex-pack:  justify;\n--layout-justified_-_-webkit-justify-content:  space-between;\n--layout-justified_-_justify-content:  space-between;;\n\n      --layout-center-center_-_-ms-flex-align:  var(--layout-center_-_-ms-flex-align);\n--layout-center-center_-_-webkit-align-items:  var(--layout-center_-_-webkit-align-items);\n--layout-center-center_-_align-items:  var(--layout-center_-_align-items);\n--layout-center-center_-_-ms-flex-pack:  var(--layout-center-justified_-_-ms-flex-pack);\n--layout-center-center_-_-webkit-justify-content:  var(--layout-center-justified_-_-webkit-justify-content);\n--layout-center-center_-_justify-content:  var(--layout-center-justified_-_justify-content);;\n\n      \n\n      --layout-self-start_-_-ms-align-self:  flex-start;\n--layout-self-start_-_-webkit-align-self:  flex-start;\n--layout-self-start_-_align-self:  flex-start;;\n\n      --layout-self-center_-_-ms-align-self:  center;\n--layout-self-center_-_-webkit-align-self:  center;\n--layout-self-center_-_align-self:  center;;\n\n      --layout-self-end_-_-ms-align-self:  flex-end;\n--layout-self-end_-_-webkit-align-self:  flex-end;\n--layout-self-end_-_align-self:  flex-end;;\n\n      --layout-self-stretch_-_-ms-align-self:  stretch;\n--layout-self-stretch_-_-webkit-align-self:  stretch;\n--layout-self-stretch_-_align-self:  stretch;;\n\n      --layout-self-baseline_-_-ms-align-self:  baseline;\n--layout-self-baseline_-_-webkit-align-self:  baseline;\n--layout-self-baseline_-_align-self:  baseline;;\n\n      \n\n      --layout-start-aligned_-_-ms-flex-line-pack:  start;\n--layout-start-aligned_-_-ms-align-content:  flex-start;\n--layout-start-aligned_-_-webkit-align-content:  flex-start;\n--layout-start-aligned_-_align-content:  flex-start;;\n\n      --layout-end-aligned_-_-ms-flex-line-pack:  end;\n--layout-end-aligned_-_-ms-align-content:  flex-end;\n--layout-end-aligned_-_-webkit-align-content:  flex-end;\n--layout-end-aligned_-_align-content:  flex-end;;\n\n      --layout-center-aligned_-_-ms-flex-line-pack:  center;\n--layout-center-aligned_-_-ms-align-content:  center;\n--layout-center-aligned_-_-webkit-align-content:  center;\n--layout-center-aligned_-_align-content:  center;;\n\n      --layout-between-aligned_-_-ms-flex-line-pack:  justify;\n--layout-between-aligned_-_-ms-align-content:  space-between;\n--layout-between-aligned_-_-webkit-align-content:  space-between;\n--layout-between-aligned_-_align-content:  space-between;;\n\n      --layout-around-aligned_-_-ms-flex-line-pack:  distribute;\n--layout-around-aligned_-_-ms-align-content:  space-around;\n--layout-around-aligned_-_-webkit-align-content:  space-around;\n--layout-around-aligned_-_align-content:  space-around;;\n\n      \n\n      --layout-block_-_display:  block;;\n\n      --layout-invisible_-_visibility:  hidden !important;;\n\n      --layout-relative_-_position:  relative;;\n\n      --layout-fit_-_position:  absolute;\n--layout-fit_-_top:  0;\n--layout-fit_-_right:  0;\n--layout-fit_-_bottom:  0;\n--layout-fit_-_left:  0;;\n\n      --layout-scroll_-_-webkit-overflow-scrolling:  touch;\n--layout-scroll_-_overflow:  auto;;\n\n      --layout-fullbleed_-_margin:  0;\n--layout-fullbleed_-_height:  100vh;;\n\n      \n\n      --layout-fixed-top_-_position:  fixed;\n--layout-fixed-top_-_top:  0;\n--layout-fixed-top_-_left:  0;\n--layout-fixed-top_-_right:  0;;\n\n      --layout-fixed-right_-_position:  fixed;\n--layout-fixed-right_-_top:  0;\n--layout-fixed-right_-_right:  0;\n--layout-fixed-right_-_bottom:  0;;\n\n      --layout-fixed-bottom_-_position:  fixed;\n--layout-fixed-bottom_-_right:  0;\n--layout-fixed-bottom_-_bottom:  0;\n--layout-fixed-bottom_-_left:  0;;\n\n      --layout-fixed-left_-_position:  fixed;\n--layout-fixed-left_-_top:  0;\n--layout-fixed-left_-_bottom:  0;\n--layout-fixed-left_-_left:  0;;\n}\n\n</style>\n'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content);var l=document.createElement("style");l.textContent="[hidden] { display: none !important; }",document.head.appendChild(l)},function(t,e,n){"use strict";n(10),n(56);var o,r=n(66),i=n(106),a=n(155),s=n(14),l=n(8),c=n(154),u=n(20),d=n(27),p=n(28),h=n(3),f=n(21);n(67);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var b,y,g=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),v=g&&g[1]>=8;Object(s.a)({_template:Object(h.a)(o||(b=['\n    <style>\n      :host {\n        display: block;\n      }\n\n      @media only screen and (-webkit-max-device-pixel-ratio: 1) {\n        :host {\n          will-change: transform;\n        }\n      }\n\n      #items {\n        @apply --iron-list-items-container;\n        position: relative;\n      }\n\n      :host(:not([grid])) #items > ::slotted(*) {\n        width: 100%;\n      }\n\n      #items > ::slotted(*) {\n        box-sizing: border-box;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        will-change: transform;\n      }\n    </style>\n\n    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector>\n\n    <div id="items">\n      <slot></slot>\n    </div>\n'],y||(y=b.slice(0)),o=Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(y)}})))),is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[c.a,r.a,i.a,a.a],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return Object(l.a)(Object(l.a)(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var t=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,t-this._physicalCount)},set _virtualStart(t){t=this._clamp(t,0,this._maxVirtualStart),this.grid&&(t-=t%this._itemsPerRow),this._virtualStartVal=t},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(t){(t%=this._physicalCount)<0&&(t=this._physicalCount+t),this.grid&&(t-=t%this._itemsPerRow),this._physicalStartVal=t},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(t){this._physicalCountVal=t},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var t=this._firstVisibleIndexVal;if(null==t){var e=this._physicalTop+this._scrollOffset;t=this._iterateItems((function(t,n){return(e+=this._getPhysicalSizeIncrement(t))>this._scrollPosition?this.grid?n-n%this._itemsPerRow:n:this.grid&&this._virtualCount-1===n?n-n%this._itemsPerRow:void 0}))||0,this._firstVisibleIndexVal=t}return t},get lastVisibleIndex(){var t=this._lastVisibleIndexVal;if(null==t){if(this.grid)t=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var e=this._physicalTop+this._scrollOffset;this._iterateItems((function(n,o){e<this._scrollBottom&&(t=o),e+=this._getPhysicalSizeIncrement(n)}))}this._lastVisibleIndexVal=t}return t},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,u.a),this.listen(this,"iron-resize","_resizeHandler"),this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler"),this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(t){this.style.webkitOverflowScrolling=t===this?"touch":"",this.style.overflowY=t===this?"auto":"",this._lastVisibleIndexVal=null,this._firstVisibleIndexVal=null,this._debounce("_render",this._render,u.a)},updateViewportBoundaries:function(){var t=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(t["padding-top"],10),this._isRTL=Boolean("rtl"===t.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var t=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),e=t-this._scrollPosition,n=e>=0;if(this._scrollPosition=t,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(e)>this._physicalSize&&this._physicalSize>0){e-=this._scrollOffset;var o=Math.round(e/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+o,this._physicalStart=this._physicalStart+o,this._physicalTop=Math.min(Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){var r=this._getReusables(n);n?(this._physicalTop=r.physicalTop,this._virtualStart=this._virtualStart+r.indexes.length,this._physicalStart=this._physicalStart+r.indexes.length):(this._virtualStart=this._virtualStart-r.indexes.length,this._physicalStart=this._physicalStart-r.indexes.length),this._update(r.indexes,n?null:r.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),u.c)}},_getReusables:function(t){var e,n,o,r=[],i=this._hiddenContentSize*this._ratio,a=this._virtualStart,s=this._virtualEnd,l=this._physicalCount,c=this._physicalTop+this._scrollOffset,u=this._physicalBottom+this._scrollOffset,d=this._scrollPosition,p=this._scrollBottom;for(t?(e=this._physicalStart,this._physicalEnd,n=d-c):(e=this._physicalEnd,this._physicalStart,n=u-p);n-=o=this._getPhysicalSizeIncrement(e),!(r.length>=l||n<=i);)if(t){if(s+r.length+1>=this._virtualCount)break;if(c+o>=d-this._scrollOffset)break;r.push(e),c+=o,e=(e+1)%l}else{if(a-r.length<=0)break;if(c+this._physicalSize-o<=p)break;r.push(e),c-=o,e=0===e?l-1:e-1}return{indexes:r,physicalTop:c-this._scrollOffset}},_update:function(t,e){if(!(t&&0===t.length||0===this._physicalCount)){if(this._manageFocus(),this._assignModels(t),this._updateMetrics(t),e)for(;e.length;){var n=e.pop();this._physicalTop-=this._getPhysicalSizeIncrement(n)}this._positionItems(),this._updateScrollerSize()}},_createPool:function(t){var e,n;this._ensureTemplatized();var o=new Array(t);for(e=0;e<t;e++)n=this.stamp(null),o[e]=n.root.querySelector("*"),this._itemsParent.appendChild(n.root);return o},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(t){var e=this._clamp(this._physicalCount+t,3,this._virtualCount-this._virtualStart);if(e=this._convertIndexToCompleteRow(e),this.grid){var n=e%this._itemsPerRow;n&&e-n<=this._physicalCount&&(e+=this._itemsPerRow),e-=n}var o=e-this._physicalCount,r=Math.round(.5*this._physicalCount);if(!(o<0)){if(o>0){var i=window.performance.now();[].push.apply(this._physicalItems,this._createPool(o));for(var a=0;a<o;a++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+o,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+o),this._update(),this._templateCost=(window.performance.now()-i)/o,r=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===r||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,r)),u.b):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,r),u.c))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var t=this._getReusables(!0);this._physicalTop=t.physicalTop,this._virtualStart=this._virtualStart+t.indexes.length,this._physicalStart=this._physicalStart+t.indexes.length,this._update(t.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){this._userTemplate=this.queryEffectiveChildren("template"),this._userTemplate||console.warn("iron-list requires a template to be provided in light-dom");var t={__key__:!0};t[this.as]=!0,t[this.indexAs]=!0,t[this.selectedAs]=!0,t.tabIndex=!0,this._instanceProps=t,this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(t,e){void 0!==e&&(this.notifyResize(),Object(p.b)(),t&&this._updateGridMetrics())},_itemsChanged:function(t){if("items"===t.path)this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,u.a);else if("items.splices"===t.path){if(this._adjustVirtualIndex(t.value.indexSplices),this._virtualCount=this.items?this.items.length:0,t.value.indexSplices.some((function(t){return t.addedCount>0||t.removed.length>0}))){var e=this._getActiveElement();this.contains(e)&&e.blur()}var n=t.value.indexSplices.some((function(t){return t.index+t.addedCount>=this._virtualStart&&t.index<=this._virtualEnd}),this);this._isClientFull()&&!n||this._debounce("_render",this._render,u.a)}else"items.length"!==t.path&&this._forwardItemPath(t.path,t.value)},_forwardItemPath:function(t,e){var n,o,r,i=(t=t.slice(6)).indexOf(".");-1===i&&(i=t.length);var a=this.modelForElement(this._offscreenFocusedItem),s=parseInt(t.substring(0,i),10);(n=this._isIndexRendered(s))?(o=this._getPhysicalIndex(s),r=this.modelForElement(this._physicalItems[o])):a&&(r=a),r&&r[this.indexAs]===s&&(t=t.substring(i+1),t=this.as+(t?"."+t:""),r._setPendingPropertyOrPath(t,e,!1,!0),r._flushProperties&&r._flushProperties(),n&&(this._updateMetrics([o]),this._positionItems(),this._updateScrollerSize()))},_adjustVirtualIndex:function(t){t.forEach((function(t){if(t.removed.forEach(this._removeItem,this),t.index<this._virtualStart){var e=Math.max(t.addedCount-t.removed.length,t.index-this._virtualStart);this._virtualStart=this._virtualStart+e,this._focusedVirtualIndex>=0&&(this._focusedVirtualIndex=this._focusedVirtualIndex+e)}}),this)},_removeItem:function(t){this.$.selector.deselect(t),this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===t&&this._removeFocusedItem()},_iterateItems:function(t,e){var n,o,r,i;if(2===arguments.length&&e){for(i=0;i<e.length;i++)if(n=e[i],o=this._computeVidx(n),null!=(r=t.call(this,n,o)))return r}else{for(n=this._physicalStart,o=this._virtualStart;n<this._physicalCount;n++,o++)if(null!=(r=t.call(this,n,o)))return r;for(n=0;n<this._physicalStart;n++,o++)if(null!=(r=t.call(this,n,o)))return r}},_computeVidx:function(t){return t>=this._physicalStart?this._virtualStart+(t-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+t},_assignModels:function(t){this._iterateItems((function(t,e){var n=this._physicalItems[t],o=this.items&&this.items[e];if(null!=o){var r=this.modelForElement(n);r.__key__=null,this._forwardProperty(r,this.as,o),this._forwardProperty(r,this.selectedAs,this.$.selector.isSelected(o)),this._forwardProperty(r,this.indexAs,e),this._forwardProperty(r,"tabIndex",this._focusedVirtualIndex===e?0:-1),this._physicalIndexForKey[r.__key__]=t,r._flushProperties&&r._flushProperties(!0),n.removeAttribute("hidden")}else n.setAttribute("hidden","")}),t)},_updateMetrics:function(t){Object(p.b)();var e=0,n=0,o=this._physicalAverageCount,r=this._physicalAverage;this._iterateItems((function(t,o){n+=this._physicalSizes[t],this._physicalSizes[t]=this._physicalItems[t].offsetHeight,e+=this._physicalSizes[t],this._physicalAverageCount+=this._physicalSizes[t]?1:0}),t),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(n=1===this._itemsPerRow?n:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+e-n,this._itemsPerRow=1),this._physicalAverageCount!==o&&(this._physicalAverage=Math.round((r*o+e)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=this._physicalCount>0?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=this._physicalCount>0?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var t=this._physicalTop;if(this.grid){var e=this._itemsPerRow*this._itemWidth,n=(this._viewportWidth-e)/2;this._iterateItems((function(e,o){var r=o%this._itemsPerRow,i=Math.floor(r*this._itemWidth+n);this._isRTL&&(i*=-1),this.translate3d(i+"px",t+"px",0,this._physicalItems[e]),this._shouldRenderNextRow(o)&&(t+=this._rowHeight)}))}else{var o=[];this._iterateItems((function(e,n){var r=this._physicalItems[e];this.translate3d(0,t+"px",0,r),t+=this._physicalSizes[e];var i=r.id;i&&o.push(i)})),o.length&&this.setAttribute("aria-owns",o.join(" "))}},_getPhysicalSizeIncrement:function(t){return this.grid?this._computeVidx(t)%this._itemsPerRow!=this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[t]},_shouldRenderNextRow:function(t){return t%this._itemsPerRow==this._itemsPerRow-1},_adjustScrollPosition:function(){var t=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==t){this._physicalTop=this._physicalTop-t;var e=this._scrollPosition;!v&&e>0&&this._resetScrollPosition(e-t)}},_resetScrollPosition:function(t){this.scrollTarget&&t>=0&&(this._scrollTop=t,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(t){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((t=(t=(t=t||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToItem:function(t){return this.scrollToIndex(this.items.indexOf(t))},scrollToIndex:function(t){if(!("number"!=typeof t||t<0||t>this.items.length-1)&&(Object(p.b)(),0!==this._physicalCount)){t=this._clamp(t,0,this._virtualCount-1),(!this._isIndexRendered(t)||t>=this._maxVirtualStart)&&(this._virtualStart=this.grid?t-2*this._itemsPerRow:t-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var e=this._physicalStart,n=this._virtualStart,o=0,r=this._hiddenContentSize;n<t&&o<=r;)o+=this._getPhysicalSizeIncrement(e),e=(e+1)%this._physicalCount,n++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+o),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",(function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._isVisible?(this.updateViewportBoundaries(),this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)}),u.a)},selectItem:function(t){return this.selectIndex(this.items.indexOf(t))},selectIndex:function(t){if(!(t<0||t>=this._virtualCount)){if(!this.multiSelection&&this.selectedItem&&this.clearSelection(),this._isIndexRendered(t)){var e=this.modelForElement(this._physicalItems[this._getPhysicalIndex(t)]);e&&(e[this.selectedAs]=!0),this.updateSizeForIndex(t)}this.$.selector.selectIndex(t)}},deselectItem:function(t){return this.deselectIndex(this.items.indexOf(t))},deselectIndex:function(t){if(!(t<0||t>=this._virtualCount)){if(this._isIndexRendered(t))this.modelForElement(this._physicalItems[this._getPhysicalIndex(t)])[this.selectedAs]=!1,this.updateSizeForIndex(t);this.$.selector.deselectIndex(t)}},toggleSelectionForItem:function(t){return this.toggleSelectionForIndex(this.items.indexOf(t))},toggleSelectionForIndex:function(t){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(t):this.$.selector.isSelected(this.items[t]))?this.deselectIndex(t):this.selectIndex(t)},clearSelection:function(){this._iterateItems((function(t,e){this.modelForElement(this._physicalItems[t])[this.selectedAs]=!1})),this.$.selector.clearSelection()},_selectionEnabledChanged:function(t){(t?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(t){var e=this.modelForElement(t.target);if(e){var n,o,r=Object(l.a)(t).path[0],i=this._getActiveElement(),a=this._physicalItems[this._getPhysicalIndex(e[this.indexAs])];"input"!==r.localName&&"button"!==r.localName&&"select"!==r.localName&&(n=e.tabIndex,e.tabIndex=-100,o=i?i.tabIndex:-1,e.tabIndex=n,i&&a!==i&&a.contains(i)&&-100!==o||this.toggleSelectionForItem(e[this.as]))}},_multiSelectionChanged:function(t){this.clearSelection(),this.$.selector.multi=t},updateSizeForItem:function(t){return this.updateSizeForIndex(this.items.indexOf(t))},updateSizeForIndex:function(t){return this._isIndexRendered(t)?(this._updateMetrics([this._getPhysicalIndex(t)]),this._positionItems(),null):null},_manageFocus:function(){var t=this._focusedVirtualIndex;t>=0&&t<this._virtualCount?this._isIndexRendered(t)?this._restoreFocusedItem():this._createFocusBackfillItem():this._virtualCount>0&&this._physicalCount>0&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_convertIndexToCompleteRow:function(t){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(t/this._itemsPerRow)*this._itemsPerRow:t},_isIndexRendered:function(t){return t>=this._virtualStart&&t<=this._virtualEnd},_isIndexVisible:function(t){return t>=this.firstVisibleIndex&&t<=this.lastVisibleIndex},_getPhysicalIndex:function(t){return(this._physicalStart+(t-this._virtualStart))%this._physicalCount},focusItem:function(t){this._focusPhysicalItem(t)},_focusPhysicalItem:function(t){if(!(t<0||t>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(t)||this.scrollToIndex(t);var e,n=this._physicalItems[this._getPhysicalIndex(t)],o=this.modelForElement(n);o.tabIndex=-100,-100===n.tabIndex&&(e=n),e||(e=Object(l.a)(n).querySelector('[tabindex="-100"]')),o.tabIndex=0,this._focusedVirtualIndex=t,e&&e.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedVirtualIndex=-1,this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function(){var t=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||this._focusedVirtualIndex<0)){if(!this._focusBackfillItem){var e=this.stamp(null);this._focusBackfillItem=e.root.querySelector("*"),this._itemsParent.appendChild(e.root)}this._offscreenFocusedItem=this._physicalItems[t],this.modelForElement(this._offscreenFocusedItem).tabIndex=0,this._physicalItems[t]=this._focusBackfillItem,this._focusedPhysicalIndex=t,this.translate3d(0,"-10000px",0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(this._focusedVirtualIndex<0)){this._assignModels();var t=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),e=this._physicalItems[t];if(e){var n=this.modelForElement(e),o=this.modelForElement(this._offscreenFocusedItem);n[this.as]===o[this.as]?(this._focusBackfillItem=e,n.tabIndex=-1,this._physicalItems[t]=this._offscreenFocusedItem,this.translate3d(0,"-10000px",0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null),this._offscreenFocusedItem=null}}},_didFocus:function(t){var e=this.modelForElement(t.target),n=this.modelForElement(this._focusedItem),o=null!==this._offscreenFocusedItem,r=this._focusedVirtualIndex;e&&(n===e?this._isIndexVisible(r)||this.scrollToIndex(r):(this._restoreFocusedItem(),n&&(n.tabIndex=-1),e.tabIndex=0,r=e[this.indexAs],this._focusedVirtualIndex=r,this._focusedPhysicalIndex=this._getPhysicalIndex(r),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],o&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(t){switch(t.keyCode){case 40:this._focusedVirtualIndex<this._virtualCount-1&&t.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusedVirtualIndex>0&&t.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this.selectionEnabled&&this._selectionHandler(t)}},_clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},_debounce:function(t,e,n){this._debouncers=this._debouncers||{},this._debouncers[t]=d.a.debounce(this._debouncers[t],n,e.bind(this)),Object(p.a)(this._debouncers[t])},_forwardProperty:function(t,e,n){t._setPendingProperty(e,n)},_forwardHostPropV2:function(t,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(n){n&&this.modelForElement(n).forwardHostProp(t,e)}),this)},_notifyInstancePropV2:function(t,e,n){if(Object(f.e)(this.as,e)){var o=t[this.indexAs];e==this.as&&(this.items[o]=n),this.notifyPath(Object(f.i)(this.as,"items."+o,e),n)}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(t,e,n){0===e.indexOf(this.as+".")&&this.notifyPath("items."+t.__key__+"."+e.slice(this.as.length+1),n)},_forwardParentPath:function(t,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(n){n&&this.modelForElement(n).notifyPath(t,e)}),this)},_forwardParentProp:function(t,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(n){n&&(this.modelForElement(n)[t]=e)}),this)},_getActiveElement:function(){var t=this._itemsParent.node.domHost;return Object(l.a)(t?t.root:document).activeElement}})},function(t,e,n){"use strict";n(10),n(163);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n<custom-style>\n  <style is="custom-style">\n    html {\n      /*\n       * You can use these generic variables in your elements for easy theming.\n       * For example, if all your elements use `--primary-text-color` as its main\n       * color, then switching from a light to a dark theme is just a matter of\n       * changing the value of `--primary-text-color` in your application.\n       */\n      --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      /*\n       * Primary and accent colors. Also see color.js for more colors.\n       */\n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      /*\n       * Material Design Light background theme\n       */\n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  /* for secondary text and icons */\n      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */\n      --light-theme-divider-color: #dbdbdb;\n\n      /*\n       * Material Design Dark background theme\n       */\n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */\n      --dark-theme-disabled-color: #646464;  /* disabled/hint text */\n      --dark-theme-divider-color: #3c3c3c;\n\n      /*\n       * Deprecated values because of their confusing names.\n       */\n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n    }\n  </style>\n</custom-style>'],(a=['\n<custom-style>\n  <style is="custom-style">\n    html {\n      /*\n       * You can use these generic variables in your elements for easy theming.\n       * For example, if all your elements use \\`--primary-text-color\\` as its main\n       * color, then switching from a light to a dark theme is just a matter of\n       * changing the value of \\`--primary-text-color\\` in your application.\n       */\n      --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      /*\n       * Primary and accent colors. Also see color.js for more colors.\n       */\n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      /*\n       * Material Design Light background theme\n       */\n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  /* for secondary text and icons */\n      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */\n      --light-theme-divider-color: #dbdbdb;\n\n      /*\n       * Material Design Dark background theme\n       */\n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */\n      --dark-theme-disabled-color: #646464;  /* disabled/hint text */\n      --dark-theme-divider-color: #3c3c3c;\n\n      /*\n       * Deprecated values because of their confusing names.\n       */\n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n    }\n  </style>\n</custom-style>'])||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";var o,r=n(30),i=n(58),a=n(2);n(45);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(h,t);var e,n,s,p=d(h);function h(){return l(this,h),p.apply(this,arguments)}return e=h,s=[{key:"is",get:function(){return"sb-search-model-load"}},{key:"properties",get:function(){return{quote:Object,sendQuoteRecord:{type:Boolean,value:!1},lineAggregationMethod:{type:String,value:null},processId:{type:String,value:null},actionId:{type:String,value:null},searchModel:{type:Object,notify:!0},filters:{type:Array},fieldSet:{type:String},error:{type:Array,notify:!0},loader:{type:String,value:null}}}},{key:"observers",get:function(){return["_loadObserver(quote, processId, actionId)"]}},{key:"template",get:function(){return Object(a.b)(o||(t=['\n\t\t\t<sb-service id="service" loader="[[loader]]" cache="searchModel" uid="[[uid]]" context="[[context]]" on-response-changed="handleResponseChanged" on-error-changed="handleErrorChanged"></sb-service>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"_loadObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.load(t,e,n)}},{key:"load",value:function(){this.uid=null;var t=(new r.a).add("processId",this.processId).add("actionId",this.actionId).add("filters",this.filters).add("fieldSet",this.fieldSet);if(this.sendQuoteRecord?t.addObject("quote",this.quote.record):t.addQuote("quote",this.quote),this.lineAggregationMethod){var e=new i.a(this.quote);if(e[this.lineAggregationMethod]){var n=e[this.lineAggregationMethod]();n&&t.addObject("aggregateLineData",n,void 0,void 0,!0)}}this.context=t.build()}},{key:"handleResponseChanged",value:function(t){this.searchModel=t.detail.value}},{key:"handleErrorChanged",value:function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message])}}])&&c(e.prototype,n),s&&c(e,s),Object.defineProperty(e,"prototype",{writable:!1}),h}(a.a);customElements.define(f.is,f)},function(t,e,n){"use strict";var o=n(77),r=n(85),i=n(42);function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s,l=function(){function t(e,n,o,r,i,a,s,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.groupField=e,n&&(this.groupedRecordFields=n.constructor!==Array?[n]:n),this.recordPath=o,this.itemProperties=r,this.itemPropertiesByGroup=i,this.groupProperties=a,this.groupCountPath=s,this.groupFieldType=l,this.groupFieldTypePath=c}var e,n,o;return e=t,(n=[{key:"group",value:function(t){for(var e=[],n={},o=0,r=t.length;o<r;o++){var i=t[o],a=this._get(i,this.recordPath)[this.groupField],s=null==a||""===a;a=s?"Other":a+"";var l=n[a];l||s||e.push(a),l=l||[],i.groupie=a,i.grouper=null,l.push(i),n[a]=l,this._setProperties(i,this.itemProperties),this._setProperties(i,this.itemPropertiesByGroup,a)}return n.Other&&e.push("Other"),this._sortItemsByGroup(e,n)}},{key:"_sortItemsByGroup",value:function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o],a=e[i],s=a.length;if(this.groupedRecordFields){for(var l={grouper:i,groupie:null},c=this._get(l,this.recordPath),u=0,d=this.groupedRecordFields.length;u<d;u++)c[this.groupedRecordFields[u]]=i;this.groupCountPath&&(this._get(l,this.groupCountPath.path)[this.groupCountPath.property]="("+s+")"),this.groupFieldType&&this.groupFieldTypePath&&(this._get(l,this.groupFieldTypePath.path)[this.groupFieldTypePath.property]="Other"!==i?this.groupFieldType:"string"),this._setProperties(l,this.groupProperties),n.push(l)}n=n.concat(a)}return n}},{key:"_get",value:function(t,e){if(!e)return t;for(var n=e.split("."),o=0,r=n.length;o<r;o++)t[n[o]]||(t[n[o]]={}),t=t[n[o]];return t}},{key:"_setProperties",value:function(t,e,n){if(e){if(n){if(!e[n])return;e=e[n]}for(var o in e)t[o]=e[o]}}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),c=n(6),u=n(4),d=n(5),p=n(11),h=n(2),f=n(106),b=n(103),y=n(3);var g,v,m,_=Object(y.b)(s||(g=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sbFieldWordWrap: break-word;\n}\n:host .datatable {\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n:host .tbody {\n  height: 100%;\n  overflow: auto;\n  display: block !important;\n}\n:host #list {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  min-height: 100%;\n  position: relative;\n}\n:host .loadingPartition {\n  position: relative;\n  height: 100px;\n  text-align: center;\n  padding: 18px;\n}\n:host .noResultsMessage {\n  width: 100%;\n  text-align: center;\n  top: 50%;\n  position: absolute;\n}\n'],v||(v=g.slice(0)),s=Object.freeze(Object.defineProperties(g,{raw:{value:Object.freeze(v)}}))));n(13),n(15),n(36),n(18),n(184),n(82),n(83),n(70),n(112);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=x(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function x(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=T(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function T(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}function I(t,e){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=M(t);if(e){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return B(this,n)}}function B(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(d,t);var e,n,a,s=j(d);function d(){return C(this,d),s.apply(this,arguments)}return e=d,a=[{key:"is",get:function(){return"sb-lookup-layout"}},{key:"properties",get:function(){return{selectedRows:{type:Object,value:{},notify:!0},searchModel:Object,totalCount:{type:String,notify:!0},hasTotalCount:{notify:!0},maxSelectAll:Number,selectionIdDataPath:String,parentAttributesPath:String,additionalFields:Array,fieldPrefix:{type:String,value:""},groupByField:String,groupByFieldType:String,viewport:{type:Object,value:function(){return c.a.getViewport()}},i18n:{type:Object,value:function(){return u.a.properties.i18n.value()}},primaryMobileCols:Array,_primaryMobileColumns:{type:Array,computed:"_getPrimaryMobileCols(primaryMobileCols, fieldSet)"},rowsByGrouper:Object,groups:Array,viewResultsIndexById:Object,viewResultsIds:Object,headerSelectionDisabled:{type:Boolean,computed:"_isDisableHeaderSelection(viewResults)"},headerSelectionTooltip:{type:String,computed:"_getHeaderSelectionTooltip(headerSelectionDisabled)"},mobileRowDetails:{type:Object,value:{}},keyPressed:{Type:Object,value:{}},lastClickedIndex:{Type:Number},noResultsMessage:String,_viewResults:Array,_hasViewResults:{type:Boolean,computed:"_computeHasViewResults(_viewResults)"}}}},{key:"observers",get:function(){return["_setViewResultsObserver(searchModel, fieldSet, groupByFieldType)","initFieldMetadata(searchModel)","updateTotalCount(searchModel.totalCount)","setDisplayResults(viewResults)","indexViewResults(viewResults)"]}},{key:"template",get:function(){return Object(h.b)(m||(m=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-field-md id="md"></sb-field-md>\n\t\t<div device id="datatable" class="datatable">\n\t\t\t<slot name="dynamic-header"></slot>\n\t\t\t\t<div class="thead">\n\t\t\t\t\t<sb-table-header id="header" selectable="[[fieldLabels]]" cols="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\theader-class-map="[[headerClassMap]]"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[labelWidths]]"\n\t\t\t\t\t\t\t\t\tselection-disabled="[[headerSelectionDisabled]]"\n\t\t\t\t\t\t\t\t\tselection-tooltip="[[headerSelectionTooltip]]"\n\t\t\t\t\t></sb-table-header>\n\t\t\t\t</div>\n\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\x3c!--Infinite scroll for ungrouped layout--\x3e\n\t\t\t\t\t<iron-list scroll-target="tbody" id="list" items="[[_viewResults]]" as="row">\n\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\tdisable-swipe="true"\n\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\t\trow-data="{{row.record}}"\n\t\t\t\t\t\t\t\t\tmodel="[[mdMap]]"\n\t\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\tselection-id-data-path="[[selectionIdDataPath]]"\n\t\t\t\t\t\t\t\t\tparent-attributes-path="[[parentAttributesPath]]"\n\t\t\t\t\t\t\t\t\tprimary-mobile-cols="[[_primaryMobileColumns]]"\n\t\t\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\t\t\tgrouper="[[row.grouper]]"\n\t\t\t\t\t\t\t\t\tgrouper-expanded="[[isExpanded(row.grouper, expandedGroupState)]]"\n\t\t\t\t\t\t\t\t\tgroupie="[[row.groupie]]"\n\t\t\t\t\t\t\t\t\tselected="[[isSelected(row.record)]]"\n\t\t\t\t\t\t\t\t\thidden$="[[row.hidden]]"\n\t\t\t\t\t\t\t\t\tignore-viewport-change="[[hasGroupedField]]"\n\t\t\t\t\t\t\t\t\troute-source="LookupLayout"\n\t\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t\tdefer-grouping="true"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\tforce-column-widths="[[hasGroupedField]]"\n\t\t\t\t\t\t\t\t\tmobile-expanded-details="[[_getExpandedDetails(row.record, index)]]"\n\t\t\t\t\t\t\t\t\tmobile-selected-details="[[_getSelectedDetails(row.record, index)]]"\n\t\t\t\t\t\t\t\t\texpand-disabled="[[expandDisabled]]"\n\t\t\t\t\t\t\t\t\tname$="[[row.record.Name]]"\n\t\t\t\t\t\t\t\t\tno-data-propagation="true"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</iron-list>\n\t\t\t\t</div>\n\t\t\t<template is="dom-if" if="[[!_hasViewResults]]">\n\t\t\t\t<div class="noResultsMessage">[[noResultsMessage]]</div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),_)}}],(n=[{key:"ready",value:function(){P(M(d.prototype),"ready",this).call(this),this._setupKeyPressListeners(),this.handleAllRowsSelected(),this.handleOneRowSelected(),this.handleMetaDataResponse(),this.addEventListener("sb-mobile-row-expanded",this.expandMobileRow.bind(this)),this.addEventListener("sb-mobile-row-selected",this.selectMobileRow.bind(this)),this.addEventListener("sb-row-group-tapped",this.expandRowEventHandler.bind(this)),this.scrollTarget=this.$.tbody}},{key:"_setupKeyPressListeners",value:function(){window.addEventListener("keydown",function(t){this.keyPressed[t.keyCode]=!0}.bind(this)),window.addEventListener("keyup",function(t){delete this.keyPressed[t.keyCode]}.bind(this))}},{key:"_computeHasViewResults",value:function(t){return t&&t.length>0}},{key:"handleMetaDataResponse",value:function(){this.$.md.addEventListener("md-changed",function(t){this.initRecordKeysFieldLabelsAndTypeMap(t.detail.value.fields)}.bind(this))}},{key:"initFieldMetadata",value:function(){this.deSelectAll(),this.fieldMetadataInitialized||(this.$.md.object=this.searchModel.targetObjectName,this.fieldSetHandler=new o.a(this.searchModel,"resultFieldNames","resultFieldNamesTablet","resultFieldNamesPhone"),this.setFieldMetadata(),this.fieldMetadataInitialized=!0)}},{key:"setFieldMetadata",value:function(){if(this.fieldSet=this.fieldSetHandler.getByViewport(this.viewport),this.$.md.name===this.fieldSet.name)return!1;this.$.md.fields=void 0,this.$.md.name=this.fieldSet.name;var t=this.fieldSet.fields;Array.isArray(this.additionalFields)&&(t=this.fieldSet.fields.concat(this.additionalFields)),this.groupByField&&-1===t.indexOf(this.groupByField)&&(t=[this.groupByField].concat(t)),this.$.md.fields=t}},{key:"initRecordKeysFieldLabelsAndTypeMap",value:function(t){var e=[],n=[],o={},a={},s={},l={},c={},u={};t.forEach(function(t,i){if(this.groupByField!==t.name||(this.groupByFieldType=t.type,-1!==this.fieldSet.fields.indexOf(t.name))){var d="UnitPrice"===t.name?t.name:this.fieldPrefix+t.name;e.push(d),n.push(t.label),o[d]=t.label,a[d]=t,"currency"===t.type.toLowerCase()&&(a[d].CurrencyIsoCode=this.currencyIsoCode);var p=t.type;if(!this.isMobileViewport()){var h=new r.c(t).getImageWidth(20);if(h){var f={width:h,properties:["width"]};c[d]=f,u[i]=f}}s[t.label.replace(/\W/g,"")]=p,l[d]=p}}.bind(this)),void 0===this.groupByFieldType&&(this.groupByFieldType=null),this.headerClassMap=new i.a(Object.keys(s),"Th",s,null,!0).build(),this.rowClassMap=new i.a(e,"Td",l).build(),this.columnWidths=c,this.labelWidths=u,this.mdMap=a,this.recordKeys=e,this.fieldLabels=n,this.fieldLabelMap=o}},{key:"handleAllRowsSelected",value:function(){this.addEventListener("header-selection-changed",function(t){this.selectAllClicked=!0;var e=t.detail.selected;this.toggleRowSelections(e),this.selectAllClicked=!1}.bind(this))}},{key:"toggleRowSelections",value:function(t,e,n){var o=[],r=this.$.tbody.querySelectorAll("sb-table-row");if(r&&r.length>0){var i,a=k(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=s.get("rowData."+this.selectionIdDataPath);o.push(l),n&&(s.index<n.start||s.index>n.end)||null!=e&&(s.grouper||s.groupie&&s.groupie!==e)||this._isValidViewResultId(l)&&(s.selected=t)}}catch(t){a.e(t)}finally{a.f()}}var c=null!=e?this.rowsByGrouper[e]:this.viewResults;if(null!=c){n||(n={start:0,end:c.length-1});for(var u=n.start;u<=n.end;u++){var d=c[u],p=this.get("record."+this.selectionIdDataPath,d);if(-1===o.indexOf(p)){var h=void 0===this.parentAttributesPath?void 0:this.get("record."+this.parentAttributesPath,d);this.selectOneRow(t,p,d.record,h,d.grouper)}}}}},{key:"handleOneRowSelected",value:function(){this.addEventListener("selection-changed",function(t){document.getSelection().removeAllRanges(),this.selectAllClicked||this.handleRangeSelection(t);var e=t.detail.selected,n=t.detail.Id,o=t.detail.group,r=t.detail.autoSelectGroupRows;this.selectOneRow(e,n,t.detail.rowData,t.detail.attributes,o),null!=o&&r&&this.toggleRowSelections(e,o)}.bind(this))}},{key:"handleRangeSelection",value:function(t){if(this.keyPressed[16]&&null!=this.lastClickedIndex&&!this.internal&&!this.groupByFieldType){this.internal=!0;var e=Math.min(this.lastClickedIndex,t.detail.index),n=Math.max(this.lastClickedIndex,t.detail.index);this.toggleRowSelections(t.detail.selected,null,{start:e,end:n}),this.internal=!1}t.composedPath()[0]._selectedChangeByParent||(this.lastClickedIndex=t.detail.index)}},{key:"selectOneRow",value:function(t,e,n,o,r){t&&(null===this.selectedRows&&(this.selectedRows={}),this.selectedRows[e]={record:{Id:e,attributes:o,UnitPrice:n.UnitPrice},index:this.viewResultsIndexById[e],invalid:null!=r}),!t&&this.selectedRows&&delete this.selectedRows[e]}},{key:"deSelectAll",value:function(){this.$.header&&(this.$.header.selected=void 0,this.$.header.selected=!1)}},{key:"_setViewResultsObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setViewResults(t,e,n)}},{key:"setViewResults",value:function(){this.selectedRows={},this.viewResultsIds=null,this.viewResultsIndexById=null;var t=this.getViewResults(this.searchModel.results);if(this.hasGroupedField=!!this.groupByField,this.isMobileViewport()&&this._resetMobileDetails(),this.hasGroupedField)if(this.viewResults&&(t=JSON.parse(JSON.stringify(this.getViewResults(this.searchModel.results)))),this.isMobileViewport())this.viewResults=t;else{var e=[this.fieldSet.fields[0],"Id"],n="record."+this.searchModel.targetObjectName,o={path:"record._transient_."+this.searchModel.targetObjectName+"."+e[0],property:"suffix"},r={path:"record._transient_."+this.searchModel.targetObjectName+"."+e[0]+".md",property:"type"};t=new l(this.groupByField,e,n,{hidden:!0},{},{hidden:!1},o,this.groupByFieldType,r).group(t),this.rowsByGrouper={},this.groups=[],this.viewResultsIds=[],this.viewResultsIndexById={};var i,a=0,s=k(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;this._indexViewResult(c,a++),c.grouper?(this.rowsByGrouper[c.grouper]=[],this.groups.push(c)):this.rowsByGrouper[c.groupie]&&this.rowsByGrouper[c.groupie].push(c)}}catch(t){s.e(t)}finally{s.f()}if(this.viewResults=t,this.expandedGroupState={},this.viewResults.length===this.searchModel.results.length+1){var u=this.viewResults[0].grouper;this.expandRowEventHandler({path:[{index:0}],detail:{group:u}})}}else this.viewResults=t}},{key:"getViewResults",value:function(t){var e,n=this.org.prefix?this.org.prefix+"__":"",o=[],r=k(t||[]);try{for(r.s();!(e=r.n()).done;){var i=e.value,a={record:{}};for(var s in i.record)"UnitPrice"===s&&i.record.Product2&&i.record.Product2[n+"HidePriceInSearchResults__c"]?a.record[s]="":a.record[s]=i.record[s];o.push(a)}}catch(t){r.e(t)}finally{r.f()}return o}},{key:"setDisplayResults",value:function(){this.isMobileViewport()||!this.groupByField?this._viewResults=this.viewResults:this._viewResults=this.groups}},{key:"isSelected",value:function(t){if(!this.selectedRows)return!1;var e=this.get(this.selectionIdDataPath,t);return!!this.selectedRows[e]}},{key:"isExpanded",value:function(t,e){return!(!t||!e||!e[t])}},{key:"isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"updateTotalCount",value:function(){null!==this.searchModel.totalCount&&(this.totalCount=this.searchModel.totalCount),this.hasTotalCount=this.totalCount>0}},{key:"_getPrimaryMobileCols",value:function(t,e){if(void 0!==t&&void 0!==e){var n=[].concat(this.primaryMobileCols);if(n&&n.length>0&&this.fieldSet.name.endsWith("Phone")){var o=n[0].split("."),r=o.length>1?o[0]+".":"";n[0]=r+this.fieldSet.fields[0]}return n}}},{key:"expandMobileRow",value:function(t){var e=this.shadowRoot.querySelector("#list");this._setMobileExpandDetails(e,t.detail),e.notifyResize()}},{key:"selectMobileRow",value:function(t){var e=this.shadowRoot.querySelector("#list");this._setMobileSelectedDetails(e,t.detail)}},{key:"detached",value:function(){P(M(d.prototype),"detached",this).call(this),this.$.list._increasePoolIfNeeded=function(){}}},{key:"_setMobileExpandDetails",value:function(t,e){var n=e.index,o=e.id,r=e.expanded,i=e.path;this._setMobileDetails(t,n,o,"expanded",r,i)}},{key:"_setMobileSelectedDetails",value:function(t,e){var n=e.index,o=e.id,r=e.selected;this._setMobileDetails(t,n,o,"selected",r)}},{key:"_setMobileDetails",value:function(t,e,n,o,r,i){var a=t._computeVidx(e)%t._physicalCount;this.mobileRowDetails[a]||(this.mobileRowDetails[a]={});var s=this.mobileRowDetails[a];i&&(s.path=i),s.ids||(s.ids={}),s.ids[n]||(s.ids[n]={}),s.ids[n][o]=r}},{key:"expandRowEventHandler",value:function(t){var e=t.detail.group,n=(t.path||t.composedPath())[0].index+1,o=this.expandedGroupState[e]=!this.expandedGroupState[e];this._expandRow(o,e,this.rowsByGrouper,n)}},{key:"_expandRow",value:function(t,e,n,o){var r=null,i=this.shadowRoot.querySelector("#list"),a=n[e]||[];t?this.splice.apply(this,["_viewResults",o,0].concat(O(a))):(i._scrollPosition=Math.ceil(i._scrollPosition),r=i.firstVisibleIndex,this.splice("_viewResults",o,a.length)),Object(p.a)(this,this._adjustScrollAfterExpandRow.bind(this,i,r))}},{key:"_adjustScrollAfterExpandRow",value:function(t,e){null!=e?t.scrollToIndex(e):t._updateScrollerSize(!0)}},{key:"indexViewResults",value:function(){if(null==this.viewResultsIds){this.viewResultsIds=[],this.viewResultsIndexById={};var t,e=0,n=k(this.viewResults);try{for(n.s();!(t=n.n()).done;){var o=t.value;this._indexViewResult(o,e++)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_indexViewResult",value:function(t,e){var n=this.get("record."+this.selectionIdDataPath,t);this.viewResultsIds.push(n),this.viewResultsIndexById[n]=e}},{key:"_isValidViewResultId",value:function(t){return-1!==this.viewResultsIds.indexOf(t)}},{key:"_getMaxResultsToSelectAll",value:function(){return this.maxSelectAll||100}},{key:"_isDisableHeaderSelection",value:function(){return this.viewResults.length>this._getMaxResultsToSelectAll()}},{key:"_getHeaderSelectionTooltip",value:function(){if(this.headerSelectionDisabled)return this.i18n.l("Reduce search results to fewer than {0} to enable select all",[this._getMaxResultsToSelectAll()])}},{key:"_getExpandedDetails",value:function(t,e){return this._getMobileDetails(t,e,"expanded",!0)}},{key:"_getSelectedDetails",value:function(t,e){return this._getMobileDetails(t,e,"selected")}},{key:"_getMobileDetails",value:function(t,e,n,o){if(!this.isMobileViewport())return null;var r=this.shadowRoot.querySelector("#list"),i=r._computeVidx(e)%r._physicalCount,a=this.mobileRowDetails[i]||null;if(!a)return null;var s=this.get(this.selectionIdDataPath,t),l=!(!a.ids[s]||!a.ids[s][n]),c={};return c[n]=l,o&&(c.path=a.path),c}},{key:"_resetMobileDetails",value:function(){for(var t in this.mobileRowDetails){var e=this.mobileRowDetails[t];for(var n in e.ids)e.ids[n]={}}}},{key:"_scrollHandler",value:function(){this.isMobileViewport()&&(this.expandDisabled=!0,this._enabledExpand&&clearTimeout(this._enabledExpand),this._enabledExpand=setTimeout(function(){this.expandDisabled=!1}.bind(this),200))}},{key:"test_scrollToTarget",value:function(t){if(t){var e=t.index;null==e&&(e=this._findRowIndex(t)),e<0||this.shadowRoot.querySelector("#list").scrollToIndex(e)}}},{key:"_findRowIndex",value:function(t){if(!t)return-1;var e=Object.keys(t),n=e.length;if(0===n)return-1;for(var o=0,r=this.viewResults.length;o<r;o++){for(var i=this.viewResults[o].record,a=!0,s=0;s<n;s++)a=a&&i[e[s]]===t[e[s]];if(a)return o}return-1}}])&&E(e.prototype,n),a&&E(e,a),Object.defineProperty(e,"prototype",{writable:!1}),d}(Object(b.b)([f.a],Object(d.a)(u.a)));customElements.define(D.is,D)},function(t,e,n){"use strict";var o,r=n(2),i=n(87),a=n(3);var s,l,c,u=Object(a.b)(o||(s=["\n.sbLoadingMask {\n  background-color: var(--sbLoadingMaskColor);\n  opacity: 0.8;\n  z-index: 10001;\n  /* Firefox < 16 */\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n}\n.sbLoadingMask .sfSpinnerMessage {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: 140px;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  color: #1589ee;\n  text-align: center;\n  font-family: var(--sbPageFontFamily);\n  font-size: 1.1rem;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: fadein 1s;\n  /* Firefox < 16 */\n  -ms-animation: fadein 1s;\n  /* Internet Explorer */\n  -o-animation: fadein 1s;\n  /* Opera < 12.1 */\n  animation: fadein 1s;\n}\n.sbLoadingMask .sfSpinnerMessage .sfSpinnerStatus {\n  margin-top: 20px;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-ms-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.fixed {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.absolute {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.relative {\n  position: relative;\n  opacity: initial;\n}\n.slds-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%) rotate(90deg);\n  transform: translate(-50%, -50%) rotate(90deg);\n}\n*,\n:after,\n:before {\n  box-sizing: border-box;\n}\n.slds-spinner--brand .slds-spinner__dot-a:after,\n.slds-spinner--brand .slds-spinner__dot-a:before,\n.slds-spinner--brand .slds-spinner__dot-b:after,\n.slds-spinner--brand .slds-spinner__dot-b:before,\n.slds-spinner--brand.slds-spinner:after,\n.slds-spinner--brand.slds-spinner:before {\n  background-color: #1589ee;\n}\n.small {\n  width: 1.25rem;\n}\n.small .slds-spinner__dot-a:after,\n.small .slds-spinner__dot-a:before,\n.small .slds-spinner__dot-b:after,\n.small .slds-spinner__dot-b:before,\n.small.slds-spinner:after,\n.small.slds-spinner:before {\n  width: .25rem;\n  height: .25rem;\n}\n.small .slds-spinner__dot-a:before,\n.small .slds-spinner__dot-b:before,\n.small.slds-spinner:before {\n  -webkit-animation-name: dotsBounceBefore-medium;\n  animation-name: dotsBounceBefore-medium;\n  top: -0.125rem;\n  left: -0.125rem;\n}\n.small .slds-spinner__dot-a:after,\n.small .slds-spinner__dot-b:after,\n.small.slds-spinner:after {\n  -webkit-animation-name: dotsBounceAfter-medium;\n  animation-name: dotsBounceAfter-medium;\n  top: -0.125rem;\n  right: -0.125rem;\n}\n.large {\n  width: 2.75rem;\n}\n.large .slds-spinner__dot-a:after,\n.large .slds-spinner__dot-a:before,\n.large .slds-spinner__dot-b:after,\n.large .slds-spinner__dot-b:before,\n.large.slds-spinner:after,\n.large.slds-spinner:before {\n  width: .625rem;\n  height: .625rem;\n}\n.large .slds-spinner__dot-a:before,\n.large .slds-spinner__dot-b:before,\n.large.slds-spinner:before {\n  -webkit-animation-name: dotsBounceBefore-medium;\n  animation-name: dotsBounceBefore-medium;\n  top: -0.3125rem;\n  left: -0.3125rem;\n}\n.large .slds-spinner__dot-a:after,\n.large .slds-spinner__dot-b:after,\n.large.slds-spinner:after {\n  -webkit-animation-name: dotsBounceAfter-medium;\n  animation-name: dotsBounceAfter-medium;\n  top: -0.3125rem;\n  right: -0.3125rem;\n}\n.slds-spinner:after,\n.slds-spinner:before,\n.slds-spinner__dot-a:after,\n.slds-spinner__dot-a:before,\n.slds-spinner__dot-b:after,\n.slds-spinner__dot-b:before {\n  position: absolute;\n  content: '';\n  background: #9faab5;\n  border-radius: 50%;\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n}\n.slds-spinner:before {\n  -webkit-animation-delay: -0.083s;\n  animation-delay: -0.083s;\n}\n.slds-spinner:after {\n  -webkit-animation-delay: .416s;\n  animation-delay: .416s;\n}\n.slds-spinner__dot-a,\n.slds-spinner__dot-b {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.slds-spinner,\n.slds-spinner__dot-a,\n.slds-spinner__dot-b {\n  -webkit-transform-origin: 50% 50%;\n  transform-origin: 50% 50%;\n}\n.slds-spinner__dot-a {\n  -webkit-transform: rotate(60deg) translateY(0);\n  transform: rotate(60deg) translateY(0);\n}\n.slds-spinner__dot-b {\n  -webkit-transform: rotate(120deg) translateY(0);\n  transform: rotate(120deg) translateY(0);\n}\n.slds-spinner__dot-a:before {\n  -webkit-animation-delay: .083s;\n  animation-delay: .083s;\n}\n.slds-spinner__dot-b:before {\n  -webkit-animation-delay: 250ms;\n  animation-delay: 250ms;\n}\n.slds-spinner__dot-a:after {\n  -webkit-animation-delay: .583s;\n  animation-delay: .583s;\n}\n.slds-spinner__dot-b:after {\n  -webkit-animation-delay: 750ms;\n  animation-delay: 750ms;\n}\n@keyframes dotsBounceBefore-medium {\n  60% {\n    transform: translateX(0);\n    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53);\n  }\n  80% {\n    animation-timing-function: cubic-bezier(0, 1.11, 0.7, 1.43);\n    transform: translateX(-0.5rem);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes dotsBounceAfter-medium {\n  60% {\n    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53);\n    transform: translateX(0);\n  }\n  80% {\n    animation-timing-function: cubic-bezier(0, 1.11, 0.7, 1.43);\n    transform: translateX(0.5rem);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n"],l||(l=s.slice(0)),o=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))));n(15);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(a,t);var e,n,o,i=b(a);function a(){return p(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sf-loading-spinner"}},{key:"properties",get:function(){return{show:{type:Boolean,value:!1},position:{type:String,value:"fixed"},size:{type:String,value:"large"},message:{type:String,observing:{id:"RootState",path:["spinnerMessage"]},value:null},status:{type:String,observing:{id:"RootState",path:["spinnerStatus"]},value:null},showMessage:{type:Boolean,observing:{id:"RootState",path:["showSpinnerMessage"]},value:!1}}}},{key:"template",get:function(){return Object(r.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-icons-styles"></style>\n\n\t\t<div id="mask" class$="sbLoadingMask [[position]]" hidden$="[[!show]]">\n\t\t\t<div class$="slds-spinner--brand slds-spinner [[size]]">\n\t\t\t\t<div class="slds-spinner__dot-a"></div>\n\t\t\t\t<div class="slds-spinner__dot-b"></div>\n\t\t\t</div>\n\n\t\t\t<div class="sfSpinnerMessage" hidden$="[[messageIsHidden(showMessage, message)]]">\n\t\t\t\t[[message]]\n\n\t\t\t\t<div class="sfSpinnerStatus" hidden$="[[!status]]">\n\t\t\t\t\t<sb-i18n>Status</sb-i18n>: [[status]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),u)}}],(n=[{key:"messageIsHidden",value:function(t,e){return!t||!e}}])&&h(e.prototype,n),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(i.a)(r.a));customElements.define(v.is,v)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(10);var o=n(14);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t[" "](e),this.type=e&&e.type||"default",this.key=e&&e.key,e&&"value"in e&&(this.value=e.value)}var e,n,o;return e=t,(n=[{key:"value",get:function(){var e=this.type,n=this.key;if(e&&n)return t.types[e]&&t.types[e][n]},set:function(e){var n=this.type,o=this.key;n&&o&&(n=t.types[n]=t.types[n]||{},null==e?delete n[o]:n[o]=e)}},{key:"list",get:function(){if(this.type){var e=t.types[this.type];return e?Object.keys(e).map((function(t){return a[this.type][t]}),this):[]}}},{key:"byKey",value:function(t){return this.key=t,this.value}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();i[" "]=function(){},i.types={};var a=i.types;Object(o.a)({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(t,e,n){var o=new i({type:t,key:e});return void 0!==n&&n!==o.value?o.value=n:this.value!==o.value&&(this.value=o.value),o},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(t){t&&(this.value=this)},byKey:function(t){return new i({type:this.type,key:t}).value}})},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var a=r((function t(e,n,o){i(this,t),this.quoteLineOrProdId=e,this.lineKey=n,this.queryLimit=o,this.categoryIndex=0,this.errorMsg=null,this.searchKeyword=null,this.requestCount=0})),s={RootState:{fields:{spinnerMessage:{type:"string",localizable:!0,required:!0},spinnerStatus:{type:"string"},showSpinnerMessage:{type:"boolean",required:!0}}}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return f}));var o=n(101),r=n(61);function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function s(t){return o.a.import(t)}function l(t){var e=t.body?t.body:t,n=Object(r.b)(e.textContent,t.baseURI),o=document.createElement("style");return o.textContent=n,o}function c(t){for(var e=t.trim().split(/\s+/),n=[],o=0;o<e.length;o++)n.push.apply(n,i(u(e[o])));return n}function u(t){var e=s(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){var n=[];n.push.apply(n,i(h(e)));var o=e.querySelector("template");o&&n.push.apply(n,i(d(o,e.assetpath))),e._styles=n}return e._styles}function d(t,e){if(!t._styles){for(var n=[],o=t.content.querySelectorAll("style"),a=0;a<o.length;a++){var s=o[a],l=s.getAttribute("include");l&&n.push.apply(n,i(c(l).filter((function(t,e,n){return n.indexOf(t)===e})))),e&&(s.textContent=Object(r.b)(s.textContent,e)),n.push(s)}t._styles=n}return t._styles}function p(t){var e=s(t);return e?h(e):[]}function h(t){for(var e=[],n=t.querySelectorAll("link[rel=import][type~=css]"),o=0;o<n.length;o++){var r=n[o];if(r.import){var i=r.import,a=r.hasAttribute("shady-unscoped");if(a&&!i._unscopedStyle){var s=l(i);s.setAttribute("shady-unscoped",""),i._unscopedStyle=s}else i._style||(i._style=l(i));e.push(a?i._unscopedStyle:i._style)}}return e}function f(t){for(var e=t.trim().split(/\s+/),n="",o=0;o<e.length;o++)n+=b(e[o]);return n}function b(t){var e=s(t);if(e&&void 0===e._cssText){var n=y(e),o=e.querySelector("template");o&&(n+=function(t,e){for(var n="",o=d(t,e),r=0;r<o.length;r++){var i=o[r];i.parentNode&&i.parentNode.removeChild(i),n+=i.textContent}return n}(o,e.assetpath)),e._cssText=n||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}function y(t){for(var e="",n=h(t),o=0;o<n.length;o++)e+=n[o].textContent;return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));function o(){0}var r=[];function i(t){r.push(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));n(10);var o=n(91),r={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(t){this.multi?this._toggleSelected(t):this.selected=t},multiChanged:function(t){this._selection.multi=t,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&this.selectedItems.length>0&&(this.selectedValues=this.selectedItems.map((function(t){return this._indexToValue(this.indexOf(t))}),this).filter((function(t){return null!=t}),this)):o.a._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(t){t=t||[];var e=(this._valuesToItems(t)||[]).filter((function(t){return null!=t}));this._selection.clear(e);for(var n=0;n<e.length;n++)this._selection.setItemSelected(e[n],!0);this.fallbackSelection&&!this._selection.get().length&&(this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection))},_selectionChange:function(){var t=this._selection.get();this.multi?(this._setSelectedItems(t),this._setSelectedItem(t.length?t[0]:null)):null!=t?(this._setSelectedItems([t]),this._setSelectedItem(t)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(t){var e=this.selectedValues.indexOf(t);e<0?this.push("selectedValues",t):this.splice("selectedValues",e,1)},_valuesToItems:function(t){return null==t?null:t.map((function(t){return this._valueToItem(t)}),this)}},i=[o.a,r]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(10);var o=n(117),r=null,i={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){r=new o.a({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return r&&r.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(t){return void 0===t&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(t),!this.invalid},_getValidity:function(t){return!this.hasValidator()||this._validator.validate(t)}}},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return r}));var r=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.omitNull=e,this.omitRelationships=n,this.pretty=o,this.formatterOptions=r||{}}var e,n,r;return e=t,(n=[{key:"format",value:function(t,e){if(void 0!==t){if(null===t)return JSON.stringify(t);var n=this.pretty;"number"!=typeof n&&(n=n?2:null);var o=this,r=JSON.stringify(t,(function(t,e){return o._replacer(t,e,this)}),n);return!0===e?r:JSON.parse(r)}}},{key:"_replacer",value:function(t,e,n){if(void 0!==e&&"_transient_"!==t&&"ui_original_record"!==t){if(this.formatterOptions.cleanRootProperty===t){this.formatterOptions.cleanObj=n[this.formatterOptions.cleanPathFromRoot[0]];for(var o=1,r=this.formatterOptions.cleanPathFromRoot.length;o<r;o++)this.formatterOptions.cleanObj=this.formatterOptions.cleanObj?this.formatterOptions.cleanObj[this.formatterOptions.cleanPathFromRoot[o]]:void 0}if(this.omitNull&&null===e){var i=n[this.formatterOptions.keepIfDirtyWhenParentContains];if(null==i)return;if(null!=this.formatterOptions.keepIfDirtyAllowList)for(var a in this.formatterOptions.keepIfDirtyAllowList)if(-1!==this.formatterOptions.keepIfDirtyAllowList[a].indexOf(i[a]))return null;return this.formatterOptions.cleanObj&&null!=this.formatterOptions.cleanObj[t]?null:void 0}if(!(this.omitRelationships&&t.endsWith&&t.endsWith("__r")))return"#Error!"===e?this.omitNull?void 0:null:e}}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return rt}));var o=n(78),r=n(37),i=n(130),a=n(19);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */var b=/:host\(:dir\((ltr|rtl)\)\)/g,y=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,g=/:dir\((?:ltr|rtl)\)/,v=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),m=[],_=null,w="";function O(){w=document.documentElement.getAttribute("dir")}function k(t){t.__autoDirOptOut||t.setAttribute("dir",w)}function x(){O(),w=document.documentElement.getAttribute("dir");for(var t=0;t<m.length;t++)k(m[t])}var S=Object(a.a)((function(t){v||_||(O(),(_=new MutationObserver(x)).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));var e=Object(i.a)(t),n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(a,t);var n,o,r,i=p(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).__autoDirOptOut=!1,t}return n=a,r=[{key:"_processStyleText",value:function(t,n){return t=e._processStyleText.call(this,t,n),!v&&g.test(t)&&(t=this._replaceDirInCssText(t),this.__activateDir=!0),t}},{key:"_replaceDirInCssText",value:function(t){var e=t;return e=(e=e.replace(b,':host([dir="$1"])')).replace(y,':host([dir="$2"]) $1')}}],(o=[{key:"ready",value:function(){c(f(a.prototype),"ready",this).call(this),this.__autoDirOptOut=this.hasAttribute("dir")}},{key:"connectedCallback",value:function(){e.prototype.connectedCallback&&c(f(a.prototype),"connectedCallback",this).call(this),this.constructor.__activateDir&&(_&&_.takeRecords().length&&x(),m.push(this),k(this))}},{key:"disconnectedCallback",value:function(){if(e.prototype.disconnectedCallback&&c(f(a.prototype),"disconnectedCallback",this).call(this),this.constructor.__activateDir){var t=m.indexOf(this);t>-1&&m.splice(t,1)}}}])&&l(n.prototype,o),r&&l(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(e);return n.__activateDir=!1,n}));n(11);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function C(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?C():window.addEventListener("DOMContentLoaded",C);var E=n(8),P=n(41),T=n(27),I=n(20),j=n(21),B=n(12),M=(n(31),window.ShadyDOM),D=window.ShadyCSS;function A(t,e){return Object(B.a)(t).getRootNode()===e}function R(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!M||!D)return null;if(!M.handlesDynamicScoping)return null;var n=D.ScopingShim;if(!n)return null;var o=n.scopeForNode(t),r=Object(B.a)(t).getRootNode(),i=function(t){if(A(t,r)){var e=Array.from(M.nativeMethods.querySelectorAll.call(t,"*"));e.push(t);for(var i=0;i<e.length;i++){var a=e[i];if(A(a,r)){var s=n.currentScopeForNode(a);s!==o&&(""!==s&&n.unscopeNode(a,s),n.scopeNode(a,o))}}}};if(i(t),e){var a=new MutationObserver((function(t){for(var e=0;e<t.length;e++)for(var n=t[e],o=0;o<n.addedNodes.length;o++){var r=n.addedNodes[o];r.nodeType===Node.ELEMENT_NODE&&i(r)}}));return a.observe(t,{childList:!0,subtree:!0}),a}return null}var L=n(16);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=z(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function z(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function H(t,e){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=W(t);if(e){var r=W(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return V(this,n)}}function V(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */var Q=function(t){for(;t;){var e=Object.getOwnPropertyDescriptor(t,"observedAttributes");if(e)return e.get;t=Object.getPrototypeOf(t.prototype).constructor}return function(){return[]}},G=(Object(a.a)((function(t){var e=Object(o.a)(t),n=Q(e);return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(a,t);var e,o,r,i=U(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).__isUpgradeDisabled,t}return e=a,r=[{key:"observedAttributes",get:function(){return n.call(this).concat("disable-upgrade")}}],(o=[{key:"_initializeProperties",value:function(){this.hasAttribute("disable-upgrade")?this.__isUpgradeDisabled=!0:N(W(a.prototype),"_initializeProperties",this).call(this)}},{key:"_enableProperties",value:function(){this.__isUpgradeDisabled||N(W(a.prototype),"_enableProperties",this).call(this)}},{key:"_canApplyPropertyDefault",value:function(t){return N(W(a.prototype),"_canApplyPropertyDefault",this).call(this,t)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(t))}},{key:"attributeChangedCallback",value:function(t,e,n,o){"disable-upgrade"==t?this.__isUpgradeDisabled&&null==n&&(N(W(a.prototype),"_initializeProperties",this).call(this),this.__isUpgradeDisabled=!1,Object(B.a)(this).isConnected&&N(W(a.prototype),"connectedCallback",this).call(this)):N(W(a.prototype),"attributeChangedCallback",this).call(this,t,e,n,o)}},{key:"connectedCallback",value:function(){this.__isUpgradeDisabled||N(W(a.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){this.__isUpgradeDisabled||N(W(a.prototype),"disconnectedCallback",this).call(this)}}])&&F(e.prototype,o),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(e)})),n(120));function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){return function(t){if(Array.isArray(t))return Y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function X(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function J(){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Z(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Z(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}function tt(t,e){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ot(t);if(e){var r=ot(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return nt(this,n)}}function nt(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.ShadyCSS;var rt=Object(a.a)((function(t){var e=Object(r.a)(Object(o.a)(t)),n=o.b?e:S(e),i=Q(n),a={x:"pan-x",y:"pan-y",none:"none",all:"auto"},s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(s,t);var e,n,o,r=et(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this)).isAttached,t.__boundListeners,t._debouncers,t.__isUpgradeDisabled,t.__needsAttributesAtConnected,t._legacyForceObservedAttributes,t}return e=s,o=[{key:"importMeta",get:function(){return this.prototype.importMeta}},{key:"observedAttributes",get:function(){return L.d&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],Object(G.b)(this.prototype)),this.__observedAttributes):i.call(this).concat("disable-upgrade")}}],(n=[{key:"created",value:function(){}},{key:"__attributeReaction",value:function(t,e,n){(this.__dataAttributes&&this.__dataAttributes[t]||"disable-upgrade"===t)&&this.attributeChangedCallback(t,e,n,null)}},{key:"setAttribute",value:function(t,e){if(L.d&&!this._legacyForceObservedAttributes){var n=this.getAttribute(t);J(ot(s.prototype),"setAttribute",this).call(this,t,e),this.__attributeReaction(t,n,String(e))}else J(ot(s.prototype),"setAttribute",this).call(this,t,e)}},{key:"removeAttribute",value:function(t){if(L.d&&!this._legacyForceObservedAttributes){var e=this.getAttribute(t);J(ot(s.prototype),"removeAttribute",this).call(this,t),this.__attributeReaction(t,e,null)}else J(ot(s.prototype),"removeAttribute",this).call(this,t)}},{key:"_enableProperties",value:function(){this.__isUpgradeDisabled||J(ot(s.prototype),"_enableProperties",this).call(this)}},{key:"_canApplyPropertyDefault",value:function(t){return J(ot(s.prototype),"_canApplyPropertyDefault",this).call(this,t)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(t))}},{key:"connectedCallback",value:function(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(J(ot(s.prototype),"connectedCallback",this).call(this),this.isAttached=!0,this.attached())}},{key:"attached",value:function(){}},{key:"disconnectedCallback",value:function(){this.__isUpgradeDisabled||(J(ot(s.prototype),"disconnectedCallback",this).call(this),this.isAttached=!1,this.detached())}},{key:"detached",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n,o){e!==n&&("disable-upgrade"==t?this.__isUpgradeDisabled&&null==n&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,Object(B.a)(this).isConnected&&this.connectedCallback()):(J(ot(s.prototype),"attributeChangedCallback",this).call(this,t,e,n,o),this.attributeChanged(t,e,n)))}},{key:"attributeChanged",value:function(t,e,n){}},{key:"_initializeProperties",value:function(){if(L.e&&this.hasAttribute("disable-upgrade"))this.__isUpgradeDisabled=!0;else{var t=Object.getPrototypeOf(this);t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))||(this._registered(),t.__hasRegisterFinished=!0),J(ot(s.prototype),"_initializeProperties",this).call(this),this.root=this,this.created(),L.d&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}},{key:"_takeAttributes",value:function(){for(var t=this.attributes,e=0,n=t.length;e<n;e++){var o=t[e];this.__attributeReaction(o.name,null,o.value)}}},{key:"_registered",value:function(){}},{key:"ready",value:function(){this._ensureAttributes(),J(ot(s.prototype),"ready",this).call(this)}},{key:"_ensureAttributes",value:function(){}},{key:"_applyListeners",value:function(){}},{key:"serialize",value:function(t){return this._serializeValue(t)}},{key:"deserialize",value:function(t,e){return this._deserializeValue(t,e)}},{key:"reflectPropertyToAttribute",value:function(t,e,n){this._propertyToAttribute(t,e,n)}},{key:"serializeValueToAttribute",value:function(t,e,n){this._valueToNodeAttribute(n||this,t,e)}},{key:"extend",value:function(t,e){if(!t||!e)return t||e;for(var n,o=Object.getOwnPropertyNames(e),r=0;r<o.length&&(n=o[r]);r++){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}return t}},{key:"mixin",value:function(t,e){for(var n in e)t[n]=e[n];return t}},{key:"chainObject",value:function(t,e){return t&&e&&t!==e&&(t.__proto__=e),t}},{key:"instanceTemplate",value:function(t){var e=this.constructor._contentForTemplate(t);return document.importNode(e,!0)}},{key:"fire",value:function(t,e,n){n=n||{},e=null==e?{}:e;var o=new Event(t,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});o.detail=e;var r=n.node||this;return Object(B.a)(r).dispatchEvent(o),o}},{key:"listen",value:function(t,e,n){t=t||this;var o=this.__boundListeners||(this.__boundListeners=new WeakMap),r=o.get(t);r||(r={},o.set(t,r));var i=e+n;r[i]||(r[i]=this._addMethodEventListenerToNode(t,e,n,this))}},{key:"unlisten",value:function(t,e,n){t=t||this;var o=this.__boundListeners&&this.__boundListeners.get(t),r=e+n,i=o&&o[r];i&&(this._removeEventListenerFromNode(t,e,i),o[r]=null)}},{key:"setScrollDirection",value:function(t,e){Object(P.e)(e||this,a[t]||"auto")}},{key:"$$",value:function(t){return this.root.querySelector(t)}},{key:"domHost",get:function(){var t=Object(B.a)(this).getRootNode();return t instanceof DocumentFragment?t.host:t}},{key:"distributeContent",value:function(){var t=Object(E.a)(this);window.ShadyDOM&&t.shadowRoot&&ShadyDOM.flush()}},{key:"getEffectiveChildNodes",value:function(){return Object(E.a)(this).getEffectiveChildNodes()}},{key:"queryDistributedElements",value:function(t){return Object(E.a)(this).queryDistributedElements(t)}},{key:"getEffectiveChildren",value:function(){return this.getEffectiveChildNodes().filter((function(t){return t.nodeType===Node.ELEMENT_NODE}))}},{key:"getEffectiveTextContent",value:function(){for(var t,e=this.getEffectiveChildNodes(),n=[],o=0;t=e[o];o++)t.nodeType!==Node.COMMENT_NODE&&n.push(t.textContent);return n.join("")}},{key:"queryEffectiveChildren",value:function(t){var e=this.queryDistributedElements(t);return e&&e[0]}},{key:"queryAllEffectiveChildren",value:function(t){return this.queryDistributedElements(t)}},{key:"getContentChildNodes",value:function(t){var e=this.root.querySelector(t||"slot");return e?Object(E.a)(e).getDistributedNodes():[]}},{key:"getContentChildren",value:function(t){return this.getContentChildNodes(t).filter((function(t){return t.nodeType===Node.ELEMENT_NODE}))}},{key:"isLightDescendant",value:function(t){return this!==t&&Object(B.a)(this).contains(t)&&Object(B.a)(this).getRootNode()===Object(B.a)(t).getRootNode()}},{key:"isLocalDescendant",value:function(t){return this.root===Object(B.a)(t).getRootNode()}},{key:"scopeSubtree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return R(t,e)}},{key:"getComputedStyleValue",value:function(t){return(window.getComputedStyle(this).getPropertyValue(t)||"").trim()}},{key:"debounce",value:function(t,e,n){return this._debouncers=this._debouncers||{},this._debouncers[t]=T.a.debounce(this._debouncers[t],n>0?I.d.after(n):I.c,e.bind(this))}},{key:"isDebouncerActive",value:function(t){this._debouncers=this._debouncers||{};var e=this._debouncers[t];return!(!e||!e.isActive())}},{key:"flushDebouncer",value:function(t){this._debouncers=this._debouncers||{};var e=this._debouncers[t];e&&e.flush()}},{key:"cancelDebouncer",value:function(t){this._debouncers=this._debouncers||{};var e=this._debouncers[t];e&&e.cancel()}},{key:"async",value:function(t,e){return e>0?I.d.run(t.bind(this),e):~I.c.run(t.bind(this))}},{key:"cancelAsync",value:function(t){t<0?I.c.cancel(~t):I.d.cancel(t)}},{key:"create",value:function(t,e){var n=document.createElement(t);if(e)if(n.setProperties)n.setProperties(e);else for(var o in e)n[o]=e[o];return n}},{key:"elementMatches",value:function(t,e){return Object(E.b)(e||this,t)}},{key:"toggleAttribute",value:function(t,e){var n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(e=!n.hasAttribute(t)),e?(Object(B.a)(n).setAttribute(t,""),!0):(Object(B.a)(n).removeAttribute(t),!1)}},{key:"toggleClass",value:function(t,e,n){n=n||this,1==arguments.length&&(e=!n.classList.contains(t)),e?n.classList.add(t):n.classList.remove(t)}},{key:"transform",value:function(t,e){(e=e||this).style.webkitTransform=t,e.style.transform=t}},{key:"translate3d",value:function(t,e,n,o){o=o||this,this.transform("translate3d("+t+","+e+","+n+")",o)}},{key:"arrayDelete",value:function(t,e){var n;if(Array.isArray(t)){if((n=t.indexOf(e))>=0)return t.splice(n,1)}else if((n=Object(j.a)(this,t).indexOf(e))>=0)return this.splice(t,n,1);return null}},{key:"_logger",value:function(t,e){var n;switch(Array.isArray(e)&&1===e.length&&Array.isArray(e[0])&&(e=e[0]),t){case"log":case"warn":case"error":(n=console)[t].apply(n,K(e))}}},{key:"_log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logger("log",e)}},{key:"_warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logger("warn",e)}},{key:"_error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logger("error",e)}},{key:"_logf",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return["[%s::%s]",this.is,t].concat(n)}}])&&X(e.prototype,n),o&&X(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(n);return s.prototype.is="",s}))},function(module,__webpack_exports__,__webpack_require__){"use strict";var _core_Page_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),_data_format_DataBuilder_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_core_sb_page_container_PageContainer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_data_format_ErrorFormatter_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(38),_sb_filter_item_FilterItem_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(199),_Util_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_data_sb_service_Service_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(45),_forms_sb_field_Field_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(34),_sb_group_Group_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72),_services_sb_field_md_FieldMetadata_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(70),_templateObject;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=_superPropBase(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FilterLayout=function(_Page){_inherits(FilterLayout,_Page);var _super=_createSuper(FilterLayout);function FilterLayout(){return _classCallCheck(this,FilterLayout),_super.apply(this,arguments)}return _createClass(FilterLayout,[{key:"ready",value:function(){_get(_getPrototypeOf(FilterLayout.prototype),"ready",this).call(this),this.mdResponse(),this.handleEnterKeyPressed()}},{key:"handleEnterKeyPressed",value:function(){this.addEventListener("filter-item-field-keypress",function(t){13===t.detail.keyCode&&"function"==typeof this.enterCallback&&"reference"!==t.detail.itemType&&setTimeout(function(){this.enterCallback()}.bind(this),0)}.bind(this))}},{key:"_searchModelReadyObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.searchModelReady(t,e)}},{key:"searchModelReady",value:function searchModelReady(){if(!0!==this.searchModelInitialized){this.searchModelInitialized=!0,void 0===this.filterKey&&(this.filterKey=this.searchModel.hasCustomSearchFilters?"Id":"Name");var properties=this.filterPath.split(".");this.path="this.searchModel";var _iterator=_createForOfIteratorHelper(properties),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var property=_step.value;this.path+="."+property}}catch(t){_iterator.e(t)}finally{_iterator.f()}var searchFilters=eval(this.path);if(!1!==Array.isArray(searchFilters)){this.searchFilterModel=FilterLayout.setVisibleDynamicSearchFilters(searchFilters,this.filterDelegator);var allFields=FilterLayout.setSearchFilterFields(this.searchFilterModel,this.getSearchTable());this.fields=this.filterDelegator.buildFields(allFields)}}}},{key:"mdResponse",value:function(){this.$.md.addEventListener("md-changed",function(t){var e=t.detail.value;void 0!==e&&this.setFilterValueMap(e)}.bind(this))}},{key:"setFilterValueMap",value:function(t){if(void 0!==this.searchFilterModel){var e=[],n=[];for(var o in this.searchFilterModel){var r=this.searchFilterModel[o].targetFieldName;e.push(o+".value"),n.push(o),this.searchFilterModel[o].model=t.fieldsByObject[this.getSearchTable()][r]}JSON.stringify(this.groupItems)!==JSON.stringify(e)&&(this.groupItems=e),this.filterDelegator.skipDefaults&&this.searchFilterData||this.filterDelegator.setDefaultFilterValues(n,this.searchFilterModel).then(function(t){this.searchFilterData||(this.searchFilterData=t),this.filterDelegator.searchFilterModel=this.searchFilterModel,this.filterDelegator.groupItems=this.groupItems}.bind(this))}}},{key:"getSearchTable",value:function(){if(void 0!==this.searchModel)return this.filterDelegator.getSearchTable()}},{key:"focusFirstField",value:function(){this.isMobile()||this.$.panel.applyFocusToItem(0)}},{key:"runService",value:function(){if(void 0!==this.serviceLoader&&void 0!==this.quote){this.noSpinner||(this.spinner=!0);var t=FilterLayout.buildSearchModel(this.filterDelegator,this.getSearchContext(),this.actionId,this.resultLimit);this.sendQuoteRecord?t.addObject("quote",this.quote.record):t.addQuote("quote",this.quote);var e=t.build();return this.$.service.client.load(this.prefix,this.serviceLoader,null,e).then(function(t){"function"==typeof this.serviceCallback?this.serviceCallback(t):this.searchModel=this.localizer?this.localizer.localizeSearchModel(t):t,this.spinner=!1}.bind(this)).catch(function(t){this.error=Object(_data_format_ErrorFormatter_js__WEBPACK_IMPORTED_MODULE_3__.a)(t),this.spinner=!1}.bind(this))}}},{key:"prefix",get:function(){return this.app.org.prefix}},{key:"isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"getSearchContext",value:function(){return void 0===this.searchContext?null:this.searchContext.length>1?this.searchContext:null}}],[{key:"is",get:function(){return"sb-filter-layout"}},{key:"properties",get:function(){return Object(_Util_js__WEBPACK_IMPORTED_MODULE_5__.e)({searchModel:{type:Object,notify:!0},error:{type:Array,notify:!0},filterPath:{type:String,value:"searchFilters"},filterKey:String,filterDelegator:Object,searchFilterData:{type:Object,notify:!0},searchFilterModel:{type:Object,notify:!0},groupItems:{type:Array,notify:!0},serviceLoader:String,quote:Object,enterCallback:Object,translationCallback:Object,serviceCallback:Object,spinner:{type:Boolean,notify:!0},sendQuoteRecord:{type:Boolean,value:!1},resultLimit:{type:Number,value:2e3},viewport:{type:Object,value:function(){return _core_sb_page_container_PageContainer_js__WEBPACK_IMPORTED_MODULE_2__.a.getViewport()}},searchContext:String},_core_Page_js__WEBPACK_IMPORTED_MODULE_0__.a.properties)}},{key:"observers",get:function(){return["_searchModelReadyObserver(searchModel, filterDelegator)"]}},{key:"setVisibleDynamicSearchFilters",value:function(t,e){var n,o={},r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e.getGroupKey(i),s=o[a];o[a]=i,s&&!1===s.hidden&&(o[a].hidden=!1)}}catch(t){r.e(t)}finally{r.f()}return o}},{key:"setSearchFilterFields",value:function(t,e){var n=[];for(var o in t)n.push(e+"."+t[o].targetFieldName);return n}},{key:"buildSearchModel",value:function(t,e,n,o){var r=(new _data_format_DataBuilder_js__WEBPACK_IMPORTED_MODULE_1__.a).addObject("filterContext",t.getFilterContext(),void 0,void 0,!0).add("searchContext",e).add("additional",t.getAdditionalProperties()).add("actionId",n).add("resultLimit",o);if("function"!=typeof t.getFieldSet)return r;var i=t.getFieldSet();return i?(r.addObject("fieldSet",i),r):r}},{key:"template",get:function(){return Object(_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_6__.b)(_templateObject||(_templateObject=_taggedTemplateLiteral(['\n\t\t<sb-field-md id="md" fields="[[fields]]" background="true"></sb-field-md>\n\t\t<sb-service id="service"></sb-service>\n\t\t<sb-group id="panel"\n\t\t\t\t  item="sb-filter-item"\n\t\t\t\t  data="{{searchFilterData}}"\n\t\t\t\t  model="[[searchFilterModel]]"\n\t\t\t\t  group="[[groupItems]]"\n\t\t></sb-group>\n\t\t'])))}}]),FilterLayout}(_core_Page_js__WEBPACK_IMPORTED_MODULE_0__.a);customElements.define(FilterLayout.is,FilterLayout)},function(t,e,n){"use strict";var o,r=n(30),i=n(2);n(127);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,n,a,u=p(h);function h(){return s(this,h),u.apply(this,arguments)}return e=h,a=[{key:"is",get:function(){return"sb-search-model-select"}},{key:"properties",get:function(){return{quote:Object,sendQuoteRecord:{type:Boolean,value:!1},stripQuoteLines:{type:Boolean,value:!1},selectedProducts:{type:Object,notify:!0},selectedProductList:Array,error:{type:Array,notify:!0},result:{type:Object,notify:!0},targetGroupKey:{type:Number,value:null},quoteProcess:{type:String,value:null},saver:String,background:{type:Boolean,value:!0},useCache:{type:Boolean,value:!0},usesClientCalculator:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_invokeSaverObserver(selectedProducts, quote)","_invokeSaver(selectedProductList)"]}},{key:"template",get:function(){return Object(i.b)(o||(t=['\n\t\t\t<sb-async-service id="service" cache="searchModel" saver="[[saver]]" background="[[background]]"></sb-async-service>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"ready",value:function(){c(f(h.prototype),"ready",this).call(this),this.$.service.addEventListener("response-changed",function(t){this.result=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}},{key:"_invokeSaverObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.invokeSaver(t,e)}},{key:"invokeSaver",value:function(){var t=[];for(var e in this.selectedProducts)t.push(this.selectedProducts[e]);this.selectedProductList=t}},{key:"_invokeSaver",value:function(){!0===this.useCache&&(this.$.service.uid=this.quote.record.Id.substring(0,15));var t=this.quote.lineItems,e=(new r.a).addObject("products",this.selectedProductList).add("targetGroupKey",this.targetGroupKey).addObject("quoteProcess",this.quoteProcess);this.sendQuoteRecord?e.addObject("quoteRecord",this.quote.record):this.stripQuoteLines&&this.usesClientCalculator?(this.quote.lineItems=[],this.quote.partialVO=0!=t.length,e.addQuote("quote",this.quote)):e.addQuote("quote",this.quote),this.$.service.model=e.build(),this.quote.lineItems=t,this.quote.partialVO=!1}}])&&l(e.prototype,n),a&&l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a);customElements.define(b.is,b)},function(t,e,n){"use strict";var o,r=n(32),i=n(2),a=(n(45),n(164),n(104));function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=d(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(f,t);var e,n,s,d=h(f);function f(){return l(this,f),d.apply(this,arguments)}return e=f,s=[{key:"is",get:function(){return"sb-async-service"}},{key:"properties",get:function(){return{reader:String,loader:String,saver:String,background:Boolean,response:{notify:!0},cache:String,uid:String,ignoreCache:{type:Boolean,value:!1},error:{type:Array,notify:!0}}}},{key:"isAsyncResponse",value:function(t){return!!(t&&t.recordId&&t.jobId&&t.jobType)}},{key:"parseAsyncResponse",value:function(t){return(new a.a).parse(t.payload)}},{key:"template",get:function(){return Object(i.b)(o||(t=['\n\t\t<sb-service\n\t\t\tid="service"\n\t\t\tsaver="[[saver]]"\n\t\t\treader="[[reader]]"\n\t\t\tloader="[[loader]]"\n\t\t\tcache="[[cache]]"\n\t\t\tuid="[[uid]]"\n\t\t\tmodel="[[model]]"\n\t\t\tcontext="[[context]]"\n\t\t\tignore-cache="[[ignoreCache]]"\n\t\t\tbackground="[[background]]"\n\t\t\terror="{{error}}"\n\t\t></sb-service>\n\t\t<sb-job-checker id="jobchecker" error="{{error}}"></sb-job-checker>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"ready",value:function(){u(b(f.prototype),"ready",this).call(this),this.$.service.addEventListener("response-changed",this.handleServiceResponse.bind(this)),this.$.jobchecker.addEventListener("result-changed",this.handleAsyncResponse.bind(this))}},{key:"setResponse",value:function(t){this.response=t}},{key:"handleServiceResponse",value:function(t){var e=t.detail.value;!0===f.isAsyncResponse(e)?this.pollAsyncJob(e):this.setResponse(e)}},{key:"handleAsyncResponse",value:function(t){var e=f.parseAsyncResponse(t.detail.value);this.swapCache(e),this.setResponse(e)}},{key:"swapCache",value:function(t){if(this.cache&&this.uid){var e=r.a.get(this.cache,this.uid);delete e.recordId,delete e.jobId,delete e.jobType,r.a.add(this.cache,this.uid,Object.assign(t,e))}}},{key:"pollAsyncJob",value:function(t){this.$.jobchecker.data={jobId:t.jobId,recordId:t.recordId,jobType:t.jobType}}}])&&c(e.prototype,n),s&&c(e,s),Object.defineProperty(e,"prototype",{writable:!1}),f}(i.a);customElements.define(y.is,y)},function(t,e,n){"use strict";n(10);var o,r=n(14),i=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var a,s,l=Object(r.a)({_template:Object(i.a)(o||(a=['\n    <style>\n      :host {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0px,0px,0px,0px);\n      }\n    </style>\n    <div aria-live$="[[mode]]">[[_text]]</div>\n'],s||(s=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(s)}})))),is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},timeout:{type:Number,value:150},_text:{type:String,value:""}},created:function(){l.instance||(l.instance=this),document.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(t){this._text="",this.async((function(){this._text=t}),this.timeout)},_onIronAnnounce:function(t){t.detail&&t.detail.text&&this.announce(t.detail.text)}});l.instance=null,l.requestAvailability=function(){l.instance||(l.instance=document.createElement("iron-a11y-announcer")),document.body?document.body.appendChild(l.instance):document.addEventListener("load",(function(){document.body.appendChild(l.instance)}))};var c,u=n(122),d=n(8);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(r.a)({_template:Object(i.a)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        display: inline-block;\n      }\n    </style>\n    <slot id="content"></slot>\n']))),is:"iron-input",behaviors:[u.a],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){l.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=Object(d.a)(this).observeNodes(function(t){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Object(d.a)(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var t;if(this.allowedPattern)t=new RegExp(this.allowedPattern);else switch(this.inputElement.type){case"number":t=/[0-9.,e-]/}return t},_bindValueChanged:function(t,e){e&&(void 0===t?e.value=null:t!==e.value&&(this.inputElement.value=t),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:t}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(t){var e=8==t.keyCode||9==t.keyCode||13==t.keyCode||27==t.keyCode,n=19==t.keyCode||20==t.keyCode||45==t.keyCode||46==t.keyCode||144==t.keyCode||145==t.keyCode||t.keyCode>32&&t.keyCode<41||t.keyCode>111&&t.keyCode<124;return!(e||0==t.charCode&&n)},_onKeypress:function(t){if(this.allowedPattern||"number"===this.inputElement.type){var e=this._patternRegExp;if(e&&!(t.metaKey||t.ctrlKey||t.altKey)){this._patternAlreadyChecked=!0;var n=String.fromCharCode(t.charCode);this._isPrintable(t)&&!e.test(n)&&(t.preventDefault(),this._announceInvalidCharacter("Invalid character "+n+" not entered."))}}},_checkPatternValidity:function(){var t=this._patternRegExp;if(!t)return!0;for(var e=0;e<this.inputElement.value.length;e++)if(!t.test(this.inputElement.value[e]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var t=this.inputElement.checkValidity();return t&&(this.required&&""===this.bindValue?t=!1:this.hasValidator()&&(t=u.a.validate.call(this,this.bindValue))),this.invalid=!t,this.fire("iron-input-validate"),t},_announceInvalidCharacter:function(t){this.fire("iron-announce",{text:t})},_computeValue:function(t){return t}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var o,r=n(2),i=(n(18),n(128),n(11)),a=n(5),s=n(49),l=(n(13),n(47),n(15),n(3));var c,u,d,p=Object(l.b)(o||(c=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  position: relative;\n}\n:host iron-input {\n  width: 100%;\n}\n:host iron-input.inlineEdit {\n  width: 100%;\n  height: 100%;\n}\n:host iron-input.inlineEdit.discount {\n  width: 60%;\n  margin-right: 0.25rem;\n}\n:host iron-input.inlineEdit input {\n  height: 100%;\n  width: 100%;\n  border-radius: .25rem;\n  border: 1px solid #0070d2 !important;\n}\n:host iron-input.inlineEdit input:focus {\n  outline: none;\n}\n:host([class*='--mobile']) {\n  white-space: nowrap;\n}\n:host iron-input[class*='--mobile'] {\n  width: 95%;\n}\n:host iron-input.inlineEdit[class*='--mobile'] .discount {\n  width: 100%;\n}\n:host iron-input.inlineEdit[class*='--mobile'] input {\n  border: 1px solid #d8dde6 !important;\n  min-height: 41px;\n}\n:host .sb-icon-clear[class*='--mobile'] {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host .sb-icon-clear.hide[class*='--mobile'] {\n  visibility: hidden;\n}\n:host([class*='--mobile']) {\n  white-space: nowrap;\n}\n:host [class*='--mobile'] iron-input {\n  width: 95%;\n}\n:host [class*='--mobile'] iron-input.inlineEdit .discount {\n  width: 100%;\n}\n:host [class*='--mobile'] iron-input.inlineEdit input {\n  border: 1px solid #d8dde6 !important;\n  min-height: 41px;\n}\n:host [class*='--mobile'] .sb-icon-clear {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host [class*='--mobile'] .sb-icon-clear.hide {\n  visibility: hidden;\n}\n:host input[class*='--desktop'] {\n  width: var(--sidePanelInputWidth, var(--sbInputwidth, 85px));\n  max-width: var(--sbInputMaxWidth);\n  min-width: var(--sbInputMinWidth);\n  border: var(--sbInputborder, 1px solid #d8dde6);\n  border-radius: var(--sbTextboxRadius, 3px);\n}\n:host [class*='--desktop'] input {\n  width: var(--sidePanelInputWidth, var(--sbInputwidth, 85px));\n  max-width: var(--sbInputMaxWidth);\n  min-width: var(--sbInputMinWidth);\n  border: var(--sbInputborder, 1px solid #d8dde6);\n  border-radius: var(--sbTextboxRadius, 3px);\n}\n:host .numberInput[class*='--desktop'] {\n  text-align: right;\n}\n:host .numberInput.first[class*='--desktop'] {\n  text-align: left !important;\n}\n:host [class*='--desktop'] .numberInput {\n  text-align: right;\n}\n:host [class*='--desktop'] .numberInput.first {\n  text-align: left !important;\n}\n:host input::-ms-clear {\n  display: none;\n}\n"],u||(u=c.slice(0)),o=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}})))),h=n(1),f=n(6),b=n(0);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=O(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function O(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}function k(t,e){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=C(t);if(e){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(l,t);var e,n,o,a=x(l);function l(){return m(this,l),a.apply(this,arguments)}return e=l,o=[{key:"is",get:function(){return"sb-input"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:{type:String,observer:"changed",notify:!0},focusOnAttached:Boolean,inputType:{type:String,value:"text"},renderReadOnly:Boolean,viewport:{type:Object,value:function(){return f.a.getViewport()}},showClear:{type:Boolean,computed:"_showClear(viewport, inputType, disabled)"},disabled:{type:Boolean,value:!1},focused:{type:Boolean,value:!1},inputClass:{type:String,value:""}},s.a.properties)}},{key:"observers",get:function(){return["_hideClearIfEmptyObserver(value, showClear, focused)"]}},{key:"template",get:function(){return Object(r.b)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<iron-input device bind-value="{{value::change}}" class$="[[variant]]">\n\t\t\t<input id="myinput" device type$="[[inputType]]" pattern$="[[pattern]]" value="{{value::change}}" class$="myinput [[inputClass]]" on-focus="highlight" on-blur="blur" disabled$="[[disabled]]" on-keyup="propagateEsc">\n\t\t</iron-input>\n\t\t<span device>\n\t\t\t<template is="dom-if" if="[[showClear]]">\n\t\t\t\t<span id="clear" class="sb-icon-clear sf-icon-clear" on-click="clear"></span>\n\t\t\t</template>\n\t\t</span>\n\t\t'])),p)}}],(n=[{key:"_hideClearIfEmptyObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.hideClearIfEmpty(t,e,n)}},{key:"hideClearIfEmpty",value:function(){var t=this;this.showClear&&(this.shadowRoot.querySelector("#clear")?this._hideClearIfEmpty():Object(i.a)(this,(function(){t._hideClearIfEmpty()})))}},{key:"_hideClearIfEmpty",value:function(){Object(h.m)("hide",this.focused||null==this.value||""===this.value,this.shadowRoot.querySelector("#clear"))}},{key:"connectedCallback",value:function(){w(C(l.prototype),"connectedCallback",this).call(this),this.focusOnAttached&&this.focus()}},{key:"focus",value:function(){this.$.myinput.focus()}},{key:"blur",value:function(){this.fireChangeOnBlur(),this.dispatchEvent(Object(b.d)("blur")),this.focused=!1}},{key:"clear",value:function(){this.value=null,this.$.myinput.blur()}},{key:"highlight",value:function(){if(this.focused=!0,!this.viewport||!this.viewport.isMobile()){var t=this.value?this.value.length:0;this.$.myinput.setSelectionRange(0,t)}}},{key:"changed",value:function(t,e){void 0!==e?(this.changeOnNextBlur=!1,e!=t&&this.fireChangeEvent(t)):this.changeOnNextBlur=!0}},{key:"fireChangeEvent",value:function(t){this.dispatchEvent(Object(b.d)("change",{value:t}))}},{key:"fireChangeOnBlur",value:function(){this.changeOnNextBlur&&(this.fireChangeEvent(this.value),this.changeOnNextBlur=!1)}},{key:"propagateEsc",value:function(t){27===t.keyCode&&(this.renderReadOnly&&(this.$.myinput.value=this.value),this.dispatchEvent(Object(b.d)("sb-input-key",{keyCode:27})))}},{key:"_showClear",value:function(){return this.viewport&&this.viewport.isMobile()&&!this.disabled&&"date"!==this.inputType&&"datetime"!==this.inputType}}])&&_(e.prototype,n),o&&_(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(s.a)(Object(a.a)(r.a)));customElements.define(E.is,E)},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n(31);var o=n(19),r=n(62),i=n(131);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/for(var b={},y=HTMLElement.prototype;y;){for(var g=Object.getOwnPropertyNames(y),v=0;v<g.length;v++)b[g[v]]=!0;y=Object.getPrototypeOf(y)}var m=window.trustedTypes?function(t){return trustedTypes.isHTML(t)||trustedTypes.isScript(t)||trustedTypes.isScriptURL(t)}:function(){return!1};var _=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,n,o,i=p(u);function u(){return s(this,u),i.apply(this,arguments)}return e=u,o=[{key:"createPropertiesForAttributes",value:function(){for(var t=this.observedAttributes,e=0;e<t.length;e++)this.prototype._createPropertyAccessor(Object(r.b)(t[e]))}},{key:"attributeNameForProperty",value:function(t){return Object(r.a)(t)}}],(n=[{key:"_initializeProperties",value:function(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),c(f(u.prototype),"_initializeProperties",this).call(this)}},{key:"_initializeProtoProperties",value:function(t){for(var e in t)this._setProperty(e,t[e])}},{key:"_ensureAttribute",value:function(t,e){this.hasAttribute(t)||this._valueToNodeAttribute(this,e,t)}},{key:"_serializeValue",value:function(t){switch(a(t)){case"object":if(t instanceof Date)return t.toString();if(t){if(m(t))return t;try{return JSON.stringify(t)}catch(t){return""}}default:return c(f(u.prototype),"_serializeValue",this).call(this,t)}}},{key:"_deserializeValue",value:function(t,e){var n;switch(e){case Object:try{n=JSON.parse(t)}catch(e){n=t}break;case Array:try{n=JSON.parse(t)}catch(e){n=null,console.warn("Polymer::Attributes: couldn't decode Array as JSON: ".concat(t))}break;case Date:n=isNaN(t)?String(t):Number(t),n=new Date(n);break;default:n=c(f(u.prototype),"_deserializeValue",this).call(this,t,e)}return n}},{key:"_definePropertyAccessor",value:function(t,e){!function(t,e){if(!b[e]){var n=t[e];void 0!==n&&(t.__data?t._setPendingProperty(e,n):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=n))}}(this,t),c(f(u.prototype),"_definePropertyAccessor",this).call(this,t,e)}},{key:"_hasAccessor",value:function(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}},{key:"_isPropertyPending",value:function(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}])&&l(e.prototype,n),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(Object(i.a)(t))}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(31);var o=n(19),r=n(20),i=n(12);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=c(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var f=r.c,b=Object(o.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(c,t);var e,n,o,r=d(c);function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=r.call(this)).__dataEnabled=!1,t.__dataReady=!1,t.__dataInvalid=!1,t.__data={},t.__dataPending=null,t.__dataOld=null,t.__dataInstanceProps=null,t.__dataCounter=0,t.__serializing=!1,t._initializeProperties(),t}return e=c,o=[{key:"createProperties",value:function(t){var e=this.prototype;for(var n in t)n in e||e._createPropertyAccessor(n)}},{key:"attributeNameForProperty",value:function(t){return t.toLowerCase()}},{key:"typeForProperty",value:function(t){}}],(n=[{key:"_createPropertyAccessor",value:function(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}},{key:"_addPropertyToAttributeMap",value:function(t){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));var e=this.__dataAttributes[t];return e||(e=this.constructor.attributeNameForProperty(t),this.__dataAttributes[e]=t),e}},{key:"_definePropertyAccessor",value:function(t,e){Object.defineProperty(this,t,{get:function(){return this.__data[t]},set:e?function(){}:function(e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}})}},{key:"ready",value:function(){this.__dataReady=!0,this._flushProperties()}},{key:"_initializeProperties",value:function(){for(var t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}},{key:"_initializeInstanceProperties",value:function(t){Object.assign(this,t)}},{key:"_setProperty",value:function(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}},{key:"_getProperty",value:function(t){return this.__data[t]}},{key:"_setPendingProperty",value:function(t,e,n){var o=this.__data[t],r=this._shouldPropertyChange(t,e,o);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(t in this.__dataOld)&&(this.__dataOld[t]=o),this.__data[t]=e,this.__dataPending[t]=e),r}},{key:"_isPropertyPending",value:function(t){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(t))}},{key:"_invalidateProperties",value:function(){var t=this;!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,f.run((function(){t.__dataInvalid&&(t.__dataInvalid=!1,t._flushProperties())})))}},{key:"_enableProperties",value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:"_flushProperties",value:function(){this.__dataCounter++;var t=this.__data,e=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(t,e,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,n)),this.__dataCounter--}},{key:"_shouldPropertiesChange",value:function(t,e,n){return Boolean(e)}},{key:"_propertiesChanged",value:function(t,e,n){}},{key:"_shouldPropertyChange",value:function(t,e,n){return n!==e&&(n==n||e==e)}},{key:"attributeChangedCallback",value:function(t,e,n,o){e!==n&&this._attributeToProperty(t,n),l(h(c.prototype),"attributeChangedCallback",this)&&l(h(c.prototype),"attributeChangedCallback",this).call(this,t,e,n,o)}},{key:"_attributeToProperty",value:function(t,e,n){if(!this.__serializing){var o=this.__dataAttributes,r=o&&o[t]||t;this[r]=this._deserializeValue(e,n||this.constructor.typeForProperty(r))}}},{key:"_propertyToAttribute",value:function(t,e,n){this.__serializing=!0,n=arguments.length<3?this[t]:n,this._valueToNodeAttribute(this,n,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function(t,e,n){var o=this._serializeValue(e);"class"!==n&&"name"!==n&&"slot"!==n||(t=Object(i.a)(t)),void 0===o?t.removeAttribute(n):t.setAttribute(n,""===o&&window.trustedTypes?window.trustedTypes.emptyScript:o)}},{key:"_serializeValue",value:function(t){switch(a(t)){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}},{key:"_deserializeValue",value:function(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(t)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(31);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function o(t,e,n){return{index:t,removed:e,addedCount:n}}function r(t,e,n,r,i,s){var l,c=0,u=0,d=Math.min(n-e,s-i);if(0==e&&0==i&&(c=function(t,e,n){for(var o=0;o<n;o++)if(!a(t[o],e[o]))return o;return n}(t,r,d)),n==t.length&&s==r.length&&(u=function(t,e,n){var o=t.length,r=e.length,i=0;for(;i<n&&a(t[--o],e[--r]);)i++;return i}(t,r,d-c)),i+=c,s-=u,(n-=u)-(e+=c)==0&&s-i==0)return[];if(e==n){for(l=o(e,[],0);i<s;)l.removed.push(r[i++]);return[l]}if(i==s)return[o(e,[],n-e)];var p=function(t){for(var e=t.length-1,n=t[0].length-1,o=t[e][n],r=[];e>0||n>0;)if(0!=e)if(0!=n){var i=t[e-1][n-1],a=t[e-1][n],s=t[e][n-1],l=void 0;(l=a<s?a<i?a:i:s<i?s:i)==i?(i==o?r.push(0):(r.push(1),o=i),e--,n--):l==a?(r.push(3),e--,o=a):(r.push(2),n--,o=s)}else r.push(3),e--;else r.push(2),n--;return r.reverse(),r}(function(t,e,n,o,r,i){for(var s=i-r+1,l=n-e+1,c=new Array(s),u=0;u<s;u++)c[u]=new Array(l),c[u][0]=u;for(var d=0;d<l;d++)c[0][d]=d;for(var p=1;p<s;p++)for(var h=1;h<l;h++)if(a(t[e+h-1],o[r+p-1]))c[p][h]=c[p-1][h-1];else{var f=c[p-1][h]+1,b=c[p][h-1]+1;c[p][h]=f<b?f:b}return c}(t,e,n,r,i,s));l=void 0;for(var h=[],f=e,b=i,y=0;y<p.length;y++)switch(p[y]){case 0:l&&(h.push(l),l=void 0),f++,b++;break;case 1:l||(l=o(f,[],0)),l.addedCount++,f++,l.removed.push(r[b]),b++;break;case 2:l||(l=o(f,[],0)),l.addedCount++,f++;break;case 3:l||(l=o(f,[],0)),l.removed.push(r[b]),b++}return l&&h.push(l),h}function i(t,e){return r(t,0,t.length,e,0,e.length)}function a(t,e){return t===e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(190);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=window.__vfsettings?window.__vfsettings.localOauth:{},s="http://localhost:"+location.port+"/common/oauth",l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({redirectUri:s+"/callback"},a),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l.clientId&&l.clientSecret||console.warn(this._getNoOAuthClientKeyMessage());var n=jsforce.browser.Client.prototype._storeTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._storeTokens=function(t){n(t),localStorage.setItem(this._prefix+"_refresh_token",t.refresh_token)}.bind(jsforce.browser);var o=jsforce.browser.Client.prototype._removeTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._removeTokens=function(){o(),localStorage.removeItem(this._prefix+"_refresh_token")}.bind(jsforce.browser);var r=jsforce.browser.Client.prototype._getTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._getTokens=function(){var t=r();return t&&(t.refreshToken=localStorage.getItem(this._prefix+"_refresh_token")),t}.bind(jsforce.browser);var i=jsforce.browser.Client.prototype.isLoggedIn.bind(jsforce.browser);jsforce.browser.Client.prototype.isLoggedIn=function(){return!!i()&&this.connection.refreshToken}.bind(jsforce.browser),function(){localStorage.setItem(this._prefix+"_issued_at",(new Date).getTime()),document.cookie=this._prefix+"_loggedin=true;"}.bind(jsforce.browser)(),e&&jsforce.browser._storeTokens(e),jsforce.OAuth2.prototype.refreshToken=this._refresAccessToken,jsforce.browser.init(l)}var e,n,r;return e=t,r=[{key:"decodeTokenUrl",value:function(e){if(e){var n=t._getParameterByName("rt",e),o=t._getParameterByName("org",e),r=t._getParameterByName("id",e);return n&&o&&r?{refresh_token:n,instance_url:o,id:r,access_token:"xyz",issued_at:(new Date).getTime()}:void 0}}},{key:"_getParameterByName",value:function(t,e){t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}],(n=[{key:"login",value:function(){jsforce.browser.login()}},{key:"getConnection",value:function(){return jsforce.browser.isLoggedIn()?new Promise(function(t){jsforce.browser.once("connect",function(e){e.oik=l.oik,e.once("refresh",function(t){this.accessToken=t}.bind(this)),t(e)}.bind(this)),jsforce.browser.init(l)}.bind(this)):Promise.reject("Please login before establishing a connection at http://localhost:"+location.port+"/common/oauth")}},{key:"accessToken",set:function(t){localStorage.setItem(jsforce.browser._prefix+"_access_token",t)}},{key:"tokens",get:function(){return jsforce.browser._getTokens()},set:function(t){jsforce.browser._storeTokens(t)}},{key:"_getNoOAuthClientKeyMessage",value:function(){return'Need to add a \'.env.json\' file in the CPQ dir whose contents contains the Consumer Key and Consumer Secret of the Salesforce CPQ Connected App, and then execute a gulp compile.\n{"oauth_key": "<Consumer Key>, "oauth_secret": "<Consumer Secret>"}'}},{key:"_refresAccessToken",value:function(t,e){return this._transport.httpRequest({method:"POST",url:l.proxyUrl,body:"grant_type=refresh_token&refresh_token="+t+"&client_id="+this.clientId+"&client_secret="+this.clientSecret,headers:{"SalesforceProxy-Endpoint":this.tokenServiceUrl,"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var e;try{e=JSON.parse(t.body)}catch(t){}if(t.statusCode>=400){e=e||{error:"ERROR_HTTP_"+t.statusCode,error_description:t.body};var n=new Error(e.error_description);throw n.name=e.error,n}return e})).thenCall(e)}},{key:"encodeTokenUrl",value:function(){var t=jsforce.browser._getTokens(),e=t.refreshToken,n=encodeURIComponent(t.instanceUrl),o=encodeURIComponent(t.userInfo.url);return s+"?rt="+e+"&org="+n+"&id="+o}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(33),r=n(4),i=n(88),a=n(105);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e,n,o,r,s,l,c,u,d){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableName=e,this.searchField=n,this.hasFilter=o,this.lookupFieldFullName=r,this.resultsLimit=s,this.currentRecordFields=l,this.currentRecord=c,this.applyMruOptimization=u,this.fields=d,this.fieldTypeByName=d&&d.fieldTypeObjByName?d.fieldTypeObjByName:null,this.numberParser=new i.a,this.dateParser=new a.a(!0)}var e,n,l;return e=t,l=[{key:"_buildFields",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fieldNames",r=[].concat(t[n]),i=[],a=s(t.fieldsOfTypeLookup);try{for(a.s();!(e=a.n()).done;){var l=e.value;-1!==r.indexOf(l.name)&&i.push(o.a.getRelationshipField(l.name,l.table))}}catch(t){a.e(t)}finally{a.f()}return i.length>0&&(r=r.concat(i)),r}}],(n=[{key:"build",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="%",r="";null!=t&&""!==t&&(o=t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/%/g,"\\%").replace(/[*]+/g,"%"),r=t.replace(/\*/g,""),o.endsWith("%")||(o+="%"));var i=this.getScope(r),a="";this.hasFilter?a=" USING SCOPE ".concat(i,", LOOKUP ").concat(this.lookupFieldFullName):"mru"===i&&(a=" USING SCOPE mru");var s=this.getSelectClause(e),l=this.getWhereClause(o,t,n),c="mru"===i?"ORDER BY LastViewedDate DESC":"ORDER BY ".concat(this.searchField),u="".concat(s," FROM ").concat(this.tableName).concat(a," WHERE ").concat(l," ").concat(c," LIMIT ").concat(this.resultsLimit);if(this.hasFilter&&this.currentRecordFields&&Object.keys(this.currentRecordFields).length>0&&this.currentRecord){var d=0;for(var p in this.currentRecordFields){var h="function"==typeof this.currentRecord.getValue?this.currentRecord.getValue(p):this.currentRecord[p],f=this.currentRecordFields[p];this.omitField(h,f)||(0===d&&(u+=" BIND "),d++>0&&(u+=", "),u+="".concat(p," = ").concat(this.getBindValue(h,f)))}}return u}},{key:"getScope",value:function(t){if(!this.applyMruOptimization)return"everything";var e=null==t?0:t.length;if(e>2)return"everything";var n=r.a.user.lang;return e>0&&("zh_CN"===n||"zh_TW"===n||"ja"===n||"ko"===n||"th"===n)?"everything":"mru"}},{key:"omitField",value:function(t,e){return null==t&&(this.isNumericType(e)||this.isLookupType(e)||this.isDateType(e))}},{key:"getBindValue",value:function(t,e){return null==t?"''":!0===t||!1===t||this.isNumericType(e)||this.isDateType(e)?t:"'".concat(t,"'")}},{key:"isNumericType",value:function(t){switch(t){case"double":case"number":case"currency":case"percent":case"int":return!0}return!1}},{key:"isLookupType",value:function(t){switch(t){case"id":case"reference":return!0}return!1}},{key:"isDateType",value:function(t){switch(t){case"date":case"datetime":return!0}return!1}},{key:"getSelectClause",value:function(e){var n=e&&this.fields&&this.fields.fieldNames?t._buildFields(this.fields):[this.searchField];return n=n.filter((function(t){return"Id"!==t&&""!==t})),"SELECT Id, ".concat(n.join(","))}},{key:"getWhereClause",value:function(e,n,o){var r=["".concat(this.searchField," LIKE '").concat(e,"'")];if(!(o&&this.fields&&this.fields.additionalSearchFields&&this.fieldTypeByName))return r[0];var i,a=void 0,l=void 0,c=s(t._buildFields(this.fields,"additionalSearchFields"));try{for(c.s();!(i=c.n()).done;){var u=i.value,d=this.fieldTypeByName[u];if(null!=d&&null!=d.type&&(d=d.type),!this.isLookupType(d))if(this.isDateType(d)){if(null==n||""===n)continue;if(void 0===a&&(a=this.dateParser.parse(n)),null==a)continue;var p=a.toISOString().split("T")[0];"datetime"===d&&(p+="T00:00:00.000+0000"),r.push("".concat(u," >= ").concat(p))}else if(this.isNumericType(d)){if(null==n||""===n)continue;if(void 0===l&&(l=this.numberParser.parse(n,!0)),isNaN(l))continue;var h=l;"int"===d&&(h=parseInt(h)),r.push("".concat(u," >= ").concat(h))}else r.push("".concat(u," LIKE '").concat(e,"'"))}}catch(t){c.e(t)}finally{c.f()}return r.join(" OR ")}}])&&c(e.prototype,n),l&&c(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n(6),r=n(4),i=n(95);function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,i,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editable=e,this.metadata=n,this.i18n=i,this.type=a,this.viewport=s||o.a.getViewport(),this.appContext=r.a}var e,n,s;return e=t,(n=[{key:"format",value:function(t,e){var n={};if(null!=this.metadata.scale&&this.metadata.scale>=0&&(n.minimumFractionDigits=this.metadata.scale,n.maximumFractionDigits=this.metadata.scale),e&&("currency"===this.type?this._setCurrencyFormatOptions(n):"percent"===this.type&&(this._setPercentFormatOptions(n),t=null!=t?t/100:null)),this.editable&&this.isMobile()&&!i.a.isCommaDecimal()&&(n.useGrouping=!1),this.isNil(t))return null;try{var o=this.i18n.format(t,n);if("NaN"===o)throw new Error("".concat(t," is not a number"));return o}catch(e){return t}}},{key:"isNil",value:function(t){return null==t||""===t||isNaN(t)}},{key:"isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"_setCurrencyFormatOptions",value:function(t){t.style="currency",this.appContext.org.isMultiCurrencyOrg?(t.currency=this.metadata&&this.metadata.CurrencyIsoCode?this.metadata.CurrencyIsoCode:this.appContext.org.defaultCurrency,t.currencyDisplay="code"):(t.currencyDisplay="symbol",this.appContext.org.currencySymbol?t.currency="XXX":t.currency=this.appContext.org.defaultCurrency)}},{key:"_setPercentFormatOptions",value:function(t){t.style="percent"}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var o=n(57),r=(n(9),n(4));function i(t,e){var n=a(t,e),r=Object(o.a)(n);return r.formattedValue=n,r}function a(t,e){if(r.a.viewEncryptedDataEnabled)return t;if(null==t)return t;if(!e)return"*********";var n=e.mask,o=e.maskType;if(!n||!o)return t;var i="",a="";switch(t=t.toString(),o){case"sin":i="XXX-XXX-XXX".replace(/X/g,n),a=t.length>3?t.substring(t.length-3):t;break;case"ssn":i="XXX-XX-XXXX".replace(/X/g,n),a=t.length>4?t.substring(t.length-4):t;break;case"lastFour":if(t.length>4){var s=t.substring(t.length-4);return t.replace(t,n.repeat(t.length-4)).concat(s)}return t;case"nino":return"XX XX XX XX X";case"creditCard":i="XXXX-XXXX-XXXX-XXXX".replace(/X/g,n),a=t.length>4?t.substring(t.length-4):t;break;case"all":return t.replace(t,n.repeat(t.length))}return i.substring(0,i.length-a.length).concat(a)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n(58);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quote=e,this.products=n,this.groupKey=o,this.stripLinesThreshold=r,this.stripLinesMessage=i}var e,n,i;return e=t,(n=[{key:"reduceQuote",value:function(t){if(this.originalLines=this.quote.lineItems,this.quote.partialVO=!0,!1===t)return this.quote.lineItems=[],this.quote;var e=this.stripLinesMessage.replace("{0}",this.quote.record.Id).replace("{1}",this.stripLinesThreshold);return console.log(e),this._setAggregatedDataToQuote(),this._setNecessaryLineItemsToQuote(),this.quote}},{key:"_setAggregatedDataToQuote",value:function(){var t=new o.a(this.quote);this.quote.existingProductIds=t.getExistingProductIdsFromLines();var e=t.getSegmentTemplatesByDimensionTypeForGroupKey(this.groupKey);this.quote.segmentTemplatesByDimensionTypeByGroupKey={},this.quote.segmentTemplatesByDimensionTypeByGroupKey[(this.groupKey||-1)+""]=e,this.quote.emptyGroupKeys=t.getKeysOfEmptyGroups()}},{key:"_setNecessaryLineItemsToQuote",value:function(){this.products&&(this.requiredKeys=this._getNecessaryLineKeys());var t,e=[],n=r(this.quote.lineItems);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.requiredKeys.has(o.key)&&e.push(o)}}catch(t){n.e(t)}finally{n.f()}this.quote.lineItems=e}},{key:"revertQuote",value:function(){return this.quote.partialVO=!1,this.quote.lineItems=this.originalLines,delete this.quote.existingProductIds,delete this.quote.segmentTemplatesByDimensionTypeByGroupKey,delete this.quote.emptyGroupKeys,this.quote}},{key:"getRequiredKeys",value:function(){return this.requiredKeys}},{key:"_getNecessaryLineKeys",value:function(){var t=this,e="Quote__c"==this.quote.record.attributes.type?"":this.quote.record.attributes.type.slice(0,-8),n=new Set;return this.products.forEach((function(o){if(o.configuration&&o.configuration.lineItemKey)for(var r=t.quote.lineItems.length,i=0;i<r;i++){var a=t.quote.lineItems[i];if(a.key===o.configuration.lineItemKey){t._addLineKeyWithRecursiveCallOnChildrenAndSource(e,n,a);break}}if(o.upgradedAssetId)for(var s=t.quote.lineItems.length,l=0;l<s;l++){var c=t.quote.lineItems[l];if(c.record[e+"UpgradedAsset__c"]===o.upgradedAssetId&&c.record[e+"Existing__c"]){t._addLineKeyWithRecursiveCallOnChildrenAndSource(e,n,c);break}}})),n}},{key:"_addLineKeyWithRecursiveCallOnChildrenAndSource",value:function(t,e,n){var o=this;if(!e.has(n.key)){var r=n.record[t+"Bundle__c"],i=null!=n.sourceLineKey;(r||i)&&this.quote.lineItems.forEach((function(a){var s=r&&a.parentItemKey===n.key,l=i&&a.key===n.sourceLineKey;(s||l)&&o._addLineKeyWithRecursiveCallOnChildrenAndSource(t,e,a)})),e.add(n.key)}}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return a}));var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.product=e,this.prefix=n,this.messages={},this.setOptionConstraints()}var e,n,r;return e=t,(n=[{key:"setOptionConstraints",value:function(){var t=this;if(!this.product.constraints)return null;var e=this.prefix+"Type__c",n=this.prefix+"ConstrainedOption__c",o=this.prefix+"ConstrainingOption__c",r=this.prefix+"OptionConstraintGroup__c",i={byConstraining:{},byConstrained:{},constrainingByConstrained:{}};this.product.constraints.forEach((function(a){var s=a.record[e],l=a.record[n],c=a.record[o],u=a.record[r]?a.record[r].split(", "):null;t.setByConstraining(i,s,l,c),t.setByConstrained(i,s,l,c,u),"Exclusion"!==s||u||(t.setByConstraining(i,s,c,l),t.setByConstrained(i,s,c,l));var d=i.constrainingByConstrained[l]||[];d.push(t.getOption(c)),i.constrainingByConstrained[l]=d})),this.optionConstraints=i}},{key:"handleOptionConstraints",value:function(t,e){var n=this;if(this.optionConstraints&&this.optionConstraints.byConstraining[t]){var o=[],r=e||this.getOption(t).added;return this.getOption(t).selected=e,this.optionConstraints.byConstraining[t].forEach((function(e){var i=n.optionIsConstrained(e,t,r),a=n.getOption(e.option),s=a.selected,l=a._transient_&&a._transient_.rendered;o.push({optionId:e.option,disabledState:i,selected:s,rendered:l})})),o}}},{key:"getUnrenderedConstraining",value:function(t){return(this.optionConstraints.constrainingByConstrained[t]||[]).filter((function(t){return!t._transient_||!t._transient_.rendered}))}},{key:"optionIsConstrained",value:function(t,e,n){var o=t.type,r=this.optionConstraints.byConstrained[t.option],i=Object.keys(r.groups).length>0,a=this.isConstrainedByUngrouped(r);return!!a.constrained||(i?this.isConstrainedByGrouped(r.groups):this.getUnaffectedDisabledState(e,n,"Dependency"===o,a.requiredConditionMet))}},{key:"isConstrainedByUngrouped",value:function(t){for(var e=!1,n=!1,o=!1,r=t.ungroupedConstraints,i=r?r.length:-1,a=0;!e&&a<i;){var s=this.getOption(r[a].option),l=r[a].type;"Exclusion"===l?e=this.isSelected(s):"Dependency"!==l||o||(n=!(o=this.isSelected(s))),a++}return{constrained:e||n,requiredConditionMet:o}}},{key:"isConstrainedByGrouped",value:function(t){for(var e=!1,n=!0,o=!1,r=Object.keys(t).length,i=0;i<r;){var a=!1,s=t[Object.keys(t)[i]],l=s.type,c=s.options,u=c.length,d=0;if("Dependency"===l&&n&&!o){for(;!a&&d<u;){var p=this.getOption(c[d]);(a=!this.isSelected(p))||d!==u-1||(n=!1),d++}e=n}if("Exclusion"===l&&!o){for(;!a&&d<u;){var h=this.getOption(c[d]);(a=!this.isSelected(h))||d!==u-1||(o=!0),d++}e=o}i++}return e}},{key:"getOption",value:function(t){return this.product.options.find((function(e){return e.record.Id===t}))}},{key:"isSelected",value:function(t){return t&&(t.selected||t.added||!!t.priorOptionExists)}},{key:"getUnaffectedDisabledState",value:function(t,e,n,o){return n?!o&&!(e||this.getOption(t).priorOptionExists):e||!!this.getOption(t).priorOptionExists}},{key:"optionShouldBeDisabled",value:function(t){var e,n,o,r,i,a=this.optionConstraints.byConstrained[t];if(!a)return!1;if(e=a.ungroupedConstraints.length>=1,n=Object.keys(a.groups).length>=1,e)o=a.ungroupedConstraints[0].option;else{if(!n)return!1;o=a.groups[Object.keys(a.groups)[0]].options[0]}return r=this.isSelected(this.getOption(o)),i=this.optionConstraints.byConstraining[o].find((function(e){return e.option===t})),this.optionIsConstrained(i,o,r)}},{key:"setByConstraining",value:function(t,e,n,o){t.byConstraining[o]=t.byConstraining[o]||[],t.byConstraining[o].push({type:e,option:n})}},{key:"setByConstrained",value:function(t,e,n,o,r){t.byConstrained[n]=t.byConstrained[n]||{ungroupedConstraints:[],groups:{}},r?this.setConstrainedForGroups(t,e,n,o,r):this.setConstrainedForUngrouped(t,e,n,o)}},{key:"setConstrainedForGroups",value:function(t,e,n,r,i){var a,s=o(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;t.byConstrained[n].groups[l]=t.byConstrained[n].groups[l]||{type:e,options:[]},t.byConstrained[n].groups[l].options.push(r)}}catch(t){s.e(t)}finally{s.f()}}},{key:"setConstrainedForUngrouped",value:function(t,e,n,o){t.byConstrained[n].ungroupedConstraints.push({type:e,option:o})}},{key:"getConstrainingByConstrained",value:function(){return Object.values(this.optionConstraints.constrainingByConstrained)}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return r}));var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=e,this.options=n,this.option=o}var e,n,r;return e=t,(n=[{key:"isSourceLine",value:function(){return null!=this.option.priorBundledQuantity}},{key:"getLine",value:function(){return this.option}},{key:"getLines",value:function(){return this.options}},{key:"getSourceOrUpgrade",value:function(t,e){for(var n=0;n<this.options.length;n++){var o=t||this.options[n],r=e||this.options[n];if(r.sourceProductIds&&-1!=r.sourceProductIds.indexOf(o.record[this.prefix+"OptionalSKU__c"]))return this.options[n]}}},{key:"setSourceAndUpgrade",value:function(t,e){this.sourceOption=t,this.upgradeOption=e}},{key:"getSourceIdField",value:function(){return this.prefix+"OptionalSKU__c"}},{key:"getUpgradeConversionRateField",value:function(){return this.prefix+"UpgradeConversionRate__c"}},{key:"getSourceCurrentQuantityField",value:function(t){return t.selected?t.record[this.prefix+"Quantity__c"]:0}},{key:"getUpgradeCurrentQuantityField",value:function(t){return t.selected?t.record[this.prefix+"Quantity__c"]:0}},{key:"getSourcePriorQuantity",value:function(t){return t.priorBundledQuantity}},{key:"didSourceQuantityChange",value:function(t,e,n){return n.selected&&(t||!e.selected)}},{key:"didUpgradeQuantityChange",value:function(t,e){return e.selected&&!t}},{key:"isSelected",value:function(t){return t.selected}},{key:"setUpdatedQuantity",value:function(t,e,n,o){t.selected&&(t.record[this.prefix+"Quantity__c"]=n),e.selected&&(e.record[this.prefix+"Quantity__c"]=o)}},{key:"getSourceOption",value:function(){return this.sourceOption}},{key:"getUpgradeOption",value:function(){return this.upgradeOption}},{key:"setUpgradedAssetId",value:function(){var t=this.getSourceOrUpgrade(null,this.option);this.option.upgradedAssetId=t.upgradedAssetId}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return r}));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.upgradeHandler=e}var e,n,r;return e=t,(n=[{key:"setQuantitiesByRatio",value:function(){var t,e,n=this.upgradeHandler.isSourceLine();n?(t=this.upgradeHandler.getLine(),e=this._getUpgrade(t,null)):(e=this.upgradeHandler.getLine(),t=this._getSource(null,e)),t&&e&&(this.upgradeHandler.setSourceAndUpgrade(t,e),this._setAutomaticQuantity(t,e,n))}},{key:"_getSource",value:function(t,e){return this.upgradeHandler.getSourceOrUpgrade(t,e)}},{key:"_getUpgrade",value:function(t,e){return this.upgradeHandler.getSourceOrUpgrade(t,e)}},{key:"_setAutomaticQuantity",value:function(t,e,n){var o=this._getUpgradeRatio(t,e,this.upgradeHandler.getSourceIdField(),this.upgradeHandler.getUpgradeConversionRateField());if(null!=o){var r=this.upgradeHandler.getSourceCurrentQuantityField(t),i=this.upgradeHandler.getUpgradeCurrentQuantityField(e),a=o.split(":")[0],s=o.split(":")[1],l=r,c=i,u=this.upgradeHandler.getSourcePriorQuantity(t);r<0?(t.invalidQuantity=r,t.validQuantity=0):i<0&&(e.invalidQuantity=i,e.validQuantity=0),this.upgradeHandler.didSourceQuantityChange(n,t,e)?c=s/a*(u-r):this.upgradeHandler.didUpgradeQuantityChange(n,t)&&(l=u-i*(a/s)),l<0?(l=0,this.upgradeHandler.isSelected(e)&&i>(c=u*(s/a))&&(e.invalidQuantity=i,e.validQuantity=c)):c<0&&(c=0,this.upgradeHandler.isSelected(t)&&r>(l=u)&&(t.invalidQuantity=r,t.validQuantity=l)),this.upgradeHandler.setUpdatedQuantity(t,e,l,c)}}},{key:"_getUpgradeRatio",value:function(t,e,n,o){for(var r in e.upgradeSourcesBySourceProductId)if(r===t.record[n])return e.upgradeSourcesBySourceProductId[r][o]}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return te}));var o=n(43),r=n(156);var i=n(57),a=n(6),s=n(129);function l(t,e,n,r,a,l,c){return e?function(t,e,n,r,i,a){var l=new o.a(s.a.is);return l.addAttribute("value",2,"value",t),l.addAttribute("disabled",1,"disabled",e),l.addAttribute("input-class",1,"inputClass",n),l.addAttribute("input-type",1,"inputType",r),l.addAttribute("render-read-only",1,"renderReadOnly",i),l.addAttribute("pattern",1,"pattern",a),l.readOnlyKeyEvent="sb-input-key",l}(t,n,r,a||"text",l,c):Object(i.a)(t)}var c,u=n(2),d=(n(25),n(37)),p=n(11),h=n(5),f=n(17),b=n(49),y=n(4),g=n(29),v=n(105),m=n(0),_=n(1),w=n(3);var O,k,x,S=Object(w.b)(c||(O=["\n:host {\n  font-family: var(--sbPageFontFamily);\n}\ninput::-ms-clear {\n  display: none;\n  width: 0;\n  height: 0;\n}\n#dateContainer {\n  display: inline-block;\n  white-space: nowrap;\n  width: var(--sidePanelInputWidth);\n}\n#dateContainer.inlineEdit {\n  width: 100%;\n  height: 100%;\n  padding-right: 12px;\n}\n#dateContainer.inlineEdit input#dateInput {\n  width: 100%;\n  height: 100%;\n  border-radius: .25rem;\n  border: 1px solid #0070d2;\n}\n#dateContainer.inlineEdit input#dateInput:focus {\n  outline: none;\n}\n#dateInput {\n  height: 23px;\n  width: var(--datePickerWidth, 120px);\n  border: 1px solid #d8dde6;\n  border-radius: 3px;\n  font-size: 14px;\n  padding: 0 0 0 10px;\n  box-sizing: var(--datePickerBoxSizing);\n  font-family: var(--sbPageFontFamily);\n}\n#dateInput[invalid] {\n  border: 1px solid #a94442;\n  color: #a94442;\n}\n#dateInput[invalid]:focus {\n  outline-color: lightcoral;\n}\n#datePicker:hover {\n  cursor: default;\n}\n#datePicker {\n  opacity: 1;\n  position: var(--sidePanelDatepicker, absolute);\n  right: var(--sidePanelDatepickerRight);\n  background-color: #fff;\n  max-width: var(--sidePanelDatepickerWidth, 301px);\n  min-width: 301px;\n  min-height: 275px;\n  z-index: 9001;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  padding: 5px;\n}\n#datePicker > #dateTable > .table {\n  font-size: 12px;\n  width: 100%;\n  table-layout: fixed;\n}\n#datePicker > #dateTable > .table > .thead > .tr > .th,\n#datePicker > #dateTable > .table > .tbody > .tr > .td {\n  font-family: inherit;\n  text-align: center;\n  color: #54698D;\n  width: 41px;\n  height: 38px;\n  border-bottom: none;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td {\n  vertical-align: middle;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td:hover {\n  background-color: #F4F6F9;\n  border-radius: 50%;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td.current {\n  outline: none;\n  border-radius: 50%;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td.selected {\n  background-color: #005FB2;\n  color: #fff;\n  border-radius: 50%;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td.notCurrent {\n  color: lightgray;\n}\n#datePicker.sf-le-table-row #dateTable div.table div.tbody .tr .td {\n  width: 50px;\n}\n#today,\n#month,\n#month > span,\n#years {\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: -webkit-baseline-middle;\n}\nselect::-ms-expand {\n  display: none;\n  color: red;\n}\n#today {\n  font-style: italic;\n  font-weight: bold;\n  padding: 4px 0 0 10px;\n  cursor: pointer;\n}\n#month {\n  width: 65%;\n}\n#monthName {\n  width: 115px;\n  text-align: center;\n}\n#years {\n  width: 25%;\n}\n#dateBar > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  font-family: inherit;\n  padding: 0 14px;\n  height: 35px;\n  margin: 0;\n  text-transform: none;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3LjYgMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI3LjYgMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KICA8Zz4NCiAgICA8ZGVmcz4NCiAgICAgIDxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTUuNiA1aDE2LjRjMC40IDAgMC44IDAuNiAwLjQgMWwtOCA5LjhjLTAuMyAwLjMtMC45IDAuMy0xLjIgMGwtOC05LjhDNC44IDUuNiA1LjEgNSA1LjYgNXoiLz4NCiAgICA8L2RlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQogICAgICA8dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz4NCiAgICA8L2NsaXBQYXRoPg0KICAgIDxyZWN0IHg9IjAiIHk9IjAiIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiIGZpbGw9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K);\n  background-color: #fff;\n  background-position: 92% 50%;\n  background-repeat: no-repeat;\n  background-size: 18px 18px;\n  color: #000;\n  border: 1px solid #D8DDE6;\n  border-radius: 4px;\n  transition: border 0.1s linear, background-color 0.1s linear;\n}\n.sb-icon-calendar {\n  position: relative;\n  left: -25px;\n  cursor: pointer;\n}\n"],k||(k=O.slice(0)),c=Object.freeze(Object.defineProperties(O,{raw:{value:Object.freeze(k)}}))));n(15),n(36),n(13),n(24);function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function B(){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=M(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function M(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}function D(t,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=L(t);if(e){var r=L(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return R(this,n)}}function R(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q,F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(i,t);var e,n,o,r=A(i);function i(){return I(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-datepicker"}},{key:"properties",get:function(){return E(E({selectedDate:{type:Date,value:null,observer:"selectedDateChanged"},range:{type:Number,value:30},focusOnAttached:Boolean,i18n:{type:Object,value:function(){return y.a.properties.i18n.value()}},dateParser:{type:Object,value:function(){return new v.a}}},y.a.properties),b.a.properties)}},{key:"template",get:function(){return Object(u.b)(x||(x=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\n\t\t<span device>\n\t\t<div id="dateContainer" class$="[[variant]]">\n\t\t\t<input id="dateInput" type="text" value="{{dateFormatted::input}}" on-keydown="navigate" invalid$="{{invalidInput}}" on-blur="validateInput" disabled$="[[disabled]]"/></input>\n\t\t\t<input id="selectedDate" type="hidden" value="{{selectedDate}}"></input>\n\t\t\t<span id="open" class="sb-icon-calendar" on-click="showCalendar" on-down="preventBlur" on-up="allowBlur"></span>\n\t\t</div>\n\n\t\t<div id="datePicker" hidden$="{{!isActive}}" on-down="preventBlur" on-up="allowBlur">\n\t\t\t<div id="dateBar">\n\t\t\t\t<div id="today" on-click="findToday"><sb-i18n>t</sb-i18n></div>\n\t\t\t\t<div id="month" on-change="changeMonth">\n\t\t\t\t\t<span class="sb-icon-left-dir" on-click="decreaseMonth"></span>\n\t\t\t\t\t<span id="monthName">\n\t\t\t\t\t\t<span>{{monthName}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="sb-icon-right-dir" on-click="increaseMonth"></span>\n\t\t\t\t</div>\n\n\t\t\t\t<select id="years" on-change="changeYear" tabindex="-1">\n\t\t\t\t\t<template is="dom-repeat" items="{{years}}" as="year">\n\t\t\t\t\t\t<option>{{year}}</option>\n\t\t\t\t\t</template>\n\t\t\t\t</select>\n\n\t\t\t</div>\n\n\t\t\t<div id="dateTable">\n\t\t\t\t<div class="table">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t<template is="dom-repeat" items="{{weekDays}}">\n\t\t\t\t\t\t\t\t<div class="th">{{item}}</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{weeks}}" as="week">\n\t\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{week}}" as="day">\n\t\t\t\t\t\t\t\t\t<div class$="td {{getClass(day)}} {{getMonthDay(day)}}" on-click="selectDay">[[getDate(day)]]</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</span>\n\t\t'])),S)}}],(n=[{key:"events",get:function(){var t={};return t[m.a.PANEL_CLOSED]=this.hideCalendar,t}},{key:"ready",value:function(){B(L(i.prototype),"ready",this).call(this);var t=g.a.getLocaleData();this.isActive=!1,this.weeks=[],this.weekDays=t&&t.date?t.date.calendars.gregory.days.short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.months=t&&t.date?t.date.calendars.gregory.months.long:["January","February","March","April","May","June","July","August","September","October","November","December"],this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth(),this.monthName=this.months[this.month].toUpperCase(),this.day=this.date.getUTCDate()}},{key:"getDate",value:function(t){return"object"!=T(t)?new Date(Date.UTC(this.year,this.month,t)):t.getUTCDate()}},{key:"getMonthDay",value:function(t){return"object"!=T(t)?this.month+"-"+t:t.getUTCMonth()+1+"-"+t.getUTCDate()}},{key:"getClass",value:function(t){"object"!=T(t)&&(t=new Date(Date.UTC(this.year,this.month,t)));var e="";return t.getUTCMonth()!==this.month?e+="notCurrent":(t.getUTCFullYear()===this.date.getUTCFullYear()&&t.getUTCMonth()===this.date.getUTCMonth()&&t.getUTCDate()===this.date.getUTCDate()&&(e+="selected"),t.getUTCFullYear()===this.year&&t.getUTCMonth()===this.month&&t.getUTCDate()===this.date.getUTCDate()&&(e+=" current")),e}},{key:"selectedDateChanged",value:function(t,e){if(this.initialized||this.selectedDate)return""===this.selectedDate&&""!==this.dateFormatted?void(this.dateFormatted=""):void this._selectedDateChanged(e,this.selectedDate,null==this.selectedDate);this._selectedDateChanged(e,new Date,!0,!0),this.focus()}},{key:"_selectedDateChanged",value:function(t,e,n,o){if(this.initialized=!0,this.date=Object(_.k)(e),this.updateVariables(),n||(this.dateFormatted=this.getLocaleDate()),!o){var r=void 0===t;this.dispatchEvent(Object(m.d)("selected-date-changed",{value:e,suppressImmediateCalculation:r}))}}},{key:"showCalendar",value:function(){this.disabled||this.ensureProperYearInSelectedAndShowCalendar()}},{key:"ensureProperYearInSelectedAndShowCalendar",value:function(){var t=this;this.year===this.date.getUTCFullYear()&&this.haveEnsured&&this._showCalendar(),this.haveEnsured=!0,this.date.getUTCFullYear();for(var e=[],n=this.year-this.range,o=this.year+this.range+1,r=n;r<o;r++)e.push(r);if(y.a.isIE()){if(!this.yearsCreated){this.$.years.remove(0);for(var i=0,a=e.length;i<a;i++)this._createOptionElements(this.$.years,e[i]);this.yearsCreated=!0}}else this.years=e;Object(p.a)(this,(function(){t.yearSelection=t.$.years,t.yearSelection.selectedOptions&&(t.yearSelection.selectedOptions[0].selected=""),t.yearSelection.options[t.range].selected="selected",t._showCalendar()}))}},{key:"_createOptionElements",value:function(t,e){var n=document.createElement("option");n.label=e,n.value=e,t.appendChild(n)}},{key:"_showCalendar",value:function(){this.isActive=!0,this.updateCalendar(),this.focus(),this.dispatchEvent(Object(m.d)("datepicker-opened",{datepicker:this.$.datePicker,dateContainer:this.$.dateContainer})),document.addEventListener("click",this._clickHandler.bind(this)),_.a.horizontalBound(this.$.datePicker,5)}},{key:"_clickHandler",value:function(t){var e=this;t.composedPath().some((function(t){return t===e}))||this.hideCalendar()}},{key:"hideCalendar",value:function(){this.isActive&&(this.isActive=!1,this.focus()),document.removeEventListener("click",this._clickHandler)}},{key:"findToday",value:function(){this.selectedDate=new Date,this.updateYearPicklist(),this.updateVariables(),this.updateCalendar(),this.focus()}},{key:"updateYearPicklist",value:function(){for(var t=this.yearSelection.options,e=0,n=t.length;e<n;e++)t[e].selected=this.year==t[e].text}},{key:"changeYear",value:function(){this.year=parseInt(this.yearSelection.selectedOptions[0].text),this.updateCalendar(),this.focus()}},{key:"decreaseMonth",value:function(){this.month=this.month-1,this.month<0&&(this.month=11,this.year=this.year-1,this.updateYearPicklist()),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.updateCalendar()}},{key:"increaseMonth",value:function(){this.month=this.month+1,this.month>11&&(this.month=0,this.year=this.year+1,this.updateYearPicklist()),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.updateCalendar()}},{key:"selectDay",value:function(t){this.selectedDate=t.model?t.model.day:this.date,this.hideCalendar()}},{key:"updateVariables",value:function(){this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth(),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.day=this.date.getUTCDate()}},{key:"updateDate",value:function(t){this.date.setUTCDate(this.date.getUTCDate()+t),this.updateVariables(),this.updateCalendar()}},{key:"updateCalendar",value:function(){this.weeks=[];for(var t=new Date(Date.UTC(this.year,this.month,1)),e=t.getUTCDay(),n=[],o=0,r=0;r<42;r++){var i=new Date(t);i.setUTCDate(t.getUTCDate()+(r-e)),n[o]=i,o++,(r+1)%7!=0&&r+1!==42||(this.push("weeks",n),n=[],o=0)}}},{key:"validateInput",value:function(){if(!this.noblur){var t,e=!1,n=this.$.dateInput.value,o=""===n.trim();if(n!==(o?"":this.getLocaleDate())||null===this.selectedDate&&!o){var r=this.dateParser.parse(n,function(t){return t>=this.year-this.range&&t<=this.year+this.range}.bind(this));(e=null==r)?t=this.i18n.l("Invalid Date."):(this.selectedDate=r,this.updateVariables())}var i="object"===T(this.selectedDate)||""!==this.selectedDate.trim();o&&i&&(this.dateFormatted="",this.selectedDate=null),this.invalidInput=e,this.dispatchEvent(Object(m.d)("field-change-validated",{error:t})),this.dispatchEvent(Object(m.d)("sb-date-blur"))}}},{key:"navigate",value:function(t){if(9!==t.keyCode)switch(t.keyCode){case 13:this.isActive?this.selectDay(t):this.validateInput();break;case 27:this.isActive?this.hideCalendar():(this.escaped=!0,this.dispatchEvent(Object(m.d)("sb-date-esc",{keyCode:27})));break;case 37:this.updateDate(-1);break;case 38:this.updateDate(-7);break;case 39:this.updateDate(1);break;case 40:this.isActive?this.updateDate(7):this.showCalendar()}else this.hideCalendar()}},{key:"getLocaleDate",value:function(){try{return this.date.toLocaleDateString(this.user.locale,{timeZone:"UTC"})}catch(t){return this.date.toLocaleDateString()}}},{key:"connectedCallback",value:function(){B(L(i.prototype),"connectedCallback",this).call(this),this.focusOnAttached&&this.focus()}},{key:"focus",value:function(){this.highlight(),this.$.dateInput.focus()}},{key:"highlight",value:function(){this.dateFormatted&&this.$.dateInput.setSelectionRange(0,this.dateFormatted.length)}},{key:"preventBlur",value:function(){this.noblur=!0}},{key:"allowBlur",value:function(){this.noblur=!1}}])&&j(e.prototype,n),o&&j(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(b.a)(Object(d.a)(Object(f.a)(Object(h.a)(y.a)))));function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function U(){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=V(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function V(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}function W(t,e){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$(t);if(e){var r=$(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return G(this,n)}}function G(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(F.is,F);var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(i,t);var e,n,o,r=Q(i);function i(){return z(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-daterange"}},{key:"properties",get:function(){return{formattedValue:Object}}},{key:"template",get:function(){return Object(u.b)(q||(q=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<sb-datepicker id="start" selected-date="{{formattedValue.start}}"></sb-datepicker>\n\t\t<sb-datepicker id="end" selected-date="{{formattedValue.end}}"></sb-datepicker>\n\t\t'])))}}],(n=[{key:"ready",value:function(){var t=this;U($(i.prototype),"ready",this).call(this),this.addEventListener("selected-date-changed",(function(){t.dispatchEvent(Object(m.d)("selected-date-range-changed",{value:t.formattedValue}))}))}}])&&H(e.prototype,n),o&&H(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(u.a);function Y(t,e,n,o){return l(t,e,n,"dateInput",o)}function X(t,e,n){var r=new o.a(F.is);return r.addAttribute("selected-date",2,"value",t),r.addAttribute("disabled",1,"disabled",e),r.readOnlyKeyEvent="sb-date-esc",r.readOnlyBlurEvent="sb-date-blur",r.changeEvent="selected-date-changed",et(t,r,tt(t,n)),r}function J(t,e,n){var r=new o.a(K.is);null===t&&(t="");var i=void 0!==t.start,a=void 0!==t.end;return r.addAttribute("formatted-value",2,"value",{start:i?t.start:t,end:a?t.end:t}),r.addAttribute("disabled",1,"disabled",e),r.addAttribute("use-mask",1,"useMask",!n),r.readOnlyKeyEvent="sb-date-esc",r.readOnlyBlurEvent="sb-date-blur",r.changeEvent="selected-date-range-changed",r}function Z(t,e){var n=tt(t,e),o=Object(i.a)(n);return et(t,o,n),o}function tt(t,e){return e.format(t,{date:!0})}function et(t,e,n){e.formattedValue={value:t,label:n}}customElements.define(K.is,K);var nt,ot=n(40),rt=n(88),it=n(39);var at,st=Object(w.b)(nt||(nt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  white-space: nowrap;\n}\n#discount {\n  margin-right: -2px;\n}\n#discount[class*='--mobile'] {\n  margin-right: 0px;\n}\n[class*='--mobile'] #discount {\n  margin-right: 0px;\n}\n#mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 9000;\n}\nsb-input.inlineEdit iron-input {\n  width: 60%;\n  height: 100%;\n}\nsb-input.inlineEdit iron-input input {\n  height: 100%;\n  width: 100% !important;\n}\nsb-select.inlineEdit {\n  width: 40%;\n  height: 100%;\n}\nsb-select.inlineEdit select {\n  width: 100%;\n  height: 100%;\n}\n"]))),lt=n(100);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ft(){return(ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=bt(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function bt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}function yt(t,e){return(yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=mt(t);if(e){var r=mt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(i,t);var e,n,o,r=gt(i);function i(){return pt(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-discount"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({model:{type:Object,observer:"_modelChanged"},property:String,focusOnAttached:Boolean,unitChanged:Object,numberParser:{type:Object,value:function(){return new rt.a}},formatter:Object,displayValue:String,original:Object},b.a.properties)}},{key:"observers",get:function(){return["_runConverterObserver(model, property)"]}},{key:"template",get:function(){return Object(u.b)(at||(at=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-input device id="discount" input-type="[[inputType]]" input-class="numberInput discount" pattern="[[pattern]]" value="{{displayValue}}" disabled="[[disabled]]" render-read-only="[[renderReadOnly]]" style="z-index:9001" variant="[[variant]]"></sb-input>\n\t\t<sb-select device id="discountUnits" select-class="discount" disabled="[[disabled]]" is-required="true" style="z-index:9001" variant="[[variant]]"></sb-select>\n\t\t'])),st)}}],(n=[{key:"ready",value:function(){ft(mt(i.prototype),"ready",this).call(this);var t=this.$.discount.shadowRoot.querySelector(".myinput");t.addEventListener("change",this.checkThenSetDiscountValue.bind(this)),t.addEventListener("focus",this.focused.bind(this)),t.addEventListener("blur",this.deferBlur.bind(this)),t.addEventListener("keydown",this.tabBlur.bind(this,!0));var e=this.$.discountUnits.shadowRoot.querySelector(".myselect");e.addEventListener("change",this.convertDiscountValueThenUpdate.bind(this)),e.addEventListener("focus",this.focused.bind(this)),e.addEventListener("blur",this.deferBlur.bind(this)),e.addEventListener("keydown",this.tabBlur.bind(this,!1))}},{key:"connectedCallback",value:function(){ft(mt(i.prototype),"connectedCallback",this).call(this),this.focusOnAttached&&this.focus()}},{key:"focus",value:function(){this.$.discount.focus()}},{key:"focused",value:function(){this.blurred&&clearTimeout(this.blurred)}},{key:"deferBlur",value:function(){this.tabBlurred?this.tabBlurred=!1:this.blurred=setTimeout(function(){this.blurDiscount(!0)}.bind(this),1)}},{key:"tabBlur",value:function(t,e){27===e.keyCode&&this.renderReadOnly?this.resetToOriginal():9===e.keyCode&&(this.tabBlurred=!0,(t&&e.shiftKey||!t&&!e.shiftKey)&&this.blurDiscount(!1,e))}},{key:"blurDiscount",value:function(t,e){t?this._blur(e):setTimeout(function(){this._blur(e)}.bind(this),10)}},{key:"_blur",value:function(t){var e=""!==this.$.discount.value?this.numberParser.parse(this.$.discount.value):null;Object(ot.d)(this.model,this.property,e),this.dispatchEvent(Object(m.d)("sb-discount-blur",void 0)),t&&this.dispatchEvent(Object(m.d)("sb-discount-keydown",{keyCode:9,shiftKey:t.shiftKey}))}},{key:"checkThenSetDiscountValue",value:function(t){var e=Object(ot.b)(this.model,this.property).displayValue,n=""!==t.target.value?this.numberParser.parse(t.target.value):null;e!=n&&(Object(ot.d)(this.model,this.property,n),this.dispatchEvent(Object(m.d)("sb-discount-change",{value:n})))}},{key:"convertDiscountValueThenUpdate",value:function(t){Object(ot.a)(this.model,this.property,t.target.value),this.displayValue=void 0,this.displayValue=this.formatter.format(Object(ot.b)(this.model,this.property).displayValue)}},{key:"resetToOriginal",value:function(){this.checkThenSetDiscountValue({target:{value:this.original.label}}),this.convertDiscountValueThenUpdate({target:{value:this.original.unitValue}}),this.checkThenSetDiscountValue({target:{value:this.original.label}}),this.convertDiscountValueThenUpdate({target:{value:this.original.unitValue}}),this.selectUnit(Object(ot.b)(this.model,this.property).unit)}},{key:"selectUnit",value:function(t){for(var e=this.$.discountUnits.shadowRoot.querySelector(".myselect"),n=e.options,o=0,r=n.length;o<r;o++)if(n[o].value===t){e.selectedIndex=o;break}}},{key:"_runConverterObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._runConverter(t,e)}},{key:"_runConverter",value:function(t,e){var n=Object(ot.b)(t,e),o=n.units,r=n.unit;this.$.discountUnits.value=r,this.$.discountUnits.options=o}},{key:"_modelChanged",value:function(){Object(it.c)(this)}}])&&ht(e.prototype,n),o&&ht(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(b.a)(Object(h.a)(u.a)));function wt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function kt(t,e,n,r,i,a,s){Object(ot.e)(t,s);var l=Object(ot.b)(t,s),c=l.units,u=l.unit,d=l.displayValue;Object(ot.d)(t,s,d);var p=t.lineVO.record[t.constants.ADDITIONAL_DISCOUNT_FIELD],h=new o.a(_t.is);h.addAttribute("model",1,"model",t),h.addAttribute("property",1,"property",s),h.addAttribute("disabled",1,"disabled",e),h.addAttribute("render-read-only",1,"renderReadOnly",n),h.addAttribute("input-type",1,"inputType",r),h.addAttribute("pattern",1,"pattern",i),h.addAttribute("formatter",1,"formatter",a),h.readOnlyBlurEvent="sb-discount-blur",h.changeEvent="sb-discount-change",h.readOnlyKeyDownEvent="sb-discount-keydown";var f=a.format(d),b=function(t,e,n){if(!t||function(t){return null==t||""===t||isNaN(t)}(n))return{label:"",value:""};var o,r=wt(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(i.value===e)return{label:i.label,value:i.value}}}catch(t){r.e(t)}finally{r.f()}}(c,u,p);return u=null!=f&&""!==f?b.label:"",h.formattedValue={value:p,label:f,unit:u,unitValue:b.value},h.addAttribute("display-value",1,"displayValue",f),h.addAttribute("original",1,"original",h.formattedValue),h}customElements.define(_t.is,_t);var xt=n(135),St=n(95);var Ct,Et=n(60),Pt=n(93);function Tt(t,e,n,r,i,a){return e?function(t,e,n,r,i){var a=new o.a(Pt.a.is),s=It(!1,t,n,r);a.formattedValue={value:t,label:s},a.addAttribute("id",0,"lookup"),a.addAttribute("value",2,"value",t),a.addAttribute("label",1,r.refDisplayName,a.formattedValue.label),a.addAttribute("label-name",1,"labelName",r.refDisplayName),a.addAttribute("table-name",1,"refTable",r.refTable),a.addAttribute("disabled",1,"disabled",e),a.addAttribute("field-full-name",1,"fieldFullName",n.tableName+"."+n.name),a.addAttribute("field-label",1,"fieldLabel",n.label),a.addAttribute("revert-on-escape",1,"revertOnEscape",i),a.addAttribute("calculate-list-position",1,"calculateListPosition",!1),a.addAttribute("has-filter",1,"hasFilter",!!n.filteredLookupInfo),a.addAttribute("record",1,"record",r.record),n.filteredLookupInfo&&n.filteredLookupInfo.controllingFields&&a.addAttribute("controlling-fields",1,"controllingFields",n.filteredLookupInfo.controllingFields);return a.readOnlyKeyEvent="sb-type-esc",a.readOnlyBlurEvent="sb-type-blur",a.changeEvent="lookup-value-changed",a}(t,n,r,i,a):function(t,e,n){var r=new o.a("span"),i=It(!0,t,e,n);return r.addAttribute("value",2,"_value_",t),r.addAttribute("class",1,"link","link","$="),r.setInnerText(n.refDisplayName,1,i),r.formattedValue={value:t,label:i},r.addEvent("click","refClick",(function(t){window.open(window.location.origin+"/"+t.target.value)})),r}(t,r,i)}function It(t,e,n,o){var r=o[o.refDisplayName];if(r)return r;if(t&&(r=function(t,e){if(e){var n=e.property,o=e.obj,r=e.refObjects,i=n&&n.Name?n.Name:t.name;if(i){var a=i.lastIndexOf("Id"),s=a>=0?i.substring(0,a):i.lastIndexOf("__c")>=0?i.replace("__c","__r"):null,l=o&&o[s]?o[s].attributes.type:null;if(s&&o&&o[s]&&l&&r&&r[l]){var c=r[l].nameField.fieldName;return o[s][c]?o[s][c]:o[s].Id}}}}(n,o)),!r&&o.refTable&&n.relationshipName&&o.record){var i=new Et.a(o.refTable).getNameField(),a=o.record[n.relationshipName];a&&(r=a[i])}return r||e||""}function jt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Mt(t,e,n,r,a,s,l,c){var u="multipicklist"===r;return e?function(t,e,n,r,i,a,s){var l=new o.a(lt.a.is);!n.defaultValue||null!=t||n.controllerName||n.restrictedPicklist||(t=n.defaultValue,l.defaultValue=t);l.addAttribute("id",0,"picklist"),l.addAttribute("value",2,"value",t),l.addAttribute("md",1,"md",n),l.addAttribute("disabled",1,"disabled",e),l.addAttribute("options",1,"options",a),l.addAttribute("is-required",1,"isRequired",!!n.required),l.addAttribute("multi-select",1,"multiSelect",s),i&&l.addAttribute("none-label",1,"noneLabel","--".concat(r.l("None"),"--"));null!=n.precision&&l.addAttribute("size",1,"size",n.precision);return l.formattedValue={value:t,label:Dt(t,a,s)},l}(t,n,a,s,l,c,u):Object(i.a)(Dt(t,c,u))}function Dt(t,e,n){if(!e)return t;var o=lt.a.getValues(t,n);if(0===o.length)return t;var r,i=null,a=jt(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;-1!==o.indexOf(s.value)&&(n&&null!=i?i+=";"+s.label:i=s.label)}}catch(t){a.e(t)}finally{a.f()}return i||t}var At,Rt=Object(w.b)(Ct||(Ct=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  position: relative;\n}\n:host textarea[class*='--desktop'] {\n  border: 1px solid #d8dde6 !important;\n  width: var(--sidePanelInputWidth, 125px);\n  max-width: var(--sidePanelInputWidth);\n}\n:host [class*='--desktop'] textarea {\n  border: 1px solid #d8dde6 !important;\n  width: var(--sidePanelInputWidth, 125px);\n  max-width: var(--sidePanelInputWidth);\n}\n:host textarea.inlineEdit {\n  width: 100%;\n  height: 100%;\n  border-radius: .25rem;\n  border: 1px solid #0070d2 !important;\n}\n:host textarea.inlineEdit:focus {\n  outline: none;\n}\n"])));n(47);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ht(){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Ut(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Ut(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}function Vt(t,e){return(Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Gt(t);if(e){var r=Gt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Qt(this,n)}}function Qt(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vt(t,e)}(i,t);var e,n,o,r=Wt(i);function i(){return Nt(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-textarea"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:{type:String,observer:"changed"},focusOnAttached:Boolean,viewport:{type:Object,value:function(){return a.a.getViewport()}}},b.a.properties)}},{key:"template",get:function(){return Object(u.b)(At||(At=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style>','</style>\n\n\t\t<textarea device id="textarea" is="iron-autogrow-textarea" value="{{value::change}}" disabled$="[[disabled]]" on-focus="highlight" on-blur="blur" on-keyup="propagateEsc" class$="[[variant]]"></textarea>\n\t\t'])),Rt)}}],(n=[{key:"connectedCallback",value:function(){Ht(Gt(i.prototype),"connectedCallback",this).call(this),this.focusOnAttached&&this.focus()}},{key:"focus",value:function(){this.$.textarea.focus()}},{key:"blur",value:function(){this.fireChangeOnBlur(),this.dispatchEvent(Object(m.d)("blur"))}},{key:"highlight",value:function(){if(!this.viewport||!this.viewport.isMobile()){var t=this.value?this.value.length:0;this.$.textarea.setSelectionRange(0,t)}}},{key:"changed",value:function(t,e){void 0!==e?(this.changeOnNextBlur=!1,e!=t&&this.fireChangeEvent(t)):this.changeOnNextBlur=!0}},{key:"fireChangeEvent",value:function(t){this.dispatchEvent(Object(m.d)("change",{value:t}))}},{key:"fireChangeOnBlur",value:function(){this.changeOnNextBlur&&(this.fireChangeEvent(this.value),this.changeOnNextBlur=!1)}},{key:"propagateEsc",value:function(t){27===t.keyCode&&(this.renderReadOnly&&(this.$.textarea.value=this.value),this.dispatchEvent(Object(m.d)("sb-textarea-key",{keyCode:27})))}}])&&zt(e.prototype,n),o&&zt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(b.a)(Object(h.a)(u.a)));function Kt(t,e,n,r){return e?function(t,e,n){null===t&&(t="");var r=new o.a($t.is);return r.addAttribute("value",2,"value",t),r.addAttribute("disabled",1,"disabled",e),r.addAttribute("render-read-only",1,"renderReadOnly",n),r.readOnlyKeyEvent="sb-textarea-key",r}(t,n,r):Object(i.a)(t)}customElements.define($t.is,$t);var Yt=n(158);function Xt(t,e,n){null===t&&(t="");var r=new o.a(Yt.a.is);return r.addAttribute("value",2,"value",t),r.addAttribute("render-read-only",1,"renderReadOnly",e),r.addAttribute("label",1,"label",n.label),r.readOnlyKeyEvent="rte-esc",r.readOnlyBlurEvent="rte-blur",r.changeEvent="rte-value-changed",r}function Jt(t,e,n,o,r,s){return"richtextarea"===o.extraTypeInfo?function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.a;return e&&!r.isMobile()?Xt(t,n,o):Object(i.a)(t)}(t,e,r,o):((c=o.maxLength>255||"multiline"===o.format||"textarea"===s?Kt(t,e,n,r):l(t,e,n,"textInput","text",r)).formattedValue=_.a.toHTML(t),c);var c}var Zt=n(136);function te(t,e,n,s,c,u,d,p,h,f,b,g,v,m){switch(t){case"boolean":case"checkbox":return function(t,e,n,i){var a=new o.a(r.a.is);return a.addAttribute("value",2,"value",t),a.addAttribute("disabled",1,"disabled",e),a.addAttribute("hide",1,"hide",n),a.addAttribute("tab-index",1,"tabIndex",i),a.formattedValue={value:t,label:""},a}(n,c,u,v);case"date":case"datetime":return function(t,e,n,o,r,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{range:!1},l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a.a;return e?l.isMobile()?Y(t,e,n,i):!0===s.range?J(t,n,r):X(t,n,o):Z(t,o)}(n,s,c,h,f,t,m);case"discount":case"double":case"number":case"currency":case"percent":return function(t,e,n,o,r,i,s,c,u){var d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:a.a,p=d.isMobile()&&!St.a.isCommaDecimal()?"number":"text",h=new xt.a(n,r,i,u,d.getViewport());if(t&&(t.constants.ADDITIONAL_DISCOUNT_FIELD===r.name||t.constants.MARKUP_FIELD===r.name)){var f=kt(t,o,s,p,null,h,r.name);return f.numeric=!0,f}var b=h.format(e,!0),y=n?h.format(e,!1):b,g=l(y,n,o,c,p,s);return g.formattedValue={value:e,label:b},g.numeric=!0,g}(e,n,s,c,p,h,f,0==d?"first numberInput":"numberInput",t);case"id":case"reference":return Tt(n,s,c,p,g,f);case"picklist":case"multipicklist":return Mt(n,s,c,t,p,h,!f,b);case"string":case"textarea":case"phone":case"url":case"email":return Jt(n,s,c,p,f,t);case"time":return Jt(h.formatTime(n,y.a.user),s,c,p,f,t);case"encryptedstring":return Object(Zt.a)(n,p);default:return Object(i.a)(n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(10);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var o={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1}},attached:function(){},detached:function(){}},r=n(122),i={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(t){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},a=[o,r.a,i],s=n(107),l=n(86),c={_checkedChanged:function(){i._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){l.a._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}},u=[s.a,a,c]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(10);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var o=[{properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(t,e){for(var n in e)t[n]=e[n]},_cloneConfig:function(t){var e={isClone:!0};return this._copyProperties(e,t),e},_getAnimationConfigRecursive:function(t,e,n){var o;if(this.animationConfig)if(this.animationConfig.value&&"function"==typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else if(o=t?this.animationConfig[t]:this.animationConfig,Array.isArray(o)||(o=[o]),o)for(var r,i=0;r=o[i];i++)if(r.animatable)r.animatable._getAnimationConfigRecursive(r.type||t,e,n);else if(r.id){var a=e[r.id];a?(a.isClone||(e[r.id]=this._cloneConfig(a),a=e[r.id]),this._copyProperties(a,r)):e[r.id]=r}else n.push(r)},getAnimationConfig:function(t){var e={},n=[];for(var o in this._getAnimationConfigRecursive(t,e,n),e)n.push(e[o]);return n}},{_configureAnimations:function(t){var e=[],n=[];if(t.length>0)for(var o,r=0;o=t[r];r++){var i=document.createElement(o.name);if(i.isNeonAnimation){var a;i.configure||(i.configure=function(t){return null}),a=i.configure(o),n.push({result:a,config:o,neonAnimation:i})}else console.warn(this.is+":",o.name,"not found!")}for(var s=0;s<n.length;s++){var l=n[s].result,c=n[s].config,u=n[s].neonAnimation;try{"function"!=typeof l.cancel&&(l=document.timeline.play(l))}catch(t){l=null,console.warn("Couldnt play","(",c.name,").",t)}l&&e.push({neonAnimation:u,config:c,animation:l})}return e},_shouldComplete:function(t){for(var e=!0,n=0;n<t.length;n++)if("finished"!=t[n].animation.playState){e=!1;break}return e},_complete:function(t){for(var e=0;e<t.length;e++)t[e].neonAnimation.complete(t[e].config);for(e=0;e<t.length;e++)t[e].animation.cancel()},playAnimation:function(t,e){var n=this.getAnimationConfig(t);if(n){this._active=this._active||{},this._active[t]&&(this._complete(this._active[t]),delete this._active[t]);var o=this._configureAnimations(n);if(0!=o.length){this._active[t]=o;for(var r=0;r<o.length;r++)o[r].animation.onfinish=function(){this._shouldComplete(o)&&(this._complete(o),delete this._active[t],this.fire("neon-animation-finish",e,{bubbles:!1}))}.bind(this)}else this.fire("neon-animation-finish",e,{bubbles:!1})}},cancelAnimation:function(){for(var t in this._active){var e=this._active[t];for(var n in e)e[n].animation.cancel()}this._active={}}}]},function(t,e,n){"use strict";n(31);var o=n(96),r=n(84),i=n(37),a=n(16),s=n(12),l=n(102);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(i,t);var e,n,o,r=p(i);function i(){var t;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=r.call(this),a.m)throw new Error("strictTemplatePolicy: dom-bind not allowed");return t.root=null,t.$=null,t.__children=null,t}return e=i,o=[{key:"observedAttributes",get:function(){return["mutable-data"]}}],(n=[{key:"attributeChangedCallback",value:function(t,e,n,o){this.mutableData=!0}},{key:"connectedCallback",value:function(){Object(l.a)()||(this.style.display="none"),this.render()}},{key:"disconnectedCallback",value:function(){this.__removeChildren()}},{key:"__insertChildren",value:function(){Object(s.a)(Object(s.a)(this).parentNode).insertBefore(this.root,this)}},{key:"__removeChildren",value:function(){if(this.__children)for(var t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}},{key:"render",value:function(){var t,e=this;if(!this.__children){if(!(t=t||this.querySelector("template"))){var n=new MutationObserver((function(){if(!(t=e.querySelector("template")))throw new Error("dom-bind requires a <template> child");n.disconnect(),e.render()}));return void n.observe(this,{childList:!0})}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(var o=this.root.firstChild;o;o=o.nextSibling)this.__children[this.__children.length]=o;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}])&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(i.a)(Object(r.b)(Object(o.a)(HTMLElement))));customElements.define("dom-bind",b)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(o=window)}t.exports=o},function(t,e,n){"use strict";n(10),n(113);var o,r=n(142),i=n(107),a=n(14),s=n(3),l=n(11);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var c,u,d=Object(s.a)(o||(c=['<style>\n  :host {\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);\n    /* -1px is a sentinel for the default and is replaced in `attached`. */\n    --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);\n    line-height: 0;\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host(:focus) {\n    outline: none;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  #checkboxContainer {\n    display: inline-block;\n    position: relative;\n    width: var(--calculated-paper-checkbox-size);\n    height: var(--calculated-paper-checkbox-size);\n    min-width: var(--calculated-paper-checkbox-size);\n    margin: var(--paper-checkbox-margin, initial);\n    vertical-align: var(--paper-checkbox-vertical-align, middle);\n    background-color: var(--paper-checkbox-unchecked-background-color, transparent);\n  }\n\n  #ink {\n    position: absolute;\n\n    /* Center the ripple in the checkbox by negative offsetting it by\n     * (inkWidth - rippleWidth) / 2 */\n    top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    width: var(--calculated-paper-checkbox-ink-size);\n    height: calc(var(--calculated-paper-checkbox-ink-size) / 2);\n    color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n  }\n\n  #ink:dir(rtl) {\n    right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: auto;\n  }\n\n  #ink[checked] {\n    color: var(--paper-checkbox-checked-ink-color, var(--primary-color));\n  }\n\n  #checkbox {\n    position: relative;\n    box-sizing: border-box;\n    height: 100%;\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    border-radius: var(--paper-checkbox-border-radius, 2px);\n    border-width: var(--paper-checkbox-border-width, 2px);\n    border-style: var(--paper-checkbox-border-style, solid);\n    pointer-events: none;\n    -webkit-transition: background-color 140ms, border-color 140ms;\n    transition: background-color 140ms, border-color 140ms;\n\n    -webkit-transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n    transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  /* checkbox checked animations */\n  #checkbox.checked #checkmark {\n    -webkit-animation: checkmark-expand 140ms ease-out forwards;\n    animation: checkmark-expand 140ms ease-out forwards;\n\n    -webkit-animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n    animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  @-webkit-keyframes checkmark-expand {\n    0% {\n      -webkit-transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      -webkit-transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  @keyframes checkmark-expand {\n    0% {\n      transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  #checkbox.checked {\n    background-color: var(--paper-checkbox-checked-color, var(--primary-color));\n    border-color: var(--paper-checkbox-checked-color, var(--primary-color));\n  }\n\n  #checkmark {\n    position: absolute;\n    width: 36%;\n    height: 70%;\n    border-style: solid;\n    border-top: none;\n    border-left: none;\n    border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-color: var(--paper-checkbox-checkmark-color, white);\n    -webkit-transform-origin: 97% 86%;\n    transform-origin: 97% 86%;\n    box-sizing: content-box; /* protect against page-level box-sizing */\n  }\n\n  #checkmark:dir(rtl) {\n    -webkit-transform-origin: 50% 14%;\n    transform-origin: 50% 14%;\n  }\n\n  /* label */\n  #checkboxLabel {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    padding-left: var(--paper-checkbox-label-spacing, 8px);\n    white-space: normal;\n    line-height: normal;\n    color: var(--paper-checkbox-label-color, var(--primary-text-color));\n  }\n\n  :host([checked]) #checkboxLabel {\n    color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));\n  }\n\n  #checkboxLabel:dir(rtl) {\n    padding-right: var(--paper-checkbox-label-spacing, 8px);\n    padding-left: 0;\n  }\n\n  #checkboxLabel[hidden] {\n    display: none;\n  }\n\n  /* disabled state */\n\n  :host([disabled]) #checkbox {\n    opacity: var(--paper-checkbox-disabled-opacity, 0.5);\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    background-color: var(--paper-checkbox-disabled-background-color);\n  }\n\n  :host([disabled][checked]) #checkbox {\n    background-color: var(--primary-text-color);\n    opacity: 0.5;\n  }\n\n  :host([disabled][checked]) #checkmark {\n    border-color: var(--paper-checkbox-checkmark-disabled-border-color);\n  }\n\n  :host([disabled]) #checkboxLabel  {\n    opacity: 0.65;\n  }\n\n  /* invalid state */\n  #checkbox.invalid:not(.checked) {\n    border-color: var(--paper-checkbox-error-color, var(--error-color));\n  }\n</style>\n\n<div id="checkboxContainer">\n  <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">\n    <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>\n  </div>\n</div>\n\n<div id="checkboxLabel"><slot></slot></div>'],(u=['<style>\n  :host {\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);\n    /* -1px is a sentinel for the default and is replaced in \\`attached\\`. */\n    --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);\n    line-height: 0;\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host(:focus) {\n    outline: none;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  #checkboxContainer {\n    display: inline-block;\n    position: relative;\n    width: var(--calculated-paper-checkbox-size);\n    height: var(--calculated-paper-checkbox-size);\n    min-width: var(--calculated-paper-checkbox-size);\n    margin: var(--paper-checkbox-margin, initial);\n    vertical-align: var(--paper-checkbox-vertical-align, middle);\n    background-color: var(--paper-checkbox-unchecked-background-color, transparent);\n  }\n\n  #ink {\n    position: absolute;\n\n    /* Center the ripple in the checkbox by negative offsetting it by\n     * (inkWidth - rippleWidth) / 2 */\n    top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    width: var(--calculated-paper-checkbox-ink-size);\n    height: calc(var(--calculated-paper-checkbox-ink-size) / 2);\n    color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n  }\n\n  #ink:dir(rtl) {\n    right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: auto;\n  }\n\n  #ink[checked] {\n    color: var(--paper-checkbox-checked-ink-color, var(--primary-color));\n  }\n\n  #checkbox {\n    position: relative;\n    box-sizing: border-box;\n    height: 100%;\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    border-radius: var(--paper-checkbox-border-radius, 2px);\n    border-width: var(--paper-checkbox-border-width, 2px);\n    border-style: var(--paper-checkbox-border-style, solid);\n    pointer-events: none;\n    -webkit-transition: background-color 140ms, border-color 140ms;\n    transition: background-color 140ms, border-color 140ms;\n\n    -webkit-transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n    transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  /* checkbox checked animations */\n  #checkbox.checked #checkmark {\n    -webkit-animation: checkmark-expand 140ms ease-out forwards;\n    animation: checkmark-expand 140ms ease-out forwards;\n\n    -webkit-animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n    animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  @-webkit-keyframes checkmark-expand {\n    0% {\n      -webkit-transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      -webkit-transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  @keyframes checkmark-expand {\n    0% {\n      transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  #checkbox.checked {\n    background-color: var(--paper-checkbox-checked-color, var(--primary-color));\n    border-color: var(--paper-checkbox-checked-color, var(--primary-color));\n  }\n\n  #checkmark {\n    position: absolute;\n    width: 36%;\n    height: 70%;\n    border-style: solid;\n    border-top: none;\n    border-left: none;\n    border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-color: var(--paper-checkbox-checkmark-color, white);\n    -webkit-transform-origin: 97% 86%;\n    transform-origin: 97% 86%;\n    box-sizing: content-box; /* protect against page-level box-sizing */\n  }\n\n  #checkmark:dir(rtl) {\n    -webkit-transform-origin: 50% 14%;\n    transform-origin: 50% 14%;\n  }\n\n  /* label */\n  #checkboxLabel {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    padding-left: var(--paper-checkbox-label-spacing, 8px);\n    white-space: normal;\n    line-height: normal;\n    color: var(--paper-checkbox-label-color, var(--primary-text-color));\n  }\n\n  :host([checked]) #checkboxLabel {\n    color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));\n  }\n\n  #checkboxLabel:dir(rtl) {\n    padding-right: var(--paper-checkbox-label-spacing, 8px);\n    padding-left: 0;\n  }\n\n  #checkboxLabel[hidden] {\n    display: none;\n  }\n\n  /* disabled state */\n\n  :host([disabled]) #checkbox {\n    opacity: var(--paper-checkbox-disabled-opacity, 0.5);\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    background-color: var(--paper-checkbox-disabled-background-color);\n  }\n\n  :host([disabled][checked]) #checkbox {\n    background-color: var(--primary-text-color);\n    opacity: 0.5;\n  }\n\n  :host([disabled][checked]) #checkmark {\n    border-color: var(--paper-checkbox-checkmark-disabled-border-color);\n  }\n\n  :host([disabled]) #checkboxLabel  {\n    opacity: 0.65;\n  }\n\n  /* invalid state */\n  #checkbox.invalid:not(.checked) {\n    border-color: var(--paper-checkbox-error-color, var(--error-color));\n  }\n</style>\n\n<div id="checkboxContainer">\n  <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">\n    <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>\n  </div>\n</div>\n\n<div id="checkboxLabel"><slot></slot></div>'])||(u=c.slice(0)),o=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}}))));d.setAttribute("strip-whitespace",""),Object(a.a)({_template:d,is:"paper-checkbox",behaviors:[r.a],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Object(l.a)(this,(function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var t=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),e="px",n=t.match(/[A-Za-z]+$/);null!==n&&(e=n[0]);var o=parseFloat(t),r=8/3*o;"px"===e&&(r=Math.floor(r))%2!=o%2&&r++,this.updateStyles({"--paper-checkbox-ink-size":r+e})}}))},_computeCheckboxClass:function(t,e){var n="";return t&&(n+="checked "),e&&(n+="invalid"),n},_computeCheckmarkClass:function(t){return t?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,i.b._createRipple.call(this)}})},function(t,e,n){"use strict";n(10);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n<custom-style>\n  <style is="custom-style">\n    [hidden] {\n      display: none !important;\n    }\n  </style>\n</custom-style>\n<custom-style>\n  <style is="custom-style">\n    html {\n\n      --layout: {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      };\n\n      --layout-inline: {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      };\n\n      --layout-horizontal: {\n        @apply --layout;\n\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      };\n\n      --layout-horizontal-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      };\n\n      --layout-vertical: {\n        @apply --layout;\n\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      };\n\n      --layout-vertical-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      };\n\n      --layout-wrap: {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      };\n\n      --layout-wrap-reverse: {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      };\n\n      --layout-flex-auto: {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      };\n\n      --layout-flex-none: {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      };\n\n      --layout-flex: {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      };\n\n      --layout-flex-2: {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      };\n\n      --layout-flex-3: {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      };\n\n      --layout-flex-4: {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      };\n\n      --layout-flex-5: {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      };\n\n      --layout-flex-6: {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      };\n\n      --layout-flex-7: {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      };\n\n      --layout-flex-8: {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      };\n\n      --layout-flex-9: {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      };\n\n      --layout-flex-10: {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      };\n\n      --layout-flex-11: {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      };\n\n      --layout-flex-12: {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      };\n\n      /* alignment in cross axis */\n\n      --layout-start: {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      };\n\n      --layout-center: {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      };\n\n      --layout-end: {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      };\n\n      --layout-baseline: {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      };\n\n      /* alignment in main axis */\n\n      --layout-start-justified: {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      };\n\n      --layout-center-justified: {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      };\n\n      --layout-end-justified: {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      };\n\n      --layout-around-justified: {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      };\n\n      --layout-justified: {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      };\n\n      --layout-center-center: {\n        @apply --layout-center;\n        @apply --layout-center-justified;\n      };\n\n      /* self alignment */\n\n      --layout-self-start: {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      };\n\n      --layout-self-center: {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      };\n\n      --layout-self-end: {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      };\n\n      --layout-self-stretch: {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      };\n\n      --layout-self-baseline: {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      };\n\n      /* multi-line alignment in main axis */\n\n      --layout-start-aligned: {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      };\n\n      --layout-end-aligned: {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      };\n\n      --layout-center-aligned: {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      };\n\n      --layout-between-aligned: {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      };\n\n      --layout-around-aligned: {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      };\n\n      /*******************************\n                Other Layout\n      *******************************/\n\n      --layout-block: {\n        display: block;\n      };\n\n      --layout-invisible: {\n        visibility: hidden !important;\n      };\n\n      --layout-relative: {\n        position: relative;\n      };\n\n      --layout-fit: {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-scroll: {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      };\n\n      --layout-fullbleed: {\n        margin: 0;\n        height: 100vh;\n      };\n\n      /* fixed position */\n\n      --layout-fixed-top: {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n      };\n\n      --layout-fixed-right: {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n      };\n\n      --layout-fixed-bottom: {\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-fixed-left: {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n    }\n  </style>\n</custom-style>'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content);var l=document.createElement("style");l.textContent="[hidden] { display: none !important; }",document.head.appendChild(l)},function(t,e,n){"use strict";var o,r=n(30),i=n(2);n(45);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=u(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,n,a,u=p(h);function h(){return s(this,h),u.apply(this,arguments)}return e=h,a=[{key:"is",get:function(){return"sb-pc-option-configure"}},{key:"properties",get:function(){return{quote:Object,product:Object,optionId:String,featureOptionalSKUs:{type:Array,value:[]},ignoreCache:{type:Boolean,value:!1},configuration:Object,error:{type:Array,notify:!0},optionConfiguratorResponse:{type:String,notify:!0}}}},{key:"observers",get:function(){return["_loadObserver(quote, product, optionId, ignoreCache)"]}},{key:"template",get:function(){return Object(i.b)(o||(t=['\n\t\t<sb-service id="service" loader="ProductConfigurationServiceProvider.OptionConfigurator" cache="nestedConfig"></sb-service>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"ready",value:function(){c(f(h.prototype),"ready",this).call(this);var t=this.$.service;t.addEventListener("response-changed",function(t){this.optionConfiguratorResponse=t.detail.value}.bind(this)),t.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}},{key:"_loadObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.load(t,e,n,o)}},{key:"load",value:function(){this.$.service.uid=this.optionId,this.$.service.ignoreCache=this.ignoreCache;var t=this.quote.lineItems;this.quote.lineItems=[];var e=(new r.a).addQuote("quote",this.quote).add("optionId",this.optionId).add("featureOptionalSKUs",this.featureOptionalSKUs).addObject("configuration",this.configuration).addObject("parentProduct",this.serverProduct).addObject("stagedOption",this.stagedOption);this.quote.lineItems=t,this.$.service.context=e.build()}},{key:"serverProduct",get:function(){var t={};return t.configurationAttributes=this.product.configurationAttributes,t.inheritedConfigurationAttributes=this.product.inheritedConfigurationAttributes,void 0===this.product.configuration||(t.configuration={configurationData:this.product.configuration.configurationData,inheritedConfigurationData:this.product.configuration.inheritedConfigurationData}),t}},{key:"stagedOption",get:function(){return null==this.product.nestedOptionModel||null==this.product.nestedOptionModel.stagedOption||this.product.nestedOptionModel.stagedOption.isDynamicOption?null:this.product.nestedOptionModel.stagedOption.optionData}}])&&l(e.prototype,n),a&&l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a);customElements.define(b.is,b)},function(t,e,n){"use strict";var o,r=n(30),i=n(51),a=n(2);n(127);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=d(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(f,t);var e,n,s,d=h(f);function f(){return l(this,f),d.apply(this,arguments)}return e=f,s=[{key:"is",get:function(){return"sb-pc-product-load"}},{key:"properties",get:function(){return{productIds:{type:String,value:""},lineKey:{type:Number,value:-1},featureOptionIds:{type:Array,value:null},groupKey:{type:Number,value:-1},fieldSet:{type:String,value:null},quote:Object,product:{type:Object,notify:!0},error:{type:Array,notify:!0},productLoadModel:{type:Object,notify:!0},ignoreCache:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_loadObserver(quote, productIds, lineKey, ignoreCache)"]}},{key:"template",get:function(){return Object(a.b)(o||(t=['\n\t\t<sb-async-service id="service" loader="ProductConfigurationServiceProvider.ProductLoader" cache="searchModel"></sb-async-service>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"ready",value:function(){u(b(f.prototype),"ready",this).call(this),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(t){this.featureOptionIds=null,this.productLoadModel=t.detail&&t.detail.value?t.detail.value:null}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}},{key:"setSpinnerMessage",value:function(){Object(i.d)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}},{key:"_loadObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.load(t,e,n,o)}},{key:"load",value:function(){if(null!=this.lineKey&&this.lineKey>=0&&this.lineKey>this.quote.nextKey)return this.productLoadModel={returnToQuote:"The quote line you are attempting to reconfigure does not exist. Please add the product again to configure it."};var t=[];this.productIds.split(",").forEach((function(e){t.push({record:{Id:e}})})),this.$.service.context=void 0,this.$.service.uid=this.featureOptionIds?"dynamic":this.quote.record.Id.substring(0,15),this.$.service.ignoreCache=this.ignoreCache;var e=new r.a;if(null!=this.featureOptionIds)e.add("featureOptionIds",this.featureOptionIds).add("fieldSet",this.fieldSet),e.addObject("quoteRecord",this.quote.record);else if(null!=this.lineKey&&this.lineKey>=0){e.add("lineKey",this.lineKey);var n=this._getLinesRelevantToParentKey(this.lineKey),o=this.quote.lineItems;this.quote.lineItems=n,e.addObject("quote",this.quote,!1,!1,!1),this.quote.lineItems=o}else{e.addObject("products",t);var i=this.quote.lineItems;this.quote.lineItems=[],e.addQuote("quote",this.quote),this.quote.lineItems=i}null!=this.groupKey&&this.groupKey>=0&&e.add("groupKey",this.groupKey),this.$.service.context=e.build()}},{key:"_getLinesRelevantToParentKey",value:function(t){var e=this,n="Quote__c"==this.quote.record.attributes.type?"":this.quote.record.attributes.type.slice(0,-8),o=new Set;!function t(r){o.add(r),e.quote.lineItems.forEach((function(e){e.parentItemKey===r&&(o.add(e.key),e.record[n+"Bundle__c"]&&t(e.key),null!=e.sourceLineKey&&t(e.sourceLineKey))}))}(t);var r=[];return this.quote.lineItems.forEach((function(t){o.has(t.key)&&r.push(t)})),r}}])&&c(e.prototype,n),s&&c(e,s),Object.defineProperty(e,"prototype",{writable:!1}),f}(a.a);customElements.define(y.is,y)},function(t,e,n){"use strict";var o,r=n(2),i=(n(18),n(26),n(5)),a=(n(13),n(47),n(15),n(3));var s,l,c,u=Object(a.b)(o||(s=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  text-align: center;\n  white-space: nowrap;\n}\n#typeahead {\n  --sidePanelInputWidth: 330px !important;\n  --sidePanelInputHeight: 36px !important;\n  --sbTypeaheadSelectorPadding: 4px 0px;\n  --sbTypeaheadSelectorItemPadding: 8px 15px 8px 15px;\n  --zIndex: 0;\n  --sbTypeaheadSelectorLeft: 0px;\n}\n#typeahead[class*='--mobile'] {\n  --sidePanelInputWidth: calc(98% - 60px) !important;\n}\n[class*='--mobile'] #typeahead {\n  --sidePanelInputWidth: calc(98% - 60px) !important;\n}\n.searchActions {\n  display: inline-flex;\n  margin-top: -3px;\n  position: relative;\n  right: 21px;\n}\n.searchActions .sbPrimaryAction {\n  border-color: var(--sbBrandedButtonBorderColor);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n  font-weight: 400;\n  width: initial;\n}\n.searchActions .sbPrimaryAction:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.noIcons {\n  right: 3px;\n}\n.disabled {\n  cursor: default;\n  pointer-events: none;\n  opacity: .2;\n}\n.shiftRight {\n  right: 4px;\n}\n"],l||(l=s.slice(0)),o=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}})))),d=n(1),p=n(0),h=n(23),f=n(4),b=n(30),y=n(76);n(152),n(45),n(50);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=k(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function k(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=E(t);if(e){var r=E(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return C(this,n)}}function C(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(a,t);var e,n,o,i=S(a);function a(){return _(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-search-bar"}},{key:"properties",get:function(){return Object(d.e)({limit:{type:Number,value:5},value:{type:String,value:"",notify:!0},searchedValue:{type:String,notify:!0},label:{type:Array,value:["DisplayName"]},hideCancelIcon:{type:Boolean,value:!1},quote:Object,searchService:String,actionId:String,searchResultCallback:Function,showResetButton:{type:Boolean,value:!1},placeholder:{type:String,computed:"getPlaceholder(i18n)"},i18n:{type:Object,value:function(){return f.a.properties.i18n.value()}},searcher:Object},h.a.properties)}},{key:"observers",get:function(){return["valueChanged(value)","_realignObserver(reposition, isMobile)"]}},{key:"template",get:function(){return Object(r.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-service id="service"></sb-service>\n\t\t<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>\n\t\t<span device>\n\t\t\t<sb-typeahead\n\t\t\t\t\tid="typeahead"\n\t\t\t\t\tlabels="[[label]]"\n\t\t\t\t\tplaceholder="[[placeholder]]"\n\t\t\t\t\tlabel-value="{{value}}"\n\t\t\t\t\tshow-left-search-icon="true"\n\t\t\t\t\thide-cancel-icon="[[hideCancelIcon]]"\n\t\t\t\t\tdisjoint-label="true"\n\t\t\t\t\tvalue="Name"\n\t\t\t></sb-typeahead>\n\t\t\t<div device id="buttons" class="searchActions">\n\t\t\t\t<paper-button id="search" class="sbPrimaryAction sb-icon-search" noink on-click="search"></paper-button>\n\t\t\t\t<template is="dom-if" if="[[showResetButton]]">\n\t\t\t\t\t<paper-button id="reset" class="disabled sf-icon-undo" noink on-click="reset"></paper-button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</span>\n\t\t'])),u)}}],(n=[{key:"ready",value:function(){O(E(a.prototype),"ready",this).call(this),this.$.typeahead.addEventListener("enter-without-selection",this.search.bind(this)),this.$.typeahead.addEventListener("selected-item-changed",this.handleItemSelected.bind(this)),this.$.typeahead.showAllResults=!0,this.$.typeahead.itemsCallback=this.typeAheadCallback.bind(this),this.localizer=new y.a(this.fieldPrefix)}},{key:"valueChanged",value:function(){void 0===this.value||""===this.value?(this.dispatchEvent(Object(p.d)("sb-type-clear")),Object(d.m)("disabled",!1,this.$.search)):Object(d.m)("disabled",!1===this.isSearchValid(),this.$.search)}},{key:"_realignObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.realign(t,e)}},{key:"realign",value:function(){this.isMobile&&Object(d.m)("shiftRight",!0,this.$.buttons)}},{key:"handleItemSelected",value:function(t){this.value=t.detail.value.Name,void 0!==this.value&&this.dispatchEvent(Object(p.d)("sb-search-item-selected",{item:this.getSearchResultRow(t.detail.value.Id),searchValue:this.value}))}},{key:"toggleResetButton",value:function(t){!0===this.showResetButton&&Object(d.m)("disabled",!1===t,this.shadowRoot.querySelector("#reset"))}},{key:"reset",value:function(){this.dispatchEvent(Object(p.d)("sb-search-reset-clicked"))}},{key:"search",value:function(){!1!==this.isSearchValid()?(this.spinner=!0,this.blur(),this.searchedValue=this.value,this.serviceCallout(null).then(function(t){this.dispatchEvent(Object(p.d)("sb-search-invoked",{searchModel:t,searchValue:this.value})),this.spinner=!1}.bind(this))):""!==this.value&&void 0!==this.value||this.dispatchEvent(Object(p.d)("sb-search-nil-search-invoked"))}},{key:"getSearchResultRow",value:function(t){var e,n=v(Object.assign({},this.mostRecentResults).results);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.record.Product2Id===t)return o}}catch(t){n.e(t)}finally{n.f()}}},{key:"typeAheadCallback",value:function(){return new Promise(function(t){void 0!==this.searchService&&void 0!==this.quote&&!1!==this.isSearchValid()&&this.serviceCallout(this.limit).then(function(e){if(this.mostRecentResults=e,"function"==typeof this.searchResultCallback)return this.searchResultCallback(this.parseResults(e));t(this.parseResults(e))}.bind(this))}.bind(this))}},{key:"getFilterContextFromSearcher",value:function(){return this.searcher?this.searcher.getFilterContext():{}}},{key:"buildContext",value:function(t){return(new b.a).addObject("filterContext",this.getFilterContextFromSearcher(),void 0,void 0,!0).add("searchContext",this.getSearchContext()).add("resultLimit",t).add("pageNumber",null).add("actionId",this.actionId).addObject("quote",this.quote.record).build()}},{key:"serviceCallout",value:function(t){return new Promise(function(e){this.$.service.client.load(this.prefix,this.searchService,null,this.buildContext(t)).then(function(t){e(this.localizer.localizeSearchModel(t))}.bind(this))}.bind(this))}},{key:"parseResults",value:function(t){var e=[],n=this.getSearchContext();if(null===n)return e;var o,r=v(t.results);try{for(r.s();!(o=r.n()).done;){var i=o.value.record.Product2,a=new RegExp(n,"i"),s=i.Name.match(a);if(s){var l=i.Name.substring(0,s.index),c=i.Name.substring(s.index,s.index+n.length),u=i.Name.substring(s.index+n.length);i.DisplayName=l+"<b>"+c+"</b>"+u}else i.DisplayName=i.Name;e.push(i)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"prefix",get:function(){return this.app.org.prefix}},{key:"fieldPrefix",get:function(){return void 0===this.app.org.prefix?"":this.app.org.prefix+"__"}},{key:"getSearchContext",value:function(){return!0===this.isSearchValid()?this.value:null}},{key:"isSearchValid",value:function(){return void 0!==this.value&&this.value.replace(/ /g,"").replace(/\*/g,"").replace(/\?/g,"").replace(/\(/g,"").replace(/\)/g,"").length>1}},{key:"getPlaceholder",value:function(){return this.i18n&&"function"==typeof this.i18n.l?this.i18n.l("Search Products"):"Search Products"}}])&&w(e.prototype,n),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(i.a)(h.a));customElements.define(P.is,P)},function(t,e,n){"use strict";var o,r=n(5),i=n(2),a=(n(18),n(25),n(26),n(24),n(52),n(74),n(3));var s,l,c,u=Object(a.b)(o||(s=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n.header {\n  min-width: 600px;\n}\n.content {\n  margin-top: -15px;\n  margin-bottom: -15px;\n}\n.footer {\n  border-top: none;\n}\n#alert-icon {\n  font-size: 20px;\n}\npaper-button {\n  margin: 0 !important;\n  text-transform: none;\n}\n#alert-title {\n  display: inline-block;\n}\n#alert-title > h2 {\n  margin: 0;\n}\n#alert-title > h2 > sb-i18n {\n  font-size: 24px;\n  margin-left: 6px;\n  font-weight: 300;\n}\n.alert-rule {\n  padding: 12px;\n}\n#continue[class*='--mobile'] {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n.content[class*='--mobile'] {\n  margin: 0;\n}\n[class*='--mobile'] #continue {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n[class*='--mobile'] .content {\n  margin: 0;\n}\n"],l||(l=s.slice(0)),o=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}})))),d=n(29);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=y(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_(t);if(e){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(a,t);var e,n,o,r=v(a);function a(){return h(this,a),r.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-product-alert"}},{key:"properties",get:function(){return{alerts:Array,continueCB:Object,cancelCB:Object,displayContinueButton:{type:Boolean,value:!1},cancelText:{type:String,value:d.a.localize("lbl_close")}}}},{key:"observers",get:function(){return["init(alerts)"]}},{key:"template",get:function(){return Object(i.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles sb-dialogs-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-common-styles"></style>\n\n\t\t<div device>\n\t\t\t<sb-dialog id="dialog" modal="true" hide-close-icon="true" cancel-text="[[cancelText]]">\n\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t<i id="alert-icon" class="sf-icon-warning"></i>\n\t\t\t\t\t<div id="alert-title">\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t<sb-i18n>Alert</sb-i18n>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<template is="dom-repeat" items="[[alerts]]" as="alertContent">\n\t\t\t\t\t\t\t<ul class="alert-rule"><sb-i18n key="[[alertContent]]"></sb-i18n></ul>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<template is="dom-if" if="[[displayContinueButton]]">\n\t\t\t\t\t<paper-button slot="paper-button" id="continue" on-click="onContinue" noink>\n\t\t\t\t\t\t<sb-i18n>Continue</sb-i18n>\n\t\t\t\t\t</paper-button>\n\t\t\t\t</template>\n\t\t\t</sb-dialog>\n\t\t</div>\n\t\t'])),u)}}],(n=[{key:"ready",value:function(){b(_(a.prototype),"ready",this).call(this),this.$.dialog.addEventListener("sb-close-dialog",this._onCancel.bind(this))}},{key:"init",value:function(){this.$.dialog.toggle()}},{key:"onRevise",value:function(){this.$.dialog.toggle()}},{key:"toggle",value:function(){this.$.dialog.toggle()}},{key:"onContinue",value:function(){"function"==typeof this.continueCB&&this.continueCB()}},{key:"_onCancel",value:function(){"function"==typeof this.cancelCB&&this.cancelCB(),this.$.dialog.toggle()}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(r.a)(i.a));customElements.define(w.is,w)},function(t,e,n){"use strict";var o,r=n(2),i=(n(18),n(25),n(37)),a=(n(128),n(28)),s=n(27),l=n(20),c=n(5),u=n(49),d=(n(13),n(47),n(15),n(3));var p,h,f,b=Object(d.b)(o||(p=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  white-space: nowrap;\n}\n:host .leftSearch {\n  padding-left: 40px !important;\n}\n:host .cancelIcon {\n  padding-right: 40px !important;\n}\n:host .leftSearchIcon {\n  margin: 9px 0px 9px 15px;\n  position: absolute;\n  z-index: 1;\n  color: var(--sbIconColor);\n}\n:host .leftSearchIcon:hover {\n  color: var(--sbIconHoverColor);\n}\n:host input {\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  width: var(--sidePanelInputWidth, 125px);\n  height: var(--sidePanelInputHeight, initial);\n  position: relative;\n  font-size: var(--sbTypeaheadInputFontSize);\n  border-top-left-radius: var(--sbTypeaheadInputBorderRadius);\n  border-top-right-radius: var(--sbTypeaheadInputBorderRadius);\n}\n:host input:focus {\n  border: 1px solid #1589EE;\n  z-index: var(--zIndex, 902);\n}\n:host input[invalid] {\n  border: 1px solid #a94442;\n}\n:host .sb-icon-clear,\n:host .sb-icon-search {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host .sb-icon-clear.hide,\n:host .sb-icon-search.hide {\n  visibility: hidden;\n}\n:host iron-input {\n  width: var(--ironInputWidth);\n}\n:host iron-input[class*='--mobile'] {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host #itemLabel[class*='--mobile'] {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host #itemLabel[class*='--mobile']::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n:host [class*='--mobile'] iron-input {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host [class*='--mobile'] #itemLabel {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host [class*='--mobile'] #itemLabel::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n#mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 900;\n}\n#cancel,\n#selector {\n  z-index: 1;\n}\n#selector {\n  top: var(--sbTypeaheadSelectorTop);\n  left: var(--sbTypeaheadSelectorLeft, inherit);\n  text-align: left;\n  position: absolute;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: var(--sbTypeaheadSelectorBorderRadius, 3px) var(--sbTypeaheadSelectorBorderRadius, 3px) 3px 3px;\n  white-space: nowrap;\n  min-width: var(--sbTypeaheadSelectorMinWidth, var(--sidePanelInputWidth, 125px));\n  padding: var(--sbTypeaheadSelectorPadding);\n  z-index: 100;\n  width: var(--sbTypeaheadSelectorWidth);\n}\n#selector > div {\n  padding: var(--sbTypeaheadSelectorItemPadding, 8px 15px 8px 8px);\n  line-height: 1.2;\n}\n#selector > div > .small {\n  color: #54698d;\n  font-size: 0.75rem;\n}\n#selector > div:hover,\n#selector > div[selected] {\n  background: #d0d0d0;\n}\n#cancel {\n  color: var(--sbIconColor);\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin-top: -1px;\n}\n#cancel:hover {\n  color: var(--sbIconHoverColor);\n}\n.option {\n  cursor: pointer;\n  text-align: left;\n}\n.option.search:before {\n  content: '\\e87f';\n  font-family: 'sf-icons';\n  padding-right: 5px;\n}\n#itemLabel::-webkit-input-placeholder {\n  /* Chrome/Opera/Safari */\n  font-size: .8125rem;\n}\n#itemLabel::-moz-placeholder {\n  /* Firefox 19+ */\n  font-size: .8125rem;\n}\n#itemLabel:-ms-input-placeholder {\n  /* IE 10+ */\n  font-size: .8125rem;\n}\n#itemLabel:-moz-placeholder {\n  /* Firefox 18- */\n  font-size: .8125rem;\n}\niron-input.inlineEdit {\n  width: 100%;\n  height: 100%;\n}\niron-input.inlineEdit input {\n  height: 100%;\n  width: 100%;\n  border-radius: .25rem;\n  border: 1px solid #0070d2 !important;\n}\niron-input.inlineEdit input:focus {\n  outline: none;\n}\niron-input.dialog input {\n  height: 2.25em;\n}\niron-input.dialog input[class*='--desktop'] {\n  min-width: 40em;\n}\n[class*='--desktop'] iron-input.dialog input {\n  min-width: 40em;\n}\n"],(h=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  white-space: nowrap;\n}\n:host .leftSearch {\n  padding-left: 40px !important;\n}\n:host .cancelIcon {\n  padding-right: 40px !important;\n}\n:host .leftSearchIcon {\n  margin: 9px 0px 9px 15px;\n  position: absolute;\n  z-index: 1;\n  color: var(--sbIconColor);\n}\n:host .leftSearchIcon:hover {\n  color: var(--sbIconHoverColor);\n}\n:host input {\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  width: var(--sidePanelInputWidth, 125px);\n  height: var(--sidePanelInputHeight, initial);\n  position: relative;\n  font-size: var(--sbTypeaheadInputFontSize);\n  border-top-left-radius: var(--sbTypeaheadInputBorderRadius);\n  border-top-right-radius: var(--sbTypeaheadInputBorderRadius);\n}\n:host input:focus {\n  border: 1px solid #1589EE;\n  z-index: var(--zIndex, 902);\n}\n:host input[invalid] {\n  border: 1px solid #a94442;\n}\n:host .sb-icon-clear,\n:host .sb-icon-search {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host .sb-icon-clear.hide,\n:host .sb-icon-search.hide {\n  visibility: hidden;\n}\n:host iron-input {\n  width: var(--ironInputWidth);\n}\n:host iron-input[class*='--mobile'] {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host #itemLabel[class*='--mobile'] {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host #itemLabel[class*='--mobile']::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n:host [class*='--mobile'] iron-input {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host [class*='--mobile'] #itemLabel {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host [class*='--mobile'] #itemLabel::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n#mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 900;\n}\n#cancel,\n#selector {\n  z-index: 1;\n}\n#selector {\n  top: var(--sbTypeaheadSelectorTop);\n  left: var(--sbTypeaheadSelectorLeft, inherit);\n  text-align: left;\n  position: absolute;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: var(--sbTypeaheadSelectorBorderRadius, 3px) var(--sbTypeaheadSelectorBorderRadius, 3px) 3px 3px;\n  white-space: nowrap;\n  min-width: var(--sbTypeaheadSelectorMinWidth, var(--sidePanelInputWidth, 125px));\n  padding: var(--sbTypeaheadSelectorPadding);\n  z-index: 100;\n  width: var(--sbTypeaheadSelectorWidth);\n}\n#selector > div {\n  padding: var(--sbTypeaheadSelectorItemPadding, 8px 15px 8px 8px);\n  line-height: 1.2;\n}\n#selector > div > .small {\n  color: #54698d;\n  font-size: 0.75rem;\n}\n#selector > div:hover,\n#selector > div[selected] {\n  background: #d0d0d0;\n}\n#cancel {\n  color: var(--sbIconColor);\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin-top: -1px;\n}\n#cancel:hover {\n  color: var(--sbIconHoverColor);\n}\n.option {\n  cursor: pointer;\n  text-align: left;\n}\n.option.search:before {\n  content: '\\\\e87f';\n  font-family: 'sf-icons';\n  padding-right: 5px;\n}\n#itemLabel::-webkit-input-placeholder {\n  /* Chrome/Opera/Safari */\n  font-size: .8125rem;\n}\n#itemLabel::-moz-placeholder {\n  /* Firefox 19+ */\n  font-size: .8125rem;\n}\n#itemLabel:-ms-input-placeholder {\n  /* IE 10+ */\n  font-size: .8125rem;\n}\n#itemLabel:-moz-placeholder {\n  /* Firefox 18- */\n  font-size: .8125rem;\n}\niron-input.inlineEdit {\n  width: 100%;\n  height: 100%;\n}\niron-input.inlineEdit input {\n  height: 100%;\n  width: 100%;\n  border-radius: .25rem;\n  border: 1px solid #0070d2 !important;\n}\niron-input.inlineEdit input:focus {\n  outline: none;\n}\niron-input.dialog input {\n  height: 2.25em;\n}\niron-input.dialog input[class*='--desktop'] {\n  min-width: 40em;\n}\n[class*='--desktop'] iron-input.dialog input {\n  min-width: 40em;\n}\n"])||(h=p.slice(0)),o=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(h)}})))),y=n(1),g=n(6),v=n(0),m=n(80);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=P(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function P(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}function T(t,e){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=B(t);if(e){var r=B(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=new RegExp("[*_%]+","g"),D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(c,t);var e,n,o,i=I(c);function c(){return S(this,c),i.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-typeahead"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({items:{type:Array,value:[]},itemsCallback:{type:Object},debounceDelay:{type:Number,value:300},selectedItem:{type:Object,notify:!0},itemsList:{type:Array,observer:"itemsListChanged",notify:!0},labels:{type:Array,value:function(){return this.getAttribute("labels")||["label"]}},labelValue:{type:String,notify:!0},value:{type:String},delimiter:{type:String,value:function(){return this.getAttribute("delimiter")||""}},savedLabelValue:{type:String},invalidLabel:{type:Boolean,value:!1},hasList:{type:Boolean,value:!1,observer:"_calculateListPosition"},hasLabel:{type:Boolean,value:!1},hasFilter:Boolean,optionIndex:{type:Number,value:-1},focusOnAttached:Boolean,hideCancelIcon:{type:Boolean,value:!1},clearAfterSelection:{type:Boolean,value:!1},blurDisabled:{type:Boolean,value:!1},focusDisabled:{type:Boolean,value:!1},revertOnEscape:{type:Boolean,value:!1},showSearchIcon:{type:Boolean,value:!1},calculateListPosition:{type:Boolean,value:!1},showListNoSuggestion:{type:Boolean,value:!1},showListOnFocus:{type:Boolean,value:!1},hideInput:{type:Boolean,value:!1},showLeftSearchIcon:{type:Boolean},disjointLabel:Boolean,showAllResults:{type:Boolean,value:!1}},u.a.properties)}},{key:"observers",get:function(){return["_itemsChangedObserver(items, labels)","_setStylesObserver(showLeftSearchIcon, hideCancelIcon)"]}},{key:"template",get:function(){return Object(r.b)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-icons-styles"></style>\n\n\t\t<span device>\n\t\t<template is="dom-if" if="[[showLeftSearchIcon]]">\n\t\t\t<i class="icon leftSearchIcon sf-icon-search"></i>\n\t\t</template>\n\t\t<iron-input device bind-value="{{labelValue}}" class$="[[_getInputVariant(hideInput)]]">\n\t\t\t<input id="itemLabel" autocomplete="off" type="text" value="{{labelValue::input}}" on-keyup="suggest" on-keydown="tabBlur" invalid$="{{invalidLabel}}" on-blur="blur" disabled$="[[disabled]]" placeholder="[[placeholder]]" hidden$="[[hideInput]]" on-focus="focused"/>\n\t\t</iron-input>\n\t\t<input id="itemValue" type="hidden" value="[[labelValue]]">\n\t\t<template is="dom-if" if="[[!hideCancelIcon]]">\n\t\t\t<span id="cancel" class="sb-icon-clear sf-icon-clear" on-click="clear"></span>\n\t\t</template>\n\t\t<template is="dom-if" if="[[showSearchIcon]]">\n\t\t\t<span id="search" class="sb-icon-search sf-icon-search"></span>\n\t\t</template>\n\n\t\t<div id="selector" hidden$="{{!hasList}}" on-down="preventBlur" on-up="allowBlur">\n\t\t\t<template is="dom-repeat" items="{{itemsList}}" as="item">\n\t\t\t\t<div class$="option [[item.__md__.class]]" on-click="submitItem"></div>\n\t\t\t</template>\n\t\t</div>\n\t\t</span>\n\t\t'])),b)}}],(n=[{key:"ready",value:function(){E(B(c.prototype),"ready",this).call(this),this.$.itemLabel.addEventListener("focus",this._directInputFocus.bind(this)),this.$.itemLabel.addEventListener("blur",this._directInputBlur.bind(this))}},{key:"connectedCallback",value:function(){E(B(c.prototype),"connectedCallback",this).call(this),this.isAttached=!0,this.focusOnAttached&&this.focus()}},{key:"_setStylesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setStyles(t,e)}},{key:"setStyles",value:function(){this.showLeftSearchIcon&&Object(y.m)("leftSearch",!0,this.$.itemLabel),this.hideCancelIcon||Object(y.m)("cancelIcon",!0,this.$.itemLabel)}},{key:"_itemsChangedObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.itemsChanged(t,e)}},{key:"itemsChanged",value:function(){this.items.length&&(this.itemsList=this.updateItemsList())}},{key:"setSelectedItem",value:function(t){this.selectedItem=t,this.clearSuggestionsDropdown()}},{key:"clearSuggestionsDropdown",value:function(){if(this.selectedItem){var t=this.selectedItem.__md__,e=!!t&&t.clearAfterSelection;this.labelValue=this.getSelectedItemValue(this.selectedItem),(this.clearAfterSelection||e)&&(this.setSelectedItem(""),this.items=this.itemsList=[]),this.originalSelected||(this.originalSelected=JSON.parse(JSON.stringify(this.selectedItem)))}}},{key:"itemsListChanged",value:function(){Object(a.b)();var t=this.$.selector.querySelectorAll(".option");if(t){var e=t.length,n=this.labels.length;if(e>0){this.optionIndex=-1;for(var o=0;o<e;o++){for(var r=this.itemsList[o],i="",s=0;s<n;s++){var l=this.labels[s];i+=(0===s?"":this.delimiter)+r[l]}t[o].innerHTML=m.a.sanitizeHtmlText(i),t[o].setAttribute("data-label",i)}}}}},{key:"getSelectedItemValue",value:function(t){var e=this.value?this.value:"value";return t?t[e]:""}},{key:"clear",value:function(){this.hide(),this.updateItem({},!0),this.dispatchEvent(Object(v.d)("sb-type-clear"))}},{key:"hide",value:function(){this.hideList(),this.invalidLabel=!1,this.optionIndex=-1}},{key:"cloneItem",value:function(t){for(var e={},n=Object.keys(t),o=n.length,r=0;r<o;r++){var i=n[r];e[i]=t[i]}return e}},{key:"updateItem",value:function(t,e){for(var n=Object.keys(t),o=n.length,r={},i=0;i<o;i++){var a=n[i];r[a]=void 0!==t[a]?t[a]:""}this.setSelectedItem(r);for(var s="",l=this.labels.length,c=0;c<l;c++){var u=0===c?"":this.delimiter,d=this.selectedItem[this.labels[c]];d&&(s+=u+d)}var p=this.selectedItem.__md__;this.disjointLabel||(this.labelValue=p&&!p.clearAfterSelection&&void 0!==p.searchValue?p.searchValue:s),this.clearSelection(),this.focusOrBlurAfterSelection(this.selectedItem,e)}},{key:"submitItem",value:function(t){var e=t.model.item;this.updateItem(e),this.hide(),this.focusOrBlurAfterSelection(e)}},{key:"focusOrBlurAfterSelection",value:function(t,e){t&&t.__md__&&t.__md__.noFocusAfterSelection?this.$.itemLabel.blur():this.focus(e)}},{key:"selectAdjacentItem",value:function(t){if(this.itemsList){var e=this.itemsList.length;this.optionIndex>=0&&this.optionIndex<e?(this.$.selector.children[this.optionIndex].removeAttribute("selected"),38===t?this.optionIndex=0===this.optionIndex?e-1:this.optionIndex-1:40===t&&(this.optionIndex=this.optionIndex===e-1?0:this.optionIndex+1)):-1===this.optionIndex&&(38===t?this.optionIndex=e-1:40===t&&(this.optionIndex=0)),this.$.selector.children[this.optionIndex].setAttribute("selected","")}}},{key:"updateItemsList",value:function(){if(this.searchLabels||(this.searchLabels=this.labels),!0===this.showAllResults)return this.items;var t=[],e=!1;if(this.showListNoSuggestion||this.labelValue)for(var n=(this.labelValue||"").replace(/\+/g,"\\+").replace(/\\/g,"\\\\").replace(M,".+"),o=new RegExp(n,"i"),r=this.items.length,i=this.searchLabels.length,a=0;a<r;a++){for(var s=this.items[a],l=this.cloneItem(s),c=0;c<i;c++){var u=s[this.searchLabels[c]];u&&(this.showListNoSuggestion||o.test(u))&&(l["_"+this.searchLabels[c]]=u.replace(o,'<span style="font-weight:bold;">$&</span>'),e=!0)}if(e){var d,p=!0,h=k(this.labels);try{for(h.s();!(d=h.n()).done;)l[d.value]||(p=!1)}catch(t){h.e(t)}finally{h.f()}p&&t.push(l),e=!1}if(t.length>=10)break}return t}},{key:"suggest",value:function(t){var e=this;if(this.isAttached)switch(t.keyCode){case 13:if(this.$.itemLabel.blur(),this.hasList){if(-1===this.optionIndex){this.dispatchEvent(Object(v.d)("enter-without-selection",{value:this.labelValue})),this.hideList(),this.optionIndex=0;break}this.updateItem(this.itemsList[this.optionIndex]),this.noBlur=!1}else this.dispatchEvent(Object(v.d)("enter-without-selection",{value:this.labelValue}));this.hide();break;case 27:this.revertOnEscape&&(this.updateItem(this.originalSelected),this.items=void 0,this.hideList(),this.clearSelection(),this.dispatchEvent(Object(v.d)("sb-type-blur")));break;case 38:case 40:this.selectAdjacentItem(t.keyCode);break;case 9:case 16:break;default:this.invalidLabel=!1,this.itemsCallback?this._itemsCallbackDebouncer=s.a.debounce(this._itemsCallbackDebouncer,l.d.after(this.debounceDelay),(function(){e.itemsCallback(e.labelValue).then((function(t){t&&t.length>0?e.showList():e.hideList(),e.items=t}),(function(t){console.error(t&&t.message?t.message:t),e.items=[]}))})):(this.showList(),this.itemsList=this.updateItemsList(),0===this.itemsList.length&&(this.labelValue?this.invalidLabel=!0:this.hasLabel=!1,this.hasList=!1))}}},{key:"showList",value:function(){this.blurred?this.hideList():(this.showListNoSuggestion||null!=this.labelValue&&""!==this.labelValue)&&(this.hasList=!0,this.hasLabel=!0)}},{key:"hideList",value:function(){this.hasList=!1,this.hasLabel=!1}},{key:"clearSelection",value:function(){var t,e=k(this.$.selector.querySelectorAll(".option"));try{for(e.s();!(t=e.n()).done;){var n=t.value;n.hasAttribute("selected")&&n.toggleAttribute("selected")}}catch(t){e.e(t)}finally{e.f()}}},{key:"tabBlur",value:function(t){9===t.keyCode&&(this.hasList=!1),38===t.keyCode&&t.preventDefault(),13===t.keyCode&&this.hasList&&this.preventBlur(),27!==t.keyCode||this.revertOnEscape||setTimeout(function(t){this.labelValue=t}.bind(this,this.labelValue),0)}},{key:"focus",value:function(t){this.focusDisabled||(this.focusing=!0,this.$.itemLabel.focus(),this._showListOnFocus(t),this.focusing=!1)}},{key:"blur",value:function(t,e){(e||!this.hasList&&!this.blurDisabled)&&(this.hideList(),this.dispatchEvent(Object(v.d)("sb-type-blur")),this.setOriginalSelected())}},{key:"setOriginalSelected",value:function(){this.originalSelected=JSON.parse(JSON.stringify(this.selectedItem||{}))}},{key:"preventBlur",value:function(){this.noBlur=!0}},{key:"allowBlur",value:function(){this.noBlur=!1}},{key:"focused",value:function(){this.dispatchEvent(Object(v.d)("sb-type-focus",{value:this.labelValue}))}},{key:"_calculateListPosition",value:function(){if(this.calculateListPosition&&this.hasList){var t=g.a.getContainer().getBoundingClientRect().left,e=this.$.itemLabel.getBoundingClientRect().left;this.$.selector.style.left=e-t+"px"}}},{key:"_showListOnFocus",value:function(t){!this.showListOnFocus||this.hideInput||this.hasList||(t||!this.items||0===this.items.length||this.hasFilter?this.suggest({}):this.showList())}},{key:"_directInputFocus",value:function(){this.blurred=!1,this.focusing||this._showListOnFocus()}},{key:"_directInputBlur",value:function(){this.blurred=!0,this.blur(null,!this.noBlur)}},{key:"_getInputVariant",value:function(){return this.hideInput?"hidden":this.variant}}])&&C(e.prototype,n),o&&C(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(u.a)(Object(i.a)(Object(c.a)(r.a))));customElements.define(D.is,D)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={Apply:"Apply","Asset Selection":"Asset Selection",Cancel:"Cancel","Clear Fields":"Clear Fields",Filter:"Filter",Select:"Select",None:"None",searchText:"Search {0}",lookupQueryError:"Can't perform lookup due to field encryption or a querying error",FieldSetWarning:"Create a Field Set with the label of CPQ_Lookup in {0} object setup to determine which fields are displayed in this CPQ list view popup.",numResults:"{0} Results",Save:"Save","Background color":"Background color","Block quote":"Block quote",Bold:"Bold","Bullet list":"Bullet list","Clear formatting":"Clear formatting","Decrease indent":"Decrease indent","Edit Description":"Edit Description","Font family":"Font family","Font size":"Font size","Header size":"Header size","Unsupported HTML tags detected":"Unsupported HTML tags detected, saving may cause original formatting to be altered or lost. If you wish to preserve original formatting, cancel out of the Rich-Text Editor.","Increase indent":"Increase indent","Insert or edit image":"Insert or edit image","Insert or edit link":"Insert or edit link",Italic:"Italic","Numbered list":"Numbered list",Redo:"Redo",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Align left":"Align left",Center:"Center","Align right":"Align right","Text color":"Text color",Underline:"Underline",Undo:"Undo","Constrain proportions":"Constrain proportions",Dimensions:"Dimensions","Insert image":"Insert image",Source:"Source","Search Products":"Search Products","Product Search":"Product Search","Select All":"Reduce search results to fewer than {0} to enable select all",Popup:"Popup","Add Products":"Add Products",Delete:"Delete","Favorite Lookup":"Favorite Lookup","Select & Add More":"Select & Add More",Share:"Share","Share Favorites":"Share Favorites",Attributes:"Attributes",Options:"Options",showAvailableUpgrades:"This feature has products available for upgrade, click the Show Available Upgrades button at the bottom of the feature to select upgrade options.","No visible options in feature":"No visible options in feature '{0}'",Features:"Features","Add Options":"Add Options",Add:"Add","Configure Products":"Configure Products","Configuration Attribute Error":"Please review required configuration attributes","Configuration Error":"Some or all options require further configuration. Look for configuration icon next to options that must be configured.","Maximum Quantity Error":"Exceeded maximum quantity available. Value has been reduced to {0}","Add to Cart":"Add to Cart",Categories:"Categories",Description:"Description",Go:"Go","My Favorites":"My Favorites",Price:"Price","Product Code":"Product Code","Product Name":"Product Name","Start Over":"Start Over",Alert:"Alert",Continue:"Continue","Return to Quote":"The quote line you are attempting to reconfigure does not exist. Please add the product again to configure it.","Contract Selection":"Active Contract Selection","Select Contract":"Select Contract","Active Contracts":"Active Contracts","Evergreen Contracts":"Evergreen Contracts",Skip:"Skip",Favorites:"Favorites","Guided Selling":"Guided Selling","Product Filter":"Product Filter","Product Selection":"Product Selection",Suggest:"Suggest","Available Groups":"Available Groups","Clone To Groups":"Clone To Group(s)","Select Groups":"Select one or more group(s)","Selected Groups":"Selected Groups","Custom Segments":"Custom Segments","Discount Schedule Editor":"Discount Schedule Editor",Update:"Update","Add to Favorites":"Add to Favorites","Favorite Name":"Favorite Name","Choose Price Book":"Choose Price Book",Details:"Details",Total:"Total","Quote Total":"Quote Total","Add To Favorite":"Add To Favorite","Click to edit description":"Click to edit description.",emptyLinesMsg:"This group has no line items. Click on Add Products button or drag lines from other groups.",mobileEmptyLinesMsg:"This group has no line items. Click on Add Products button to add a product.","Remove From Favorites":"Remove From Favorites","Segmented Products":"Segmented Products","Standard Products":"Standard Products",Subtotal:"Subtotal",missingOpportunityLineItem:"This product will not sync to the opportunity because a valid pricebook entry does not exist.",msg_qty_cannot_decrease_on_renewal:"Quantity of Line {0} cannot decrease below original value {1} on a Renewal Quote.",msg_qty_no_negative_on_amend:"The quantities of the assets in the Amendment Quote are not allowed to be negative. Please adjust line(s) {0}.",msg_qty_of_upgrade_exceeds_source_prior:"Combined quantity of upgrades to Line {0} cannot exceed {1}.",msg_qty_of_source_too_low:'Product "{0}" cannot be refunded. The quantity of Line {1} cannot decrease without a corresponding upgrade.',pesterPSLAssignment:"As of Winter 21, Salesforce CPQ requires permission set licenses instead of managed package licenses. Contact your Salesforce CPQ admin about upgrading.","Edit Quote":"Edit Quote",emptyGroupedQuoteMsg:"This quote has no line items. Click on Add Group button to select products.",emptyQuoteMsg:"This quote has no line items. Click on Add Products button to select products.",fullScreenMode:"Toggle Full Screen Mode",Reset_Column_Widths:"Reset Column Widths","Accept Recommendation":"Accept Recommendation",Explanation:"Explanation",Floor:"Floor",Norm:"Norm","Pricing Guidance":"Pricing Guidance",PricingGuidanceNotAvailable:"Can't load pricing guidance for this record. Contact your Salesforce admin.",Target:"Target","Back to Quote":"Back to Quote",There_are_unsaved_changes_in_one_or_more_of_your_categories:"There are unsaved changes in one or more of your categories.  We're just making sure you want to go back to the quote without updating.",Leave_page_without_updating:"Leave page without updating?","Consumption Schedule":"Consumption Schedule","Never Mind":"Never Mind",msg_cannot_delete_group:"You cannot delete this Group as it contains Quote Lines being amended.",msg_confirm_group_delete:"All lines will also be deleted. Are you sure you want to delete this group?",msg_confirm_remove_favorite:"Are you sure you want to remove favorite?",msg_confirm_remove_group_from_favorites:"All lines will be removed from favorites. Are you sure you want to remove this group from favorites?",Ok:"Ok",msg_missing_pricebook_id:"A PriceBook Id is missing. Please contact your administrator to resolve the issue.","Consumption Schedule Name":"Consumption Schedule Name",Items_Sorted_by:"{0} Items - Sorted by {1}","Search Consumption Schedule Name":"Search Consumption Schedule Name","There are no rates that match your search criteria":"There are no rates that match your search criteria",Your_search_term_must_have_2_or_more_characters:"Your search term must have 2 or more characters, excluding *, ?, (), or ' '","Recommended Products":"Recommended Products","Subscription Selection":"Subscription Selection","Quick Save and Continue":"Quick Save and Continue",lbl_close:"Close",lbl_groups:"Groups"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(67),r={templatize:function(t,e){this._templatizerTemplate=t,this.ctor=Object(o.c)(t,this,{mutableData:Boolean(e),parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp:function(t){return new this.ctor(t)},modelForElement:function(t){return Object(o.a)(this._templatizerTemplate,t)}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o,r=n(84);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/o=r.a._mutablePropertyChange;var i={properties:{mutableData:Boolean},_shouldPropertyChange:function(t,e,n){return o(this,t,e,n,this.mutableData)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var o,r=n(2),i=(n(146),n(5)),a=(n(13),n(47),n(0)),s=n(73);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=p(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(p,t);var e,n,i,l=f(p);function p(){return c(this,p),l.apply(this,arguments)}return e=p,i=[{key:"is",get:function(){return"sb-checkbox"}},{key:"properties",get:function(){return{focusOnAttached:Boolean,applyFocus:{type:Boolean,observer:"_applyFocus"},value:{notify:!0,observer:"_boolify"},hide:{type:Object,observer:"hideShow"}}}},{key:"template",get:function(){return Object(r.b)(o||(t=['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\n\t\t<paper-checkbox tabindex$="[[tabIndex]]" device noink id="checkbox" checked="{{value}}" disabled="[[disabled]]" hidden$="[[hidden]]" on-blur="blur"></paper-checkbox>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"_boolify",value:function(){"boolean"!=typeof this.value&&(this.value=null!==this.value&&"true"===this.value.toLowerCase())}},{key:"connectedCallback",value:function(){d(y(p.prototype),"connectedCallback",this).call(this),this.focusOnAttached&&setTimeout(this.focus.bind(this),10)}},{key:"focus",value:function(){this.$.checkbox.focus()}},{key:"blur",value:function(){this.dispatchEvent(Object(a.d)("blur"))}},{key:"hideShow",value:function(){new s.a(this.hide).applyTo(this.$.checkbox)}},{key:"_applyFocus",value:function(){this.applyFocus&&this.focus()}}])&&u(e.prototype,n),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),p}(Object(i.a)(r.a));customElements.define(g.is,g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o,r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(d,t);var e,n,i,u=c(d);function d(){return a(this,d),u.apply(this,arguments)}return e=d,i=[{key:"is",get:function(){return"sb-div"}},{key:"properties",get:function(){return{value:String,label:{type:String,computed:"_setLabel(value)"}}}},{key:"template",get:function(){return Object(r.b)(o||(t=["<div>[[label]]</div>"],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"_setLabel",value:function(){return this.value}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),d}(r.a);customElements.define(p.is,p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var o,r=n(0),i=n(2),a=n(3);var s,l,c,u=Object(a.b)(o||(s=["\n#clickable {\n  min-width: 25px;\n  height: 25px;\n  cursor: pointer;\n  display: inline-block;\n}\n"],l||(l=s.slice(0)),o=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))));function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=b(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=m(t);if(e){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(s,t);var e,n,o,a=g(s);function s(){return p(this,s),a.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-rte"}},{key:"properties",get:function(){return{value:{type:String,notify:!0}}}},{key:"template",get:function(){return Object(i.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t        <div id="clickable" on-click="focus">{{value}}</div>\n\t    '])),u)}}],(n=[{key:"connectedCallback",value:function(){f(m(s.prototype),"connectedCallback",this).call(this),this.renderReadOnly&&this.focus()}},{key:"focus",value:function(){Object(r.c)(r.a.OPEN_RTE_DIALOG,{rte:this,value:this.value})}}])&&h(e.prototype,n),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.a);customElements.define(_.is,_)},function(t,e,n){"use strict";n(10);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n  <style css-build="shadow">html {\n  --shadow-transition_-_transition:  box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);;\n\n      --shadow-none_-_box-shadow:  none;;\n\n      \n\n      --shadow-elevation-2dp_-_box-shadow:  0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);;\n\n      --shadow-elevation-3dp_-_box-shadow:  0 3px 4px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 8px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 3px -2px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-4dp_-_box-shadow:  0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12),\n                    0 2px 4px -1px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-6dp_-_box-shadow:  0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 5px -1px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-8dp_-_box-shadow:  0 8px 10px 1px rgba(0, 0, 0, 0.14),\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12),\n                    0 5px 5px -3px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-12dp_-_box-shadow:  0 12px 16px 1px rgba(0, 0, 0, 0.14),\n                    0 4px 22px 3px rgba(0, 0, 0, 0.12),\n                    0 6px 7px -4px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-16dp_-_box-shadow:  0 16px 24px 2px rgba(0, 0, 0, 0.14),\n                    0  6px 30px 5px rgba(0, 0, 0, 0.12),\n                    0  8px 10px -5px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-24dp_-_box-shadow:  0 24px 38px 3px rgba(0, 0, 0, 0.14),\n                    0 9px 46px 8px rgba(0, 0, 0, 0.12),\n                    0 11px 15px -7px rgba(0, 0, 0, 0.4);;\n}\n\n</style>\n'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n(10),n(161);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n  <style css-build="shadow">html {\n  --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      \n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      \n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  \n      --light-theme-disabled-color: #9b9b9b;  \n      --light-theme-divider-color: #dbdbdb;\n\n      \n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  \n      --dark-theme-disabled-color: #646464;  \n      --dark-theme-divider-color: #3c3c3c;\n\n      \n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n}\n\n</style>\n'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";n(10);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n  <style css-build="shadow">html {\n  --google-red-100: #f4c7c3;\n      --google-red-300: #e67c73;\n      --google-red-500: #db4437;\n      --google-red-700: #c53929;\n\n      --google-blue-100: #c6dafc;\n      --google-blue-300: #7baaf7;\n      --google-blue-500: #4285f4;\n      --google-blue-700: #3367d6;\n\n      --google-green-100: #b7e1cd;\n      --google-green-300: #57bb8a;\n      --google-green-500: #0f9d58;\n      --google-green-700: #0b8043;\n\n      --google-yellow-100: #fce8b2;\n      --google-yellow-300: #f7cb4d;\n      --google-yellow-500: #f4b400;\n      --google-yellow-700: #f09300;\n\n      --google-grey-100: #f5f5f5;\n      --google-grey-300: #e0e0e0;\n      --google-grey-500: #9e9e9e;\n      --google-grey-700: #616161;\n\n      \n\n      --paper-red-50: #ffebee;\n      --paper-red-100: #ffcdd2;\n      --paper-red-200: #ef9a9a;\n      --paper-red-300: #e57373;\n      --paper-red-400: #ef5350;\n      --paper-red-500: #f44336;\n      --paper-red-600: #e53935;\n      --paper-red-700: #d32f2f;\n      --paper-red-800: #c62828;\n      --paper-red-900: #b71c1c;\n      --paper-red-a100: #ff8a80;\n      --paper-red-a200: #ff5252;\n      --paper-red-a400: #ff1744;\n      --paper-red-a700: #d50000;\n\n      --paper-pink-50: #fce4ec;\n      --paper-pink-100: #f8bbd0;\n      --paper-pink-200: #f48fb1;\n      --paper-pink-300: #f06292;\n      --paper-pink-400: #ec407a;\n      --paper-pink-500: #e91e63;\n      --paper-pink-600: #d81b60;\n      --paper-pink-700: #c2185b;\n      --paper-pink-800: #ad1457;\n      --paper-pink-900: #880e4f;\n      --paper-pink-a100: #ff80ab;\n      --paper-pink-a200: #ff4081;\n      --paper-pink-a400: #f50057;\n      --paper-pink-a700: #c51162;\n\n      --paper-purple-50: #f3e5f5;\n      --paper-purple-100: #e1bee7;\n      --paper-purple-200: #ce93d8;\n      --paper-purple-300: #ba68c8;\n      --paper-purple-400: #ab47bc;\n      --paper-purple-500: #9c27b0;\n      --paper-purple-600: #8e24aa;\n      --paper-purple-700: #7b1fa2;\n      --paper-purple-800: #6a1b9a;\n      --paper-purple-900: #4a148c;\n      --paper-purple-a100: #ea80fc;\n      --paper-purple-a200: #e040fb;\n      --paper-purple-a400: #d500f9;\n      --paper-purple-a700: #aa00ff;\n\n      --paper-deep-purple-50: #ede7f6;\n      --paper-deep-purple-100: #d1c4e9;\n      --paper-deep-purple-200: #b39ddb;\n      --paper-deep-purple-300: #9575cd;\n      --paper-deep-purple-400: #7e57c2;\n      --paper-deep-purple-500: #673ab7;\n      --paper-deep-purple-600: #5e35b1;\n      --paper-deep-purple-700: #512da8;\n      --paper-deep-purple-800: #4527a0;\n      --paper-deep-purple-900: #311b92;\n      --paper-deep-purple-a100: #b388ff;\n      --paper-deep-purple-a200: #7c4dff;\n      --paper-deep-purple-a400: #651fff;\n      --paper-deep-purple-a700: #6200ea;\n\n      --paper-indigo-50: #e8eaf6;\n      --paper-indigo-100: #c5cae9;\n      --paper-indigo-200: #9fa8da;\n      --paper-indigo-300: #7986cb;\n      --paper-indigo-400: #5c6bc0;\n      --paper-indigo-500: #3f51b5;\n      --paper-indigo-600: #3949ab;\n      --paper-indigo-700: #303f9f;\n      --paper-indigo-800: #283593;\n      --paper-indigo-900: #1a237e;\n      --paper-indigo-a100: #8c9eff;\n      --paper-indigo-a200: #536dfe;\n      --paper-indigo-a400: #3d5afe;\n      --paper-indigo-a700: #304ffe;\n\n      --paper-blue-50: #e3f2fd;\n      --paper-blue-100: #bbdefb;\n      --paper-blue-200: #90caf9;\n      --paper-blue-300: #64b5f6;\n      --paper-blue-400: #42a5f5;\n      --paper-blue-500: #2196f3;\n      --paper-blue-600: #1e88e5;\n      --paper-blue-700: #1976d2;\n      --paper-blue-800: #1565c0;\n      --paper-blue-900: #0d47a1;\n      --paper-blue-a100: #82b1ff;\n      --paper-blue-a200: #448aff;\n      --paper-blue-a400: #2979ff;\n      --paper-blue-a700: #2962ff;\n\n      --paper-light-blue-50: #e1f5fe;\n      --paper-light-blue-100: #b3e5fc;\n      --paper-light-blue-200: #81d4fa;\n      --paper-light-blue-300: #4fc3f7;\n      --paper-light-blue-400: #29b6f6;\n      --paper-light-blue-500: #03a9f4;\n      --paper-light-blue-600: #039be5;\n      --paper-light-blue-700: #0288d1;\n      --paper-light-blue-800: #0277bd;\n      --paper-light-blue-900: #01579b;\n      --paper-light-blue-a100: #80d8ff;\n      --paper-light-blue-a200: #40c4ff;\n      --paper-light-blue-a400: #00b0ff;\n      --paper-light-blue-a700: #0091ea;\n\n      --paper-cyan-50: #e0f7fa;\n      --paper-cyan-100: #b2ebf2;\n      --paper-cyan-200: #80deea;\n      --paper-cyan-300: #4dd0e1;\n      --paper-cyan-400: #26c6da;\n      --paper-cyan-500: #00bcd4;\n      --paper-cyan-600: #00acc1;\n      --paper-cyan-700: #0097a7;\n      --paper-cyan-800: #00838f;\n      --paper-cyan-900: #006064;\n      --paper-cyan-a100: #84ffff;\n      --paper-cyan-a200: #18ffff;\n      --paper-cyan-a400: #00e5ff;\n      --paper-cyan-a700: #00b8d4;\n\n      --paper-teal-50: #e0f2f1;\n      --paper-teal-100: #b2dfdb;\n      --paper-teal-200: #80cbc4;\n      --paper-teal-300: #4db6ac;\n      --paper-teal-400: #26a69a;\n      --paper-teal-500: #009688;\n      --paper-teal-600: #00897b;\n      --paper-teal-700: #00796b;\n      --paper-teal-800: #00695c;\n      --paper-teal-900: #004d40;\n      --paper-teal-a100: #a7ffeb;\n      --paper-teal-a200: #64ffda;\n      --paper-teal-a400: #1de9b6;\n      --paper-teal-a700: #00bfa5;\n\n      --paper-green-50: #e8f5e9;\n      --paper-green-100: #c8e6c9;\n      --paper-green-200: #a5d6a7;\n      --paper-green-300: #81c784;\n      --paper-green-400: #66bb6a;\n      --paper-green-500: #4caf50;\n      --paper-green-600: #43a047;\n      --paper-green-700: #388e3c;\n      --paper-green-800: #2e7d32;\n      --paper-green-900: #1b5e20;\n      --paper-green-a100: #b9f6ca;\n      --paper-green-a200: #69f0ae;\n      --paper-green-a400: #00e676;\n      --paper-green-a700: #00c853;\n\n      --paper-light-green-50: #f1f8e9;\n      --paper-light-green-100: #dcedc8;\n      --paper-light-green-200: #c5e1a5;\n      --paper-light-green-300: #aed581;\n      --paper-light-green-400: #9ccc65;\n      --paper-light-green-500: #8bc34a;\n      --paper-light-green-600: #7cb342;\n      --paper-light-green-700: #689f38;\n      --paper-light-green-800: #558b2f;\n      --paper-light-green-900: #33691e;\n      --paper-light-green-a100: #ccff90;\n      --paper-light-green-a200: #b2ff59;\n      --paper-light-green-a400: #76ff03;\n      --paper-light-green-a700: #64dd17;\n\n      --paper-lime-50: #f9fbe7;\n      --paper-lime-100: #f0f4c3;\n      --paper-lime-200: #e6ee9c;\n      --paper-lime-300: #dce775;\n      --paper-lime-400: #d4e157;\n      --paper-lime-500: #cddc39;\n      --paper-lime-600: #c0ca33;\n      --paper-lime-700: #afb42b;\n      --paper-lime-800: #9e9d24;\n      --paper-lime-900: #827717;\n      --paper-lime-a100: #f4ff81;\n      --paper-lime-a200: #eeff41;\n      --paper-lime-a400: #c6ff00;\n      --paper-lime-a700: #aeea00;\n\n      --paper-yellow-50: #fffde7;\n      --paper-yellow-100: #fff9c4;\n      --paper-yellow-200: #fff59d;\n      --paper-yellow-300: #fff176;\n      --paper-yellow-400: #ffee58;\n      --paper-yellow-500: #ffeb3b;\n      --paper-yellow-600: #fdd835;\n      --paper-yellow-700: #fbc02d;\n      --paper-yellow-800: #f9a825;\n      --paper-yellow-900: #f57f17;\n      --paper-yellow-a100: #ffff8d;\n      --paper-yellow-a200: #ffff00;\n      --paper-yellow-a400: #ffea00;\n      --paper-yellow-a700: #ffd600;\n\n      --paper-amber-50: #fff8e1;\n      --paper-amber-100: #ffecb3;\n      --paper-amber-200: #ffe082;\n      --paper-amber-300: #ffd54f;\n      --paper-amber-400: #ffca28;\n      --paper-amber-500: #ffc107;\n      --paper-amber-600: #ffb300;\n      --paper-amber-700: #ffa000;\n      --paper-amber-800: #ff8f00;\n      --paper-amber-900: #ff6f00;\n      --paper-amber-a100: #ffe57f;\n      --paper-amber-a200: #ffd740;\n      --paper-amber-a400: #ffc400;\n      --paper-amber-a700: #ffab00;\n\n      --paper-orange-50: #fff3e0;\n      --paper-orange-100: #ffe0b2;\n      --paper-orange-200: #ffcc80;\n      --paper-orange-300: #ffb74d;\n      --paper-orange-400: #ffa726;\n      --paper-orange-500: #ff9800;\n      --paper-orange-600: #fb8c00;\n      --paper-orange-700: #f57c00;\n      --paper-orange-800: #ef6c00;\n      --paper-orange-900: #e65100;\n      --paper-orange-a100: #ffd180;\n      --paper-orange-a200: #ffab40;\n      --paper-orange-a400: #ff9100;\n      --paper-orange-a700: #ff6500;\n\n      --paper-deep-orange-50: #fbe9e7;\n      --paper-deep-orange-100: #ffccbc;\n      --paper-deep-orange-200: #ffab91;\n      --paper-deep-orange-300: #ff8a65;\n      --paper-deep-orange-400: #ff7043;\n      --paper-deep-orange-500: #ff5722;\n      --paper-deep-orange-600: #f4511e;\n      --paper-deep-orange-700: #e64a19;\n      --paper-deep-orange-800: #d84315;\n      --paper-deep-orange-900: #bf360c;\n      --paper-deep-orange-a100: #ff9e80;\n      --paper-deep-orange-a200: #ff6e40;\n      --paper-deep-orange-a400: #ff3d00;\n      --paper-deep-orange-a700: #dd2c00;\n\n      --paper-brown-50: #efebe9;\n      --paper-brown-100: #d7ccc8;\n      --paper-brown-200: #bcaaa4;\n      --paper-brown-300: #a1887f;\n      --paper-brown-400: #8d6e63;\n      --paper-brown-500: #795548;\n      --paper-brown-600: #6d4c41;\n      --paper-brown-700: #5d4037;\n      --paper-brown-800: #4e342e;\n      --paper-brown-900: #3e2723;\n\n      --paper-grey-50: #fafafa;\n      --paper-grey-100: #f5f5f5;\n      --paper-grey-200: #eeeeee;\n      --paper-grey-300: #e0e0e0;\n      --paper-grey-400: #bdbdbd;\n      --paper-grey-500: #9e9e9e;\n      --paper-grey-600: #757575;\n      --paper-grey-700: #616161;\n      --paper-grey-800: #424242;\n      --paper-grey-900: #212121;\n\n      --paper-blue-grey-50: #eceff1;\n      --paper-blue-grey-100: #cfd8dc;\n      --paper-blue-grey-200: #b0bec5;\n      --paper-blue-grey-300: #90a4ae;\n      --paper-blue-grey-400: #78909c;\n      --paper-blue-grey-500: #607d8b;\n      --paper-blue-grey-600: #546e7a;\n      --paper-blue-grey-700: #455a64;\n      --paper-blue-grey-800: #37474f;\n      --paper-blue-grey-900: #263238;\n\n      \n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; \n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      \n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; \n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n}\n\n</style>\n\n'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/if(!window.polymerSkipLoadingFontRoboto){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.crossOrigin="anonymous",o.href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic",document.head.appendChild(o)}},function(t,e,n){"use strict";n(10);var o,r=n(3);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var i,a,s=Object(r.a)(o||(i=['\n<custom-style>\n  <style is="custom-style">\n    html {\n\n      /* Material Design color palette for Google products */\n\n      --google-red-100: #f4c7c3;\n      --google-red-300: #e67c73;\n      --google-red-500: #db4437;\n      --google-red-700: #c53929;\n\n      --google-blue-100: #c6dafc;\n      --google-blue-300: #7baaf7;\n      --google-blue-500: #4285f4;\n      --google-blue-700: #3367d6;\n\n      --google-green-100: #b7e1cd;\n      --google-green-300: #57bb8a;\n      --google-green-500: #0f9d58;\n      --google-green-700: #0b8043;\n\n      --google-yellow-100: #fce8b2;\n      --google-yellow-300: #f7cb4d;\n      --google-yellow-500: #f4b400;\n      --google-yellow-700: #f09300;\n\n      --google-grey-100: #f5f5f5;\n      --google-grey-300: #e0e0e0;\n      --google-grey-500: #9e9e9e;\n      --google-grey-700: #616161;\n\n      /* Material Design color palette from online spec document */\n\n      --paper-red-50: #ffebee;\n      --paper-red-100: #ffcdd2;\n      --paper-red-200: #ef9a9a;\n      --paper-red-300: #e57373;\n      --paper-red-400: #ef5350;\n      --paper-red-500: #f44336;\n      --paper-red-600: #e53935;\n      --paper-red-700: #d32f2f;\n      --paper-red-800: #c62828;\n      --paper-red-900: #b71c1c;\n      --paper-red-a100: #ff8a80;\n      --paper-red-a200: #ff5252;\n      --paper-red-a400: #ff1744;\n      --paper-red-a700: #d50000;\n\n      --paper-pink-50: #fce4ec;\n      --paper-pink-100: #f8bbd0;\n      --paper-pink-200: #f48fb1;\n      --paper-pink-300: #f06292;\n      --paper-pink-400: #ec407a;\n      --paper-pink-500: #e91e63;\n      --paper-pink-600: #d81b60;\n      --paper-pink-700: #c2185b;\n      --paper-pink-800: #ad1457;\n      --paper-pink-900: #880e4f;\n      --paper-pink-a100: #ff80ab;\n      --paper-pink-a200: #ff4081;\n      --paper-pink-a400: #f50057;\n      --paper-pink-a700: #c51162;\n\n      --paper-purple-50: #f3e5f5;\n      --paper-purple-100: #e1bee7;\n      --paper-purple-200: #ce93d8;\n      --paper-purple-300: #ba68c8;\n      --paper-purple-400: #ab47bc;\n      --paper-purple-500: #9c27b0;\n      --paper-purple-600: #8e24aa;\n      --paper-purple-700: #7b1fa2;\n      --paper-purple-800: #6a1b9a;\n      --paper-purple-900: #4a148c;\n      --paper-purple-a100: #ea80fc;\n      --paper-purple-a200: #e040fb;\n      --paper-purple-a400: #d500f9;\n      --paper-purple-a700: #aa00ff;\n\n      --paper-deep-purple-50: #ede7f6;\n      --paper-deep-purple-100: #d1c4e9;\n      --paper-deep-purple-200: #b39ddb;\n      --paper-deep-purple-300: #9575cd;\n      --paper-deep-purple-400: #7e57c2;\n      --paper-deep-purple-500: #673ab7;\n      --paper-deep-purple-600: #5e35b1;\n      --paper-deep-purple-700: #512da8;\n      --paper-deep-purple-800: #4527a0;\n      --paper-deep-purple-900: #311b92;\n      --paper-deep-purple-a100: #b388ff;\n      --paper-deep-purple-a200: #7c4dff;\n      --paper-deep-purple-a400: #651fff;\n      --paper-deep-purple-a700: #6200ea;\n\n      --paper-indigo-50: #e8eaf6;\n      --paper-indigo-100: #c5cae9;\n      --paper-indigo-200: #9fa8da;\n      --paper-indigo-300: #7986cb;\n      --paper-indigo-400: #5c6bc0;\n      --paper-indigo-500: #3f51b5;\n      --paper-indigo-600: #3949ab;\n      --paper-indigo-700: #303f9f;\n      --paper-indigo-800: #283593;\n      --paper-indigo-900: #1a237e;\n      --paper-indigo-a100: #8c9eff;\n      --paper-indigo-a200: #536dfe;\n      --paper-indigo-a400: #3d5afe;\n      --paper-indigo-a700: #304ffe;\n\n      --paper-blue-50: #e3f2fd;\n      --paper-blue-100: #bbdefb;\n      --paper-blue-200: #90caf9;\n      --paper-blue-300: #64b5f6;\n      --paper-blue-400: #42a5f5;\n      --paper-blue-500: #2196f3;\n      --paper-blue-600: #1e88e5;\n      --paper-blue-700: #1976d2;\n      --paper-blue-800: #1565c0;\n      --paper-blue-900: #0d47a1;\n      --paper-blue-a100: #82b1ff;\n      --paper-blue-a200: #448aff;\n      --paper-blue-a400: #2979ff;\n      --paper-blue-a700: #2962ff;\n\n      --paper-light-blue-50: #e1f5fe;\n      --paper-light-blue-100: #b3e5fc;\n      --paper-light-blue-200: #81d4fa;\n      --paper-light-blue-300: #4fc3f7;\n      --paper-light-blue-400: #29b6f6;\n      --paper-light-blue-500: #03a9f4;\n      --paper-light-blue-600: #039be5;\n      --paper-light-blue-700: #0288d1;\n      --paper-light-blue-800: #0277bd;\n      --paper-light-blue-900: #01579b;\n      --paper-light-blue-a100: #80d8ff;\n      --paper-light-blue-a200: #40c4ff;\n      --paper-light-blue-a400: #00b0ff;\n      --paper-light-blue-a700: #0091ea;\n\n      --paper-cyan-50: #e0f7fa;\n      --paper-cyan-100: #b2ebf2;\n      --paper-cyan-200: #80deea;\n      --paper-cyan-300: #4dd0e1;\n      --paper-cyan-400: #26c6da;\n      --paper-cyan-500: #00bcd4;\n      --paper-cyan-600: #00acc1;\n      --paper-cyan-700: #0097a7;\n      --paper-cyan-800: #00838f;\n      --paper-cyan-900: #006064;\n      --paper-cyan-a100: #84ffff;\n      --paper-cyan-a200: #18ffff;\n      --paper-cyan-a400: #00e5ff;\n      --paper-cyan-a700: #00b8d4;\n\n      --paper-teal-50: #e0f2f1;\n      --paper-teal-100: #b2dfdb;\n      --paper-teal-200: #80cbc4;\n      --paper-teal-300: #4db6ac;\n      --paper-teal-400: #26a69a;\n      --paper-teal-500: #009688;\n      --paper-teal-600: #00897b;\n      --paper-teal-700: #00796b;\n      --paper-teal-800: #00695c;\n      --paper-teal-900: #004d40;\n      --paper-teal-a100: #a7ffeb;\n      --paper-teal-a200: #64ffda;\n      --paper-teal-a400: #1de9b6;\n      --paper-teal-a700: #00bfa5;\n\n      --paper-green-50: #e8f5e9;\n      --paper-green-100: #c8e6c9;\n      --paper-green-200: #a5d6a7;\n      --paper-green-300: #81c784;\n      --paper-green-400: #66bb6a;\n      --paper-green-500: #4caf50;\n      --paper-green-600: #43a047;\n      --paper-green-700: #388e3c;\n      --paper-green-800: #2e7d32;\n      --paper-green-900: #1b5e20;\n      --paper-green-a100: #b9f6ca;\n      --paper-green-a200: #69f0ae;\n      --paper-green-a400: #00e676;\n      --paper-green-a700: #00c853;\n\n      --paper-light-green-50: #f1f8e9;\n      --paper-light-green-100: #dcedc8;\n      --paper-light-green-200: #c5e1a5;\n      --paper-light-green-300: #aed581;\n      --paper-light-green-400: #9ccc65;\n      --paper-light-green-500: #8bc34a;\n      --paper-light-green-600: #7cb342;\n      --paper-light-green-700: #689f38;\n      --paper-light-green-800: #558b2f;\n      --paper-light-green-900: #33691e;\n      --paper-light-green-a100: #ccff90;\n      --paper-light-green-a200: #b2ff59;\n      --paper-light-green-a400: #76ff03;\n      --paper-light-green-a700: #64dd17;\n\n      --paper-lime-50: #f9fbe7;\n      --paper-lime-100: #f0f4c3;\n      --paper-lime-200: #e6ee9c;\n      --paper-lime-300: #dce775;\n      --paper-lime-400: #d4e157;\n      --paper-lime-500: #cddc39;\n      --paper-lime-600: #c0ca33;\n      --paper-lime-700: #afb42b;\n      --paper-lime-800: #9e9d24;\n      --paper-lime-900: #827717;\n      --paper-lime-a100: #f4ff81;\n      --paper-lime-a200: #eeff41;\n      --paper-lime-a400: #c6ff00;\n      --paper-lime-a700: #aeea00;\n\n      --paper-yellow-50: #fffde7;\n      --paper-yellow-100: #fff9c4;\n      --paper-yellow-200: #fff59d;\n      --paper-yellow-300: #fff176;\n      --paper-yellow-400: #ffee58;\n      --paper-yellow-500: #ffeb3b;\n      --paper-yellow-600: #fdd835;\n      --paper-yellow-700: #fbc02d;\n      --paper-yellow-800: #f9a825;\n      --paper-yellow-900: #f57f17;\n      --paper-yellow-a100: #ffff8d;\n      --paper-yellow-a200: #ffff00;\n      --paper-yellow-a400: #ffea00;\n      --paper-yellow-a700: #ffd600;\n\n      --paper-amber-50: #fff8e1;\n      --paper-amber-100: #ffecb3;\n      --paper-amber-200: #ffe082;\n      --paper-amber-300: #ffd54f;\n      --paper-amber-400: #ffca28;\n      --paper-amber-500: #ffc107;\n      --paper-amber-600: #ffb300;\n      --paper-amber-700: #ffa000;\n      --paper-amber-800: #ff8f00;\n      --paper-amber-900: #ff6f00;\n      --paper-amber-a100: #ffe57f;\n      --paper-amber-a200: #ffd740;\n      --paper-amber-a400: #ffc400;\n      --paper-amber-a700: #ffab00;\n\n      --paper-orange-50: #fff3e0;\n      --paper-orange-100: #ffe0b2;\n      --paper-orange-200: #ffcc80;\n      --paper-orange-300: #ffb74d;\n      --paper-orange-400: #ffa726;\n      --paper-orange-500: #ff9800;\n      --paper-orange-600: #fb8c00;\n      --paper-orange-700: #f57c00;\n      --paper-orange-800: #ef6c00;\n      --paper-orange-900: #e65100;\n      --paper-orange-a100: #ffd180;\n      --paper-orange-a200: #ffab40;\n      --paper-orange-a400: #ff9100;\n      --paper-orange-a700: #ff6500;\n\n      --paper-deep-orange-50: #fbe9e7;\n      --paper-deep-orange-100: #ffccbc;\n      --paper-deep-orange-200: #ffab91;\n      --paper-deep-orange-300: #ff8a65;\n      --paper-deep-orange-400: #ff7043;\n      --paper-deep-orange-500: #ff5722;\n      --paper-deep-orange-600: #f4511e;\n      --paper-deep-orange-700: #e64a19;\n      --paper-deep-orange-800: #d84315;\n      --paper-deep-orange-900: #bf360c;\n      --paper-deep-orange-a100: #ff9e80;\n      --paper-deep-orange-a200: #ff6e40;\n      --paper-deep-orange-a400: #ff3d00;\n      --paper-deep-orange-a700: #dd2c00;\n\n      --paper-brown-50: #efebe9;\n      --paper-brown-100: #d7ccc8;\n      --paper-brown-200: #bcaaa4;\n      --paper-brown-300: #a1887f;\n      --paper-brown-400: #8d6e63;\n      --paper-brown-500: #795548;\n      --paper-brown-600: #6d4c41;\n      --paper-brown-700: #5d4037;\n      --paper-brown-800: #4e342e;\n      --paper-brown-900: #3e2723;\n\n      --paper-grey-50: #fafafa;\n      --paper-grey-100: #f5f5f5;\n      --paper-grey-200: #eeeeee;\n      --paper-grey-300: #e0e0e0;\n      --paper-grey-400: #bdbdbd;\n      --paper-grey-500: #9e9e9e;\n      --paper-grey-600: #757575;\n      --paper-grey-700: #616161;\n      --paper-grey-800: #424242;\n      --paper-grey-900: #212121;\n\n      --paper-blue-grey-50: #eceff1;\n      --paper-blue-grey-100: #cfd8dc;\n      --paper-blue-grey-200: #b0bec5;\n      --paper-blue-grey-300: #90a4ae;\n      --paper-blue-grey-400: #78909c;\n      --paper-blue-grey-500: #607d8b;\n      --paper-blue-grey-600: #546e7a;\n      --paper-blue-grey-700: #455a64;\n      --paper-blue-grey-800: #37474f;\n      --paper-blue-grey-900: #263238;\n\n      /* opacity for dark text on a light background */\n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; /* or hint text or icon */\n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      /* opacity for light text on a dark background */\n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; /* or hint text or icon */\n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n\n    }\n\n  </style>\n</custom-style>\n'],a||(a=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))));s.setAttribute("style","display: none;"),document.head.appendChild(s.content)},function(t,e,n){"use strict";var o,r=n(2),i=n(51),a=n(0);n(45),n(50);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=d(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(f,t);var e,n,s,d=h(f);function f(){return l(this,f),d.apply(this,arguments)}return e=f,s=[{key:"is",get:function(){return"sb-job-checker"}},{key:"properties",get:function(){return{spinner:{type:Boolean,value:!1},useSpinner:{type:Boolean,value:!0},data:Object,status:String,result:{type:Object,notify:!0},error:{type:String,notify:!0},asyncNumList:{type:Array,value:[]},firstStatusTime:Number,lastStatusTime:Number}}},{key:"observers",get:function(){return["_ping(data)"]}},{key:"template",get:function(){return Object(r.b)(o||(t=['\n\t\t<sb-loading-spinner id="loadingSpinner"></sb-loading-spinner>\n\t\t<sb-service id="service" saver="JobCheckerServiceProvider.GetJobStatus"></sb-service>\n\t\t'],e||(e=t.slice(0)),o=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"_useSpinner",value:function(){return this.spinner&&this.useSpinner}},{key:"ready",value:function(){u(b(f.prototype),"ready",this).call(this),this.firstStatusTime=Date.now(),this.lastStatusTime=Date.now(),this._setLoadingSpinner(!1),this.$.service.addEventListener("response-changed",function(t){this._checkStatus(t)}.bind(this)),this.$.service.addEventListener("error-changed",function(t){this.error=t.detail.value,this._setLoadingSpinner(!1)}.bind(this))}},{key:"_setLoadingSpinner",value:function(t){this.spinner=t,Object(i.d)("RootState","showSpinnerMessage",t),!1===t&&Object(i.a)("RootState","spinnerStatus"),this.$.loadingSpinner.show=this._useSpinner()}},{key:"_ping",value:function(t){this._setLoadingSpinner(!0),this.$.service.background=!0,this.$.service.model=void 0,this.$.service.model=t}},{key:"_checkStatus",value:function(t){var e=this,n=t.detail.value;if(null!=n){var o=n.job.Id||n.jobId;if(this._setJobStatus(n.job.Status),this._isFinished())if(this._isFailure())this.error={message:n.job.ExtendedStatus},this._setLoadingSpinner(!1);else{if(null!=n.payload){this.result=n;for(var r=0;r<this.asyncNumList.length;r++)clearTimeout(this.asyncNumList[r])}this._getStatusMessages(),this._setLoadingSpinner(!1),null!=n.payload&&this.dispatchEvent(Object(a.d)("job-completed"))}else{this.lastStatusTime=Date.now(),this.data.jobId=o,this._getStatusMessages();var i=setTimeout((function(){e._ping(e.data)}),1e3);this.asyncNumList.push(i)}}}},{key:"_setJobStatus",value:function(t){this.status=t;var e=this._convertJobStatus(t);Object(i.d)("RootState","spinnerStatus",e)}},{key:"_convertJobStatus",value:function(t){return{Queued:"Waiting",Holding:"Waiting",Aborted:"Cancelled"}[t]||t}},{key:"_getStatusMessages",value:function(){var t=Date.now()-this.lastStatusTime;console.log("Record Id: "+this.data.recordId+" Job Type: "+this.data.jobType+" [Job Id: "+this.data.jobId+" - Status:"+this.status+"] Time : "+(this.lastStatusTime-this.firstStatusTime)+" [Wait Time: "+t+"]")}},{key:"_isFailure",value:function(){return this.status&&("Aborted"==this.status||"Failed"==this.status)}},{key:"_isFinished",value:function(){return this.status&&("Completed"==this.status||this._isFailure())}}])&&c(e.prototype,n),s&&c(e,s),Object.defineProperty(e,"prototype",{writable:!1}),f}(r.a);customElements.define(y.is,y)},function(t,e,n){"use strict";n.r(e),n.d(e,"LineEditor",(function(){return rv}));var o=n(4),r=n(0),i=n(64),a=n(23),s=n(53);function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rules=e,this.prefix=void 0===n?"":n,this.errorStrings=o,this._setConstants()}var e,n,o;return e=t,(n=[{key:"_setConstants",value:function(){this.ACTIONS=this.prefix+"Actions__r",this.TYPE=this.prefix+"Type__c",this.PRODUCT=this.prefix+"Product__c"}},{key:"_getResponseType",value:function(t){return"Add"===t||"Enable & Add"===t||"Show & Add"===t?"requiredProductIds":null}}])&&l(e.prototype,n),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e,this.testValueCache={},this.fieldValueCache={}}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){if(null==t||null==e)return t==e;if(t instanceof Date)return t.getTime()===new Date(e).getTime();if("boolean"==typeof t)return t===("true"===String(e).toLowerCase());if("string"==typeof t&&"string"==typeof e){var n=e.toLowerCase(),o=t.toLowerCase();return null==this.testValueCache[n]&&(this.testValueCache[n]=this.valueFor(n)),null==this.fieldValueCache[o]&&(this.fieldValueCache[o]=this.valueFor(o)),this.testValueCache[n].equals(this.fieldValueCache[o])}return("number"==typeof t||t instanceof Number)&&t.valueOf()==e}},{key:"valueFor",value:function(t){return t.indexOf(",")>-1&&0!=t.indexOf('"')&&t.lastIndexOf('"')!=t.length-1?{valueType:"Multi",valueSet:t.split(",").map((function(t){return t.trim()})),equals:function(t){return"Multi"===t.valueType?t.valueSet.some((function(t){return-1!=this.valueSet.indexOf(t)}),this):-1!=this.valueSet.indexOf(t.value)}}:{valueType:"Single",value:t,equals:function(t){return this.value===t.value}}}}])&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e,this.equals=new d}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){return!this.equals.evaluate(t,e)}}])&&p(e.prototype,n),o&&p(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){if(null==t||null==e)return!1;if("number"==typeof t||t instanceof Number)return t.valueOf()>=e;if(t instanceof Date)return t>=new Date(e);if("string"==typeof t){var n=Date.parse(t),o=Date.parse(e);return n==n&&o==o?n>=o:t>=e}return!1}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e,this.gte=new b}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){return null!=t&&null!=e&&("number"==typeof t||"string"==typeof t||t instanceof Date||t instanceof Number)&&!this.gte.evaluate(t,e)}}])&&y(e.prototype,n),o&&y(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){if(null==t||null==e)return!1;if("number"==typeof t||t instanceof Number)return t.valueOf()>e;if(t instanceof Date)return t>new Date(e);if("string"==typeof t){var n=Date.parse(t),o=Date.parse(e);return n==n&&o==o?n>o:t.toLowerCase()>e.toLowerCase()}return!1}}])&&v(e.prototype,n),o&&v(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e,this.gt=new m}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){return null!=t&&null!=e&&("number"==typeof t||"string"==typeof t||t instanceof Date||t instanceof Number)&&!this.gt.evaluate(t,e)}}])&&_(e.prototype,n),o&&_(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){return null!=t&&null!=e&&0===String(t).toLowerCase().indexOf(String(e).toLowerCase())}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){if(null==t||null==e)return!1;var n=String(t).toLowerCase(),o=String(e).toLowerCase();return-1!==n.indexOf(o,n.length-o.length)}}])&&x(e.prototype,n),o&&x(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opType=e}var e,n,o;return e=t,(n=[{key:"evaluate",value:function(t,e){if(null==t||null==e)return!1;var n=String(t).toLowerCase(),o=String(e).toLowerCase();return-1!==n.indexOf(o)}}])&&C(e.prototype,n),o&&C(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=e,this.OP_EQ="equals",this.OP_NEQ="not equals",this.OP_LT="less than",this.OP_LTE="less or equals",this.OP_GT="greater than",this.OP_GTE="greater or equals",this.OP_SW="starts with",this.OP_EW="ends with",this.OP_CONT="contains"}var e,n,o;return e=t,(n=[{key:"getInstance",value:function(){switch(this.key){case this.OP_EQ:return new d(this.key);case this.OP_NEQ:return new h(this.key);case this.OP_LT:return new g(this.key);case this.OP_LTE:return new w(this.key);case this.OP_GT:return new m(this.key);case this.OP_GTE:return new b(this.key);case this.OP_SW:return new k(this.key);case this.OP_EW:return new S(this.key);case this.OP_CONT:return new E(this.key);default:return null}}},{key:"getInverseInstance",value:function(){switch(this.key){case this.OP_EQ:return new d(this.key);case this.OP_NEQ:return new h(this.key);case this.OP_LT:return new m(this.key);case this.OP_LTE:return new b(this.key);case this.OP_GT:return new g(this.key);case this.OP_GTE:return new w(this.key);case this.OP_SW:return new k(this.key);case this.OP_EW:return new S(this.key);case this.OP_CONT:return new E(this.key);default:return null}}}])&&P(e.prototype,n),o&&P(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var M=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rules=e,this.quote=n,this.prefix=void 0===o?"":o,this.errorStrings=r,this._init()}var e,n,o;return e=t,(n=[{key:"_init",value:function(){this._setConstants(),this._setAliasedFieldsMap()}},{key:"_setConstants",value:function(){this.ERROR_CONDITIONS=this.prefix+"ErrorConditions__r",this.TESTED_VARIABLE=this.prefix+"TestedVariable__c",this.CONDITIONS_MET=this.prefix+"ConditionsMet__c",this.TESTED_OBJECT=this.prefix+"TestedObject__c",this.TESTED_FIELD=this.prefix+"TestedField__c",this.FILTER_VALUE=this.prefix+"FilterValue__c",this.FILTER_TYPE=this.prefix+"FilterType__c",this.OPERATOR=this.prefix+"Operator__c",this.ACTIONS=this.prefix+"Actions__r"}},{key:"_setAliasedFieldsMap",value:function(){this.aliasedFieldsMap={Quote:{"Group Line Items":this.prefix+"LineItemsGrouped__c"}}}},{key:"isRuleSatisfied",value:function(t){if(!this._hasActions(t))return!1;if(!this._hasErrorConditions(t))return!0;var e,n=t[this.CONDITIONS_MET],o=!1,r=I(t[this.ERROR_CONDITIONS].records||[]);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=i[this.TESTED_VARIABLE],s=i[this.TESTED_OBJECT],l=this.packageConditionDetails(i);if("Quote"===s?o=this.evaluateCondition(i,this.quote.record,l):"Quote Line"===s&&this.quote.lineItems.length>0?o=this.evaluateCollection(i,this.quote.lineItems,l):"Quote Line Group"===s&&this.quote.lineItemGroups.length>0?o=this.evaluateCollection(i,this.quote.lineItemGroups,l):a?this._throwError(this.errorStrings.msg_jspr_err_summary_variable_used.replace("{0}",i.Id)):this._throwError(this.errorStrings.msg_jspr_err_no_tested_object.replace("{0}",i.Id)),this._canReturnImmediately(o,n))return o}}catch(t){r.e(t)}finally{r.f()}return o}},{key:"packageConditionDetails",value:function(t){var e=new T(t[this.OPERATOR]).getInstance();if(null===e){var n=this.errorStrings.msg_jspr_err_invalid_operator.replace("{0}",t[this.OPERATOR]).replace("{1}",t.Id);this._throwError(n)}return"Variable"===t[this.FILTER_TYPE]&&this._throwError(this.errorStrings.msg_jspr_err_summary_variable_used.replace("{0}",t.Id)),{op:e,filterValue:t[this.FILTER_VALUE]}}},{key:"evaluateCollection",value:function(t,e,n){for(var o=0,r=e.length,i=!1;o<r&&!i;)i=this.evaluateCondition(t,e[o++].record,n);return i}},{key:"evaluateCondition",value:function(t,e,n){var o=this._getValue(t,e);return n.op.evaluate(o,n.filterValue)}},{key:"_getValue",value:function(t,e){var n=t[this.TESTED_OBJECT],o=t[this.TESTED_FIELD],r=this.aliasedFieldsMap[n]&&this.aliasedFieldsMap[n][o]?this.aliasedFieldsMap[n][o]:null,i=null===r?o:r;if(Object.keys(e).indexOf(i)<0){var a=this.errorStrings.msg_jspr_err_no_tested_field.replace("{0}",t.Id).replace("{1}",t[this.TESTED_FIELD]).replace("{2}",n);this._throwError(a)}return e[i]}},{key:"_throwError",value:function(t){throw{msg:t,type:"info"}}},{key:"_canReturnImmediately",value:function(t,e){return!("All"!=e||t)||!("Any"!=e||!t)}},{key:"_hasErrorConditions",value:function(t){return!!t[this.ERROR_CONDITIONS]}},{key:"_hasActions",value:function(t){return!!t[this.ACTIONS]&&t[this.ACTIONS].totalSize>0}}])&&B(e.prototype,n),o&&B(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function q(){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=F(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function F(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}function N(t,e){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=U(t);if(e){var r=U(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return H(this,n)}}function H(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(i,t);var e,n,o,r=z(i);function i(t,e,n,o){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=r.call(this,e,n,o))._init(t),a}return e=i,(n=[{key:"_init",value:function(t){this.quote=t,this.response={requiredProductIds:[]},this.lineItemsById={};var e,n=A(this.quote.lineItems||[]);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.lineItemsById[o.record[this.PRODUCT]]=o}}catch(t){n.e(t)}finally{n.f()}}},{key:"execute",value:function(){var t,e=new M(this.rules,this.quote,this.prefix,this.errorStrings),n=A(this.rules||[]);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e.isRuleSatisfied(o)){var r,i=A(o[this.ACTIONS].records);try{for(i.s();!(r=i.n()).done;){var a=r.value;this._conditionallyAddToResponseObject(a)}}catch(t){i.e(t)}finally{i.f()}}}}catch(t){n.e(t)}finally{n.f()}return this.response}},{key:"_conditionallyAddToResponseObject",value:function(t){var e=q(U(i.prototype),"_getResponseType",this).call(this,t[this.TYPE]);null!==e&&("requiredProductIds"===e&&this._productAdded(t[this.PRODUCT])||this.response[e].push(t[this.PRODUCT]))}},{key:"_productAdded",value:function(t){return!!this.lineItemsById[t]}}])&&L(e.prototype,n),o&&L(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(c);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Q=["init","isActive","isReady","addListener","removeListener","send","shutdown"];function G(t){if(!t)return!1;var e=Q.map((function(e){return"function"==typeof t[e]}));return e.reduce((function(t,e){return t&&e}),!0)}function $(t){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));var e=t[0];return e&&"object"===W(e)||(e={type:"text",data:t.join(" ")}),e}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Y=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!G(n))throw"Subscriber: Constructor requires 2 valid arguments (tag, channel)";this.tag=e,this.channel=n,this.callbacks=[]}var e,n,o;return e=t,(n=[{key:"init",value:function(){this.channel.init(),this.channel.addListener(this._receiveMessage.bind(this))}},{key:"subscribe",value:function(t){"function"==typeof t?this.callbacks.push(t):console.error("Subscriber: subscribe() must be called with a valid function")}},{key:"unsubscribe",value:function(t){var e=this.callbacks.indexOf(t);e<0?console.error("Subscriber: unsubscribe() must be called with a function previously set using subscribe()"):this.callbacks.splice(e,1)}},{key:"shutdown",value:function(){this.callbacks=[],this.channel.shutdown()}},{key:"_receiveMessage",value:function(t){t&&t.tag===this.tag&&this.callbacks.forEach((function(e){return e(t)}))}}])&&K(e.prototype,n),o&&K(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var J=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!G(n))throw"Publisher: Constructor requires 2 valid arguments (tag, channel)";this.tag=e,this.channel=n,this.msgQueue=[]}var e,n,o;return e=t,(n=[{key:"init",value:function(){this.channel.init(this._publishOnceReady.bind(this))}},{key:"publish",value:function(t){if(t){var e=Object.assign({},t);e.tag=this.tag,this.msgQueue.push(e),this._publishOnceReady()}else console.error("Publisher: publish() must be called with a valid message object argument")}},{key:"shutdown",value:function(){this.msgQueue=[],this.channel.shutdown()}},{key:"_publishOnceReady",value:function(){var t=this;this.channel.isReady()&&(this.msgQueue.forEach((function(e){return t.channel.send(e)})),this.msgQueue=[])}}])&&X(e.prototype,n),o&&X(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var tt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e||!e)throw"WindowChannel: Constructor requires a valid window argument";this.win=e,this.id=Math.random().toString(),this.active=!1,this.ready=!1,this.readyCallbacks=[],this.listeners=[],this._receive=this._receive.bind(this)}var e,n,o;return e=t,(n=[{key:"init",value:function(t){if(t){if("function"!=typeof t)return void console.error("WindowChannel: init() must be undefined or called with a valid function");this.isReady()?t():this.readyCallbacks.push(t)}if(!this.active){this.active=!0;try{this.win.addEventListener("message",this._receive)}catch(t){}}}},{key:"isActive",value:function(){return this.active&&!this.win.closed}},{key:"isReady",value:function(){return this.isActive()&&this.ready}},{key:"markReady",value:function(){this.ready=!0,this.readyCallbacks.forEach((function(t){return t()})),this.readyCallbacks=[]}},{key:"addListener",value:function(t){"function"==typeof t?this.listeners.push(t):console.error("WindowChannel: addListener() must be called with a valid function")}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e<0?console.error("WindowChannel: removeListener() must be called with a function previously set using addListener()"):this.listeners.splice(e,1)}},{key:"send",value:function(t){if(t){var e=Object.assign({},t),n=this._getTargetOrigin();e.tag+="__"+this.id,this.win.postMessage(JSON.stringify(e),n)}else console.error("WindowChannel: send() must be called with a valid message object")}},{key:"shutdown",value:function(){this.active=!1,this.ready=!1,this.readyCallbacks=[],this.listeners=[];try{this.win.removeEventListener("message",this._receive)}catch(t){}}},{key:"_receive",value:function(t){if(this._isValidSourceOrigin(t.origin)){if(t&&t.data){var e=JSON.parse(t.data);e.tag&&!e.tag.endsWith(this.id)&&(e.source=t.source,e.tag=e.tag.replace(/__[0-9.]+$/,""),this.listeners.forEach((function(t){return t(e)})))}}else console.warn("WindowChannel: Received message from unknown source origin (".concat(t.origin,")!"))}},{key:"_getTargetOrigin",value:function(){return"*"}},{key:"_isValidSourceOrigin",value:function(t){return!0}}])&&Z(e.prototype,n),o&&Z(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var nt="QuoteLogger",ot={tag:nt,type:"__SYN__"},rt={tag:nt,type:"__ACK__"},it=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subChannel=e,this.pubChannel=n,this.subscriber=e?new Y(nt,e):null,this.publisher=n?new J(nt,n):null,this.isSubscriber=!1,this.isPublisher=!1,this.callbacks=[]}var e,n,o;return e=t,o=[{key:"appender",value:function(){var t=this;return function(e){if(t.instance){var n=$(e.data);n.timestamp=e.startTime,t.instance._publish(n)}}}},{key:"configure",value:function(){return this.appender()}},{key:"setInstance",value:function(t){this.instance&&this.instance.shutdown(),this.instance=t}}],(n=[{key:"initPublisher",value:function(){if(this.publisher){if(this.pubChannel instanceof tt){if(!this.subscriber)return void console.error("QuoteLogger: subChannel is required in order to initPublisher() when using WindowChannel");this.subscriber.init(),this.publisher.init(),this.subscriber.subscribe(this._receiveLog.bind(this)),this._waitForWindow()}else this.publisher.init();this.isPublisher=!0}else console.error("QuoteLogger: pubChannel is required in order to initPublisher()")}},{key:"publish",value:function(){var t=$.apply(null,arguments);t.timestamp=(new Date).toString(),this._publish(t)}},{key:"initSubscriber",value:function(){this.subscriber?(this.isSubscriber=!0,this.subscriber.init(),this.subscriber.subscribe(this._receiveLog.bind(this))):console.error("QuoteLogger: subChannel is required in order to initSubscriber()")}},{key:"subscribe",value:function(t){this.isSubscriber?"function"==typeof t?this.callbacks.push(t):console.error("QuoteLogger: subscribe() must be called with a valid function"):console.error("QuoteLogger: initSubscriber() must be called prior to any subscribing methods")}},{key:"unsubscribe",value:function(t){if(this.isSubscriber){var e=this.callbacks.indexOf(t);e<0?console.error("QuoteLogger: unsubscribe() must be called with a function previously set using subscribe()"):this.callbacks.splice(e,1)}else console.error("QuoteLogger: initSubscriber() must be called prior to any subscribing methods")}},{key:"shutdown",value:function(){this.subscriber&&this.subscriber.shutdown(),this.publisher&&this.publisher.shutdown(),this.isSubscriber=!1,this.isPublisher=!1,this.callbacks=[]}},{key:"_publish",value:function(t){this.isPublisher?t.type?this.publisher.publish(t):console.error('QuoteLogger: publish() argument missing "type" property'):console.error("QuoteLogger: initPublisher() must be called prior to any publishing methods")}},{key:"_receiveLog",value:function(t){var e=this;t&&(this.subChannel instanceof tt&&("__SYN__"===t.type?new tt(t.source).send(rt):"__ACK__"===t.type&&this.isPublisher&&this.pubChannel.markReady(),delete t.source),this.callbacks.forEach((function(n){return n(t,e)})))}},{key:"_waitForWindow",value:function(){this.pubChannel.isActive()&&!this.pubChannel.isReady()&&(this.pubChannel.send(ot),setTimeout(this._waitForWindow.bind(this),100))}}])&&et(e.prototype,n),o&&et(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),at=n(9),st=n(1);function lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ct={CHEVRON_DOWN_ICON:"sf-icon-chevrondown",CHEVRON_RIGHT_ICON:"sf-icon-chevronright",CHEVRON_DOWN_CONTENT:"&#xe86b;",CHEVRON_RIGHT_CONTENT:"&#xe86a;",RIGHT_ICON:"sf-icon-right",DOWN_ICON:"sf-icon-down",OPTION:"option",RIGHT:"right",CENTER:"center",OVERRIDDEN:"overridden",TOP_LEVEL:"top-level",INDENT:"sbIndent",EDITABLE:"editable",DISABLED:"disabled",BOOLEAN:"boolean",HAS_FOCUS:"sf-has-focus",EDIT_ICON:"pencil",SECONDARY:"secondary",EXPANDED:"expanded",EDIT_MODE:"editMode",SELECTION:"selection",DIRTY:"dirty",HIDE_CHECKBOX:"hideCheckbox",TAPPABLE:"tappable",LEFT_ALIGNED:"left-aligned",RIGHT_ALIGNED:"right-aligned"},ut=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"classNames",get:function(){return ct}}],(n=[{key:"generateRowNode",value:function(t,e){var n=this.generateRow(t),o=document.createElement("div");return e&&Object.keys(e).forEach((function(t){o.setAttribute(t,e[t])})),o.innerHTML=n,o}},{key:"generateRow",value:function(t){throw new Error("generateRow() must be implemented!")}},{key:"generateFieldSetTemplate",value:function(t,e,n,o){var r=this.getColWidths(e);return this.generateInnerFieldSetTemplate(t,r,n,o)}},{key:"generateSegmentedTooltipFieldSetTemplate",value:function(t,e,n){var o=this,r="<table><tbody>";return t.filter((function(t){return e[t]&&n.md.fieldsMap[n.constants.QUOTE_LINE]&&n.md.fieldsMap[n.constants.QUOTE_LINE][t]})).forEach((function(t){r+="<tr><th>".concat(e[t],"</th><td>");var i=n.getFieldMetadata(t);r+=o.generateInnerFieldTemplate(t,i),r+="</td></tr>"})),r+="</tbody></table>"}},{key:"generateSegmentedFieldSetTemplate",value:function(t,e,n,r,i,a){var s=this.getColWidths(r,n),l=this.generateInnerFieldSetTemplate(t,s,i,a);return o.a.isMobile||(l+=this.generateInnerFieldSetTemplate(e,s,i,a,t.length)),l}},{key:"generateInnerFieldSetTemplate",value:function(t,e,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s="",l=a;return t.forEach((function(t){var a=n.getFieldMetadata(t),c=i.getColumnClass(t),u=i.getPrimaryClass(l,r),d=at.a.isProductNameField(t)&&o.a.isBundleCollapsible(n)?"":"focusable";s+='<div tabindex="0" class$="container td sf-le-table-cell sf-le-table-row '.concat(u," ").concat(d," ").concat(c," [[_cellClasses.").concat(t,']]" '),e&&(s+='style="min-width:'.concat(e[t],"px;max-width:").concat(e[t],'px"')),s+=' index="'.concat(l,'" field="').concat(t,'" >'),s+=i.getFieldLabel(a,r),s+='<div class="r">',at.a.isProductNameField(t)&&n.isProductHierarchyVisualized()?s+=i.generateProductCell(t):s+=i.generateInnerFieldTemplate(t,n.getFieldMetadata(t)),s+="</div>",s+="</div>",l++})),s}},{key:"generateProductCell",value:function(t){return""}},{key:"generateInnerFieldTemplate",value:function(t,e){var n=e?e.type:null;switch(e&&"richtextarea"===e.extraTypeInfo&&(n="richtextarea"),e&&e.calculatedFormula&&e.calculatedFormula.includes("IMAGE")&&(n="image"),e&&e.calculated&&e.htmlFormatted&&(n="formulaHtml"),n){case"boolean":return this.generateCheckboxTemplate(t);case"image":return'<div class="imgFormula" inner-h-t-m-l="[['.concat(t,']]"></div>');case"richtextarea":case"formulaHtml":return'<div class="htmlField" inner-h-t-m-l="[['.concat(t,']]"></div>');case"url":return'<a href="[['.concat(t,']]" target="_blank">[[').concat(t,"]]</a>");default:return"[[".concat(t,"]]")}}},{key:"generateCheckboxTemplate",value:function(t){return'<div class="checkboxcontainer">'+this.generateInnerCheckboxTemplate(t)+"</div>"}},{key:"generateInnerCheckboxTemplate",value:function(t){var e=t?'checked="[['.concat(t,']]"'):"";return'<input type="checkbox" class="hidden" '.concat(e,">")+'<div class="paper-checkbox"><div class="checkmark"></div></div>'}},{key:"generateColAdjBar",value:function(){return o.a.isColumnResizingEnabled&&!o.a.isMobile&&this.options.allowColumnResizing?'<span class="col-adj-bar"></span>':""}},{key:"getColumnClass",value:function(t){return""}},{key:"getPrimaryClass",value:function(t,e){return""}},{key:"getFieldLabel",value:function(t,e){return""}},{key:"getColWidths",value:function(t,e){return e?t.getDimensionColWidths(e):t.colWidth.Standard}},{key:"buildRowSegmentFieldSet",value:function(t){var e=t.map(st.l);return e.push("total"),e}}])&&lt(e.prototype,n),r&&lt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ht(t,e){return(ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=yt(t);if(e){var r=yt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return bt(this,n)}}function bt(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(i,t);var e,n,o,r=ft(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this)).metadata=t,n.options=e||{},n}return e=i,(n=[{key:"generate",value:function(t,e){var n=this,o="";return t.forEach((function(t){var r=e[t]||"";o+='<li class="detail-block" role="listitem">'+'<div class="truncate" title="'.concat(r,'">').concat(r,"</div>")+"<div ".concat(n._getAttributes(t),">")+n.generateInnerFieldTemplate(t,n._getMetadata(t))+"</div></li>"})),o}},{key:"_getMetadata",value:function(t){return"function"==typeof this.metadata?this.metadata(t):this.metadata[t]}},{key:"_getAttributes",value:function(t){return(this.options.attributes||'class="truncate body"').replace("$field",t)}}])&&pt(e.prototype,n),o&&pt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(ut),vt=n(7),mt=n(118),_t=n(6),wt=n(77),Ot=n(40);function kt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var xt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.lineVO=e,this.groupModel=n,this.selected=!1,this.lineItemDrawerIconClass=this._getLineItemDrawerIconClass(),this.expandedIconClass=this._getExpansionClass(),this.visible=this.isVisibleInLineEditor(),this.hasParent=this.hasParentLine(),this.bundleVisible=!0,this.setItemClassMap(),null==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]&&(this.lineVO.record[this.constants.PRICING_METHOD_FIELD]="List"),this.cellClasses={})}var e,n,o;return e=t,o=[{key:"recordPath",get:function(){return"lineModel.lineVO.record"}}],(n=[{key:"editorModel",get:function(){return this.quoteModel.editorModel},set:function(t){this.quoteModel&&(this.quoteModel.editorModel=t)}},{key:"quoteModel",get:function(){return this.groupModel.quoteModel}},{key:"constants",get:function(){return this.editorModel.constants}},{key:"fieldNames",get:function(){return this.constants}},{key:"component",get:function(){return null!=this.lineVO.record[this.constants.OPTION_LEVEL_FIELD]}},{key:"subscription",get:function(){return null!=this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]}},{key:"isMDQ",get:function(){return null!=this.lineVO.record[this.constants.SEGMENT_LABEL_FIELD]}},{key:"dynamicSubscription",get:function(){return"Percent Of Total"==this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]}},{key:"isCustomDimension",get:function(){return!!this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]&&"Custom"===this.quoteModel.quoteVO.multiSegmentKeys[this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]]}},{key:"dynamic",get:function(){return"Percent Of Total"==this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]||"Percent Of Total"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}},{key:"isBundle",get:function(){return this.bundle&&this.quoteModel.linesByParentItemKey[this.lineVO.key]}},{key:"subscriptionScopeEditable",get:function(){return this.dynamic&&null==this.lineVO.record[this.constants.COMPONENT_SUBSCRIPTION_SCOPE_FIELD]&&null==this.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]}},{key:"rootPackage",get:function(){return(this.bundle||this.lineVO.productPullIns&&(this.lineVO.productPullIns.hasConfiguration||this.lineVO.productPullIns.hasConfigurationAttributes))&&!this.component}},{key:"legacySupport",get:function(){return!(1==this.lineVO.record[this.constants.RENEWAL_CHECKBOX]&&1!=this.lineVO.record[this.constants.EXISTING_FIELD]&&null==this.lineVO.record[this.constants.PRIOR_QUANTITY_FIELD])||this.editorModel.data.settings.renewalQuotesWithoutAssetsAllowed}},{key:"quantityEditable",get:function(){return(null==this.lineVO.record[this.constants.BUNDLED_QUANTITY_FIELD]||!this.component)&&this.legacySupport&&this.lineVO.productQuantityEditable||1==this.lineVO.quantityEditable}},{key:"costEditable",get:function(){return 1==this.lineVO.record[this.constants.COST_EDITABLE_FIELD]}},{key:"unitCostEditable",get:function(){return this.costEditable&&!this.bundled&&!this.dynamic}},{key:"pricingMethodList",get:function(){return"List"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}},{key:"pricingMethodCustom",get:function(){return"Custom"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}},{key:"pricingMethodCost",get:function(){return"Cost"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}},{key:"pricingMethodDisabled",get:function(){return this.dynamicSubscription||this.bundled||!this.lineVO.record[this.constants.PRICING_METHOD_EDITABLE_FIELD]}},{key:"bundled",get:function(){return 1==this.lineVO.record[this.constants.BUNDLED_FIELD]}},{key:"bundle",get:function(){return 1==this.lineVO.record[this.constants.BUNDLE_FIELD]}},{key:"nonDiscountable",get:function(){return 1==this.lineVO.record[this.constants.NON_DISCOUNTABLE_FIELD]}},{key:"nonPartnerDiscountable",get:function(){return 1==this.lineVO.record[this.constants.NON_PARTNER_DISCOUNTABLE_FIELD]}},{key:"partnerDiscountEditable",get:function(){return!this.quoteModel.isAmendmentOrChangeQuote||!this.existing}},{key:"componentDiscountedByPackage",get:function(){return 1==this.lineVO.record[this.constants.COMPONENT_DISCOUNTED_BY_PACKAGE_FIELD]}},{key:"discountable",get:function(){return!(this.bundled||this.nonDiscountable||this.pricingMethodCustom||this.componentDiscountedByPackage)}},{key:"discountEditable",get:function(){return!this.quoteModel.isAmendmentOrChangeQuote||!this.existing}},{key:"removable",get:function(){return!this.component&&(!this.quoteModel.isAmendment||this.quoteModel.isAmendment&&!this.existing)}},{key:"configurable",get:function(){return this.rootPackage&&!this.lineVO.reconfigurationDisabled&&"Disabled"!=this.lineVO.configurationType&&(null==this.lineVO.configurationEvent||"Always"==this.lineVO.configurationEvent||"Edit"==this.lineVO.configurationEvent)}},{key:"listPriceEditable",get:function(){return this.lineVO.record[this.constants.PRICE_EDITABLE_FIELD]&&!this.bundled&&!this.dynamicSubscription&&this.pricingMethodList}},{key:"segmented",get:function(){return null!=this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]}},{key:"favorite",get:function(){return!this.component&&null!=this.lineVO.record[this.constants.FAVORITE_ID_FIELD]}},{key:"existing",get:function(){return this.lineVO.record[this.constants.EXISTING_FIELD]}},{key:"descriptionLocked",get:function(){return this.lineVO.descriptionLocked}},{key:"hasStandardLineItemDrawer",get:function(){return this._hasStandardLineItemDrawer()}},{key:"asset",get:function(){return null!=this.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]}},{key:"renewal",get:function(){return this.lineVO.record[this.constants.RENEWAL_CHECKBOX]}},{key:"hasSubscribedAssetIds",get:function(){return null!=this.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]}},{key:"isAsset",get:function(){return null!=this.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]}},{key:"isDeltaQty",get:function(){return!this.existing||this.existing&&!this.renewal&&(this.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]||this.asset)}},{key:"standardLineFieldNames",get:function(){return this.groupModel.standardLineFieldNames}},{key:"standardLineDrawerFieldNames",get:function(){return this.groupModel.standardLineDrawerFieldNames}},{key:"standardLineColumnWidths",get:function(){return this.editorModel.layout.colWidths[this.groupModel.groupKey].Standard}},{key:"isDiscountScheduleIdExcluded",value:function(t){return this.editorModel.data.excludedDiscountScheduleIds.hasOwnProperty(t)}},{key:"getFieldMD",value:function(t){return this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName][t]}},{key:"getField",value:function(t){return this.lineVO.record[t]}},{key:"getLineVOProperty",value:function(t){return this.lineVO[t]}},{key:"_getExpansionClass",value:function(){return this.segmented?this.lineVO.expanded?"sf-icon-down":"sf-icon-right":""}},{key:"_hasStandardLineItemDrawer",value:function(){return this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames&&this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames.length>0&&!this.editorModel.deviceContext.isMobile&&!this.segmented}},{key:"_getLineItemDrawerIconClass",value:function(){return this.segmented||!this.hasStandardLineItemDrawer?"":this.lineVO.expanded?"sf-icon-chevrondown":"sf-icon-chevronright"}},{key:"isEditable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lineVO.fieldEditability,n=this.getFieldMD(t);return!!n&&(e&&null!=e[t]?e[t]:("richtextarea"!==n.extraTypeInfo||!this.editorModel.deviceContext.isMobile)&&(n.name==this.constants.QUANTITY_FIELD||n.name==this.constants.ADDITIONAL_QUANTITY_FIELD?n.updateable&&this.quantityEditable:n.name==this.constants.LIST_PRICE_FIELD?n.updateable&&this.listPriceEditable:n.name==this.constants.ADDITIONAL_DISCOUNT_FIELD||n.name==this.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD||n.name==this.constants.ADDITIONAL_DISCOUNT_RATE_FIELD?this.discountable&&this.discountEditable:n.name==this.constants.PARTNER_DISCOUNT_FIELD?!this.nonPartnerDiscountable&&this.partnerDiscountEditable:n.name==this.constants.DISTRIBUTOR_DISCOUNT_FIELD?this.discountEditable:n.name==this.constants.UPLIFT_FIELD?n.updateable&&this.lineVO.upliftable:n.name==this.constants.UNIT_COST_FIELD?n.updateable&&this.unitCostEditable:n.name==this.constants.CUSTOMER_PRICE_FIELD?n.updateable&&this.pricingMethodCustom:n.name==this.constants.PRICING_METHOD_FIELD?n.updateable&&!this.pricingMethodDisabled:n.name==this.constants.MARKUP_FIELD?!this.bundled&&this.pricingMethodCost&&this.discountEditable:n.name!=this.constants.NET_PRICE_FIELD&&n.name!=this.constants.PARTNER_PRICE_FIELD&&(n.name==this.constants.DESCRIPTION_FIELD?!this.descriptionLocked:n.name!=this.constants.PACKAGE_PRODUCT_CODE_FIELD&&n.name!=this.constants.PRORATED_LIST_PRICE_FIELD&&n.name!=this.constants.REGULAR_PRICE_FIELD&&("Evergreen"!==this.lineVO.record[this.constants.SUBSCRIPTION_TYPE_FIELD]||n.name!==this.constants.SUBSCRIPTION_TERM_FIELD&&n.name!==this.constants.END_DATE_FIELD)&&(n.name==this.constants.START_DATE_FIELD||n.name==this.constants.END_DATE_FIELD?this.subscription&&(!this.isMDQ||this.isCustomDimension):n.name===this.constants.SUBSCRIPTION_SCOPE_FIELD?n.updateable&&this.subscriptionScopeEditable:n.name!=this.constants.PRICING_GUIDANCE_FIELD&&!!n&&n.updateable))))}},{key:"isFieldRendered",value:function(t,e){if(this.lineVO.fieldVisibility&&null!=this.lineVO.fieldVisibility[t])return this.lineVO.fieldVisibility[t];var n=this.getFieldMD(t);return n&&n.name==this.constants.SUBSCRIPTION_TERM_FIELD?this.subscription:!n||"richtextarea"!==n.extraTypeInfo||!e||this.lineVO.record[t]&&e}},{key:"serviceModel",get:function(){var t=[];if(this.segments)for(var e=0,n=this.segments.length;e<n;e++)t.push(this.segments[e].lineVO.key);else t.push(this.lineVO.key);return{keys:t,segmentKey:this.getField(this.constants.SEGMENT_KEY_FIELD),segmented:this.segmented,updateCustomSegments:!1,favIds:[this.getField(this.constants.FAVORITE_ID_FIELD)],scheduleId:this.getField(this.constants.DISCOUNT_SCHEDULE_FIELD)}}},{key:"isVisibleInLineEditor",value:function(){var t=null==this.lineVO.componentVisibility||""==this.lineVO.componentVisibility||"Always"==this.lineVO.componentVisibility||"Editor Only"==this.lineVO.componentVisibility;return!(t&&null!=this.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]&&this.quoteModel.isRenewal&&this.editorModel.data.settings.renewedAssetsHiddenWhenEditing)&&t}},{key:"hasParentLine",value:function(){return null!==this.lineVO.parentItemKey}},{key:"addToSegmentsArray",value:function(t){this.segments||(this.segments=[]),this.segments.push(t)}},{key:"removeFromSegmentsArray",value:function(t){this.segments.splice(this.segments.indexOf(t),1),0===this.segments.length&&delete this.segments}},{key:"addToSegmentsByLabel",value:function(t,e){this.segmentsByLabel||(this.segmentsByLabel={}),this.segmentsByLabel[t]=e}},{key:"removeFromSegmentsByLabel",value:function(t){this.segmentsByLabel[t]&&delete this.segmentsByLabel[t],0==Object.keys(this.segmentsByLabel).length&&delete this.segmentsByLabel}},{key:"setLineTypeClass",value:function(){return this.bundle?"parent-line":this.component?"component":"standalone"}},{key:"setItemClassMap",value:function(){var t=this.editorModel.deviceContext.isMobile,e={};for(var n in this.lineVO.record)this.isFieldRendered(n,t)||(e[n]=t?"hiddenInMobile":"hiddenInDesktop"),this.segmented&&(e[n]?e[n]+=" mdqSummaryRow":e[n]="mdqSummaryRow"),e.total="hiddenInMobile";for(var o=this.standardLineDrawerFieldNames||[],r=0;r<o.length;r++){var i=o[r];this.lineVO.record[i]||this.isFieldRendered(i,t)||(e[i]=t?"hiddenInMobile":"hiddenInDesktop")}this.itemClassMap=e}},{key:"modelType",get:function(){return"LineModel"}}])&&kt(e.prototype,n),o&&kt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),St=n(39);function Ct(t){return function(t){if(Array.isArray(t))return Et(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Tt=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.groupVO=e,this.quoteModel=n,this.standardLines=[],this.segmentedLines=[],this.dimensions=[],this.dimensionsMap={},this.segmentedLinesByDimension={},this.segmentedLinesBySegmentKey={},this.segmentedLineKeysBySegmentKey={},this.standardSubscriptionScopeEditable=!1,this.segmentedSubscriptionScopeEditable=!1,this.groupObjectName=this.constants.QUOTE_LINE_GROUP,this.summaries=this.quoteModel.grouped?this.groupVO.summaries:this.quoteModel.quoteVO.summaries,this.multiSegmentColumnTotals=this.groupVO.multiSegmentColumnTotals?this.groupVO.multiSegmentColumnTotals:this.quoteModel.quoteVO.multiSegmentColumnTotals,this.netMultiSegmentTotal=this.groupVO.netMultiSegmentTotal?this.groupVO.netMultiSegmentTotal:this.quoteModel.quoteVO.netMultiSegmentTotal,this.hasVisibleStandardLines=!1,this.hasVisibleSegmentedLines={},this.standardLineFieldNames=this._setStandardLineFieldNames(),this.groupFieldNames=this._getFieldSetNames(),this._setDrawerFields(),Object(St.b)(this,(function(t){"lineType"!==t[0]&&(o.lineType===o.constants.TYPE_STANDARD?"standardLines"!==t[0]:"segmentedLinesByDimension"!==t[0]||t[1]!==o.lineType)||Object(St.a)(o,["flattenedRows"])}))}var e,n,r;return e=t,(n=[{key:"editorModel",get:function(){return this.quoteModel.editorModel}},{key:"constants",get:function(){return this.editorModel.constants}},{key:"quoteVO",get:function(){return this.quoteModel.quoteVO}},{key:"lineType",get:function(){return this._lineType||(this._lineType=this.standardLines.length>0||0===this.dimensions.length?"Standard":this.dimensions[0]),this._lineType},set:function(t){this._lineType=t,Object(St.a)(this,["lineType"])}},{key:"tabs",get:function(){var t=this;return(0===this.dimensions.length?[]:this.standardLines.length>0?["Standard"].concat(this.dimensions):this.dimensions).map((function(e){return{name:e,label:t.editorModel.i18n.l(e)}}))}},{key:"groupMD",get:function(){return this.editorModel.md.fieldsMap[this.constants.QUOTE_LINE_GROUP]}},{key:"standardLineColumnWidths",get:function(){return this.colWidth.Standard}},{key:"groupKey",get:function(){return this.groupVO.key}},{key:"processQuoteLines",value:function(t){var e=new xt(t,this);this.quoteModel.lineModelsByKey[e.lineVO.key]=e,e.segmented?this._addSegmentedLine(e):this._addStandardLine(e),e.lineVO.parentItemKey&&(!e.segmented||e.segmented&&e.segments)&&this.addToLinesByParentItemKey(e)}},{key:"_addStandardLine",value:function(t){t.visible&&(this.hasVisibleStandardLines=!0),this.quoteModel.indexByGroupKey[t.lineVO.parentGroupKey].indexByLineKey[t.lineVO.key]=this.standardLines.length,this.standardLines.push(t),t.subscriptionScopeEditable&&this.quoteModel.grouped&&(this.standardSubscriptionScopeEditable=!0)}},{key:"_addSegmentedLine",value:function(t){var e=t.lineVO,n=e.record,o=e.key,r=n[this.constants.SEGMENT_KEY_FIELD],i=n[this.constants.SEGMENT_LABEL_FIELD],a=this.quoteVO.multiSegmentKeys?this.quoteVO.multiSegmentKeys[r]:null;if(this.segmentedLinesBySegmentKey[r])this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[o]=this.segmentedLinesBySegmentKey[r].segments.length,t.segmentedLineKey=this.segmentedLineKeysBySegmentKey[r],this.segmentedLinesBySegmentKey[r].segments.push(t),this.segmentedLinesBySegmentKey[r].segmentsByLabel[i]=t;else{t.visible&&!this.hasVisibleSegmentedLines[a]&&(this.hasVisibleSegmentedLines[a]=!0);var s=new xt(e,this);this.setDimensionProperties(a),t.addToSegmentsArray(s),t.addToSegmentsByLabel(i,t),this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[o]=t.segments.length-1,s.segmentedLineKey=this.segmentedLineKeysBySegmentKey[r],this.segmentedLines.push(t),a&&(this.quoteModel.indexByGroupKey[this.groupKey].indexBySegmentKey[r]=this.segmentedLinesByDimension[a].length,this.segmentedLinesByDimension[a].push(t),this.segmentedLinesBySegmentKey[r]=t,t.dimensionType=a)}t.subscriptionScopeEditable&&this.quoteModel.grouped&&(this.segmentedSubscriptionScopeEditable=!0)}},{key:"removeDimensionProperties",value:function(t){t&&this.segmentedLinesByDimension[t]&&0===this.segmentedLinesByDimension[t].length&&(delete this.segmentedLinesByDimension[t],this.dimensionsMap[t]&&delete this.dimensionsMap[t],this.dimensions.splice(this.dimensions.indexOf(t),1))}},{key:"setDimensionProperties",value:function(t){t&&(this.dimensionsMap[t]||(this.dimensionsMap[t]=!0,this.dimensions.push(t)),this.segmentedLinesByDimension[t]||(this.segmentedLinesByDimension[t]=[]))}},{key:"getDimensionColWidths",value:function(t){var e={};for(var n in this.colWidth[t])e[Object(st.l)(n)]=this.colWidth[t][n];return e}},{key:"addToLinesByParentItemKey",value:function(t){var e=this.quoteModel.linesByParentItemKey,n=this.quoteModel.standardLinesByParentItemKey,o=this.quoteModel.segmentedLinesByParentItemKey,r=t.lineVO.parentItemKey;r&&(e[r]||(e[r]=[]),e[r].push(t),t.segmented?(o[r]||(o[r]=[]),o[r].push(t)):(n[r]||(n[r]=[]),n[r].push(t)))}},{key:"cloneLine",value:function(t,e,n){var r=JSON.parse(JSON.stringify(t.lineVO));r.record=JSON.parse(JSON.stringify(t.lineVO.record));var i=n||t.groupModel,a=new xt(r,i);if(a.lineVO.parentItemKey=e||null,a.segmented&&!t.segmentedLineKey&&(a.segments=[],a.segmentsByLabel={}),o.a.isBundleCollapsible(t.editorModel)&&(a.bundleCollapsed=t.bundleCollapsed,a.bundleVisible=t.bundleVisible),a.lineVO.record.Id=null,null!=a.lineVO.quoteLinePricingGuidance&&a.lineVO.quoteLinePricingGuidance.record&&(a.lineVO.quoteLinePricingGuidance.record.Id=null),a.lineVO.record[this.constants.REQUIRED_BY_FIELD]=null,a.lineVO.record[this.constants.SOURCE_FIELD]=t.lineVO.record.Id||t.lineVO.record[this.constants.SOURCE_FIELD],null!=a.lineVO.record[this.constants.LAST_MODIFIED_DATE_FIELD]&&(a.lineVO.record[this.constants.LAST_MODIFIED_DATE_FIELD]=null),"Amendment"===t.editorModel.quoteModel.quoteVO.record[this.constants.TYPE_FIELD]){if(o.a.org.isServiceCloudEnabled){var s=o.a.org.scPrefix,l="".concat(s).concat(this.constants.UPGRADED_CONTRACT_LINE);a.lineVO.record[l]=null}else a.lineVO.record[this.constants.UPGRADED_SUBSCRIPTION_FIELD]=null;a.lineVO.record[this.constants.EXISTING_FIELD]=!1,a.lineVO.record[this.constants.RENEWAL_CHECKBOX]=!1,a.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]=null,a.lineVO.record[this.constants.NET_TOTAL_FIELD]=null,a.lineVO.record[this.constants.PRIOR_QUANTITY_FIELD]=null,a.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]=null,a.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]=null}return a.lineVO.key=++a.editorModel.quoteModel.quoteVO.nextKey,n&&(a.lineVO.parentGroupKey=n.groupKey),this._updateColWidths(t),a}},{key:"cloneSegmentedLine",value:function(t,e,n){var o=this.cloneLine(t,e,n),r=Math.random().toString(36).substr(2,9);o.lineVO.record[this.constants.SEGMENT_KEY_FIELD]=r;var i=o.lineVO.record[this.constants.SEGMENT_KEY_FIELD],a=t.lineVO.record[this.constants.SEGMENT_KEY_FIELD],s=this.quoteModel.quoteVO.multiSegmentRowTotals;s&&(s[i]=s[a]),this.segmentedLinesBySegmentKey[i]=o,this.quoteVO.multiSegmentKeys[i]=o.lineVO.dimensionType;for(var l=0,c=t.segments.length;l<c;l++){var u=this.cloneLine(t.segments[l],null,n);if(u.lineVO.record[this.constants.SEGMENT_KEY_FIELD]=i,u.lineVO.parentItemKey=o.lineVO.parentItemKey,u.segmentedLineKey=o.lineVO.key,o.segments&&o.segments.push(u),o.segmentsByLabel){var d=u.lineVO.record[this.constants.SEGMENT_LABEL_FIELD];o.segmentsByLabel[d]=u}}o.dimensionType=t.dimensionType;var p=o.dimensionType;return this.segmentedLinesByDimension[p]||this.setDimensionProperties(p),this.quoteModel.grouped&&(this._updateColWidths(t,p),this.groupVO.multiSegmentColumns[p]=t.groupModel.groupVO.multiSegmentColumns[p],this.groupVO.localizedMultiSegmentColumns[p]=t.groupModel.groupVO.localizedMultiSegmentColumns[p]),o}},{key:"_updateColWidths",value:function(t,e){this.editorModel.deviceContext.isMobile||(this.colWidth||(this.colWidth={}),this.colWidth[e]||(this.colWidth[e]=t.groupModel.colWidth[e]),this.colWidth.Standard||(this.colWidth.Standard=t.groupModel.colWidth.Standard))}},{key:"_groupHasStandardProducts",value:function(){this.hasVisibleStandardLines=!1;for(var t=0,e=this.standardLines.length;t<e;t++)if(this.standardLines[t].visible){this.hasVisibleStandardLines=!0;break}return this.hasVisibleStandardLines}},{key:"_groupHasSegmentedProducts",value:function(){Object.keys(this.hasVisibleSegmentedLines);var t=!1;for(var e in this.segmentedLinesByDimension){this.hasVisibleSegmentedLines[e]=!1;for(var n=0,o=this.segmentedLinesByDimension[e].length;n<o;n++)if(this.segmentedLinesByDimension[e][n].visible){this.hasVisibleSegmentedLines[e]=!0,t=!0;break}}return t}},{key:"_updateStandardSubscriptionScopeEditable",value:function(t){if(this.quoteModel.grouped)for(var e=0,n=this.standardLines.length;e<n;e++)if(this.standardLines[e].visible&&this.standardLines[e].subscriptionScopeEditable&&this.standardLines[e]!==t)return void(this.standardSubscriptionScopeEditable=!0);this.standardSubscriptionScopeEditable=!1}},{key:"_updateSegmentedSubscriptionScopeEditable",value:function(t){if(this.quoteModel.grouped)for(var e=0,n=this.segmentedLines.length;e<n;e++)if(this.segmentedLines[e].visible&&this.segmentedLines[e].subscriptionScopeEditable&&this.segmentedLines[e]!==t)return void(this.segmentedSubscriptionScopeEditable=!0);this.segmentedSubscriptionScopeEditable=!1}},{key:"serviceModel",get:function(){return{keys:[this.groupKey],favIds:[this.groupVO.record[this.constants.FAVORITE_ID_FIELD]]}}},{key:"renumberStandardIndexes",value:function(){for(var t=0,e=this.standardLines.length;t<e;t++)this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[this.standardLines[t].lineVO.key]=t}},{key:"renumberSegmentedIndexes",value:function(){for(var t=0,e=this.dimensions.length;t<e;t++)for(var n=this.dimensions[t],o=this.segmentedLinesByDimension[n],r=0;r<o.length;r++){var i=o[r].lineVO.record[this.constants.SEGMENT_KEY_FIELD];this.quoteModel.indexByGroupKey[this.groupKey].indexBySegmentKey[i]=r;for(var a=o[r].segments,s=0,l=a.length;s<l;s++)this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[a[s].lineVO.key]=s}}},{key:"canDelete",value:function(){var t=function(t){return t.every((function(t){return!t.existing}))};return t(this.standardLines)&&t(this.segmentedLines)}},{key:"flattenedRows",get:function(){var t=this.lineType===this.constants.TYPE_STANDARD?this.constants.STANDARD_LINE:this.constants.SEGMENTED_LINE,e=t===this.constants.STANDARD_LINE?this.standardLines:this.segmentedLinesByDimension[this.lineType];return[{rowType:this.constants.GROUP_HEADER,model:this}].concat(Ct(e.map((function(e){return{rowType:t,model:e}}))),[{rowType:this.constants.GROUP_FOOTER,model:this}])}},{key:"_setStandardLineFieldNames",value:function(){var t=new wt.a(this.editorModel.fieldsetMap,"lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone");return this.fieldSet=t.getByViewport(_t.a.getViewport()),this.fieldSetName!=this.fieldSet.name&&(this.fieldSetName=this.fieldSet.name),this._getFields()}},{key:"_getFields",value:function(){return this.standardSubscriptionScopeEditable?[this.constants.SUBSCRIPTION_SCOPE_FIELD].concat(this.fieldSet.fields):this.fieldSet.fields}},{key:"_setDrawerFields",value:function(){var t=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames,e=this.editorModel.deviceContext.isMobile;t&&!e?this.standardLineDrawerFieldNames=t:t&&e&&(this.standardLineFieldNames=this.standardLineFieldNames.concat(t))}},{key:"toggleOptional",value:function(t){var e=this;this._callChildren((function(n){Object(St.d)(n,["lineVO","record",e.constants.OPTIONAL_FIELD],t)}))}},{key:"notifyUi",value:function(t){var e="segmentedLinesByDimension"===t[0]?Kt(t,this,3):"standardLines"===t[0]?Kt(t,this,2):null;null!==e?Object(St.a)(e.target,e.path):Object(St.a)(this,t)}},{key:"_getFieldSetNames",value:function(){for(var t=this.editorModel.fieldsetMap.groupFieldNames.slice(),e=0,n=t.length;e<n;e++)this.isMobile||this.constants.DESCRIPTION_FIELD!=t[e]&&"Name"!=t[e]||(t.splice(e,1),e--);return t}},{key:"getFieldMD",value:function(t){return this.groupMD[t]}},{key:"toggleSelected",value:function(t){this._callChildren((function(e){Object(St.d)(e,["selected"],t)}))}},{key:"resetDiscounts",value:function(){var t=this;this._callChildren((function(e){Object(Ot.d)(e,t.constants.ADDITIONAL_DISCOUNT_FIELD,null)}))}},{key:"_callChildren",value:function(t){var e=this;this.standardLines.forEach(t),this.dimensions.forEach((function(n){e.segmentedLinesByDimension[n].forEach((function(e){e.segments.forEach(t)}))}))}},{key:"modelType",get:function(){return"GroupModel"}}])&&Pt(e.prototype,n),r&&Pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function It(t){return function(t){if(Array.isArray(t))return Bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||jt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){if(t){if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,e):void 0}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Dt="Renewal",At="Amendment",Rt="Re-Quote",Lt=function(){function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quoteVO=e,this.editorModel=n,this.grouped=e.record[this.constants.GROUP_LINE_ITEMS_FIELD],this.groupsByKey={},this.lineModelsByKey={},this.indexByGroupKey={},this.lineGroups=[],this.linesByParentItemKey={},this.standardLinesByParentItemKey={},this.segmentedLinesByParentItemKey={},this.selectedLinesByKey={},this.allOptional=!0,this.isPrimary=this.quoteVO.record[this.constants.PRIMARY_FIELD],this.isRenewal=this.quoteVO.record[this.constants.TYPE_FIELD]===Dt,this.isAmendment=this.quoteVO.record[this.constants.TYPE_FIELD]===At,this.isChangeQuote=this.quoteVO.record[this.constants.TYPE_FIELD]===Rt,this.isAmendmentOrChangeQuote=this.isAmendment||this.isChangeQuote,this.hasConsumptionSchedules=this.quoteVO.hasConsumptionSchedules,this.grouped&&0==this.quoteVO.lineItemGroups.length){var i={Name:"Group".concat(1)};i[this.constants.prefix+"Number__c"]=1;var a={key:++this.quoteVO.nextKey,record:i,multiSegmentColumns:{},localizedMultiSegmentColumns:{}},s=new Tt(a,this);this.quoteVO.lineItemGroups.push(a),this.groupsByKey[s.groupVO.key]=s,this.indexByGroupKey[s.groupVO.key]={index:Object.keys(this.indexByGroupKey).length,indexByLineKey:{},indexBySegmentKey:{}};for(var l=this.quoteVO.lineItems,c=0;c<l.length;c++){l[c].parentGroupKey=s.groupVO.key}}for(var u=this.grouped?this.quoteVO.lineItemGroups:[{key:null,record:{}}],d=0,p=u.length;d<p;d++){var h=new Tt(u[d],this);this.lineGroups.push(h),this.groupsByKey[h.groupVO.key]=h,this.indexByGroupKey[h.groupVO.key]={index:d,indexByLineKey:{},indexBySegmentKey:{}},this.quoteVO.nextGroupKey=h.groupVO.key+1}var f,b=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.quoteVO.lineItems);try{for(b.s();!(f=b.n()).done;){var y=f.value;y.record[this.constants.OPTIONAL_FIELD]||(this.allOptional=!1),this.groupsByKey[y.parentGroupKey].processQuoteLines(y)}}catch(t){b.e(t)}finally{b.f()}o.a.isBundleCollapsible(this.editorModel)&&this._setBundleExpansionStates();var g=!0,v=function(){g&&setTimeout((function(){Object(St.a)(r,["flattenedRows"]),g=!0}),0),g=!1};Object(St.b)(this,(function(t){"lineGroups"===t[0]&&v()})),this.lineGroups.forEach((function(t){Object(St.b)(t,(function(t){"flattenedRows"===t[0]&&v()}))}))}var e,n,r;return e=t,(n=[{key:"constants",get:function(){return this.editorModel.constants}},{key:"quoteMD",get:function(){return this.editorModel.md.fieldsMap[this.editorModel.data.quoteObjectName]}},{key:"getFieldMD",value:function(t){return this.quoteMD[t]}},{key:"renumberIndexes",value:function(t){for(var e=0,n=this.lineGroups.length;e<n;e++){var o=this.lineGroups[e].groupKey;this.indexByGroupKey[o].index=e,t&&(this.lineGroups[e].renumberStandardIndexes(),this.lineGroups[e].renumberSegmentedIndexes())}}},{key:"renumber",value:function(){for(var t=1,e=3e3,n=0,o=this.lineGroups.length;n<o;n++){for(var r=this.lineGroups[n],i=0,a=r.dimensions.length;i<a;i++)for(var s=r.dimensions[i],l=r.segmentedLinesByDimension[s],c=0,u=l.length;c<u;c++){var d=l[c].segments;if(l[c].visible){this.lineGroups[n].segmentedLinesByDimension[s][c].lineVO.record[this.constants.NUMBER_FIELD]=t;for(var p=0,h=d.length;p<h;p++)d[p].lineVO.record[this.constants.NUMBER_FIELD]=t;t++}else{l[c].lineVO.record[this.constants.NUMBER_FIELD]=e;for(var f=0,b=d.length;f<b;f++)d[f].lineVO.record[this.constants.NUMBER_FIELD]=e;e++}}for(var y=0,g=r.standardLines.length;y<g;y++)r.standardLines[y].visible?(this.lineGroups[n].standardLines[y].lineVO.record[this.constants.NUMBER_FIELD]=t,t++):(r.standardLines[y].lineVO.record[this.constants.NUMBER_FIELD]=e,e++)}}},{key:"toggleOptional",value:function(t,e){this._callChildren(e,(function(e){e.toggleOptional(t)}))}},{key:"resetDiscounts",value:function(t){this._callChildren(t,(function(t){t.resetDiscounts()}))}},{key:"_callChildren",value:function(t,e){t?e(this.groupsByKey[t]):this.lineGroups.forEach(e)}},{key:"flattenedRows",get:function(){var t;return(t=[]).concat.apply(t,It(this.lineGroups.map((function(t){return t.flattenedRows}))))}},{key:"notifyUi",value:function(t){var e="lineGroups"===t[0]?Kt(t,this,2):null;null!==e?e.target.notifyUi(e.path):Object(St.a)(this,t)}},{key:"setHiddenFromPSPClass",value:function(){var t={};for(var e in this.quoteVO.fieldVisibility)0==this.isFieldVisible(e)&&(t[e]="hiddenFromPSP");return t}},{key:"isFieldVisible",value:function(t){if(this.quoteVO.fieldVisibility&&null!=this.quoteVO.fieldVisibility[t])return this.quoteVO.fieldVisibility[t]}},{key:"_setBundleExpansionStates",value:function(){var t=this;Object.keys(this.lineModelsByKey).forEach((function(e){var n=t.lineModelsByKey[e];if(n.isBundle){var r="l"+n.lineVO.key,i=Object(vt.b)("BundleCollapsed",[r]);n.bundleCollapsed=null!=i?i:"Collapsed"===o.a.defaultBundleSetting,Object(vt.d)("BundleCollapsed",[r],n.bundleCollapsed),n.bundleCollapsed&&n.bundleVisible&&t._hideTree(n)}}))}},{key:"_hideTree",value:function(t){var e=this,n=t.isBundle;n&&n.forEach((function(t){t.bundleVisible=!1,e.linesByParentItemKey[t.lineVO.key]&&e._hideTree(t)}))}},{key:"modelType",get:function(){return"QuoteModel"}}])&&Mt(e.prototype,n),r&&Mt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),qt=n(59);function Ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Nt=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editorModel=e,this.record=n,this.customActionModelsByParentId=o,this.renderLocation=r,this.record&&(this.icon=this.record[this.editorModel.constants.ICON_CLASS_FIELD],this.class=this.icon?this.icon:"",this.caClass=this.record[this.editorModel.constants.CLASS_FIELD],this.location=this.record[this.editorModel.constants.LOCATION_FIELD],this.eventHandlerName=this.record[this.editorModel.constants.EVENT_HANDLER_NAME_FIELD],this.label=this.record[this.editorModel.constants.LABEL_FIELD],this.title=this.icon?this.record[this.editorModel.constants.LABEL_FIELD]:null,this.type=this.record[this.editorModel.constants.TYPE_FIELD],this.isSeparator="Separator"===this.type,this.primary=this.record[this.editorModel.constants.BRAND_BUTTON_FIELD],this.urlTarget=this.record[this.editorModel.constants.URL_TARGET_FIELD],this.url=this.record[this.editorModel.constants.URL_FIELD],this.name=this.record.Name),"Line"===this.renderLocation&&(this.class="".concat(this.class," ").concat(this.eventHandlerName," lineAction"))}var e,n,r;return e=t,(n=[{key:"isHidden",value:function(t){if(t&&(this.model=t),t&&!this._customActionsConditionsMet)return!0;if("Line"===this.renderLocation&&t)switch(this.eventHandlerName){case"onAddToFavorites":return t.favorite||t.hasParent||t.existing;case"onRemoveFromFavorites":return!t.favorite||t.existing;case"onDeleteLine":return t.hasParent||t.existing&&this.editorModel.quoteModel.isAmendment;case"onCloneLine":return t.hasParent;case"onReconfigureLine":return t.hasParent||!t.configurable;case"onResegmentLine":return!t.lineVO.productHasDimensions||t.segmented||t.existing||t.bundle;case"onDesegmentLine":return!t.lineVO.productHasDimensions||!t.segmented||t.existing||t.bundle;case"showDSModal":var e=this.editorModel.constants.DISCOUNT_SCHEDULE_FIELD;return null==t.lineVO.record[e]||t.isDiscountScheduleIdExcluded(t.lineVO.record[e]);case"onViewConsumptionSchedule":return o.a.isMobile||!t.lineVO.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]||!this.editorModel.data.settings.isUsageBasedPricingEnabled;case"onViewPricingGuidance":return!o.a.isPricingGuidanceEnabled||null==t.lineVO.quoteLinePricingGuidance||t.lineVO.quoteLinePricingGuidance.isDeleted}else{if("Quote"===this.renderLocation&&"Quote/Group"===this.location&&this.editorModel.quoteModel.grouped)return!0;switch(this.eventHandlerName){case"onUngroup":return!this.editorModel.quoteModel.grouped;case"updateLineOptional":return!this.editorModel.toggleOptionalShown||"Group"!==this.location&&"optionalAllBtn"===this.caClass===this.editorModel.quoteModel.allOptional;case"onRenewSubscriptions":return!this.editorModel.data.settings.renewSubscriptionsButtonRendered||this.editorModel.quoteModel.isAmendmentOrChangeQuote;case"onAmendSubscriptions":return!this.editorModel.quoteModel.isAmendment;case"onUpgradeAssets":return!this.editorModel.data.settings.upgradeAssetsButtonRendered;case"onDeleteLines":return!this.editorModel.data.settings.multiLineDeleteEnabled}}return!1}},{key:"_customActionsConditionsMet",get:function(){var t=this,e=this.editorModel.constants;if(!this.record||!this.record[e.CUSTOM_ACTION_CONDITIONS_FIELD])return!0;for(var n,o="Any"!==this.record[e.CONDITIONS_MET_FIELD],r=this.record[e.CUSTOM_ACTION_CONDITIONS_FIELD].records,i=0,a=r.length;i<a;i++)if("Product"===(n=r[i])[e.TARGET_OBJECT_FIELD]?!t.model.productVO||st.a.arithmeticOperatorConversion(t.model.productVO.record[n[e.FIELD_FIELD]],n[e.FILTER_VALUE_FIELD],n[e.OPERATOR_FIELD]):"Quote"!==n[e.TARGET_OBJECT_FIELD]||st.a.arithmeticOperatorConversion(t.editorModel.quoteModel.quoteVO.record[n[e.FIELD_FIELD]],n[e.FILTER_VALUE_FIELD],n[e.OPERATOR_FIELD])){if(!o)return!0}else if(o)return!1;return o}},{key:"hasMenu",get:function(){if(this.children||(this.children=this.customActionModelsByParentId?this.customActionModelsByParentId[this.record.Id]:null),"Menu"===this.type&&this.children&&this.children.length>0)for(var t=0,e=this.children.length;t<e;t++)if(!this.children[t].isHidden(this.model))return!0;return!1}},{key:"default",get:function(){var t=this.record[this.editorModel.constants.DEFAULT_FIELD];return this.record[this.editorModel.constants.DEFAULT_FIELD]=!1,t}},{key:"customActionId",get:function(){return this.record.Id}}])&&Ft(e.prototype,n),r&&Ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Vt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.i18n=o.a.properties.i18n.value(),this._observers=new Map,this.data=e,this.md=n,this.fieldsetMap=Wt(this.data,this.md),this.columnMetadata=this.data.columnMetadata,this.constants=new qt.a(e.developerPrefix),this.deviceContext=r?r.app.deviceContext:{},this.fieldNameSet=r?r.fieldNameSet:{},this.fieldSetNames=this.data.fieldSetNames,this.md.fieldsMap[this.data.quoteLineObjectName][this.constants.SUBSCRIPTION_SCOPE_FIELD].required=!0,this.data.excludedDiscountScheduleIds=Array.isArray(this.data.excludedDiscountScheduleIds)?this._convertExcludedDiscountScheduleIdsToObject(this.data.excludedDiscountScheduleIds):this.data.excludedDiscountScheduleIds||{},this.largeQuoteExperienceEnabled=e.settings.largeQuoteExperienceEnabled&&!this.deviceContext.isMobile,this.summarized=e.quote.summaries&&Object.keys(e.quote.summaries).length>0,this.createQuoteModel(e.quote),this.standardPrimaryMobileCols=[],this.segmentedPrimaryMobileCols=[],this.segmentedDetailsPrimaryMobileCols=[],this.toggleOptionalShown=Gt(this),r&&r.editorModel?(this.customActionsByLocation=r.editorModel.customActionsByLocation,this.customActionsByLocationMobile=r.editorModel.customActionsByLocationMobile,this.groupMobileMenuButtonAction=r.editorModel.groupMobileMenuButtonAction,Yt(this)):$t(e.customActions,this),this.quoteCustomActions=this.deviceContext.isMobile?this.customActionsByLocationMobile.Quote:this.customActionsByLocation.Quote,this.lineCustomActions=this.deviceContext.isMobile?this.customActionsByLocationMobile.Line:this.customActionsByLocation.Line,this.styleQuoteAndGroupActionButtons(),this.communityPrefix=this._getCommunityPrefix(),this.scPrefix=o.a.org.scPrefix,this._verifyAdditionalDiscountUnitOptions()}var e,n,r;return e=t,(n=[{key:"actionsOnTheLeft",get:function(){return"Left"===this.data.settings.actionsColumnPlacement}},{key:"createQuoteModel",value:function(t){this.quoteModel=new Lt(t,this)}},{key:"styleQuoteAndGroupActionButtons",value:function(){var t=this,e=function(e){for(var n=!0,o=t.customActionsByLocation[e],r=o[0],i=0,a=o.length;i<a;i++)o[i].isHidden(t.quoteModel)||(o[i].first=n,o[i].isSeparator?(n=!0,r.last=!0):(n=!1,(r=o[i]).last=!1));r&&(r.last=!0)};e("Quote"),e("Group")}},{key:"_verifyAdditionalDiscountUnitOptions",value:function(){0===this.data.additionalDiscountUnitOptions.length&&this.data.additionalDiscountUnitOptions.push({label:"%",value:"Percent"})}},{key:"_getCommunityPrefix",value:function(){var t=document.location.pathname,e=t.indexOf("/apex");return e<0?"":t.substring(0,e)}},{key:"getFieldMetadata",value:function(t,e){var n=this.md.fieldsMap[this.data.quoteLineObjectName][t];return e&&this.data.settings.isMultiCurrencyOrg&&"currency"===n.type&&e.CurrencyIsoCode&&((n=JSON.parse(JSON.stringify(n))).CurrencyIsoCode=e.CurrencyIsoCode),n}},{key:"getDependentFields",value:function(t){var e=this.md.fieldsMap[this.data.quoteLineObjectName];return Object.keys(e).filter((function(n){return e[n].controllerName===t}))}},{key:"hasDrawerFields",value:function(){return this.fieldsetMap.standardLineItemDrawerFieldNames.length>0}},{key:"isProductHierarchyVisualized",value:function(){return this.data.settings.productHierarchyVisualized}},{key:"isMultiLineDeleteEnabled",value:function(){return this.data.settings.multiLineDeleteEnabled}},{key:"_convertExcludedDiscountScheduleIdsToObject",value:function(t){if(t)return t.reduce((function(t,e){return t[e]=!0,t}),{})}}])&&Ut(e.prototype,n),r&&Ut(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Wt=function(t,e){var n=Qt(t.developerPrefix),o={};return n.forEach((function(n){t[n.name]?(o[n.name]=[],t[n.name].forEach((function(t){e.fieldsMap[n.table]&&e.fieldsMap[n.table][t]&&o[n.name].push(t)}))):o[n.name]=t[n.name]})),o},Qt=function(t){return[{table:t+"QuoteLine__c",name:"lineFieldNames"},{table:t+"QuoteLine__c",name:"lineFieldNamesTablet"},{table:t+"QuoteLine__c",name:"lineFieldNamesPhone"},{table:t+"QuoteLine__c",name:"standardLineItemDrawerFieldNames"},{table:t+"QuoteLine__c",name:"multiSegmentLineFieldNames"},{table:t+"QuoteLine__c",name:"multiSegmentLineSummaryFieldNames"},{table:t+"DiscountTier__c",name:"discountScheduleModalFieldNames"},{table:t+"Quote__c",name:"quoteFieldNames"},{table:t+"QuoteLineGroup__c",name:"groupFieldNames"}]},Gt=function(t){var e=function(e){for(var n=0,o=e.length;n<o;n++)if(e[n]===t.constants.OPTIONAL_FIELD)return!0};return e(t.fieldsetMap.lineFieldNames)||e(t.fieldsetMap.multiSegmentLineFieldNames)||e(t.fieldsetMap.standardLineItemDrawerFieldNames)},$t=function(t,e){e.defaultCustomActions=[];for(var n,o=["Quote","Group","Line"],r={Quote:[],Group:[],Line:[]},i={Quote:[],Group:[],Line:[]},a={Quote:{},Group:{},Line:{}},s=function(t,s){if(-1!==o.indexOf(s)){var l=new Nt(e,t,a[s],s);if(l.isSeparator||i[s].push(l),l.default&&e.defaultCustomActions.push(l),"onAddGroup"===l.eventHandlerName&&(n=l),t[e.constants.PARENT_CUSTOM_ACTION_FIELD]){var c=t[e.constants.PARENT_CUSTOM_ACTION_FIELD],u=a[s][c];u?u.push(l):a[s][c]=[l]}else r[s].push(l)}},l=0,c=t.length;l<c;l++){var u=t[l][e.constants.LOCATION_FIELD];"Quote/Group"===u?(s(t[l],"Quote"),s(t[l],"Group")):u&&"Configurator"!==u&&s(t[l],u)}if(e.customActionsByLocation=r,e.customActionsByLocationMobile=i,e.groupMobileMenuButtonAction=new Nt(e),e.groupMobileMenuButtonAction.children=i.Group,e.data.settings.solutionGroupsEnabled&&e.data.solutionGroups.length>0&&n){var d=e.data.solutionGroups,p=a.Quote[n.record.Id]||[];n.type="Menu";for(var h=0,f=d.length;h<f;h++){var b=new Nt(e,d[h]);b.type="Solution Group",b.eventHandlerName="onAddGroup",b.label=d[h].Name,p.push(b)}n.children=p}};function Kt(t,e,n){for(var o=0;o<n;o++){if(t.length<=1||"splices"===t[1])return null;e=e[t[0].startsWith("#")?t[0].substring(1):t[0]],t=t.slice(1)}return{path:t,target:e}}var Yt=function(t){var e=function(e){for(var n in e){var o,r=zt(e[n]);try{for(r.s();!(o=r.n()).done;){o.value.editorModel=t}}catch(t){r.e(t)}finally{r.f()}}};t.deviceContext.isMobile?(e(t.customActionsByLocationMobile),t.groupMobileMenuButtonAction.editorModel=t):e(t.customActionsByLocation)},Xt=n(51);function Jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Zt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.orgUrl=this.data.settings.orgUrl,this.siteUrl=this.data.settings.siteUrl,this.proxyUrl=this.data.settings.proxyUrl,this.oik=this.data.settings.oik,this.prefix=this.data.developerPrefix?this.data.developerPrefix.slice(0,this.data.developerPrefix.indexOf("_")):"",this.constants=new qt.a(this.data.developerPrefix),this.filePath=this.siteUrl+"/resource/"+(new Date).getTime()+"/"+this.data.developerPrefix+"PrecacherUI2"}var e,n,o;return e=t,(n=[{key:"beginPrecaching",value:function(){this.sessionId=window.sb.vfSessionId,this._spoolWorkers()}},{key:"_spoolWorkers",value:function(){var t=this.data.quote.record[this.constants.ACCOUNT_ID_FIELD],e=this.data.settings,n=this.data.quote,o=this.data.settings.referencedFieldMap,r=this._createWorker(),i=this._createWorkerContext("PriceRuleSequence",new Map([["accountId",t]]));r.postMessage(i);var a=this._createWorker(),s=this._createWorkerContext("MetadataSequence",new Map([["referencedFieldMap",o],["settings",e]]));a.postMessage(s);var l=this._createWorker(),c=this._createWorkerContext("DiscountAndAccountSequence",new Map([["accountId",t],["quote",n]]));l.postMessage(c);var u=this._createWorker(),d={quoteLookups:e.quoteLookups||{},groupLookups:e.groupLookups||{},lineLookups:function(){var t=e.lineLookups||{},n={},o=e.developerPrefix||"";for(var r in t)r!==o+"Product__c"&&r!==o+"ProductOption__c"&&(n[r]=t[r]);return n}()},p=this._createWorkerContext("RelatedRecordSequence",new Map([["quote",n],["referencedFieldMap",o],["lookupFieldMap",d]]));u.postMessage(p);var h=this._createWorker(),f=this._createWorkerContext("ProductSequence",new Map([["quote",n],["referencedFields",e.referencedFieldMap.Product2]]));h.postMessage(f);var b=e.developerPrefix||"",y=this._createWorker(),g=this._createWorkerContext("OptionSequence",new Map([["quote",n],["referencedFields",e.referencedFieldMap[b+"ProductOption__c"]]]));y.postMessage(g);var v=this._createWorker(),m=this._createWorkerContext("UbpSequence",new Map([["quote",n],["settings",e]]));if(v.postMessage(m),e&&e.isPricingGuidanceEnabled){var _=this._createWorker(),w=this._createWorkerContext("PricingGuidanceSequence",new Map([["accountId",t],["quote",n],["settings",e]]));_.postMessage(w)}}},{key:"_createWorkerContext",value:function(t,e){var n={orgUrl:this.orgUrl,siteUrl:this.siteUrl,proxyUrl:this.proxyUrl,sessionId:this.sessionId,precacheSequence:t,prefix:this.prefix,oik:this.oik};return e&&0!=e.size&&e.forEach((function(t,e){n[e]=t})),n}},{key:"_createWorker",value:function(){var t=new Worker(this.filePath),e=this._precache;return t.addEventListener("message",(function(t){t.data.successful?e(t.data.provider,t.data.uid,t.data.results):t.data.failure?console.error("Main thread received failure from precache sequence "+t.data.sequence+": "+t.data.msg):t.data.err&&console.error("Main thread received error from precache sequence "+t.data.sequence+": "+t.data.msg)})),t}},{key:"_precache",value:function(t,e,n){SB&&SB.JSQCPrecacher&&(new SB.JSQCPrecacher).precacheValue(t,e,n)}}])&&Jt(e.prototype,n),o&&Jt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),te=n(44);function ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ne=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"getLocalizedValue",value:function(t,e,n){var o=t.editorModel.constants,r=t.groupModel.quoteModel.quoteVO.localizationByFieldByProductId[t.getField(o.PRODUCT)],i=t.getFieldMD(e);if(r&&i){var a=t.editorModel.data.developerPrefix,s=i&&i.calculatedFormula&&0===i.calculatedFormula.indexOf("".concat(a,"Product__r"))?i.calculatedFormula.split(".")[1].replace(a,""):i.name,l=n?r[s][n]:r[s];if(l)return l.record[o.TEXT_FIELD]||l.record[o.TEXT_AREA_FIELD]||l.record[o.LONG_TEXT_AREA_FIELD]||l.record[o.RICH_TEXT_AREA_FIELD]}}}],(n=null)&&ee(e.prototype,n),o&&ee(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function oe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var re=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"prepareLineData",value:function(t,e,n){var o=[];return t&&t.forEach(function(t,r){null==t.lineVO.ui_original_record&&(t.lineVO.ui_original_record=JSON.parse(JSON.stringify(t.lineVO.record)));var i=this.prepareSingleLineData(t,r,e,n);o.push(i)}.bind(this)),o}},{key:"prepareSingleLineData",value:function(t,e,n,o){var r=t.lineVO.record,i={Id:r.Id},a=t.lineVO.fieldVisibility;n.forEach(function(e){var n=o[e];i[e]=this.prepareFieldData(r,e,n,t,a),this.computeCellClass(r,e,i,t,a,n)}.bind(this)),t.hasOwnProperty("segments")&&this.prepareSegmentedLineData(t,r,i,o,a);var s=t.editorModel.constants;return i.lineNumber=r[s.NUMBER_FIELD],i.rowIndex=e,i.lineModel=t,this.prepareSelectionCheckbox(t,i),this.prepareWarningIcon(t,i),this.prepareBundleCaret(t,i),i._cellClasses||(i._cellClasses={}),i}},{key:"prepareBundleCaret",value:function(t,e){t.editorModel.isProductHierarchyVisualized()&&!t.segmented&&t.isBundle?(e._caretContent=t.bundleCollapsed?ut.classNames.CHEVRON_RIGHT_CONTENT:ut.classNames.CHEVRON_DOWN_CONTENT,o.a.isBundleCollapsible(t.editorModel)&&(e._cellClasses=e._cellClasses||{},e._cellClasses._isFocusable="focusable")):e._caretContent=""}},{key:"prepareSelectionCheckbox",value:function(t,e){t.editorModel.data.settings.multiLineDeleteEnabled&&t.component&&(e._cellClasses=e._cellClasses||{},e._cellClasses._selectionCB=ut.classNames.DISABLED)}},{key:"prepareWarningIcon",value:function(t,e){!1===t.lineVO.validPricebookEntryExists&&(e.hasLineWarning=!0,t.groupModel.quoteModel.isPrimary&&0==t.lineVO.opportunityLineItemExists?(e.lineWarningKey="missingOpportunityLineItem",e.lineWarningMsg="This product will not sync to the opportunity because a valid pricebook entry does not exist."):(e.lineWarningKey="invalidPricebookEntry",e.lineWarningMsg="There is not a valid price book entry for this line item."))}},{key:"prepareFieldData",value:function(t,e,n,r,i){if(i&&!1===i[e])return"";if(at.a.isSubscriptionScopeField(e)&&!r.subscriptionScopeEditable)return"";if(r.bundled&&at.a.isListPriceField(e))return o.a.properties.i18n.value().l("Included");var a=ne.getLocalizedValue(r,e);if(a)return a;if(n){var s=this._getFieldMetadata(t,n,r),l=r.lineVO.ui_original_record;return t.Id||t.hasOwnProperty(e)||!l||l.Id||l.hasOwnProperty(e)||!s.defaultValue||(r.lineVO.ui_original_record[e]=s.defaultValue,t[e]=s.defaultValue),te.a.formatFieldData(r,t[e],s,t)}return t[e]}},{key:"_getFieldMetadata",value:function(t,e,n){var o="currency"===e.type,r=n.editorModel.constants.QUANTITY_FIELDS.has(e.name)&&null!==n.lineVO.productQuantityScale;return(o||r)&&(e=JSON.parse(JSON.stringify(e)),o&&(e.CurrencyIsoCode=t.CurrencyIsoCode),r&&(e.scale=n.lineVO.productQuantityScale)),e}},{key:"prepareSegmentedLineData",value:function(t,e,n,o,r){var i=this,a={};e.CurrencyIsoCode&&(a.CurrencyIsoCode=e.CurrencyIsoCode);var s=t.editorModel.constants;t.segments.forEach((function(t){var e=Object(st.l)(t.lineVO.record[s.SEGMENT_LABEL_FIELD]);a[e]=t.lineVO.record[s.NET_TOTAL_FIELD]}));var l=t.editorModel.quoteModel.quoteVO;a.total=l.multiSegmentRowTotals[e[s.SEGMENT_KEY_FIELD]],Object.keys(a).forEach((function(e){var l=o[s.NET_TOTAL_FIELD];n[e]=i.prepareFieldData(a,e,l,t,r),i.computeCellClass(a,e,n,t,r,o[e])})),n._cellClasses._expansionIcon=t.lineVO.expanded?ut.classNames.DOWN_ICON:ut.classNames.RIGHT_ICON}},{key:"computeCellClass",value:function(t,e,n,r,i,a){var s="";i&&!1===i[e]||(s+=r.isEditable(e)&&!r.dimensionType?"".concat(ut.classNames.EDITABLE," "):"",s+=r.itemClassMap[e]?r.itemClassMap[e]:""),i&&!1===i[e]&&a&&"boolean"===a.type&&(s+=ut.classNames.HIDE_CHECKBOX+" "),r.editorModel.isProductHierarchyVisualized()&&!r.segmented&&(s+=this.computeProductHierarchyCss(e,t,r)),o.a.isBundleCollapsible(r.editorModel)&&!r.isBundle&&(s+=" focusable");var l=r.cellClasses?r.cellClasses[e]:null;if(l)for(var c in l)l[c]&&(s+=" ".concat(c));s&&(n._cellClasses=n._cellClasses||{},n._cellClasses[e]=s)}},{key:"computeProductHierarchyCss",value:function(t,e,n){var r="",i=ut.classNames;return o.a.isMobile?(at.a.isProductNameField(t)||at.a.isNetTotalField(t))&&null!==e[at.a.constants.OPTION_LEVEL_FIELD]&&(r+="".concat(i.INDENT).concat(e[at.a.constants.OPTION_LEVEL_FIELD]," ")):at.a.isProductNameField(t)&&(n.isBundle||n.component||(r+="".concat(i.TOP_LEVEL," ")),n.component&&(n.isBundle||(r+="".concat(i.OPTION," ")),r+="".concat(i.INDENT).concat(e[at.a.constants.OPTION_LEVEL_FIELD]," "))),r}}],(n=null)&&oe(e.prototype,n),r&&oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ie=n(63),ae=n(32);function se(t){return function(t){if(Array.isArray(t))return le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(n),!0).forEach((function(e){pe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function he(t){var e=_e();if(!e)return Promise.resolve();var n=Object(vt.b)(e,[]),o=n.name,r=n.nameSpace,i=n.sortField,a=n.sortOrder;return ge(Object(vt.b)("UBPClientState",["quoteLineOrProdId"]),de(de({},me(t,i,a)),{},{category:o,nameSpace:r}),(function(t,e){return Se("ConsumptionServiceProvider.ConsumptionCategoryRateLoader",t,e)}),ke)}function fe(t){return ve(t,{categoryId:_e()},(function(t,e){return Se("ConsumptionServiceProvider.ConsumptionScheduleLoader",t,e)}),xe)}function be(t,e,n){var o=Object(vt.b)(t,e);if(!o&&n){if("function"==typeof n)return n().then((function(n){return Promise.resolve(Object(vt.b)(t,e))}));throw new Error("Expecting loadFunction to be a function but got ".concat(ce(n)))}return Promise.resolve(o)}function ye(t){Object(vt.d)("UBPClientState",["requestCount"],Object(vt.b)("UBPClientState",["requestCount"])+t)}function ge(t,e,n,o){return ye(1),ve(t,e,n,o).then((function(){ye(-1)})).catch((function(t){throw ye(-1),t}))}function ve(t,e,n,o){return n(t,e).then((function(n){var r=o(n,t,e);for(var i in r)Object(vt.d)(i,[],Object(st.g)(Object(vt.b)(i,[]),r[i]))})).catch((function(t){throw Object(vt.d)("UBPClientState",["errorMsg"],[t instanceof Error?t.message:t]),t}))}function me(t,e,n){var o=Object(vt.b)("UBPClientState",[]),r=o.quoteLineOrProdId,i=o.queryLimit,a=o.searchKeyword,s=[{field:e,order:n}],l="".concat(at.a.constants.prefix,"ProcessingOrder__c");return e!==l&&s.push({field:l,order:"asc"}),{quoteLineOrProdId:r,queryLimit:i,searchKeyword:a,offSet:t,sortOrders:s,currencyCode:Object(vt.b)(r,["record","CurrencyIsoCode"])}}function _e(){if(Object(vt.b)("UBPClientState",[])){var t=Object(vt.b)("UBPClientState",[]),e=t.quoteLineOrProdId,n=t.categoryIndex,o=Object(vt.b)(e,["related","categoryIds"]);return o?o[n]:null}}function we(t,e){return"".concat(t,"_").concat(e)}function Oe(t,e,n){if(t.rateFieldsMd){var o=t.rateFieldsMd,r={},i={};Object.keys(o).forEach((function(t){var e=o[t].scale?pe({},t,{scale:o[t].scale}):{};Object.assign(r,pe({},t,o[t].updatable)),i=de(de({},i),e)})),Object(vt.d)("ConsumptionRateMetadata",["rateEditable"],r),Object(vt.d)("ConsumptionRateMetadata",["rateScale"],i)}var a=n.sortOrders[0],s=a.field,l=a.order,c=Object(vt.b)("ConsumptionRateMetadata",["rateScale"]),u={},d=[];c?t.categories.forEach((function(t){var e=t.fields.map((function(t){var e=t.fieldPath,n=c[e]?c[e]:{};return de(de({},t),n)}));t.fields=e,d.push(t)})):d=t.categories;var p=d.map((function(t){var n=t.name,o=t.nameSpace,r=t.label,i=t.fields,a=we(e,n);return u[a]={name:n,nameSpace:o,label:r,fields:i,sortField:s,sortOrder:l},a})),h=[];if(t.qlFieldMD){var f=ae.a.get("describe","".concat(at.a.constants.prefix,"QuoteLine__c"),"value");f&&f.fields?t.qlFieldMD.forEach((function(t){var e=f.fields.find((function(e){return e.name===t.fieldPath}));h.push(Object.assign(t,e||{}))})):h=t.qlFieldMD}u[e]={related:{categoryIds:p,ubpFields:h}},t.customLabels&&(u.ubpLabels=t.customLabels);var b=t.resultSet.categoryName;return u.UBPClientState={categoryIndex:p.indexOf(we(e,b))},Object(st.g)(u,ke(t,e,de(de({},n),{},{category:b})))}function ke(t,e,n){var o=t.resultSet,r=o.totalCount,i=o.records,a=n.offSet,s=we(e,n.category),l={};l[s]={rateCount:r};var c=Object(vt.b)(s,["orderedRates"])||[];return a<=c.length&&(i=i||[],l[s].orderedRates=[].concat(se(c.slice(0,a)),se(i.map((function(t){return l[t.Id]={record:t},t.Id}))))),l}function xe(t,e,n){var o=t.fields,r=t.record,i={};return i[n.categoryId]={rateCardFields:o},i[e]={record:r},i}function Se(t,e,n){return(new ie.a).load(o.a.org.prefix,t,e,n)}function Ce(t,e,n){var o=JSON.parse(JSON.stringify(t));return e&&n.forEach((function(t){e.hasOwnProperty(t.fieldPath)&&Object(st.i)(o,t.fieldPath.split("."),e[t.fieldPath])})),o}function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Te,Ie="loadQLE",je="resizeColumn",Be="resetColumn",Me="pricingGuidance",De=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.client=new ie.a}var e,n,r;return e=t,(n=[{key:"log",value:function(t,e,n){if("undefined"!=typeof Visualforce){n&&"object"===Ee(n)&&(n=JSON.stringify(n));try{var o={logLines:[{code:"qtqle",data:{recordId_qtqle:t,osName_qtqle:this._getOSType(),deviceModel_qtqle:this._getDeviceModel(),browserName_qtqle:this._getBrowserType(),eventType_qtqle:e,payload_qtqle:n}}]};this.client.requestPost("/connect/proxy/app-analytics-logging",o)}catch(t){console.error("Error invoking AppLogger.log",t)}}}},{key:"maskCustomerData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*****";return!t||t.startsWith(o.a.org.prefix)?t:e}},{key:"_getDeviceModel",value:function(){var t=window.navigator.userAgent;return t.indexOf("iPad")>-1?"iPad":t.indexOf("Android")>-1?"Android":t.indexOf("iPhone")>-1?"iPhone":"desktop"}},{key:"_getBrowserType",value:function(){var t=window.navigator.userAgent;return t.indexOf("Edg")>-1?"Edge":t.indexOf("Chrome")>-1?"Chrome":t.indexOf("Safari")>-1?"Safari":t.indexOf("Firefox")>-1?"Firefox":null}},{key:"_getOSType",value:function(){var t=window.navigator.userAgent;return t.indexOf("Win")>-1?"Windows":t.indexOf("like Mac")>-1?"iOS":t.indexOf("Mac")>-1?"Macintosh":t.indexOf("Android")>-1?"Android":t.indexOf("Linux")>-1?"Linux":null}}])&&Pe(e.prototype,n),r&&Pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ae=n(5),Re=n(17),Le=n(22),qe=n(11),Fe=n(27),Ne=n(20),ze=n(3);var He,Ue,Ve,We=Object(ze.b)(Te||(He=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  --my-page-header-display: block;\n  cursor: auto;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  color: var(--sbPageColor);\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host sb-page-header[class*='--desktop'] h1 {\n  padding-right: 25px;\n}\n:host [class*='--desktop'] sb-page-header h1 {\n  padding-right: 25px;\n}\n:host .quoteFieldsContainer {\n  margin: 10px 15px 0 15px;\n}\n:host .quoteFieldsHeader {\n  display: inline-block;\n}\n:host #emptyQuote,\n:host #emptyGroupedQuote {\n  padding: 15px;\n}\n:host .maxHeight {\n  height: 100%;\n}\n:host .separator {\n  padding: 0 5px;\n}\n:host .hidden {\n  display: none;\n}\n:host #quoteTotal {\n  display: block;\n}\n:host #solutionGroupButton {\n  margin-left: 10px;\n}\n:host #quoteTabs {\n  flex-direction: column;\n  display: flex;\n  height: 100%;\n}\n:host .mobileOnly {\n  display: none;\n}\n:host .groupWrapper {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n  background-color: var(--sbPageBgColor);\n}\n:host([class*='--mobile']) {\n  --sbFooterPaddingRight: 0px;\n}\n:host #lineEditorPageHeader[class*='--mobile'] {\n  min-height: 85px !important;\n}\n:host #lineEditorPageHeader[class*='--mobile'] h1#pageLabel {\n  display: none;\n}\n:host #total[class*='--mobile'] {\n  padding: 0;\n}\n:host #solutionGroupButton.dropCursor[class*='--mobile'] {\n  margin-left: inherit;\n}\n:host .groupWrapper[class*='--mobile'] {\n  height: 0;\n}\n:host([class*='--mobile']) {\n  --sbFooterPaddingRight: 0px;\n}\n:host [class*='--mobile'] #lineEditorPageHeader {\n  min-height: 85px !important;\n}\n:host [class*='--mobile'] #lineEditorPageHeader h1#pageLabel {\n  display: none;\n}\n:host [class*='--mobile'] #total {\n  padding: 0;\n}\n:host [class*='--mobile'] #solutionGroupButton.dropCursor {\n  margin-left: inherit;\n}\n:host [class*='--mobile'] .groupWrapper {\n  height: 0;\n}\n:host #ghost {\n  position: absolute;\n  cursor: all-scroll;\n  box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.4);\n  background: white;\n  border-bottom: none;\n  border-top: none;\n  visibility: hidden;\n  z-index: 999;\n}\n:host #ghost div {\n  position: absolute;\n  top: 30%;\n  left: 15px;\n  text-transform: uppercase;\n}\n:host #ghost sb-le-table-row {\n  background: white;\n  display: table-row-group;\n  box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.4);\n}\n:host #qlEditorContainer {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host #qlEditorContainer > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host #qlEditorContainer.hidden {\n  display: none;\n}\n:host .ubpEditorContainer {\n  height: 100%;\n}\n:host .ubpEditorContainer.hidden {\n  display: none;\n}\n:host div .settings {\n  margin-left: 2px !important;\n}\n@media screen and (max-width: 801px) {\n  :host #cogButton {\n    display: none;\n  }\n}\n:host #cogMenu {\n  white-space: nowrap;\n  overflow: hidden;\n}\n:host #cogMenu paper-button.sb-line-editor {\n  font-weight: 400;\n}\n:host #cogMenu paper-button.sb-line-editor:focus:after,\n:host #cogMenu paper-button.sb-line-editor:hover {\n  background: #fff;\n}\n:host(.disable-selection) {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  cursor: no-drop;\n}\n:host(.dropCursor) {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  cursor: copy;\n}\n"],Ue||(Ue=He.slice(0)),Te=Object.freeze(Object.defineProperties(He,{raw:{value:Object.freeze(Ue)}})))),Qe=n(2),Ge=(n(18),n(25),n(26),n(35),n(10)),$e=n(56),Ke=n(55),Ye=n(92),Xe=n(143),Je=n(14),Ze=n(8);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(Je.a)({_template:Object(ze.a)(Ve||(Ve=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        position: fixed;\n      }\n\n      #contentWrapper ::slotted(*) {\n        overflow: auto;\n      }\n\n      #contentWrapper.animating ::slotted(*) {\n        overflow: hidden;\n        pointer-events: none;\n      }\n    </style>\n\n    <div id="contentWrapper">\n      <slot id="content" name="dropdown-content"></slot>\n    </div>\n']))),is:"iron-dropdown",behaviors:[Ke.a,$e.a,Ye.a,Xe.a],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var t=Object(Ze.a)(this.$.content).getDistributedNodes(),e=0,n=t.length;e<n;e++)if(t[e].nodeType===Node.ELEMENT_NODE)return t[e]},ready:function(){this.scrollAction||(this.scrollAction=this.allowOutsideScroll?"refit":"lock"),this._readied=!0},attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation()},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),Ye.b._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Ye.b._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):Ye.b._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating"),this.opened?this._finishRenderOpened():this._finishRenderClosed()},_updateAnimationConfig:function(){for(var t=this.containedElement,e=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),n=0;n<e.length;n++)e[n].node=t;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_allowOutsideScrollChanged:function(t){this._readied&&(t?this.scrollAction&&"lock"!==this.scrollAction||(this.scrollAction="refit"):this.scrollAction="lock")},_applyFocus:function(){var t=this.focusTarget||this.containedElement;t&&this.opened&&!this.noAutoFocus?t.focus():Ye.b._applyFocus.apply(this,arguments)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var tn={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(t){if(t.timing)for(var e in t.timing)this.animationTiming[e]=t.timing[e];return this.animationTiming},setPrefixedProperty:function(t,e,n){for(var o,r={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[e],i=0;o=r[i];i++)t.style[o]=n;t.style[e]=n},complete:function(t){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Object(Je.a)({is:"fade-in-animation",behaviors:[tn],configure:function(t){var e=t.node;return this._effect=new KeyframeEffect(e,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(t)),this._effect}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(Je.a)({is:"fade-out-animation",behaviors:[tn],configure:function(t){var e=t.node;return this._effect=new KeyframeEffect(e,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(t)),this._effect}});var en;n(113);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var nn,on=Object(ze.a)(en||(en=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n<custom-style>\n  <style is="custom-style">\n    html {\n\n      --shadow-transition: {\n        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);\n      };\n\n      --shadow-none: {\n        box-shadow: none;\n      };\n\n      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */\n\n      --shadow-elevation-2dp: {\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n      };\n\n      --shadow-elevation-3dp: {\n        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 8px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 3px -2px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-4dp: {\n        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12),\n                    0 2px 4px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-6dp: {\n        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 5px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-8dp: {\n        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12),\n                    0 5px 5px -3px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-12dp: {\n        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),\n                    0 4px 22px 3px rgba(0, 0, 0, 0.12),\n                    0 6px 7px -4px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-16dp: {\n        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),\n                    0  6px 30px 5px rgba(0, 0, 0, 0.12),\n                    0  8px 10px -5px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-24dp: {\n        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),\n                    0 9px 46px 8px rgba(0, 0, 0, 0.12),\n                    0 11px 15px -7px rgba(0, 0, 0, 0.4);\n      };\n    }\n  </style>\n</custom-style>'])));on.setAttribute("style","display: none;"),document.head.appendChild(on.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(Je.a)({is:"paper-menu-grow-height-animation",_template:null,behaviors:[tn],configure:function(t){var e=t.node,n=e.getBoundingClientRect().height;return this._effect=new KeyframeEffect(e,[{height:n/2+"px"},{height:n+"px"}],this.timingFromConfig(t)),this._effect}}),Object(Je.a)({is:"paper-menu-grow-width-animation",_template:null,behaviors:[tn],configure:function(t){var e=t.node,n=e.getBoundingClientRect().width;return this._effect=new KeyframeEffect(e,[{width:n/2+"px"},{width:n+"px"}],this.timingFromConfig(t)),this._effect}}),Object(Je.a)({is:"paper-menu-shrink-width-animation",_template:null,behaviors:[tn],configure:function(t){var e=t.node,n=e.getBoundingClientRect().width;return this._effect=new KeyframeEffect(e,[{width:n+"px"},{width:n-n/20+"px"}],this.timingFromConfig(t)),this._effect}}),Object(Je.a)({is:"paper-menu-shrink-height-animation",_template:null,behaviors:[tn],configure:function(t){var e=t.node,n=e.getBoundingClientRect().height;return this.setPrefixedProperty(e,"transformOrigin","0 0"),this._effect=new KeyframeEffect(e,[{height:n+"px",transform:"translateY(0)"},{height:n/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(t)),this._effect}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var rn={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400},an=Object(Je.a)({_template:Object(ze.a)(nn||(nn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n\n        @apply --paper-menu-button;\n      }\n\n      :host([disabled]) {\n        cursor: auto;\n        color: var(--disabled-text-color);\n\n        @apply --paper-menu-button-disabled;\n      }\n\n      iron-dropdown {\n        @apply --paper-menu-button-dropdown;\n      }\n\n      .dropdown-content {\n        @apply --shadow-elevation-2dp;\n\n        position: relative;\n        border-radius: 2px;\n        background-color: var(--paper-menu-button-dropdown-background, var(--primary-background-color));\n\n        @apply --paper-menu-button-content;\n      }\n\n      :host([vertical-align="top"]) .dropdown-content {\n        margin-bottom: 20px;\n        margin-top: -10px;\n        top: 10px;\n      }\n\n      :host([vertical-align="bottom"]) .dropdown-content {\n        bottom: 10px;\n        margin-bottom: -10px;\n        margin-top: 20px;\n      }\n\n      #trigger {\n        cursor: pointer;\n      }\n    </style>\n\n    <div id="trigger" on-tap="toggle">\n      <slot name="dropdown-trigger"></slot>\n    </div>\n\n    <iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled" expand-sizing-target-for-scrollbars="[[expandSizingTargetForScrollbars]]">\n      <div slot="dropdown-content" class="dropdown-content">\n        <slot id="content" name="dropdown-content"></slot>\n      </div>\n    </iron-dropdown>\n']))),is:"paper-menu-button",behaviors:[$e.a,Ke.a],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:rn.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:rn.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:rn.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},expandSizingTargetForScrollbars:{type:Boolean,value:!1},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var t=Object(Ze.a)(this.$.content).getDistributedNodes(),e=0,n=t.length;e<n;e++)if(t[e].nodeType===Node.ELEMENT_NODE)return t[e]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(t){this.ignoreSelect||this.close()},_onIronActivate:function(t){this.closeOnActivate&&this.close()},_openedChanged:function(t,e){t?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=e&&this.fire("paper-dropdown-close")},_disabledChanged:function(t){Ke.a._disabledChanged.apply(this,arguments),t&&this.opened&&this.close()},__onIronOverlayCanceled:function(t){var e=t.detail,n=this.$.trigger;Object(Ze.a)(e).path.indexOf(n)>-1&&t.preventDefault()}});Object.keys(rn).forEach((function(t){an[t]=rn[t]}));var sn,ln=n(109);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(Je.a)({_template:Object(ze.a)(sn||(sn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    <style>\n      :host {\n        display: block;\n        padding: 8px 0;\n\n        background: var(--paper-listbox-background-color, var(--primary-background-color));\n        color: var(--paper-listbox-color, var(--primary-text-color));\n\n        @apply --paper-listbox;\n      }\n    </style>\n\n    <slot></slot>\n"]))),is:"paper-listbox",behaviors:[ln.a],hostAttributes:{role:"listbox"}});n(24),n(54),n(65),n(45),n(34),n(81),n(71);var cn,un=n(30),dn=n(137);function pn(t){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bn(){return(bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=yn(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function yn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_n(t)););return t}function gn(t,e){return(gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_n(t);if(e){var r=_n(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return mn(this,n)}}function mn(t,e){if(e&&("object"===pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(i,t);var e,n,o,r=vn(i);function i(){return hn(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-product-rules-quote-line-adder"}},{key:"properties",get:function(){return{quote:Object,productIds:Array,groupKey:{type:Number,value:-1},response:{type:Object,notify:!0},linesAddedByRules:{type:Object,notify:!0}}}},{key:"observers",get:function(){return["_addLinesObserver(quote, productIds)"]}},{key:"template",get:function(){return Object(Qe.b)(cn||(cn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<sb-service id="service" saver="ProductRuleServiceProvider.QuoteLineAdder" background="true"></sb-service>\n\t\t'])))}}],(n=[{key:"ready",value:function(){bn(_n(i.prototype),"ready",this).call(this),this.$.service.addEventListener("response-changed",function(t){this.linesAddedByRules=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message])}.bind(this))}},{key:"_addLinesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.addLines(t,e)}},{key:"addLines",value:function(){var t=new un.a;t.add("productIds",this.productIds),null!=this.quote.targetGroupKey&&this.quote.targetGroupKey>=0&&t.add("groupKey",this.quote.targetGroupKey);var e=new dn.a(this.quote,this.productIds,this.quote.targetGroupKey);this.quote=e.reduceQuote(!1),t.addQuote("quote",this.quote),this.$.service.model=t.build(),this.quote=e.revertQuote()}}])&&fn(e.prototype,n),o&&fn(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Qe.a);customElements.define(wn.is,wn);n(151);var On=n(79);function kn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var xn=!1,Sn=function(){function t(e,n,o,r,i,a,s,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.host=e,this.keepBundleTogether=n,this.draggable=o,this.validTargets=r,this.sourceElement,this.hoverOver,this.placeHolderComp=null,this.ghostField,this.targetClass,this.dropBefore,this.usePlaceholder,this.highlightTargetPosition,this.highlightableElements=[],this.enableHighLight,this.lineEditor=document.body.querySelector("sb-page-container")?document.body.querySelector("sb-page-container").shadowRoot.querySelector("sb-line-editor"):document.body.querySelector("sb-line-editor"),this.linesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.linesByParentItemKey:null,this.standardLinesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.standardLinesByParentItemKey:null,this.segmentedLinesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.segmentedLinesByParentItemKey:null,this.ghost=null,this.ghostXOffset=null==l?60:l,this.ghostYOffset=null==c?23:c,this.handleDrag=i,this.handleTrack=a,this.handleDrop=s,this._bootstrapMetricsService()}var e,n,o;return e=t,(n=[{key:"_bootstrapMetricsService",value:function(){window.sb&&window.sb.MetricsService&&!this.metricsService&&(this.metricsService=new On.a)}},{key:"_onTrack",value:function(t){var e=this,n=t.detail.x,o=t.detail.y;switch(function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}(t),t.detail.state){case"start":if(Math.abs(t.detail.dx)<9&&Math.abs(t.detail.dy)<4)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag start ept"),xn=!0,Object(st.m)("disable-selection",!0,this.lineEditor),this.sourceElement=t.target;var r=this.sourceElement.getBoundingClientRect();this.sourceWidth=r.width,this.sourceHeight=r.height,this.handleDrag(this.sourceElement,t),this._appendGhostImage(n,o);break;case"track":if(!xn)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag tracking ept");try{this._moveGhost(n,o);var i=t.detail.hover();if("sf-le-table-row"!==this.draggable||"panel"!==i.id&&!i.classList.contains("nav-item")?this._showGhost():this._hideGhost(),this.handleTrack(i),this.host._cursorFlippingDebouncer=Fe.a.debounce(this.host._cursorFlippingDebouncer,Ne.d.after(15),(function(){Object(qe.a)(e.lineEditor,(function(){e.hoverOver&&0!=Object.keys(e.hoverOver).length?(i!==e.previousHoverOverComp&&Object(st.m)("dropCursor",!0,e.lineEditor),e.previousHoverOverComp=e.hoverOver.comp):(Object(st.m)("dropCursor",!1,e.lineEditor),e._removePlaceholder())}))})),!this.hoverOver||0==Object.keys(this.hoverOver).length)return void this._removeHighlightHover(this.previousHoverOverComp);this.host._applyPlaceholderDebouncer=Fe.a.debounce(this.host._applyPlaceholderDebouncer,Ne.d.after(22),(function(){e._removePlaceholder(),e.usePlaceholder&&e.hoverOver&&0!=Object.keys(e.hoverOver).length&&e._usePlaceholder(n,o)})),this.enableHighLight&&(this._removeHighlightHover(this.previousHoverOverComp),this._highlightHover(this.hoverOver.comp))}catch(t){this.sourceElement.toggleAttribute?this.sourceElement.toggleAttribute("hidden",!1):this.sourceElement.removeAttribute("hidden"),this._removeGhost(),this._removePlaceholder(),Object(st.m)("dropCursor",!1,this.lineEditor)}break;case"end":if(!xn)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag end ept"),this._removePlaceholder(),this._removeGhost(),this.hoverOver?(this.handleDrop(this.sourceElement,this.hoverOver.comp,this.targetClass,this.dropBefore),this._removeHighlightHover(this.hoverOver.comp)):this.handleDrop(this.sourceElement,null,this.targetClass,this.dropBefore),Object(st.m)("dropCursor",!1,this.lineEditor),this.sourceElement=null,this.previousHoverOverComp=null,this.hoverOver={},xn=!1,Object(st.m)("disable-selection",!1,this.lineEditor)}}},{key:"_appendGhostImage",value:function(t,e){var n=this._clonePolymerElement(this.sourceElement),o=n.querySelector(".loadingSpinner");o&&o.remove(),n.style.display="block";var r=t-this.ghostXOffset+"px",i=e-this.ghostYOffset+"px";this.ghost.style.width=this.sourceWidth+"px",this.ghost.style.height=this.sourceHeight+"px",this.ghost.style.left=r,this.ghost.style.top=i,this.ghost.style["z-index"]=5e4,this.ghost.style.visibility="visible",this.ghost.appendChild(n)}},{key:"_moveGhost",value:function(t,e){var n=t-this.ghostXOffset+"px",o=e-this.ghostYOffset+"px";this.ghost.style.left=n,this.ghost.style.top=o}},{key:"_removeGhost",value:function(){this.ghost.innerHTML="",this.ghost.style.left="",this.ghost.style.top="",this.ghost.style.width="",this.ghost.style.height="",this.ghost.style.visibility="hidden"}},{key:"_hideGhost",value:function(){this.ghost.style.visibility="hidden"}},{key:"_showGhost",value:function(){this.ghost.style.visibility="visible"}},{key:"_findTableRowValidTarget",value:function(t){return t?this._ifParentIsValidTarget(t)&&!t.classList.contains("tfoot")&&"header"!==t.id&&"template"!==t.localName&&"sb-le-summary-row"!==t.localName?t:Object(st.d)(t)?this._findTableRowValidTarget(Object(st.d)(t)):t.host?this._findTableRowValidTarget(t.host):t.parentNode?this._findTableRowValidTarget(t.parentNode):null:null}},{key:"_updateMDQTableRowHoverOverObject",value:function(t,e){e.lineModel.dimensionType!==t.lineModel.dimensionType||this.keepBundleTogether&&t.lineModel.component&&e.lineModel.groupModel.groupKey!==t.lineModel.groupModel.groupKey?this.hoverOver=null:this.hoverOver={comp:e,phLoc:"both"}}},{key:"_findSidePanelGroupValidTarget",value:function(t){if(this._ifParentIsValidTarget(t))return t;if("panel"===t.id){var e=t.querySelectorAll(".nav-item");return e[e.length-1]}return null}},{key:"updateTableRowHoverOverObject",value:function(t){if(t)if("placeholder"===t.id&&(t="before"===t.ref?this._getPreviousLineSibling(t):this._getNextLineSibling(t)),!this.keepBundleTogether&&t.lineModel)this.hoverOver={comp:t,phLoc:"both"};else if(t.lineModel){var e=t.lineModel.lineVO.key;if(Tn(this.sourceElement)){if(Tn(this.sourceElement))if(In(t,this.sourceElement)&&function(t,e){if(t.lineModel&&e.lineModel)return t.lineModel.lineVO.key===e.lineModel.lineVO.parentItemKey}(t,this._getNextLineSibling(t)))this.hoverOver={comp:t,phLoc:"before"};else{if(!In(t,this.sourceElement))return void(this.hoverOver=null);this.hoverOver={comp:t,phLoc:"both"}}}else if(this.standardLinesByParentKey[e]||t.lineModel.component){if(!t.lineModel.bundle||t.lineModel.component)return void(this.hoverOver=null);this.hoverOver={comp:t,phLoc:"before"}}else this.hoverOver={comp:t,phLoc:"both"}}else t.classList.contains("tfoot"),this.hoverOver=null}},{key:"_getNextLineSibling",value:function(t){var e=parseInt(t.getAttribute("data-index"))+1;return this._helpGetLineSibling(e,t)}},{key:"_getPreviousLineSibling",value:function(t){var e=parseInt(t.getAttribute("data-index"))-1;return this._helpGetLineSibling(e,t)}},{key:"_helpGetLineSibling",value:function(t,e){var n="sf-le-table-row[data-index='"+t+"']";return e.parentNode.querySelector(n)}},{key:"_findParentCustomElement",value:function(t,e,n){if(!t)return null;switch(n){case"id":if(t.id===e)return t;break;case"class":if(t.classList.contains(e))return t;break;case"nodeName":if(t.nodeName===e)return t}return t.rootNode?this._findParentCustomElement(t.rootNode,e,n):t.host?this._findParentCustomElement(t.host,e,n):t.parentNode?this._findParentCustomElement(t.parentNode,e,n):null}},{key:"_highlightHover",value:function(t){Object(st.m)("hoverover",!0,t)}},{key:"_ifParentIsValidTarget",value:function(t){if(!t||!t.parentElement)return!1;for(var e=Array.from(t.parentElement.classList),n=0,o=e.length;n<o;n++)if(this.validTargets.has(e[n]))return this.targetClass=e[n],!0;return!1}},{key:"_removePlaceholder",value:function(){this.placeHolderComp&&this.placeHolderComp.parentElement&&(this.placeHolderComp.parentElement.removeChild(this.placeHolderComp),this.placeHolderComp=null)}},{key:"_removeHighlightHover",value:function(t){t&&t.parentNode&&t.parentNode.querySelectorAll(t.localName).forEach((function(t){Object(st.m)("hoverover",!1,t)}))}},{key:"_highlightDroppableBorder",value:function(t,e){var n=this.hoverOver.comp.getBoundingClientRect(),o=n.top+n.height/2,r=this.highlightableElements;switch(this.hoverOver.phLoc){case"both":if(e<o){for(var i=0,a=r.length;i<a;i++)Pn(r[i]),Cn(r[i]);this.dropBefore=!0}else if(e>o){for(var s=0,l=r.length;s<l;s++)Pn(r[s]),En(r[s]);this.dropBefore=!1}break;case"before":for(var c=0,u=r.length;c<u;c++)Pn(r[c]),Cn(r[c]);this.dropBefore=!0;break;case"after":for(var d=0,p=r.length;d<p;d++)Pn(r[d]),En(r[d]);this.dropBefore=!1}}},{key:"_removeHighlightDroppableBorder",value:function(t){if(t)for(var e=0,n=t.length;e<n;e++)Pn(t[e])}},{key:"_usePlaceholder",value:function(t,e){if(this.hoverOver&&this.hoverOver.comp!==this.placeHolderComp){var n=this.hoverOver.comp.getBoundingClientRect(),o=n.top+n.height/2;if(!this.placeHolderComp){if(this.sourceElement.deepCloneNode)this.placeHolderComp=this.sourceElement.deepCloneNode(),this.placeHolderComp.hidden=!1,this.placeHolderComp.setAttribute("id","placeholder"),this.placeHolderComp.shadowRoot&&Object(st.m)("placeholder",!0,this.placeHolderComp.shadowRoot.querySelector(".tr"));else{for(var r in this.placeHolderComp=document.createElement(this.draggable),this.placeHolderComp.setAttribute("id","placeholder"),this.placeHolderComp.shadowRoot&&Object(st.m)("placeholder",!0,this.placeHolderComp.shadowRoot.querySelector(".tr")),this.sourceElement.properties)if("data"!==r)try{this.placeHolderComp[r]=this.sourceElement[r]}catch(t){}this.placeHolderComp.data=this.sourceElement.data}this.placeHolderComp.style.width=n.width+"px",this.placeHolderComp.style.height=n.height+"px",this.placeHolderComp.style.backgroundColor="#d8dde6"}switch(this.hoverOver.phLoc){case"both":e<o?(this.targetHost.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp),this.placeHolderComp.setAttribute("ref","after"),this.dropBefore=!0):e>o&&(this.targetHost.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp.nextElementSibling),this.placeHolderComp.setAttribute("ref","before"),this.dropBefore=!1);break;case"before":this.host.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp),this.placeHolderComp.setAttribute("ref","after"),this.dropBefore=!0;break;case"after":this.host.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp.nextElementSibling),this.placeHolderComp.setAttribute("ref","before"),this.dropBefore=!1}}else if(this.hoverOver&&this.hoverOver.comp===this.placeHolderComp){if(!this.placeHolderComp.hasAttribute("ref"))return;"before"===this.placeHolderComp.getAttribute("ref")?(this.hoverOver.comp=this.hoverOver.comp.previousElementSibling,this.dropBefore=!1):"after"===this.placeHolderComp.getAttribute("ref")&&(this.hoverOver.comp=this.hoverOver.comp.nextElementSibling,this.dropBefore=!0)}}},{key:"_clonePolymerElement",value:function(t){if(t.deepCloneNode)return t.deepCloneNode();var e=t.cloneNode(!0);for(var n in t.properties)if("data"!==n)try{e[n]=t[n]}catch(t){}return e.data=t.data,e}}])&&kn(e.prototype,n),o&&kn(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Cn(t){t.classList.add("droppableTopBorder")}function En(t){t.classList.add("droppableBottomBorder")}function Pn(t){t.classList.contains("droppableTopBorder")&&t.classList.remove("droppableTopBorder"),t.classList.contains("droppableBottomBorder")&&t.classList.remove("droppableBottomBorder")}function Tn(t){if(t&&t.lineModel)return t.lineModel.component}function In(t,e){if(t.lineModel&&e.lineModel)return t.lineModel.lineVO.parentItemKey===e.lineModel.lineVO.parentItemKey}var jn,Bn=n(42),Mn=n(37),Dn=n(41);var An,Rn=Object(ze.b)(jn||(jn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogContentHeight: 300px;\n}\n:host #segmentRow:hover {\n  background-color: var(--sbTableRowHoverColor);\n  border: 1px solid #5eb4ff;\n}\nsb-dialog {\n  --sbDialogContainerWidth: 60%;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n:host([class*='--mobile']) #csdDialog {\n  width: 480px;\n}\nsb-table-row[class*='--mobile'] {\n  --sb-tables-chevron-margin-top: 0px;\n  --selection-padding: 8px 0px 21px 25px;\n}\n:host([class*='--mobile']) #csdDialog {\n  width: 480px;\n}\n[class*='--mobile'] sb-table-row {\n  --sb-tables-chevron-margin-top: 0px;\n  --selection-padding: 8px 0px 21px 25px;\n}\n"])));n(13),n(15),n(74),n(36),n(52),n(82),n(46),n(101),n(47);var Ln,qn=Object(ze.b)(An||(An=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n"])));function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hn(t,e){return(Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Wn(t);if(e){var r=Wn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Vn(this,n)}}function Vn(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(i,t);var e,n,o,r=Un(i);function i(){return Nn(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-cse-table-cell"}},{key:"properties",get:function(){return{item:String,disabled:Boolean,hidden:Boolean,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null},render:{type:Boolean,value:!1},index:Number,viewport:{type:Object,value:function(){return _t.a.getViewport()}}}}},{key:"observers",get:function(){return["_buildCellObserver(item, value, model, data)"]}},{key:"template",get:function(){return Object(Qe.b)(Ln||(Ln=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-forms-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div class="sb-cse-table-cell">\n\t\t\t\t<sb-field\n\t\t\t\t\t\tdevice\n\t\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\t\tproperty="[[item]]"\n\t\t\t\t\t\trender-read-only="[[render]]"\n\t\t\t\t\t\tediting="[[editing]]"\n\t\t\t\t\t\tmd="[[md]]"\n\t\t\t\t></sb-field>\n\t\t\t</div>\n\t\t'])),qn)}}],(n=[{key:"constants",get:function(){return this.model.groupModel.editorModel.constants}},{key:"_buildCellObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.buildCell(t,e,n,o)}},{key:"buildCell",value:function(){for(var t=[this.constants.SEGMENT_LABEL_FIELD,this.constants.START_DATE_FIELD,this.constants.END_DATE_FIELD],e=this.model.groupModel.editorModel.md.fieldsMap[this.constants.QUOTE_LINE],n=[],o=0;o<t.length;o++){var r=e[t[o]];n[t[o]]=r}this.editing=!0,this.viewport&&this.viewport.isMobile()&&(this.render=!0,0===this.index&&(this.editing=!1)),this.disabled=!1,this.md=n[this.item]}}])&&zn(e.prototype,n),o&&zn(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(Ae.a)(Qe.a));customElements.define(Qn.is,Qn);var Gn;n(83);function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t){return function(t){if(Array.isArray(t))return Jn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||Xn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(t,e){if(t){if("string"==typeof t)return Jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(t,e):void 0}}function Jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function to(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function eo(){return(eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=no(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function no(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ao(t)););return t}function oo(t,e){return(oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ao(t);if(e){var r=ao(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return io(this,n)}}function io(t,e){if(e&&("object"===$n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(s,t);var e,n,i,a=ro(s);function s(){return Zn(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sb-custom-segment-dialog"}},{key:"properties",get:function(){return{dataLineModels:Array,lineModels:{type:Array},groupModel:{type:Object},deletedLineKeys:{type:Array,value:[]},errors:{type:Array,value:[],notify:!0},viewport:{type:Object,value:function(){return _t.a.getViewport()}},headerActions:Array,headerSelected:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_dataChanged(dataLineModels)","_lineModelChanged(lineModels)","_handleCustomSegmentsResponseChanged(updateCustomSegmentsResponse)","_handleErrorResponseChanged(errorResponse)","_toggleAllCheckBoxes(headerSelected)"]}},{key:"template",get:function(){return Object(Qe.b)(Gn||(Gn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-service\n\t\t\t\tid="UpdateCustomSegmentsService"\n\t\t\t\tsaver="QuoteLineEditorServiceProvider.EditorSegmentLine"\n\t\t\t\tcache="LineEditor"\n\t\t\t\tresponse={{updateCustomSegmentsResponse}}\n\t\t\t\terror="{{errorResponse}}">\n\t\t\t</sb-service>\n\n\t\t\t<div device>\n\t\t\t\t<sb-dialog id="dialog" modal="true" close-dialog="sb-cancel-custom-segment">\n\t\t\t\t\t<span slot="icon" class="sb-icon-pencil icon"></span>\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Custom Segments</sb-i18n>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t<div class="datatable" id="segmentTable">\n\n\t\t\t\t\t\t\t\x3c!-- Segment Group Header --\x3e\n\t\t\t\t\t\t\t<div class="thead" id="segmentHeader">\n\t\t\t\t\t\t\t\t\x3c!-- Version 0: Using sb-table-header --\x3e\n\t\t\t\t\t\t\t\t<sb-table-header id="header"\n\t\t\t\t\t\t\t\t\tselectable="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\tselected = "{{headerSelected}}"\n\t\t\t\t\t\t\t\t\tcols="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\theader-class-map="[[headerClassMap]]"\n\t\t\t\t\t\t\t\t\theader-actions="[[headerActions]]">\n\t\t\t\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t\t\t\t\x3c!-- Segment Group Content --\x3e\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="tbody sb-droppable-custom-segment-table" id="segmentRows">\n\t\t\t\t\t\t\t\t<template id="segmentGroup" is="dom-repeat" items="{{lineModels}}" as="lineModel">\n\t\t\t\t\t\t\t\t\t<div style="overflow-x: hidden; overflow-y: hidden;">\n\t\t\t\t\t\t\t\t\t\t<sb-table-row\tid="segmentRow"\n\t\t\t\t\t\t\t\t\t\t\tcell="sb-cse-table-cell"\n\t\t\t\t\t\t\t\t\t\t\trow-data="{{lineModel.lineVO.record}}"\n\t\t\t\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\t\t\tmodel="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\tprimary-mobile-cols=\'[["Name"]]\'\n\t\t\t\t\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t\t\t\t\tselected = "{{lineModel.selected}}"\n\t\t\t\t\t\t\t\t\t\t\thide-selection="[[_hideSelection(index)]]"\n\t\t\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\t\t\trow-actions="[[_buildRowActions(index)]]"\n\t\t\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\troute-source="lineEditor"\n\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\tselection-class="zone">\n\t\t\t\t\t\t\t\t\t\t</sb-table-row>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<template is="dom-if" if="![[groupModel.quoteModel.isAmendment]]">\n\t\t\t\t\t\t<paper-button slot="paper-button" noink class="primary" id="save"  on-click="_onSave" ><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="delete" on-click="_onDelete"><sb-i18n>Delete</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="add" on-click="_onAdd"><sb-i18n>Add</sb-i18n></paper-button>\n\t\t\t\t\t</template>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>'])),Rn)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"ready",value:function(){var t=this;eo(ao(s.prototype),"ready",this).call(this),Object.entries({"sb-cancel-custom-segment":"_onCancel","add-tapped":"_onAddByLine","delete-tapped":"_onDeleteByLine"}).map((function(e){var n=Yn(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.isMobile=this._isMobileViewport()}},{key:"constants",get:function(){return this.editorModel.constants}},{key:"quoteLineMD",get:function(){return this.editorModel.md.fieldsMap[this.constants.QUOTE_LINE]}},{key:"customLabels",get:function(){return this.editorModel.data.customLabels}},{key:"_findTableRowValidTarget",value:function(t){return t?this._ifParentIsValidTarget(t)?t:t.parentNode?this._findTableRowValidTarget(t.parentNode):null:null}},{key:"_ifParentIsValidTarget",value:function(t){return!!t.parentElement&&"swipe-header"==t.parentElement.id&&(this.targetRowElement=t.parentElement.parentElement,!0)}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport;var e=this.dragDrop?this.dragDrop.segmentRows:null;if(e)if(this._isMobileViewport()||!o.a.isDesktop)for(var n=0,r=e.length;n<r;n++)this.listenedOnTrackHandler&&Object(Dn.d)(e[n],"track",this.listenedOnTrackHandler);else{this.listenedOnTrackHandler=this.listenedOnTrackHandler||this.onTrack.bind(this);for(var i=0,a=e.length;i<a;i++)Object(Dn.a)(e[i],"track",this.listenedOnTrackHandler)}return this.viewport&&this.viewport.isMobile()}},{key:"_dataChanged",value:function(){if(this.dataLineModels){this.groupModel=this.dataLineModels[0].groupModel,this.editorModel=this.groupModel.quoteModel.editorModel;var t,e=[],n=this.dataLineModels.length,o={};for(t=0;t<n;t++){var r=this.dataLineModels[t],i=JSON.parse(JSON.stringify(r.lineVO)),a=new xt(i,this.groupModel);a.selected=!1,o[a.lineVO.record[this.constants.START_DATE_FIELD]]=a}var s=Object.keys(o).sort();for(t=0;t<n;t++)e.push(o[s[t]]);this.lineModels=e}}},{key:"_lineModelChanged",value:function(){this.lineModels&&this.lineModels.length>0&&(this.deletedLineKeys=[],this.errors=[],this._buildDialog())}},{key:"_handleCustomSegmentsResponseChanged",value:function(t){t.partialVO&&(t=this._combinePartialQuoteWithFullQuote(t)),this.dispatchEvent(Object(r.d)("segmented-changed",{quoteVO:t})),this.resetData()}},{key:"_combinePartialQuoteWithFullQuote",value:function(t){var e=this,n=this.groupModel.quoteModel.quoteVO,o=new Map,r=new Map;t.lineItems.forEach((function(t){r.set(t.key,t);var n=t.record[e.constants.SEGMENT_KEY_FIELD];if(n&&e._sentMDQKeys.has(n)){var i=o.get(n)||[];o.set(n,[].concat(Kn(i),[t]))}}));var i=[];return n.lineItems.forEach((function(t){var n=t.record[e.constants.SEGMENT_KEY_FIELD],a=t.dimensionType;n&&e._sentMDQKeys.has(n)&&a&&"custom"===a.toLowerCase()?1==t.record[e.constants.SEGMENT_INDEX_FIELD]&&(i=[].concat(Kn(i),Kn(o.get(n)))):r.has(t.key)?i.push(r.get(t.key)):i.push(t)})),t.lineItems=i,t.partialVO=!1,t}},{key:"_handleErrorResponseChanged",value:function(){var t=this.errors||[];this.set("errors",t.push(this.errorResponse))}},{key:"_onAddByLine",value:function(t){this._onAddByIndex(t.detail.index)}},{key:"_onAdd",value:function(t){this.$.dialog.toggleMenu();var e=this.lineModels.length-1;this._onAddByIndex(e)}},{key:"_onAddByIndex",value:function(t){var e=this.lineModels[t],n=JSON.parse(JSON.stringify(e.lineVO));n.record={},n.record[this.constants.SEGMENT_LABEL_FIELD]="",n.record[this.constants.START_DATE_FIELD]=null,n.record[this.constants.END_DATE_FIELD]=null;var o=new xt(n,this.groupModel);o.lineVO.record.Id=null,o.lineVO.key=null,o.selected=!1,this.splice("lineModels",t+1,0,o),this.headerSelected=!1,this.$.segmentGroup.addEventListener("dom-change",function(t){var e=this.$.segmentRows.querySelectorAll("#segmentRow");null===e[e.length-1].model.lineVO.key&&e[e.length-1].$.row.click()}.bind(this))}},{key:"_onDeleteByLine",value:function(t){this._onDeleteLineData(t.detail.index),this.headerSelected=!1}},{key:"_onDelete",value:function(){var t;for(t=this.lineModels.length-1;t>0;t--)this.lineModels[t].selected&&this._onDeleteLineData(t);this.$.dialog.toggleMenu(),this.headerSelected=!1}},{key:"_onDeleteLineData",value:function(t){var e=this.lineModels[t];null!=e.lineVO.key&&this.deletedLineKeys.push(e.lineVO.key),this.splice("lineModels",t,1)}},{key:"_onSave",value:function(){this._resetProperties(),this.$.dialog.toggleMenu(),this._validateCustomSegmentLabels(),this._validateCustomSegmentDates();var t=[];if(this.hasInvalidSegmentDates&&t.push(this.customLabels.msg_invalid_custom_segment_dates),this.hasInvalidSegmentLabels&&t.push(this.customLabels.msg_invalid_custom_segment_labels),this.hasNonConsecutiveDates&&t.push(this.customLabels.msg_nonsequential_custom_segment_dates),this.hasOverlappingSegments&&t.push(this.customLabels.msg_overlapping_custom_segment_dates),this.hasInvalidDateFormat&&t.push(this.customLabels.msg_invalid_date_format),this.set("errors",[]),this.set("errors",t),0==t.length){var e=this._getCustomSegmentUpdates();e.updateCustomSegments=!0;var n={quote:this._createQuoteWithoutUnaffectedLines(this.groupModel.groupKey),updateCustomSegments:e.updateCustomSegments,updatedLineKeys:e.updatedLineKeys,deletedLineKeys:this.deletedLineKeys,startDates:e.startDates,endDates:e.endDates,segmentLabels:e.segmentLabels};this.$.UpdateCustomSegmentsService.model=n}}},{key:"_createQuoteWithoutUnaffectedLines",value:function(t){var e=this,n=this.groupModel.quoteModel.quoteVO;if(!this.editorModel.data.settings.usesClientCalculator)return n;n=JSON.parse(JSON.stringify(n));var o=new Set,r=new Set,i=new Set;n.lineItems.forEach((function(n){n.parentGroupKey==t&&n.dimensionType==e.constants.TYPE_CUSTOM_DIMENSION&&(o.add(n.key),i.add(n.record[e.constants.SEGMENT_KEY_FIELD]),n.record.Id&&r.add(n.record.Id))})),this._sentMDQKeys=i,n.lineItems.forEach((function(t){var n=t.record[e.constants.SOURCE_FIELD];n&&r.has(n)&&o.add(t.key)}));var a=[];return n.lineItems.forEach((function(t){o.has(t.key)&&a.push(t)})),n.lineItems=a,n.partialVO=!0,n}},{key:"_onCancel",value:function(){this.errors=void 0,this.groupModel=void 0,this.deletedLineKeys=[],this._resetProperties(),this.$.dialog.toggle()}},{key:"_toggleAllCheckBoxes",value:function(){var t;if(this.lineModels)for(t=this.lineModels.length-1;t>0;t--)this.set("lineModels.".concat(t,".selected"),this.headerSelected)}},{key:"resetData",value:function(){this.errors=void 0,this.deletedLineKeys=[],this._sentMDQKeys=void 0}},{key:"_isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"_buildDialog",value:function(){this._buildFieldsMD(),this._toggleAllCheckBoxes(),this._buildRowData(),this._buildHeaderActions()}},{key:"_buildFieldsMD",value:function(){for(var t=this.quoteLineMD,e=[this.constants.SEGMENT_LABEL_FIELD,this.constants.START_DATE_FIELD,this.constants.END_DATE_FIELD],n=[],o=0;o<e.length;o++)n.push(t[e[o]]);this.fields=e,this.fieldsMD=n}},{key:"_buildRowData",value:function(){for(var t=[],e=[],n={},o={},r={},i=this.fields.length,a=0;a<i;a++){this.fields[a];var s=this.fieldsMD[a],l=s.name;t.push(l);var c=s.label;e.push(c),n[l]=s.label,o[s.label.replace(/\W/g,"")]=s.type,r[l]=s.type}this.headerClassMap=new Bn.a(Object.keys(o),"Th",o,null,!0).build(),this.rowClassMap=new Bn.a(t,"Td",r).build(),this.recordKeys=t,this.fieldLabels=e,this.fieldLabelMap=n}},{key:"_buildHeaderActions",value:function(){var t={icon:"sf-icon-delete",position:"right",hidden:!1,invisible:!0};this.headerActions=[t,t]}},{key:"_buildRowActions",value:function(t){var e=[],n={icon:"sb-icon-plus",title:this.customLabels.lbl_add_segment,position:"right",hidden:!1,invisible:this.groupModel.quoteModel.isAmendmentOrChangeQuote,onTapFunction:function(){this.dispatchEvent(Object(r.d)("add-tapped",{index:this.index}))}},o={icon:"sf-icon-delete",title:this.customLabels.lbl_delete_custom_segments,position:"right",hidden:!1,invisible:0==t||this.groupModel.quoteModel.isAmendmentOrChangeQuote,onTapFunction:function(){this.dispatchEvent(Object(r.d)("delete-tapped",{index:this.index}))}};return e.push(n),e.push(o),e}},{key:"_hideSelection",value:function(t){return 0===t?{hidden:!0,type:"invisible"}:null}},{key:"_getCustomSegmentUpdates",value:function(){for(var t={updatedLineKeys:[],startDates:[],endDates:[],segmentLabels:[]},e=this.lineModels.length,n=0;n<e;n++){var o=this.lineModels[n].lineVO,r=this.lineModels[n].lineVO.record;t.updatedLineKeys.push(o.key),t.segmentLabels.push(r[this.constants.SEGMENT_LABEL_FIELD]),t.startDates.push(r[this.constants.START_DATE_FIELD]),t.endDates.push(r[this.constants.END_DATE_FIELD])}return t}},{key:"_validateCustomSegmentLabels",value:function(){this.hasInvalidSegmentLabels=!1;for(var t={},e=this.lineModels.length,n=0;n<e;n++){var o=this.lineModels[n].lineVO.record[this.constants.SEGMENT_LABEL_FIELD];if(null==o||""===o.trim())return void(this.hasInvalidSegmentLabels=!0);if(t[o])return void(this.hasInvalidSegmentLabels=!0);t[o]=!0}}},{key:"_validateCustomSegmentDates",value:function(){for(var t=this.lineModels.length,e=0;e<t;e++){var n=this.lineModels[e].lineVO,o=n.record[this.constants.START_DATE_FIELD],r=n.record[this.constants.END_DATE_FIELD],i=new Date(o),a=new Date(r);if(null==o||null==r)return void(this.hasInvalidDateFormat=!0);if(i>a)return void(this.hasInvalidSegmentDates=!0);if(e-1>=0){var s=this.lineModels[e-1].lineVO,l=new Date(s.record[this.constants.END_DATE_FIELD]),c=Date.parse(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1)),u=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDate()));if(this.editorModel.data.settings.allowsNonConsecutiveCustomSegments){if(i<=l)return void(this.hasOverlappingSegments=!0)}else if(c!=u)return void(this.hasNonConsecutiveDates=!0)}}}},{key:"_resetProperties",value:function(){this.set("errors",[]),this.headerSelected=!1,this.hasInvalidSegmentLabels=!1,this.hasInvalidSegmentDates=!1,this.hasNonConsecutiveDates=!1,this.hasOverlappingSegments=!1,this.hasInvalidDateFormat=!1}}])&&to(e.prototype,n),i&&to(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Le.a)(Object(Ae.a)(Object(Re.a)(Object(Mn.a)(Qe.a)))));customElements.define(so.is,so);var lo;n(100);var co,uo=Object(ze.b)(lo||(lo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogMaxHeight: 400px;\n  --sbDialogMinWidth: 700px;\n  --sbSelectMinWidth: 100%;\n  --sbSelectMinHeight: 36px;\n  --sbDialogContentTextAlign: center;\n  --sbDialogContentPadding: 30px 20px;\n  --sbDialogContentFontSize: 17px;\n}\n"])));function po(t){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bo(){return(bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=yo(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function yo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_o(t)););return t}function go(t,e){return(go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_o(t);if(e){var r=_o(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return mo(this,n)}}function mo(t,e){if(e&&("object"===po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _o(t){return(_o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(a,t);var e,n,o,i=vo(a);function a(){return ho(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-pricebook-dialog"}},{key:"properties",get:function(){return{pricebooks:Array,selectedPricebook:String,error:{type:Object,observer:"_onError"}}}},{key:"template",get:function(){return Object(Qe.b)(co||(co=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t\n\t\t\t<sb-service id="pricebookLoaderService" loader="QuoteLineEditorServiceProvider.PricebookLoader" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="pricebookSaverService" saver="QuoteLineEditorServiceProvider.PricebookSaver" error="{{error}}"></sb-service>\n\t\t\t<div device>\n\t\t\t\t<sb-dialog id="dialog" modal="true" hide-close-icon="true">\n\t\t\t\t\t<div slot="title" class="title"><sb-i18n>Choose Price Book</sb-i18n></div>\n\t\t\t\t\t<paper-button slot="paper-button" noink class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-select id="select" options="[[pricebooks]]"></sb-select>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),uo)}}],(n=[{key:"ready",value:function(){bo(_o(a.prototype),"ready",this).call(this),this.$.select.addEventListener("change",function(t){t.detail&&(this.selectedPricebook=t.detail.value)}.bind(this)),this.$.dialog.addEventListener("sb-close-dialog",this.onCancel.bind(this))}},{key:"_onError",value:function(){this.error&&Object(r.c)(r.a.GENERIC_ERROR,{errorMessage:this.error.message||this.error})}},{key:"open",value:function(){this.$.pricebookLoaderService.addEventListener("response-changed",function(t){var e=[],n=t.detail.value,o=n.length;if(!1!==n.success){for(var r=0;r<o;r++)e.push({value:n[r].Id,label:n[r].Name,selected:!1});e[0].selected=!0,this.selectedPricebook=e[0].value,this.$.select.value=this.selectedPricebook,this.$.select.isRequired=!0,this.pricebooks=e,this.$.dialog.toggle()}else this.error=n.error}.bind(this)),this.$.pricebookLoaderService.uid="",this.$.pricebookLoaderService.context=""}},{key:"onSave",value:function(){this.$.pricebookSaverService.addEventListener("response-changed",function(t){this.dispatchEvent(Object(r.d)("pricebook-saved",t.detail.value))}.bind(this)),this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_ID_FIELD]=this.selectedPricebook,this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_LOOKUP_ID_FIELD]=this.selectedPricebook,this.$.pricebookSaverService.model=(new un.a).add("pricebookId",this.selectedPricebook).add("quoteId",this.editorModel.quoteModel.quoteVO.record.Id).add("oppId",this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.OPPORTUNITY_ID_FIELD]).build(),this.$.dialog.toggle()}},{key:"onCancel",value:function(){this.dispatchEvent(Object(r.d)("le-action-tapped",{customAction:{eventHandlerName:"onCancel"}}))}}])&&fo(e.prototype,n),o&&fo(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Qe.a));customElements.define(wo.is,wo);var Oo,ko=n(28);n(98),n(147),n(163),n(162);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var xo=Object(ze.a)(Oo||(Oo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["<custom-style>\n  <style is=\"custom-style\">\n    html {\n\n      /* Shared Styles */\n      --paper-font-common-base: {\n        font-family: 'Roboto', 'Noto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-code: {\n        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-expensive-kerning: {\n        text-rendering: optimizeLegibility;\n      };\n\n      --paper-font-common-nowrap: {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      };\n\n      /* Material Font Styles */\n\n      --paper-font-display4: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 112px;\n        font-weight: 300;\n        letter-spacing: -.044em;\n        line-height: 120px;\n      };\n\n      --paper-font-display3: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 56px;\n        font-weight: 400;\n        letter-spacing: -.026em;\n        line-height: 60px;\n      };\n\n      --paper-font-display2: {\n        @apply --paper-font-common-base;\n\n        font-size: 45px;\n        font-weight: 400;\n        letter-spacing: -.018em;\n        line-height: 48px;\n      };\n\n      --paper-font-display1: {\n        @apply --paper-font-common-base;\n\n        font-size: 34px;\n        font-weight: 400;\n        letter-spacing: -.01em;\n        line-height: 40px;\n      };\n\n      --paper-font-headline: {\n        @apply --paper-font-common-base;\n\n        font-size: 24px;\n        font-weight: 400;\n        letter-spacing: -.012em;\n        line-height: 32px;\n      };\n\n      --paper-font-title: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 20px;\n        font-weight: 500;\n        line-height: 28px;\n      };\n\n      --paper-font-subhead: {\n        @apply --paper-font-common-base;\n\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n      };\n\n      --paper-font-body2: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-body1: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 20px;\n      };\n\n      --paper-font-caption: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 12px;\n        font-weight: 400;\n        letter-spacing: 0.011em;\n        line-height: 20px;\n      };\n\n      --paper-font-menu: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 13px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-button: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 14px;\n        font-weight: 500;\n        letter-spacing: 0.018em;\n        line-height: 24px;\n        text-transform: uppercase;\n      };\n\n      --paper-font-code2: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 700;\n        line-height: 20px;\n      };\n\n      --paper-font-code1: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 20px;\n      };\n\n    }\n\n  </style>\n</custom-style>"])));xo.setAttribute("style","display: none;"),document.head.appendChild(xo.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var So=document.createElement("template");So.setAttribute("style","display: none;"),So.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(So.content);var Co,Eo,Po=[n(68).a,Ke.a,{hostAttributes:{role:"option",tabindex:"0"}}];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(Je.a)({_template:Object(ze.a)(Co||(Co=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style include="paper-item-shared-styles">\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n      }\n    </style>\n    <slot></slot>\n']))),is:"paper-item",behaviors:[Po]});var To,Io=Object(ze.b)(Eo||(Eo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .notFirst,\n:host .sf-icon-down:not(.mobileGroupMenu) {\n  border-left: inherit;\n  border-top-left-radius: inherit;\n  border-bottom-left-radius: inherit;\n}\n:host .notLast {\n  border-top-right-radius: inherit;\n  border-bottom-right-radius: inherit;\n}\n:host span {\n  color: var(--sbIconColor);\n  cursor: pointer;\n}\n:host #menuButton {\n  -webkit-tap-highlight-color: transparent;\n}\n:host #menuButton paper-listbox {\n  padding: 6px 20px;\n  font-family: inherit;\n  text-align: left;\n  margin: 2px;\n  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);\n}\n:host #menuButton paper-item {\n  font-family: inherit;\n  font-size: var(--sbFontSizeDefault);\n  white-space: nowrap;\n  min-height: inherit;\n  line-height: 24px;\n}\n:host #menuButton paper-item.iron-selected {\n  font-weight: normal;\n}\n:host #menuButton paper-item:focus:before,\n:host #menuButton paper-item:focus:after {\n  opacity: 0;\n  height: 0px;\n}\n:host .sbToolSeparator {\n  padding-left: 10px;\n}\n:host .primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n:host .primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\n:host .groupButton {\n  margin-left: -3px;\n  z-index: 1;\n}\n:host .groupMenu {\n  margin-left: -4px;\n}\n:host .lineAction:hover {\n  color: var(--sbIconHoverColor);\n}\n:host .dropdown-content {\n  padding-top: 12px;\n}\n@media screen and (max-width: 800px) {\n  :host paper-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n  :host paper-menu-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n}\n:host paper-tooltip[class*='--mobile'] {\n  display: none;\n}\n:host paper-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host paper-menu-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host .lineAction[class*='--mobile'] {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host .lineAction.sb-icon-star-empty[class*='--mobile']:before {\n  content: '\\e824';\n}\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host .lineAction.onAddToFavorites[class*='--mobile'],\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host .lineAction.onDeleteLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host .lineAction.onCloneLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host .lineAction.onReconfigureLine[class*='--mobile'],\n:host .lineAction.onResegmentLine[class*='--mobile'],\n:host .lineAction.onDesegmentLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host .lineAction.showDSModal[class*='--mobile'] {\n  background-color: #b1a445;\n}\n:host .lineAction.undefined[class*='--mobile'] {\n  background-color: black;\n}\n:host span[class^='sb-icon'][class*='--mobile'],\n:host span[class^='sf-icon'][class*='--mobile'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host [class*='--mobile'] paper-tooltip {\n  display: none;\n}\n:host [class*='--mobile'] paper-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] paper-menu-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] .lineAction {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host [class*='--mobile'] .lineAction.sb-icon-star-empty:before {\n  content: '\\e824';\n}\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host [class*='--mobile'] .lineAction.onAddToFavorites,\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host [class*='--mobile'] .lineAction.onDeleteLine {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host [class*='--mobile'] .lineAction.onCloneLine {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host [class*='--mobile'] .lineAction.onReconfigureLine,\n:host [class*='--mobile'] .lineAction.onResegmentLine,\n:host [class*='--mobile'] .lineAction.onDesegmentLine {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host [class*='--mobile'] .lineAction.showDSModal {\n  background-color: #b1a445;\n}\n:host [class*='--mobile'] .lineAction.undefined {\n  background-color: black;\n}\n:host [class*='--mobile'] span[class^='sb-icon'],\n:host [class*='--mobile'] span[class^='sf-icon'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host paper-listbox {\n  background-color: var(--sbBtnBgColor);\n  overflow: scroll;\n}\n:host span:not(.lineAction) {\n  color: var(--sbBtnColor);\n}\n"],["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .notFirst,\n:host .sf-icon-down:not(.mobileGroupMenu) {\n  border-left: inherit;\n  border-top-left-radius: inherit;\n  border-bottom-left-radius: inherit;\n}\n:host .notLast {\n  border-top-right-radius: inherit;\n  border-bottom-right-radius: inherit;\n}\n:host span {\n  color: var(--sbIconColor);\n  cursor: pointer;\n}\n:host #menuButton {\n  -webkit-tap-highlight-color: transparent;\n}\n:host #menuButton paper-listbox {\n  padding: 6px 20px;\n  font-family: inherit;\n  text-align: left;\n  margin: 2px;\n  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);\n}\n:host #menuButton paper-item {\n  font-family: inherit;\n  font-size: var(--sbFontSizeDefault);\n  white-space: nowrap;\n  min-height: inherit;\n  line-height: 24px;\n}\n:host #menuButton paper-item.iron-selected {\n  font-weight: normal;\n}\n:host #menuButton paper-item:focus:before,\n:host #menuButton paper-item:focus:after {\n  opacity: 0;\n  height: 0px;\n}\n:host .sbToolSeparator {\n  padding-left: 10px;\n}\n:host .primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n:host .primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\n:host .groupButton {\n  margin-left: -3px;\n  z-index: 1;\n}\n:host .groupMenu {\n  margin-left: -4px;\n}\n:host .lineAction:hover {\n  color: var(--sbIconHoverColor);\n}\n:host .dropdown-content {\n  padding-top: 12px;\n}\n@media screen and (max-width: 800px) {\n  :host paper-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n  :host paper-menu-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n}\n:host paper-tooltip[class*='--mobile'] {\n  display: none;\n}\n:host paper-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host paper-menu-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host .lineAction[class*='--mobile'] {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host .lineAction.sb-icon-star-empty[class*='--mobile']:before {\n  content: '\\\\e824';\n}\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host .lineAction.onAddToFavorites[class*='--mobile'],\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host .lineAction.onDeleteLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host .lineAction.onCloneLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host .lineAction.onReconfigureLine[class*='--mobile'],\n:host .lineAction.onResegmentLine[class*='--mobile'],\n:host .lineAction.onDesegmentLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host .lineAction.showDSModal[class*='--mobile'] {\n  background-color: #b1a445;\n}\n:host .lineAction.undefined[class*='--mobile'] {\n  background-color: black;\n}\n:host span[class^='sb-icon'][class*='--mobile'],\n:host span[class^='sf-icon'][class*='--mobile'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host [class*='--mobile'] paper-tooltip {\n  display: none;\n}\n:host [class*='--mobile'] paper-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] paper-menu-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] .lineAction {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host [class*='--mobile'] .lineAction.sb-icon-star-empty:before {\n  content: '\\\\e824';\n}\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host [class*='--mobile'] .lineAction.onAddToFavorites,\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host [class*='--mobile'] .lineAction.onDeleteLine {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host [class*='--mobile'] .lineAction.onCloneLine {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host [class*='--mobile'] .lineAction.onReconfigureLine,\n:host [class*='--mobile'] .lineAction.onResegmentLine,\n:host [class*='--mobile'] .lineAction.onDesegmentLine {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host [class*='--mobile'] .lineAction.showDSModal {\n  background-color: #b1a445;\n}\n:host [class*='--mobile'] .lineAction.undefined {\n  background-color: black;\n}\n:host [class*='--mobile'] span[class^='sb-icon'],\n:host [class*='--mobile'] span[class^='sf-icon'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host paper-listbox {\n  background-color: var(--sbBtnBgColor);\n  overflow: scroll;\n}\n:host span:not(.lineAction) {\n  color: var(--sbBtnColor);\n}\n"])));function jo(t){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Do(){return(Do="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Ao(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Ao(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fo(t)););return t}function Ro(t,e){return(Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Fo(t);if(e){var r=Fo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return qo(this,n)}}function qo(t,e){if(e&&("object"===jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fo(t){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var No=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}(a,t);var e,n,o,i=Lo(a);function a(){return Bo(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-custom-action"}},{key:"properties",get:function(){return{customAction:Object,model:Object,actionHidden:Boolean,viewport:{type:Object,value:function(){return _t.a.getViewport()}},button:{type:Boolean,value:null},span:{type:Boolean,value:null},groupAction:{type:Boolean,value:!1},allOptional:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_toggleQuoteButton(model.allOptional)","_toggleLineButton(model.favorite)"]}},{key:"template",get:function(){return Object(Qe.b)(To||(To=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="iron-positioning"></style>\n\t\t\t<style>','</style>\n\t\t\t<template is="dom-if" if="[[_showAction(customAction, model, allOptional)]]">\n\t\t\t\x3c!-- button or span --\x3e\n\t\t\t\t<template is="dom-if" if="[[button]]">\n\t\t\t\t\t<paper-button noink id="mainButton" class$="[[_getButtonClass(customAction, viewport, button, span, groupAction)]] [[deviceClasses]]" on-mouseenter="triggerCustomAction" on-mouseleave="triggerCustomAction" on-click="triggerCustomAction">[[_getLabel(customAction, viewport)]]</paper-button>\n\t\t\t\t\t<paper-tooltip for="mainButton" class$="[[deviceClasses]]" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t[[customAction.title]]\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[span]]">\n\t\t\t\t\t<span id$="[[customAction.caClass]]" class$="[[customAction.class]] [[deviceClasses]]" on-mouseenter="triggerCustomAction" on-mouseleave="triggerCustomAction" on-click="triggerCustomAction">[[_getLabel(customAction, viewport)]]</span>\n\t\t\t\t\t<paper-tooltip for$="[[customAction.caClass]]" class$="[[deviceClasses]]" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t[[customAction.title]]\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</template>\n\n\t\t\t\t<template is="dom-if" if="[[_hasMenu(customAction, viewport, button, span)]]">\n\t\t\t\t\t<paper-menu-button id="menuButton" class$="[[deviceClasses]]" ignore-select no-overlap horizontal-align$="[[horizontalAlign]]" horizontal-offset$="[[horizontalOffset]]" vertical-offset$="[[verticalOffset]]" no-animations>\n\t\t\t\t\t\t<template is="dom-if" if="[[_hasMenuButton(customAction, viewport, button, span)]]">\n\t\t\t\t\t\t\t<paper-button noink slot="dropdown-trigger" class$="dropdown-trigger sf-icon-down [[_getMenuClass(customAction, button, groupAction)]]"></paper-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template is="dom-if" if="[[span]]">\n\t\t\t\t\t\t\t<span slot="dropdown-trigger" class="dropdown-trigger sf-icon-right"></span>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<paper-listbox slot="dropdown-content" class="dropdown-content">\n\t\t\t\t\t\t\t<template is="dom-repeat" items="[[customAction.children]]">\n\t\t\t\t\t\t\t\t<paper-item><sb-custom-action name$="[[item.name]]" custom-action="[[item]]" model="[[model]]" span="true"></sb-custom-action></paper-item>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</paper-listbox>\n\t\t\t\t\t</paper-menu-button>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t'])),Io)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t[r.a.TOGGLE_QUICKSAVE]=this.toggleQuickSaveButton,t}},{key:"ready",value:function(){Do(Fo(a.prototype),"ready",this).call(this),this.customAction&&this.customAction.isSeparator&&(this.button=!1,this.span=!0),this.addEventListener("paper-dropdown-close",(function(t){this.shadowRoot.querySelector("#menuButton")&&this.shadowRoot.querySelector("#menuButton").close()})),this.horizontalAlign||(this.horizontalAlign=this.span?"left":"right"),this.horizontalOffset=this.span?18:0,this.verticalOffset=this.span?-30:0}},{key:"triggerCustomAction",value:function(t){if("showDSModal"!==this.customAction.eventHandlerName)"click"===t.type&&("onQuickSave"===this.customAction.eventHandlerName&&Object(r.c)(r.a.TOGGLE_QUICKSAVE,{enable:!1}),this.dispatchEvent(Object(r.d)("le-action-tapped",{customAction:this.customAction,model:this.model})),this.dispatchEvent(Object(r.d)("paper-dropdown-close",void 0)));else{if(this.classList.contains("swipe-menu-item")&&"click"!==t.type)return;Object(r.c)(r.a.SCHEDULE_ACTION,{event:t,model:this.model})}}},{key:"_showAction",value:function(t,e){return!t.isHidden(e)}},{key:"_getLabel",value:function(t,e){return(!t.icon||e&&(e.isMobile()||e.S.down))&&"Line"!==t.renderLocation?t.label:null}},{key:"_hasMenu",value:function(t,e,n,o){return!n&&!o||t.hasMenu&&!(e&&(e.isMobile()||e.S.down))}},{key:"_hasMenuButton",value:function(t,e,n,o){return this._hasMenu(t,e,n,o)&&!o}},{key:"_getButtonClass",value:function(t,e,n,o,r){return(r?"groupButton ":"")+(t.icon&&!this._getLabel(t,e)?t.icon:"")+(t.first?"":" notFirst")+(t.last&&!this._hasMenu(t,e,n,o)?"":" notLast")+(t.primary?" primary":"")}},{key:"_getMenuClass",value:function(t,e,n){return!e&&n?"mobileGroupMenu":(n?"groupMenu ":"")+(t.last?"":"notLast")}},{key:"_toggleQuoteButton",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allOptional=t,this._toggleButton()}},{key:"_toggleLineButton",value:function(){this._toggleButton()}},{key:"_toggleButton",value:function(){this.viewport&&this.viewport.isMobile()&&!this.model.favorite&&"removeFromFavBtn"===this.customAction.caClass&&this.style.transform&&this.parentElement.parentElement._initSwipeMenu(this.parentElement),this._setButtonClassAndLabel()}},{key:"_setButtonClassAndLabel",value:function(){this.viewport&&this.viewport.isMobile()&&this.model.favorite&&"removeFromFavBtn"===this.customAction.caClass&&this.parentElement&&(Object(ko.b)(),this.parentElement.parentElement._initSwipeMenu(this.parentElement))}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport,this._setButtonClassAndLabel()}},{key:"toggleQuickSaveButton",value:function(t){"onQuickSave"===this.customAction.eventHandlerName&&(this.shadowRoot.querySelector("#mainButton").disabled=!t.detail.enable)}}])&&Mo(e.prototype,n),o&&Mo(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Object(Re.a)(Qe.a)));customElements.define(No.is,No);var zo,Ho=n(33);var Uo,Vo=Object(ze.b)(zo||(zo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .sf-tooltip:hover:after {\n  content: attr(tooltip);\n  display: block;\n  position: absolute;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  background-color: #fff;\n  border: var(--sbBtnBorder);\n  opacity: 1;\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  border-radius: 4px;\n  font-size: 14px;\n  z-index: 999;\n  text-align: left;\n  transform: translateX(-50%);\n  font-weight: normal;\n}\n.td {\n  display: flex;\n  padding: 6px 0;\n  width: 100%;\n  font-weight: 400;\n}\n.td div#item.sf-tooltip:hover:after {\n  transform: translateX(50%);\n}\n.td span#label.sf-tooltip:hover:after {\n  max-width: 30%;\n}\n.td > .label {\n  height: 24px;\n  text-align: right;\n  padding: 5px 10px 0px 0px;\n  min-width: 50%;\n  align-self: center;\n  white-space: nowrap;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n}\n.td > .field {\n  display: flex;\n  align-items: center;\n  text-align: left;\n  padding-left: 10px;\n  width: 60%;\n  font-size: 13px;\n  font-weight: 600;\n  overflow-x: hidden;\n}\n.td > .helpText {\n  display: inline-block;\n  opacity: 1;\n  background-color: inherit;\n  border: none;\n  position: static;\n  width: auto;\n  align-self: center;\n  padding-bottom: 6px;\n}\n.td > .helpText > .sb-icon-help-circled {\n  font-size: var(--sbFontSizeDefault);\n  color: var(--sbIconColor);\n}\n.td > .helpText > .sb-icon-help-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n.td > .helpText > #label:before {\n  padding-top: 4px;\n  vertical-align: middle;\n}\n.td[class*='--mobile'] {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n  height: inherit;\n}\n.td[class*='--mobile'] .helpText {\n  display: none;\n}\n.td[class*='--mobile'] .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] .field {\n  width: 110%;\n  padding-left: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  color: #16325c;\n}\n[class*='--mobile'] .td {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n  height: inherit;\n}\n[class*='--mobile'] .td .helpText {\n  display: none;\n}\n[class*='--mobile'] .td .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td .field {\n  width: 110%;\n  padding-left: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  color: #16325c;\n}\n:host(.multiGroupItem) {\n  --sidePanelInputHeight: 25px !important;\n  text-align: left;\n}\n:host(.multiGroupItem) .td {\n  display: table-cell;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  padding: 5px 10px 5px 10px;\n  min-width: 180px;\n  min-height: 150px;\n}\n:host(.multiGroupItem) .label {\n  text-transform: uppercase;\n  padding-right: 0px;\n  min-width: 0%;\n}\n:host(.multiGroupItem) div.field {\n  min-height: 25px;\n  padding-left: 0px;\n}\n:host(.multiGroupItem) #item {\n  display: inline-block;\n}\n:host(.multiGroupItem) .helpText {\n  vertical-align: super;\n}\n:host(.hiddenFromPSP) #field {\n  display: none;\n}\n"])));function Wo(t){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Go(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Go(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ko(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yo(){return(Yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Xo(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Xo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=er(t)););return t}function Jo(t,e){return(Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=er(t);if(e){var r=er(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return tr(this,n)}}function tr(t,e){if(e&&("object"===Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr,or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}(s,t);var e,n,i,a=Zo(s);function s(){return $o(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sb-field-set-table-item"}},{key:"properties",get:function(){return{value:{notify:!0},item:String,model:Object,md:Object,data:Object,display:String,viewport:{type:Object,value:function(){return _t.a.getViewport()}},calculateImmediately:{type:Object,value:function(){return o.a.org.calculateImmediately}},renderReadOnly:{value:!1,type:Boolean},type:String,itemClassMap:{type:Object},editable:{type:Boolean,observer:"_editableChanged"}}}},{key:"observers",get:function(){return["_setFieldDataObserver(item, model, data)","_displayChangedObserver(value, display, item, data, md)","_valueChangedObserver(value, md)","_updateOriginalValueObserver(model, item)"]}},{key:"template",get:function(){return Object(Qe.b)(Uo||(Uo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<div device class="td">\n\t\t\t\t<div id="item" class="label sf-tooltip" tooltip$="[[label]]">[[label]]</div>\n\t\t\t\t<template is="dom-if" if="[[md.inlineHelpText]]">\n\t\t\t\t\t<span class="helpText">\n\t\t\t\t\t\t<span id="label" class="sb-icon-help-circled sf-tooltip" tooltip$="[[helpText]]"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t\t<div id="divField" class="field">\n\t\t\t\t\t<sb-field id="field" record="[[data]]" md="[[md]]" ref-display="{{display}}"></sb-field>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),Vo)}}],(n=[{key:"connectedCallback",value:function(){Yo(er(s.prototype),"connectedCallback",this).call(this),this.renderReadOnly}},{key:"ready",value:function(){var t=this;Object.entries({"datepicker-opened":"_datePickerOpened","sb-field-on-change-field":"_handleFieldValueChanged"}).map((function(e){var n=Qo(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),Yo(er(s.prototype),"ready",this).call(this)}},{key:"_datePickerOpened",value:function(t){if(!this.renderReadOnly){var e=t.detail.dateContainer,n=e.querySelector("input"),o=t.detail.datepicker,r=t.detail.datepicker.offsetHeight,i=t.detail.datepicker.offsetWidth,a=window.innerHeight,s=window.innerWidth,l=e.getBoundingClientRect(),c=a-l.bottom-r,u=s-l.left-i;o.style.position="fixed",o.style.left=u<0?n.getBoundingClientRect().right-i+"px":l.left+"px",o.style.top=c<0?l.top-r+"px":l.bottom+"px"}}},{key:"_setFieldDataObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._setFieldData(t,e,n)}},{key:"_setFieldData",value:function(){this.md=this.model.getFieldMD(this.item),this.isMobile=this.viewport&&this.viewport.isMobile(),this.label=null==this.value&&"richtextarea"===this.md.extraTypeInfo&&this.isMobile?null:this.md.label,this.helpText=this.md.inlineHelpText,this.data.CurrencyIsoCode&&(this.md.CurrencyIsoCode=this.data.CurrencyIsoCode),this.$.field.editing=this._isEditable(),this.$.field.disabled=this._isDisabled(),this.$.field.md=this.md,this.$.field.property=this.item;var t={};t[this.item]=this.value,this.$.field.obj=t}},{key:"_isEditable",value:function(){return!!this.md.updateable&&(null!=this.model.quoteVO.fieldEditability&&null!=this.model.quoteVO.fieldEditability[this.item]?this.model.quoteVO.fieldEditability[this.item]:!!this.md.updateable)}},{key:"_isDisabled",value:function(){var t=this.model.quoteVO.fieldEditability;return this.md.updateable&&"boolean"===this.md.type&&null!=t&&null!=t[this.item]?!t[this.item]:!this.md.updateable}},{key:"_valueChangedObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._valueChanged(t,e)}},{key:"_valueChanged",value:function(t,e){this._updateLookupDisplayValue(),this.$.field.value=t,this.data&&this.item&&this.set("data."+this.item,t)}},{key:"_updateLookupDisplayValue",value:function(){if(this.data){var t=new Ho.a(this.item,this.data);t.hasRelationship()&&(this.display=t.getRelationshipName())}}},{key:"_handleFieldValueChanged",value:function(t){var e=!!t.detail&&t.detail.suppressImmediateCalculation;this.calculateImmediately&&!e&&this.dispatchEvent(Object(r.d)("calculate-immediately",void 0))}},{key:"_displayChangedObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this._displayChanged(t,e,n,o,r)}},{key:"_displayChanged",value:function(){new Ho.a(this.item,this.data).addRelationshipName(this.value,this.display,this.md.referenceTo[0])}},{key:"_updateOriginalValueObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._updateOriginalValue(t,e)}},{key:"_updateOriginalValue",value:function(){if(this.type){this.model[this.type]._transient_=this.model[this.type]._transient_||{},this.model[this.type]._transient_.original=this.model[this.type]._transient_.original||JSON.parse(JSON.stringify(this.model[this.type].record));var t=this.get("model.".concat(this.type,"._transient_.original"));this.$.field.originalValue=t[this.item]}}},{key:"_editableChanged",value:function(){this.md.updateable&&this.$.field.toggleEditing(this.editable)}}])&&Ko(e.prototype,n),i&&Ko(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Ae.a)(Qe.a));customElements.define(or.is,or);var rr,ir=Object(ze.b)(nr||(nr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host .table {\n  padding: 10px 0 0 0;\n}\n:host .tr {\n  text-align: center;\n  vertical-align: top;\n  display: flex;\n  position: relative;\n}\n:host .td1 {\n  width: 100%;\n}\n:host .td2 {\n  width: 50%;\n}\n:host .td3 {\n  width: 33%;\n}\n:host .header-attributes {\n  padding: 0 30px 0 30px;\n}\n"])));n(72);function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ur(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dr(t,e){return(dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=fr(t);if(e){var r=fr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return hr(this,n)}}function hr(t,e){if(e&&("object"===ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fr(t){return(fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var br,yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(a,t);var e,n,o,i=pr(a);function a(){return cr(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-field-set-table"}},{key:"properties",get:function(){return{editorModel:Object,data:{type:Object,notify:!0},numColumns:{type:Number,value:1},objectName:String,viewport:{type:Object,value:function(){return _t.a.getViewport()}},model:Object,itemEditableMap:{type:Object,default:{}}}}},{key:"observers",get:function(){return["_generateColumnsObserver(editorModel, objectName, viewport, model)","modelChanged(model.*)"]}},{key:"template",get:function(){return Object(Qe.b)(rr||(rr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<div id="table" class="table">\n\t\t\t\t<div class="tr">\n\t\t\t\t\t<div class$="td [[columnOneWidth]]"><sb-group id="firstColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>\n\t\t\t\t\t<div class$="td [[columnTwoWidth]]"><sb-group id="secondColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>\n\t\t\t\t\t<div class$="td [[columnThreeWidth]]"><sb-group id="thirdColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),ir)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.VIEWPORT_CHANGED]=this.generateColumns,t}},{key:"_generateColumnsObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.generateColumns(t,e,n,o)}},{key:"generateColumns",value:function(){this.isMobile=this.viewport&&this.viewport.isMobile();var t,e=[],n=[],o=[],r=[];if(this.objectName==this.editorModel.constants.QUOTE_LINE_GROUP){for(var i=this.editorModel.fieldsetMap.groupFieldNames.slice(),a=0,s=i.length;a<s;a++)this.isMobile||this.editorModel.constants.DESCRIPTION_FIELD!=i[a]&&"Name"!=i[a]||(i.splice(a,1),a--);e=i,t=i.length}else this.objectName==this.editorModel.data.quoteObjectName&&(e=this.editorModel.fieldsetMap.quoteFieldNames,t=this.editorModel.fieldsetMap.quoteFieldNames.length);for(var l=0;l<t;l++)l%this.numColumns==0?n.push(e[l]):l%this.numColumns==1?o.push(e[l]):r.push(e[l]);1==this.numColumns?this.columnOneWidth="td1":2==this.numColumns?(this.columnOneWidth="td2",this.columnTwoWidth="td2"):(this.columnOneWidth="td3",this.columnTwoWidth="td3",this.columnThreeWidth="td3"),this.setColumns(n,o,r)}},{key:"setColumns",value:function(t,e,n){t.length>0&&(this.$.firstColumn.model=this.model,this.$.firstColumn.group||(this.$.firstColumn.group=t)),e.length>0&&(this.$.secondColumn.model=this.model,this.$.secondColumn.group||(this.$.secondColumn.group=e)),n.length>0&&(this.$.thirdColumn.model=this.model,this.$.thirdColumn.group||(this.$.thirdColumn.group=n))}},{key:"modelChanged",value:function(t){this.objectName&&this.editorModel&&this.objectName!==this.editorModel.data.quoteObjectName||"GroupModel"===this.model.modelType||("model.quoteVO.fieldVisibility"===t.path?this._visibilityChanged():"model.quoteVO.fieldEditability"===t.path?this._editabilityChanged():"model"===t.path&&null!=this.model.quoteVO&&null!=this.model.quoteVO.fieldVisibility&&Object.keys(this.model.quoteVO.fieldVisibility).length>0&&this._visibilityChanged())}},{key:"_visibilityChanged",value:function(){if(this.model.setHiddenFromPSPClass){var t=this.model.setHiddenFromPSPClass();t&&(this.itemClassMap=t)}}},{key:"_editabilityChanged",value:function(){var t=this.model.editorModel.fieldsetMap.quoteFieldNames;if(t&&this.model.quoteVO.fieldEditability&&0!=Object.keys(this.model.quoteVO.fieldEditability).length){var e,n={},o=sr(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;this.model.quoteVO.fieldEditability.hasOwnProperty(r)&&(n[r]=null==this.model.quoteVO.fieldEditability[r]||this.model.quoteVO.fieldEditability[r])}}catch(t){o.e(t)}finally{o.f()}this.itemEditableMap=n}}}])&&ur(e.prototype,n),o&&ur(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Re.a)(Qe.a));customElements.define(yr.is,yr);var gr,vr=Object(ze.b)(br||(br=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .quoteTotal {\n  display: block;\n  text-align: right;\n  padding: 20px 24px 20px 20px;\n  font-weight: bold;\n}\n:host .quoteTotal.grouped {\n  padding-right: 8px;\n}\n:host .quoteTotal span {\n  display: inline-block;\n  text-transform: uppercase;\n}\n:host .quoteTotal .hidden {\n  display: none;\n}\n:host .quoteTotal[class*='--mobile'] {\n  padding: 0;\n  text-align: left;\n}\n:host [class*='--mobile'] .quoteTotal {\n  padding: 0;\n  text-align: left;\n}\n:host .largeQuote .quoteTotal {\n  padding: 5px 0 0 0;\n  font-size: 18px;\n  font-weight: normal;\n  text-align: left;\n}\n:host .largeQuote .quoteTotal span:not(.hidden) {\n  display: inline-block;\n  text-transform: none;\n}\n"])));function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Or(t,e){return(Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Sr(t);if(e){var r=Sr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xr(this,n)}}function xr(t,e){if(e&&("object"===mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(a,t);var e,n,o,i=kr(a);function a(){return _r(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-le-footer"}},{key:"properties",get:function(){return{quoteModel:Object,quoteTotal:{type:Number},quoteTotalMd:Object,editorModel:{type:Object}}}},{key:"observers",get:function(){return["_showQuoteTotal(quoteModel.quoteVO.*)","_setTotalWidth(quoteModel.editorModel.layout)"]}},{key:"template",get:function(){return Object(Qe.b)(gr||(gr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<div id="container" device>\n\t\t\t<template is="dom-if" if="[[showQuoteTotal]]">\n\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t<h3 class$="quoteTotal [[grouped]]" style$="min-width:[[totalWidth]];max-width:[[totalWidth]];">\n\t\t\t\t\t<span class$="[[labelClass]]">\n\t\t\t\t\t\t<template is="dom-if" if="[[quoteModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t\t\t<sb-i18n>Total</sb-i18n>:\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template is="dom-if" if="[[!quoteModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t\t\t<sb-i18n>Quote Total</sb-i18n>:\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span><sb-field id="quoteTotal" property="currency" value="[[quoteTotal]]" md="[[quoteTotalMd]]"></sb-field></span>\n\t\t\t\t</h3>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),vr)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t}},{key:"settings",get:function(){return this.quoteModel.editorModel.data.settings}},{key:"quoteFields",get:function(){return this.quoteModel.editorModel.md.fieldsMap[this.settings.developerPrefix+"Quote__c"]}},{key:"quoteVO",get:function(){return this.quoteModel.quoteVO}},{key:"colWidthsChanged",value:function(){this._setTotalWidth()}},{key:"_setTotalWidth",value:function(){if(this.showQuoteTotal){var t=this.quoteModel.editorModel;if(Object(st.m)("largeQuote",t.largeQuoteExperienceEnabled,this.$.container),this.labelClass=t.deviceContext.isMobile?"hidden":"",!t.layout||t.deviceContext.isMobile||t.largeQuoteExperienceEnabled)return;this.totalWidth=this.quoteModel.editorModel.layout.totalWidth+"px"}}},{key:"_showQuoteTotal",value:function(){this.grouped=this.quoteModel.grouped?"grouped":"",this._setQuoteTotal(),this.showQuoteTotal="doNotDisplay"!=this.settings.lineEditorTotalsField&&this.quoteVO.lineItems&&this.quoteVO.lineItems.length>0}},{key:"_setQuoteTotal",value:function(){var t,e,n=this.quoteModel.editorModel.constants,o=this.settings.lineEditorTotalsField;o&&"Default"!=o?(e=this.settings.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:this.quoteFields[o]?this.quoteFields[o].scale:0,t=this.quoteVO.record[o]||0):(e=this.settings.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:this.quoteVO.applyAdditionalDiscountLast?this.quoteFields[n.CUSTOMER_AMOUNT_FIELD].scale:this.quoteFields[n.NET_AMOUNT_FIELD].scale,t=this.quoteVO.applyAdditionalDiscountLast?this.quoteVO.customerTotal:this.quoteVO.netTotal),this.quoteTotalMd||(this.quoteTotalMd={type:"currency",scale:e,CurrencyIsoCode:this.quoteVO.record.CurrencyIsoCode}),this.quoteTotal=t.toFixed(e)}}])&&wr(e.prototype,n),o&&wr(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Object(Re.a)(Qe.a)));customElements.define(Cr.is,Cr);var Er,Pr,Tr;n(116);function Ir(t,e){return t.lineVO.key-e.lineVO.key}function jr(t,e){var n,o,r=Pr&&t.lineVO.record[Er]?t.lineVO.record[Er][Pr]:t.lineVO.record[Er],i=Pr&&e.lineVO.record[Er]?e.lineVO.record[Er][Pr]:e.lineVO.record[Er];if(Er===Tr.LIST_PRICE_FIELD)n=t.lineVO.record[Tr.BUNDLED_FIELD],o=e.lineVO.record[Tr.BUNDLED_FIELD];else if(t.groupModel.quoteVO.localizationByFieldByProductId&&Object.keys(t.groupModel.quoteVO.localizationByFieldByProductId).length>0){r=ne.getLocalizedValue(t,Er,Pr)||r,i=ne.getLocalizedValue(e,Er,Pr)||i}return(r=Mr(r,n))==(i=Mr(i,o))?0:r<i?-1:r>i?1:null==r?-1:null==i?1:0}function Br(t,e){var n,o,r=Pr&&t.lineVO.record[Er]?t.lineVO.record[Er][Pr]:t.lineVO.record[Er],i=Pr&&e.lineVO.record[Er]?e.lineVO.record[Er][Pr]:e.lineVO.record[Er];if(Er===Tr.LIST_PRICE_FIELD)n=t.lineVO.record[Tr.BUNDLED_FIELD],o=e.lineVO.record[Tr.BUNDLED_FIELD];else if(t.groupModel.quoteVO.localizationByFieldByProductId&&Object.keys(t.groupModel.quoteVO.localizationByFieldByProductId).length>0){r=ne.getLocalizedValue(t,Er,Pr)||r,i=ne.getLocalizedValue(e,Er,Pr)||i}return(r=Mr(r,n))==(i=Mr(i,o))?0:r>i?-1:r<i||null==r?1:null==i?-1:0}function Mr(t,e){return e&&(t=0),"string"==typeof t?t.toUpperCase():void 0===t&&(t=null),t}function Dr(t,e,n,o,r){var i=0;Tr=t[0].editorModel.constants;var a=o;Er=t[0].segmented&&!t[0].lineVO.record[e]?Tr.NET_TOTAL_FIELD:e,Pr=r;var s=function(t){var e,n;return t.forEach(function(t){var o=t.lineVO.record[Tr.NUMBER_FIELD];t.visible?e=!e||o<e?o:e:n=!n||o<n?o:n}.bind(this)),{lowestVisibleNumber:e,lowestInvisibleNumber:n}}(t);a?function t(e,n,o,r){var i=e[n];if(i){""===o?i.sort(Ir.bind(this)):"asc"===o?i.sort(jr.bind(this)):"desc"===o&&i.sort(Br.bind(this));for(var a=0;a<i.length;a++)r(i[a]),t(e,i[a].lineVO.key,o,r)}}(function(t){for(var e={},n=0;n<t.length;n++)e[t[n].lineVO.parentItemKey]||(e[t[n].lineVO.parentItemKey]=[]),e[t[n].lineVO.parentItemKey].push(t[n]);return e}(t),null,n,(function(e){t[i++]=e})):"asc"===n?t.sort(jr.bind(this)):"desc"===n?t.sort(Br.bind(this)):""===n&&t.sort(Ir.bind(this));return t=function(t,e,n){if(n.length>0)var o=n[0].groupModel.quoteModel.indexByGroupKey,r=n[0].lineVO.parentGroupKey;for(var i=0;i<n.length;i++){var a=n[i].lineVO.key;n[i].lineVO.record[Tr.SEGMENT_KEY_FIELD]?o[r].indexBySegmentKey[n[i].lineVO.record[Tr.SEGMENT_KEY_FIELD]]=i:o[r].indexByLineKey[a]=i,n[i].visible?(n[i].lineVO.record[Tr.NUMBER_FIELD]=t,t++):(n[i].lineVO.record[Tr.NUMBER_FIELD]=e,e++)}return n}(s.lowestVisibleNumber,s.lowestInvisibleNumber,t)}function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Lr(t,e){return(Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Nr(t);if(e){var r=Nr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Fr(this,n)}}function Fr(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lr(t,e)}(a,t);var e,n,r,i=qr(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).options=t||{},e}return e=a,(n=[{key:"generateHeaderNode",value:function(t,e){this.isSegmented&&(t=t.concat(this.buildRowSegmentFieldSet(this.segmentedColumns)));var n=this.generate(t),o=document.createElement("div");return e&&Object.keys(e).forEach((function(t){o.setAttribute(t,e[t])})),o.innerHTML=n,o}},{key:"generate",value:function(t){var e=this,n=this.getLeadingColumns();n+=this.hasSelectionColumn()?this.generateSelectionColumn():"",n+=this.hasItemNumberColumn()?this.generateItemNumberColumn():"";var o=this.getColumnWidths(),r=this.getColumnWidthUnit();return t.forEach((function(t){var i=e.generateColAdjBar(),a=e.getColumnAlignment(t),s="",l="";e.isSortable(t)&&(s="sortable",l='<i class="arrow sf-icon-arrowup"></i>'),n+='<div field="'.concat(t,'" class="th ').concat(a," arrow-on-hover ").concat(s,'"'),o&&o[t]&&(n+="px"===r?' style="min-width:'.concat(o[t],"px;max-width:").concat(o[t],'px"'):' style="width:'.concat(o[t]).concat(r,'"'));var c=e.getBeforeFieldTemplate(t)||"";n+=">".concat(c,"[[").concat(t,"]]").concat(l).concat(i,"</div>")})),n+=this.getTrailingColumns(),n+=this.generateColumnIndicator()}},{key:"getBeforeFieldTemplate",value:function(t){return""}},{key:"isSortable",value:function(t){return"function"!=typeof this.options.isSortable||this.options.isSortable(t)}},{key:"getColumnAlignment",value:function(t){return""}},{key:"getLeadingColumns",value:function(){return""}},{key:"getTrailingColumns",value:function(){return""}},{key:"getColumnWidths",value:function(){return this.options.columnWidths||{}}},{key:"getColumnWidthUnit",value:function(){return this.options.columnWidthUnit||"px"}},{key:"hasSelectionColumn",value:function(){return!0===this.options.hasSelectionColumn}},{key:"hasItemNumberColumn",value:function(){return!0===this.options.hasItemNumberColumn}},{key:"generateSelectionColumn",value:function(){var t=this.generateInnerCheckboxTemplate(null);return'<div class="th selection"><div class="checkboxcontainer">'.concat(t,"</div></div>")}},{key:"generateColumnIndicator",value:function(){return o.a.isColumnResizingEnabled&&!o.a.isMobile&&this.options.allowColumnResizing?'<div id="col-resize-indicator"><span id="col-adj-divider"></span></div>':""}},{key:"generateItemNumberColumn",value:function(){return'<div class="th itemNumber"><span>#</span></div>'}}])&&Rr(e.prototype,n),r&&Rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ut);function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wr(){return(Wr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Qr(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Qr(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yr(t)););return t}function Gr(t,e){return(Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Yr(t);if(e){var r=Yr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Kr(this,n)}}function Kr(t,e){if(e&&("object"===Hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gr(t,e)}(a,t);var e,n,r,i=$r(a);function a(t,e,n){var o,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ur(this,a);var s={hasSelectionColumn:t.isMultiLineDeleteEnabled(),hasItemNumberColumn:!0,columnWidths:e,allowColumnResizing:r};return(o=i.call(this,s)).editorModel=t,o.segmentedColumns=n,o.isSegmented=!!n,o}return e=a,(n=[{key:"getLeadingColumns",value:function(){return this.editorModel.actionsOnTheLeft?'<div class="th lineActions"></div>':""}},{key:"getTrailingColumns",value:function(){var t=this.editorModel.actionsOnTheLeft?"":'<div class="th lineActions"></div>';return!this.isSegmented&&this.editorModel.hasDrawerFields()&&(t+=this._getDrawerColumnTemplate()),t}},{key:"generateItemNumberColumn",value:function(){return this.isSegmented?'<div class="th itemNumber segmentedDrawer"><span>#</span><span class="'.concat(ut.classNames.RIGHT_ICON,'"></span></div>'):Wr(Yr(a.prototype),"generateItemNumberColumn",this).call(this)}},{key:"_getDrawerColumnTemplate",value:function(){return'<div class="th drawerIcon"><span class="'.concat(ut.classNames.CHEVRON_RIGHT_ICON,'"></span></div>')}},{key:"getColumnAlignment",value:function(t){var e=this.editorModel.getFieldMetadata(t),n=[];return this.isSegmented&&(n=this.buildRowSegmentFieldSet(this.segmentedColumns)),e&&("number"===e.type||"double"===e.type||"percent"===e.type||"currency"===e.type)||n.indexOf(t)>=0?"rightAligned":e&&"boolean"===e.type?"centerAligned":"leftAligned"}},{key:"isSortable",value:function(t){return t!==this.editorModel.constants.ADDITIONAL_DISCOUNT_FIELD}},{key:"getBeforeFieldTemplate",value:function(t){return at.a.isProductNameField(t)&&o.a.isBundleCollapsible(this.editorModel)&&!this.isSegmented?'<span class="bundle-caret" inner-h-t-m-l="[[_caretContent]]"></span>':""}}])&&Vr(e.prototype,n),r&&Vr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(zr),Jr=n(19);function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ei(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ni(t,e){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ii(t);if(e){var r=ii(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ri(this,n)}}function ri(t,e){if(e&&("object"===Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ai,si=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(a,t);var e,n,o,i=oi(a);function a(){return ti(this,a),i.apply(this,arguments)}return e=a,o=[{key:"properties",get:function(){return{fieldNames:{type:Object},quoteLineFields:{type:Object},columnNames:{type:Array,observer:"columnNamesChanged"},currencyMd:{type:Object,computed:"_getNetTotalFieldMd(groupModel)"},viewport:{type:Object,value:function(){return _t.a.getViewport()}},groupModel:Object}}},{key:"observers",get:function(){return["_render(groupModel)","_segmentedLinesByDimensionChanged(groupModel.segmentedLinesByDimension.*)","_showSubtotal(groupModel.*)"]}}],(n=[{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"groupPanelToggled",value:function(t){this.drawerState=t.detail.drawerState,this._setColumnWidths(t)}},{key:"groupPanelCreated",value:function(t){this._setColumnWidths(t)}},{key:"groupToggled",value:function(t){this._ironListResize(t)}},{key:"_getFields",value:function(){var t=this.editorModel.fieldsetMap.multiSegmentLineSummaryFieldNames;return this.groupModel.segmentedSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(t):t}},{key:"_setColumnWidths",value:function(t){var e={};if(!this.editorModel.deviceContext.isMobile&&this.editorModel.layout&&this.groupModel.colWidth[this.dimension]){if(!(e=this.groupModel.getDimensionColWidths(this.dimension)))return;this._setSubtotalColumnWidth(e,this.editorModel.layout.leftOffset)}this.set("columnWidths",e),this._ironListResize(t)}},{key:"_setSubtotalColumnWidth",value:function(t,e){if(t){for(var n=e,o=0,r=this.fieldNames.length;o<r;o++)n+=t[this.fieldNames[o]];this.labelColWidth=n+"px",this.totalColWidth=t.total+"px"}}},{key:"_setSubtotalColWidth",value:function(t,e){return e[Object(st.l)(t)]+"px"}},{key:"colWidthsChanged",value:function(t){this._setColumnWidths(t)}},{key:"_ironListResize",value:function(t){this.shadowRoot.querySelector("iron-list")&&t&&t.detail&&t.detail.groupKey===this.groupModel.groupKey&&this.shadowRoot.querySelector("iron-list").dispatchEvent(Object(r.d)("iron-resize"))}},{key:"onTrack",value:function(t){Object(st.d)(Object(st.d)(this))._onTrack(t)}},{key:"editorModel",get:function(){return this.groupModel.quoteModel.editorModel}},{key:"quoteVO",get:function(){return this.editorModel.quoteModel.quoteVO}},{key:"constants",get:function(){return this.editorModel.constants}},{key:"getMultiSegmentColumnTotal",value:function(t){if(this.groupModel.multiSegmentColumnTotals[this.dimension])return[this.groupModel.multiSegmentColumnTotals[this.dimension][t]]}},{key:"getMultiSegmentTotalField",value:function(){if(this.groupModel.netMultiSegmentTotal)return this.groupModel.netMultiSegmentTotal[this.dimension]}},{key:"_showSubtotal",value:function(){this.currencyMd||(this.currencyMd={type:"currency",scale:this._getPriceScale(),CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),"doNotDisplay"!=this.editorModel.data.settings.lineEditorSubtotalsField?(this._getNetTotalFieldMd(),this.showSubtotal=!0):this.showSubtotal=!1}},{key:"_getNetTotalFieldMd",value:function(){var t=this.editorModel.data.settings,e=t.lineEditorSubtotalsField;return{type:"currency",scale:t.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:"Default"==e||"doNotDisplay"==e||null==e?this.editorModel.md.fieldsMap[t.developerPrefix+"QuoteLine__c"][this.editorModel.constants.NET_TOTAL_FIELD].scale:this.editorModel.md.fieldsMap[t.developerPrefix+"QuoteLine__c"][e].scale,CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}}},{key:"_onSortLinesByHeader",value:function(t){this.sortLines(this.groupModel.segmentedLinesByDimension[this.dimension],t.detail.field,t.detail.order,!1,!0)}},{key:"sortLinesRequired",value:function(t){var e=t.detail.notify,n=t.detail.lineSortField;this.sortLines(this.groupModel.segmentedLinesByDimension[this.dimension],n,"asc",!1,e)}},{key:"getZIndex",value:function(t){return this.lineModels.length+10-t}},{key:"_onUpdateSizeForItem",value:function(t){if(t.detail.index)this.shadowRoot.querySelector("iron-list").updateSizeForItem(t.detail.index);else for(var e=0,n=this.lineModels.length;e<n;e++)this.shadowRoot.querySelector("iron-list").updateSizeForItem(e)}},{key:"toggleOptional",value:function(t){if(!t.detail.groupKey||t.detail.groupKey==this.groupModel.groupVO.key)for(var e=0,n=this.groupModel.segmentedLinesByDimension[this.dimension].length;e<n;e++)for(var o=0,r=this.groupModel.segmentedLinesByDimension[this.dimension][e].segments.length;o<r;o++){var i=this.groupModel.segmentedLinesByDimension[this.dimension][e].segments[o];i.lineVO._transient_||(i.lineVO._transient_={},i.lineVO._transient_.original=i.lineVO._transient_.original||JSON.parse(JSON.stringify(i.lineVO.record))),this.set("groupModel.segmentedLinesByDimension.".concat(this.dimension,".").concat(e,".segments.").concat(o,".lineVO.record.").concat(this.constants.OPTIONAL_FIELD),t.detail.toggleOptionalBoolean),this.notifyPath("groupModel.segmentedLinesByDimension.".concat(this.dimension,".").concat(e,".segments.#").concat(o,".lineVO.record.").concat(this.constants.OPTIONAL_FIELD),t.detail.toggleOptionalBoolean)}}},{key:"_resetOnAction",value:function(t){Array.from(this.lineModels).forEach((function(t){t.lineVO.expanded=!1}))}},{key:"columnNamesChanged",value:function(t,e){}}])&&ei(e.prototype,n),o&&ei(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(t)}));var li,ci=Object(ze.b)(ai||(ai=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .sf-tooltip:hover:after {\n  content: attr(tooltip);\n  display: block;\n  position: absolute;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  background-color: #fff;\n  border: var(--sbBtnBorder);\n  opacity: 1;\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  border-radius: 4px;\n  font-size: 14px;\n  z-index: 999;\n  text-align: left;\n  transform: translateX(-50%);\n  font-weight: normal;\n}\n:host {\n  position: relative;\n}\n:host(.left-aligned) span#lineActionInfo.sf-tooltip:hover:after,\n:host(.left-aligned) button.sf-tooltip:hover:after {\n  transform: translateX(0%);\n}\n:host(.right-aligned) span#lineActionInfo.sf-tooltip:hover:after,\n:host(.right-aligned) button.sf-tooltip:hover:after {\n  transform: translateX(-100%);\n}\n:host button {\n  color: #0070d2;\n}\n:host button:hover {\n  color: #3C3D3E;\n}\n:host button.slds-button_icon-small {\n  border-radius: 0.125rem;\n}\n:host button.slds-button {\n  position: relative;\n  display: inline-block;\n  padding: 0;\n  background: transparent;\n  background-clip: border-box;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n:host paper-tooltip {\n  white-space: normal;\n}\n:host(.mobile) {\n  position: static;\n}\n:host(.mobile) button.slds-button {\n  font-size: 20px;\n  background-color: black;\n  color: var(--sbIconMobileLineActionColor);\n}\n:host(.mobile) button.onRemoveFromFavorites {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host(.mobile) button.onAddToFavorites,\n:host(.mobile) button.onRemoveFromFavorites {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host(.mobile) button.onDeleteLine {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host(.mobile) button.onCloneLine {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host(.mobile) button.onReconfigureLine,\n:host(.mobile) button.onResegmentLine,\n:host(.mobile) button.onDesegmentLine {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host(.mobile) button.showDSModal {\n  background-color: #b1a445;\n}\n'])));function ui(t){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hi(){return(hi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=fi(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function fi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vi(t)););return t}function bi(t,e){return(bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=vi(t);if(e){var r=vi(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return gi(this,n)}}function gi(t,e){if(e&&("object"===ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bi(t,e)}(s,t);var e,n,i,a=yi(s);function s(){return di(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sf-line-actions"}},{key:"properties",get:function(){return{lineModel:{Object:Object,observer:"_modelChanged"},actions:Array,showInfoIcon:{type:Boolean,computed:"_isShowInfoIcon(lineModel)"}}}},{key:"template",get:function(){return Object(Qe.b)(li||(li=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="iron-positioning"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<div id="container">\n\t\t\t<template is="dom-if" if="[[showInfoIcon]]">\n\t\t\t\t<span id="lineActionInfo" class="sb-icon-info-circled sf-tooltip" tooltip$="[[lineModel.lineVO.requiredByMessage]]"></span>\n\t\t\t</template>\n\t\t\t<template is="dom-repeat" items="[[actions]]" as="action" indexAs="index">\n\t\t\t\t<button id$="actionButton[[index]]" class$="focusable slds-button slds-button_icon-small [[action.class]] sf-tooltip" name$="[[action.name]]" aria-pressed="false" tooltip$="[[action.title]]"></button>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),ci)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.REFRESH_LINE_ACTIONS]=this._modelChanged,t}},{key:"ready",value:function(){hi(vi(s.prototype),"ready",this).call(this),Object(st.m)("mobile",o.a.isMobile,this)}},{key:"connectedCallback",value:function(){var t=this;hi(vi(s.prototype),"connectedCallback",this).call(this),this._actionHandler=this.handleAction.bind(this),this.addEventListener("click",this._actionHandler,{passive:!0}),Object(qe.a)(this,(function(){var e=t.shadowRoot.querySelector("button.showDSModal");e&&(e.addEventListener("mouseenter",t._actionHandler,{passive:!0}),e.addEventListener("mouseleave",t._actionHandler,{passive:!0}))}))}},{key:"disconnectedCallback",value:function(){if(hi(vi(s.prototype),"disconnectedCallback",this).call(this),this._actionHandler){this.removeEventListener("click",this._actionHandler);var t=this.shadowRoot.querySelector("button.showDSModal");t&&(t.removeEventListener("mouseenter",this._actionHandler),t.removeEventListener("mouseleave",this._actionHandler))}}},{key:"_modelChanged",value:function(){var t=this;this.lineModel&&this.lineModel instanceof xt&&(this.actions=this.lineModel.editorModel.lineCustomActions.filter((function(e){return!e.isHidden(t.lineModel)})))}},{key:"handleAction",value:function(t){var e=this,n=t.composedPath()[0]?t.composedPath()[0].name:null;if(n){var o=this.actions.find((function(t){return t.name===n}));if(o)if("showDSModal"===o.eventHandlerName)Object(r.c)(r.a.SCHEDULE_ACTION,{event:t,model:this.lineModel});else if("click"===t.type){var i=function(){e.dispatchEvent(Object(r.d)("le-action-tapped",{customAction:o,model:e.lineModel}))};"onCloneLine"===o.eventHandlerName?(this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout((function(){i()}),100)):i()}}}},{key:"_isShowInfoIcon",value:function(t){return!o.a.isMobile&&t&&t.hasParent}}])&&pi(e.prototype,n),i&&pi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Re.a)(Qe.a));function _i(t){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Oi(){return(Oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=ki(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function ki(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ei(t)););return t}function xi(t,e){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ei(t);if(e){var r=Ei(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ci(this,n)}}function Ci(t,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ei(t){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(mi.is,mi);var Pi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(a,t);var e,n,r,i=Si(a);function a(t,e,n,o,r){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this)).editorModel=t,s.groupModel=e,s.segmentedColumns=n,s.dimension=o,s.isSecondary=r,s}return e=a,(n=[{key:"generateRow",value:function(t){var e,n=!1;if(this.segmentedColumns){n=!0;var o=this.buildRowSegmentFieldSet(this.segmentedColumns);e=Oi(Ei(a.prototype),"generateSegmentedFieldSetTemplate",this).call(this,t,o,this.dimension,this.groupModel,this.editorModel,this.isSecondary)}else e=Oi(Ei(a.prototype),"generateFieldSetTemplate",this).call(this,t,this.groupModel,this.editorModel,this.isSecondary);var r=this.generateActionsTemplate(),i=this.generateItemNumberTemplate(n),s=this.generateCheckboxTemplate(""),l=this.generateDrawerCellTemplate(),c="";return c+=s+i+e,c=this.addLineActionsToTemplate(c,r),c+=l}},{key:"generateActionsTemplate",value:function(){var t=this.editorModel.actionsOnTheLeft?a.classNames.LEFT_ALIGNED:a.classNames.RIGHT_ALIGNED;return'<div id="swipe-menu" class="td sf-le-table-cell actionsContainer lineActions sf-le-table-row">'+'<sf-line-actions class="'.concat(t,'" line-model="[[lineModel]]"></sf-line-actions>')+"</div>"}},{key:"generateItemNumberTemplate",value:function(t){return'<div tabindex="0" class="td sf-le-table-cell focusable sf-le-table-row" id="itemNumber"><span>[[lineNumber]]</span><span class="warning"></span>'.concat(t?'<span id="expandCollapseIcon" class$="[[_cellClasses._expansionIcon]] segmentedContainer" ></span>':"","</div>")}},{key:"generateDrawerCellTemplate",value:function(){if(!this.segmentedColumns&&this.editorModel.hasDrawerFields()){var t=a.classNames.TAPPABLE;return'<div tabindex="0" class="td sf-le-table-cell focusable drawerContainer sf-le-table-row '.concat(t,'">')+'<span class="sf-icon-chevronright"></span></div>'}return""}},{key:"getColumnClass",value:function(t){var e=this.editorModel.getFieldMetadata(t),n=null==e&&this.segmentedColumns,o="",r=e?e.type:null,i=ut.classNames;return"number"==r||"double"==r||"percent"==r||"currency"==r||n?o="".concat(i.RIGHT," "):"boolean"==r&&(o="".concat(i.CENTER," ").concat(i.BOOLEAN," ")),o}},{key:"addLineActionsToTemplate",value:function(t,e){return this.editorModel.actionsOnTheLeft?e+t:t+e}},{key:"generateCheckboxTemplate",value:function(t){var e=ut.classNames,n="";return(""!==t||this.editorModel.isMultiLineDeleteEnabled()&&""===t&&!this.isSecondary)&&(n=""!==t?Oi(Ei(a.prototype),"generateCheckboxTemplate",this).call(this,t):'<div tabindex="0" class="td sf-le-table-cell focusable '.concat(e.SELECTION,' sf-le-table-row">')+'<div class$="checkboxcontainer sf-le-table-row [[_cellClasses._selectionCB]]">'+this.generateInnerCheckboxTemplate("lineModel.selected")+"</div></div>"),n}},{key:"generateProductCell",value:function(t){var e="";if(!this.segmentedColumns){var n="",r="";if(o.a.isBundleCollapsible(this.editorModel)&&(n="collapsible-bundle "+ut.classNames.TAPPABLE+" sf-le-table-cell",r="button"),e+='<span tabindex="0" class$="bundle-caret '.concat(n,' [[_cellClasses._isFocusable]] sf-le-table-row" role="').concat(r,'" aria-label="Product Name Bundle Caret" inner-h-t-m-l="[[_caretContent]]"></span> '),n)return e+' <span tabindex="0" class$="[[_cellClasses._isFocusable]] sf-le-table-cell sf-le-table-row">[['.concat(t,"]]</span>")}return e+"[[".concat(t,"]]")}}])&&wi(e.prototype,n),r&&wi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ut);n(183);function Ti(t){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bi(){return(Bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Mi(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Mi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Li(t)););return t}function Di(t,e){return(Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Li(t);if(e){var r=Li(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ri(this,n)}}function Ri(t,e){if(e&&("object"===Ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Di(t,e)}(i,t);var e,n,o,r=Ai(i);function i(){return Ii(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getPrimaryClass",value:function(t,e){return e?"":0===t?"primary first":"primary multi"}},{key:"generateInnerFieldSetTemplate",value:function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return o?Bi(Li(i.prototype),"generateInnerFieldSetTemplate",this).call(this,t,e,n,o,r):"<div id='swipe-header'>"+Bi(Li(i.prototype),"generateInnerFieldSetTemplate",this).call(this,t,e,n,o,r)+"</div>"}},{key:"generateRow",value:function(t){return this.isSecondary?Bi(Li(i.prototype),"generateRow",this).call(this,t):'<sb-swipe-container variant="ui3qle">'+Bi(Li(i.prototype),"generateRow",this).call(this,t)+"</sb-swipe-container>"}},{key:"addLineActionsToTemplate",value:function(t,e){return t+e}},{key:"generateActionsTemplate",value:function(){return this.isSecondary?"":Bi(Li(i.prototype),"generateActionsTemplate",this).call(this)}},{key:"getFieldLabel",value:function(t,e){return e&&t?'<span class="field-label">'.concat(t.label,"</span>"):""}},{key:"getColWidths",value:function(t,e){return null}},{key:"generateItemNumberTemplate",value:function(t){return""}},{key:"generateDrawerCellTemplate",value:function(){return""}},{key:"generateProductCell",value:function(t){return"[[".concat(t,"]]")}}])&&ji(e.prototype,n),o&&ji(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Pi),Fi=n(110);function Ni(t){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Hi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Hi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wi(t,e){return(Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$i(t);if(e){var r=$i(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Gi(this,n)}}function Gi(t,e){if(e&&("object"===Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $i(t){return($i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ki={INPUT:new Set([37,39]),TEXTAREA:new Set([37,39,38,40]),SELECT:new Set([38,40])},Yi=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wi(t,e)}(a,t);var e,n,r,i=Qi(a);function a(){return Ui(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"getTemplateGenerator",value:function(t,e,n,r,i){return o.a.isMobile?new qi(t,e,n,r,i):new Pi(t,e,n,r,i)}},{key:"_onFocusOut",value:function(t){var e=this,n=!1;if(null!=t.relatedTarget&&null!=t.relatedTarget.parentElement&&"SB-CUSTOM-ACTION"===t.relatedTarget.parentElement.tagName&&null!=t.relatedTarget.parentElement.customAction){var o=t.relatedTarget.parentElement.customAction.eventHandlerName;"onQuickSave"!==o&&"onSave"!==o&&"onFlagCalculate"!==o||(n=!0)}setTimeout((function(t){for(var n=null,o=!1,r=e._getActiveElement(document.activeElement);r;){if(r.classList&&r.classList.contains("focusable"))n=r;else if("SF-STANDARD-TABLE"===r.tagName||"SF-SEGMENTED-TABLE"===r.tagName||"UBP-RATE-TABLE"===r.tagName){o=r===e;break}r=r.parentElement||Object(st.d)(r)}null!==n&&o||e.removeCellFocus(e.focusedCell,t)}),5,n)}},{key:"_getActiveElement",value:function(t){if(t.shadowRoot){var e=t.shadowRoot.activeElement?t.shadowRoot.activeElement:t;if(e!=t)return this._getActiveElement(e)}return t}},{key:"_onKeyDown",value:function(t){switch(t.keyCode){case 13:this._onEnterKeyPress(t);break;case 32:this._onSpaceBarPress(t);break;case 27:this._onEscapePress(t);break;case 9:this._moveCellFocus(t,t.shiftKey?"left":"right");break;case 37:this._moveCellFocus(t,"left");break;case 38:this._moveCellFocus(t,"up");break;case 39:this._moveCellFocus(t,"right");break;case 40:this._moveCellFocus(t,"down")}}},{key:"_onEscapePress",value:function(t){this._routeKeyEvent(t)||(this._toggleInlineEditIfFocused(t,!1),this._editOnFocus=!1,this.focusedCell&&this.applyCellFocus(this.focusedCell))}},{key:"_onSpaceBarPress",value:function(t){this._routeKeyEvent(t)||(this._editOnFocus=!!this._toggleInlineEditIfFocused(t,!0))}},{key:"_routeKeyEvent",value:function(t){var e=ta(t.target);if(e&&e.onKeyDown)return e.onKeyDown(t)}},{key:"_onEnterKeyPress",value:function(t){var e=Xi(t,this.getCellClass());if(this._isCellFocusedAndInteractive(e)){var n=e.classList.contains(ut.classNames.EDIT_MODE),o=Zi(e);if(o&&n&&("textarea"===o.type||"reference"===o.type||"id"===o.type))return;var r=this._getActiveElement(document.activeElement);n&&r&&r.blur(),this._editOnFocus=!!this._toggleInlineEditIfFocused(t,!n),n&&this.focusedCell&&this.applyCellFocus(this.focusedCell)}}},{key:"_toggleTappableCell",value:function(t,e,n){return!!t.classList.contains(ut.classNames.TAPPABLE)&&(e.hook_onTap(n,!1),!0)}},{key:"_openLookupDialog",value:function(){this.keepEditableFocus=!0}},{key:"_closeLookupDialog",value:function(){this.keepEditableFocus=!1}},{key:"_toggleInlineEditIfFocused",value:function(t,e){var n=Xi(t,this.getCellClass());if(this._isCellFocusedAndInteractive(n)){var o=ta(n);if(o)return!this._toggleTappableCell(n,o,t)&&(o.toggleInlineEdit(n,e),!0)}}},{key:"_isCellFocusedAndInteractive",value:function(t){return t&&t.classList&&t.classList.contains(ut.classNames.HAS_FOCUS)&&(t.classList.contains(ut.classNames.EDITABLE)||t.classList.contains(ut.classNames.TAPPABLE))}},{key:"unfocus",value:function(){this.removeCellFocus(this.focusedCell)}},{key:"removeCellFocus",value:function(t,e){if(t&&t.classList&&t.classList.contains(ut.classNames.HAS_FOCUS)&&!this.keepEditableFocus){var n=ta(t);return n&&(n.toggleInlineEdit(t,!1,!1,e),n.toggleCellClass(ut.classNames.HAS_FOCUS,!1,t,t.getAttribute("field"))),t===this.focusedCell&&(this.focusedCell=null),n}}},{key:"applyCellFocus",value:function(t){var e=this;t&&t.classList&&setTimeout((function(){!t.classList.contains("focusable")&&Object(Fi.a)(".focusable",t)&&(t=Object(Fi.a)(".focusable",t)),e._isMobile()||t.focus();var n=ta(t);n&&n.toggleCellClass(ut.classNames.HAS_FOCUS,!0,t,t.getAttribute("field")),e.focusedCell!==t&&e.focusedCell&&e.removeCellFocus(e.focusedCell),e.focusedCell=t}),10)}},{key:"_isMobile",value:function(){return o.a.isMobile}},{key:"setEditOnFocus",value:function(t){this._editOnFocus=t}},{key:"_moveCellFocus",value:function(t,e){if(t&&e&&!function(t){var e=t.target&&t.target.tagName?t.target.tagName:"",n=Ki[e];return n&&n.has(t.keyCode)}(t)){var n=Xi(t,"focusable");if(n){var o=ta(n),r=o,i=null;if(o){var a=o.getContentNode().querySelector("div");switch(e){case"up":case"down":var s="up"===e,l=n.classList.contains(ut.classNames.EDIT_MODE),c=Zi(n,o);if(c&&l&&("reference"===c.type||"id"===c.type||"date"===c.type||"datetime"===c.type))return;var u=Ji(o,s,this._rowHasParentDiv());if(u){r=u;var d=function(t,e){for(;e.parentElement!==t&&e.parentElement;)e=e.parentElement;return Array.from(t.children).indexOf(e)}(a,n);i=u.getCellByIndex(d)}break;case"left":case"right":if(9!=t.keyCode&&function(t){switch(t&&t.tagName?t.tagName.toLowerCase():null){case"input":if(t.type&&"text"===t.type)return!0;break;case"textarea":return!0}return!1}(t&&t.target?this._getActiveElement(t.target):null))return;var p=Object(Fi.b)(".focusable",a),h=Array.from(p).indexOf(n),f="left"==e,b=p.length;if(0==h&&f||!f&&h==b-1){var y=Ji(o,f,this._rowHasParentDiv());y&&(r=y,i=f?y.getCellByIndex(b-1):y.getCellByIndex(0))}else i=p[h+(f?-1:1)]}}i&&(this.applyCellFocus(i),this._editOnFocus&&r&&r.toggleInlineEdit(i,!0,!0))}}}},{key:"_rowHasParentDiv",value:function(){return this.editorModel&&this.editorModel.largeQuoteExperienceEnabled}},{key:"getCellClass",value:function(){return"sf-le-table-cell"}}])&&Vi(e.prototype,n),r&&Vi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(t)}));function Xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sf-le-table-cell";return t.composedPath().find((function(t){var n=t.classList;return n&&n.contains(e)}))}function Ji(t,e,n){if(t){var o=t.tagName,r=e?"previousElementSibling":"nextElementSibling";if(n){var i;if(null===t.dataIndex||void 0===t.dataIndex)i=t.parentElement[r];else{var a=parseInt(t.dataIndex,10),s=e?a-1:a+1;(i=t.parentElement.parentElement.querySelector("".concat(o,'[data-index="').concat(s,'"]')))&&(i=i.parentElement)}for(;i;){var l,c=zi(i.children);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u&&u.tagName==o&&"none"!==u.style.display)return u}}catch(t){c.e(t)}finally{c.f()}i=i[r]}}else for(var d=t[r];d;){if(d&&d.tagName==o)return d;d=d[r]}return null}}function Zi(t,e){var n=t?t.getAttribute("field"):null;return e||(e=t?ta(t):null),e&&n?e._getFieldMetadata(n):null}function ta(t){if(t)return"SF-LE-TABLE-ROW"===t.tagName||"UBP-RATE-ROW"===t.tagName?t:ta(t.parentElement||Object(st.d)(t))}window.CommonBehaviors=window.CommonBehaviors||{},window.CommonBehaviors.SFAbstractTable=Yi.prototype;n(112);var ea=n(67);function na(t){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ra(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ia(){return(ia="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=aa(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function aa(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ua(t)););return t}function sa(t,e){return(sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function la(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ua(t);if(e){var r=ua(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ca(this,n)}}function ca(t,e){if(e&&("object"===na(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var da=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}(i,t);var e,n,o,r=la(i);function i(){return oa(this,i),r.apply(this,arguments)}return e=i,o=[{key:"properties",get:function(){return{template:{type:Object,observer:"_templateChanged"},templateHTML:{type:String,observer:"_templateChanged"},templateInstance:{type:Object},uiData:{type:Object,observer:"_populateContent"}}}}],(n=[{key:"ready",value:function(){ia(ua(i.prototype),"ready",this)&&ia(ua(i.prototype),"ready",this).call(this)}},{key:"hydrateTemplate",value:function(t,e){var n=document.createElement("template");return n.innerHTML=this.isTemplatizeWithRootDivNode()?"<div>".concat(t,"</div>"):t,this._innerHydrateTemplate(n,e)}},{key:"hydrateTemplateFromNode",value:function(t,e){var n=document.createElement("template");return n.content.appendChild(t),this._innerHydrateTemplate(n,e)}},{key:"_innerHydrateTemplate",value:function(t,e){return t.__dataHost=Object(st.d)(this),new(Object(ea.c)(t,this))(e||{})}},{key:"_templateChanged",value:function(){this.templateInstance&&(this.getContentNode().innerHTML="",this.templateInstance=null),this._populateContent()}},{key:"_populateContent",value:function(){var t=this;(this.template||this.templateHTML)&&this.uiData&&(this.templateInstance?Object.keys(this.uiData).forEach((function(e){t.templateInstance[e]=t.uiData[e]})):(this.template?this.templateInstance=this.hydrateTemplateFromNode(this.template.cloneNode(!0),this.uiData):this.templateInstance=this.hydrateTemplate(this.templateHTML,this.uiData),this.getContentNode().appendChild(this.templateInstance.root)),this.postPopulateContent())}},{key:"getContentNode",value:function(){throw"getContentNode() must be implemented!"}},{key:"postPopulateContent",value:function(){}},{key:"isTemplatizeWithRootDivNode",value:function(){return!0}},{key:"_restampField",value:function(t,e){this.templateInstance&&(null!=this.secondaryTemplateInstance&&(this.secondaryTemplateInstance[t]=e),this.templateInstance[t]=e,this.uiData[t]=e)}}])&&ra(e.prototype,n),o&&ra(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(t)}));function pa(t){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ha(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ba(t,e){return(ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ya(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=va(t);if(e){var r=va(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ga(this,n)}}function ga(t,e){if(e&&("object"===pa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ma,_a=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ba(t,e)}(s,t);var e,n,i,a=ya(s);function s(){return ha(this,s),a.apply(this,arguments)}return e=s,i=[{key:"properties",get:function(){return{columnWidths:{type:Object,observer:"_columnsResized"},byOrder:{type:String,value:null},lastSortedByField:{type:String,value:null},fieldSetName:String}}}],(n=[{key:"startResize",value:function(t){if(o.a.isColumnResizingEnabled){t.preventDefault();var e=t.composedPath()[0],n=e.parentElement;if(e.classList.contains("col-adj-bar")&&null!=n.getAttribute("field")){var r=this.shadowRoot.querySelector("div#col-resize-indicator"),i=this.getBoundingClientRect().x;document._currentHeaderSource=this,this._currentHeaderCell=n,this._currentCellWidth=parseFloat(n.style.maxWidth.replace("px","")),this._mouseXStartPos=t.clientX-i,this._currOffset=-i,r.style.transform="translate3d(".concat(this._mouseXStartPos,"px, 0px, 0px)"),r.style.visibility="visible",this._changeVisibilityOnColAdjBars(this,"hidden"),document.addEventListener("mousemove",this._onResize,!1),document.addEventListener("mouseup",this._stopResize,!1)}}}},{key:"_onResize",value:function(t){var e=this._currentHeaderSource,n=e.shadowRoot.querySelector("div#col-resize-indicator"),o=t.clientX+e._currOffset,r=e._mouseXStartPos-o,i=e._currentCellWidth-r;i>67&&(e._currentCellWidth=i,e._mouseXStartPos=o,n.style.transform="translate3d(".concat(e._mouseXStartPos,"px, 0px, 0px)"))}},{key:"_stopResize",value:function(t){t.preventDefault();var e=this._currentHeaderSource,n=e._currentHeaderCell,o=e.shadowRoot.querySelector("div#col-resize-indicator");e._changeVisibilityOnColAdjBars(e,"visible"),o.style.visibility="hidden",this.removeEventListener("mousemove",e._onResize,!1),this.removeEventListener("mouseup",e._stopResize,!1),e.dispatchEvent(Object(r.d)("sf-col-size-adjusted",{fieldsWidth:e._currentCellWidth,field:n.getAttribute("field"),dimension:e.lineModels[0].dimensionType,fieldSet:e.fieldSetName})),e._wasColumnResizing=!0,delete this._currentHeaderSource}},{key:"onHover",value:function(t){var e=this.findElementForEvent(t,"th");if(e){var n=e.getAttribute("field");if(n)return void this.showTooltip(e,this.getTooltipContent(n))}}},{key:"showTooltip",value:function(t,e){if(!t.querySelector("paper-tooltip")){var n=document.createElement("paper-tooltip");n.position="bottom",n.animationDelay=0,n.fitToVisibleBounds="true",t.appendChild(n),n.textContent=e}}},{key:"onTap",value:function(t){if(!this.onTap_hook(t))if(this._wasColumnResizing)this._wasColumnResizing=!1;else{var e=this.findElementForEvent(t,"checkboxcontainer");if(e)this.toggleSelection(e);else{var n=this.findElementForEvent(t,"sortable");n&&this.sortLines(n)}}}},{key:"findElementForEvent",value:function(t,e){return t.composedPath().find((function(t){var n=t.classList;return n&&n.contains(e)}))}},{key:"_columnsResized",value:function(t,e){var n=this;null!=t&&null!=e&&Object.keys(t).forEach((function(e){var o=n.shadowRoot.querySelector("div.th[field='".concat(e,"']"));o&&(o.style.minWidth=t[e]+"px",o.style.maxWidth=t[e]+"px")}))}},{key:"_changeVisibilityOnColAdjBars",value:function(t,e){t.shadowRoot.querySelectorAll(".col-adj-bar").forEach((function(t){t.style.visibility=e}))}},{key:"sortLines",value:function(t){this.lastSortedByField!==t.getAttribute("field")&&(this.byOrder=""),this.resetHeaderCellStyles(),this.updateSortColumnHeaderStyles(t,this._getNewByOrder(this.byOrder)),this._fireSortClickedEvent(t)}},{key:"resetHeaderCellStyles",value:function(){for(var t=this.shadowRoot.querySelectorAll(".sortable"),e=0;e<t.length;e++)this._resetHeaderCellState(t[e])}},{key:"_resetHeaderCellState",value:function(t){var e=t.querySelector(".arrow");e&&(Object(st.m)("sf-icon-arrowup",!1,e),Object(st.m)("sf-icon-arrowdown",!1,e),Object(st.m)("arrow-on-hover",!0,t),Object(st.m)("column-selected",!1,t))}},{key:"_fireSortClickedEvent",value:function(t){var e={lineSortField:t.getAttribute("field"),order:this.byOrder};this.dispatchEvent(Object(r.d)("table-header-sort-clicked",e))}},{key:"_getNewByOrder",value:function(t){switch(t){case"asc":return"desc";case"desc":return"";case"":default:return"asc"}}},{key:"updateSortColumnHeaderStyles",value:function(t,e){var n=t.querySelector(".arrow");Object(st.m)("column-selected",!0,t),Object(st.m)("arrow-on-hover",!1,t),"asc"===e?(Object(st.m)("sf-icon-arrowup",!0,n),Object(st.m)("sf-icon-arrowdown",!1,n)):"desc"===e?(Object(st.m)("sf-icon-arrowup",!1,n),Object(st.m)("sf-icon-arrowdown",!0,n)):""===e&&this._resetHeaderCellState(t),this.lastSortedByField=t.getAttribute("field"),this.byOrder=e}},{key:"toggleSelection",value:function(t){}},{key:"onTap_hook",value:function(t){}},{key:"getTooltipContent",value:function(t){return""}},{key:"setSort",value:function(t,e){if(t!==this.lastSortedByField||e!==this.byOrder){this.resetHeaderCellStyles();var n=this._getHeaderCell(t);n&&this.updateSortColumnHeaderStyles(n,e)}}},{key:"_getHeaderCell",value:function(t){return this.shadowRoot.querySelector("div[field='"+t+"']")}}])&&fa(e.prototype,n),i&&fa(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(t)}));var wa,Oa=Object(ze.b)(ma||(ma=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: table-row;\n  background-color: var(--sbTableHeaderBgColor);\n  color: var(--sbTableHeaderColor);\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbTableHeaderBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n}\n:host #content {\n  position: relative;\n}\n:host .th {\n  display: table-cell;\n  height: 32px;\n  padding-top: 2px;\n  padding-right: 18px;\n  padding-bottom: 0px;\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  text-transform: uppercase;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n}\n:host .sortable {\n  cursor: pointer;\n}\n:host .sortable:hover {\n  color: var(--sbIconColor);\n}\n:host .column-selected {\n  color: var(--sbIconColor);\n}\n:host .th.itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host .rightAligned {\n  text-align: right;\n}\n:host .centerAligned {\n  text-align: center;\n}\n:host .leftAligned {\n  text-align: left;\n}\n:host .hidden {\n  display: none;\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .sf-icon-arrowup,\n:host .sf-icon-arrowdown {\n  color: var(--sbIconColor);\n  font-size: 13px;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .sf-icon-arrowup::before,\n:host .sf-icon-arrowdown::before {\n  vertical-align: center;\n}\n:host .arrow-on-hover > i {\n  display: none;\n}\n:host .arrow-on-hover:hover > i {\n  display: inline;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .col-adj-bar {\n  position: absolute;\n  padding: 16px 0 16px 0;\n  cursor: col-resize;\n  top: 0;\n  right: 0;\n  width: 1px;\n  height: inherit;\n  background-color: #d8dde6;\n}\n:host .th:hover .col-adj-bar {\n  width: 4px;\n  background-color: #706e6b;\n}\n:host .th:hover .col-adj-bar:hover {\n  background-color: var(--sbIconColor);\n}\n:host #col-resize-indicator {\n  background-color: var(--sbIconColor);\n  width: 4px;\n  height: 32px;\n  position: absolute;\n  cursor: col-resize;\n  top: 0;\n  visibility: hidden;\n  display: block;\n  z-index: 99999;\n}\n:host #col-resize-indicator #col-adj-divider {\n  background-color: var(--sbIconColor);\n  height: 70vh;\n  width: 1px;\n  float: right;\n  z-index: 99999;\n}\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n:host .lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host .th span.bundle-caret {\n  font-family: sf-icons;\n  margin-right: 5px;\n}\n:host .th.itemNumber .sf-icon-right:hover,\n:host .th.itemNumber .sf-icon-down:hover {\n  cursor: pointer;\n}\n:host .th.selection {\n  min-width: 30px;\n  max-width: 30px;\n}\n:host .th.drawerIcon {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n  font-weight: bold !important;\n}\n:host .th.drawerIcon:hover {\n  cursor: pointer;\n}\n:host .th:hover {\n  background-color: white;\n}\n:host .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n'])));function ka(t){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xa(Object(n),!0).forEach((function(e){Ca(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ca(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ta(){return(Ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Ia(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Ia(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Da(t)););return t}function ja(t,e){return(ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Da(t);if(e){var r=Da(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ma(this,n)}}function Ma(t,e){if(e&&("object"===ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Da(t){return(Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ja(t,e)}(a,t);var e,n,o,i=Ba(a);function a(){return Ea(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sf-le-table-header"}},{key:"properties",get:function(){return Sa(Sa({lineModels:{type:Object,notify:!0},eventListeners:{type:Object,value:{click:"onTap",mouseover:"onHover",mousedown:"startResize"}},fields:Object},da.properties),_a.properties)}},{key:"template",get:function(){return Object(Qe.b)(wa||(wa=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<div id="content" class$="tr">\n\t\t\t</div>\n\t\t'])),Oa)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.DESELECT_CHECKBOX]=this.deselectCheckbox,t}},{key:"connectedCallback",value:function(){Ta(Da(a.prototype),"connectedCallback",this)&&Ta(Da(a.prototype),"connectedCallback",this).call(this),Object(r.b)(this,this.eventListeners)}},{key:"disconnectedCallback",value:function(){Ta(Da(a.prototype),"disconnectedCallback",this)&&Ta(Da(a.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,this.eventListeners)}},{key:"onTap_hook",value:function(t){var e=this.findElementForEvent(t,"bundle-caret");if(e)return this._toggleBundleExpansion(e),!0;var n=this.findElementForEvent(t,"drawerIcon");if(n)return this._toggleStandardDrawers(n),!0;var o=this.findElementForEvent(t,"segmentedDrawer");return o?(this._toggleSegmentedDrawers(o),!0):void 0}},{key:"_toggleBundleExpansion",value:function(t){var e=this.uiData._caretContent===ut.classNames.CHEVRON_DOWN_CONTENT;this._restampField("_caretContent",e?ut.classNames.CHEVRON_RIGHT_CONTENT:ut.classNames.CHEVRON_DOWN_CONTENT),this.dispatchEvent(Object(r.d)("bundle-toggled",{expanded:!e}))}},{key:"toggleSelection",value:function(t){var e=t.querySelector("input[type=checkbox]");if(e.checked=!e.checked,this.lineModels)for(var n=0;n<this.lineModels.length;n++)Object(St.d)(this.lineModels[n],["selected"],e.checked)}},{key:"deselectCheckbox",value:function(){var t=this.shadowRoot.querySelector("div.selection div.checkboxcontainer");t&&(t.querySelector("input[type=checkbox]").checked=!1)}},{key:"_toggleStandardDrawers",value:function(t){var e=t.querySelector("span");e&&this._toggleDrawers(e,ut.classNames.CHEVRON_RIGHT_ICON,ut.classNames.CHEVRON_DOWN_ICON,"lineItemDrawerIconClass")}},{key:"_toggleSegmentedDrawers",value:function(t){var e=t.querySelectorAll("span")[1];e&&this._toggleDrawers(e,ut.classNames.RIGHT_ICON,ut.classNames.DOWN_ICON,"expandedIconClass")}},{key:"_toggleDrawers",value:function(t,e,n,o){var i=!t.classList.contains(e),a=i?e:n;if(t.classList.remove(e,n),t.classList.add(a),this.lineModels)for(var s=0,l=this.lineModels.length;s<l;s++)this.set("lineModels.".concat(s,".lineVO.expanded"),!i),this.set("lineModels.".concat(s,".").concat(o),a);this.dispatchEvent(Object(r.d)("line-toggled"))}},{key:"getContentNode",value:function(){return this.shadowRoot.querySelector("#content")}},{key:"getTooltipContent",value:function(t){return this.uiData[t]||""}}])&&Pa(e.prototype,n),o&&Pa(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Mn.a)(Object(Le.a)(da(_a(Object(Re.a)(Qe.a))))));customElements.define(Aa.is,Aa);var Ra=n(141),La=n(108);function qa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Fa=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getFieldComponent",value:function(t,e,n,r){var i=t.type,a=t.name||t.fieldPath;r=r||e.lineVO.record;var s=null,l=null;if("reference"===i)s={refDisplay:r&&t.relationshipName&&r[t.relationshipName]?r[t.relationshipName].Name:"",refDisplayName:"refDisplay",refTable:Na(t),refObjects:[],record:r};else if("picklist"===i||"multipicklist"===i)if(t.controllerName){var c=r[t.controllerName];l=new La.a(t,c).build()}else l=t.picklistValues;var u=Object(Ra.a)(i,e,r[a],!0,!1,!1,n,t,o.a.i18n,"richtextarea"===t.extraTypeInfo,l,s),d=null;return"sb-input"===u.name||"sb-select"===u.name||"sb-datepicker"===u.name||"sb-lookup"===u.name||"sb-textarea"===u.name?d="inlineEdit":"sb-discount"===u.name&&(d="inlineEdit discount"),null!=d&&u.addAttribute("variant",2,"variant",d),u}}],(n=null)&&qa(e.prototype,n),r&&qa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Na(t){if(void 0!==t)return t.referenceTable?t.referenceTable:t.referenceTo&&t.referenceTo.length>0?t.referenceTo[0]:null}function za(t){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ha(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ua(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Va(){return(Va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Wa(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Wa(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ka(t)););return t}function Qa(t,e){return(Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ga(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ka(t);if(e){var r=Ka(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $a(this,n)}}function $a(t,e){if(e&&("object"===za(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ya=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qa(t,e)}(i,t);var e,n,o,r=Ga(i);function i(){return Ha(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"ready",value:function(){Va(Ka(i.prototype),"ready",this)&&Va(Ka(i.prototype),"ready",this).call(this)}},{key:"getCellByIndex",value:function(t){var e=this.getContentNode().querySelector("div");if(e){var n=Array.from(e.children);if(n)return n[t=Math.min(Math.max(0,t),n.length-1)]}}},{key:"onHovered",value:function(t){Object(st.m)("show",!0,this.getContentNode()),this.hook_onHovered(t)}},{key:"onUnhovered",value:function(t){Object(st.m)("show",!1,this.getContentNode()),this.hook_onUnhovered(t)}},{key:"onTap",value:function(t){var e=!1,n=this.getTableComponent(t),o=Xi(t,this.getCellClass()),r=o&&o.classList.contains(ut.classNames.EDITABLE),i=o&&o.classList.contains(ut.classNames.BOOLEAN),a=o&&o.classList.contains(ut.classNames.HAS_FOCUS),s=o&&o.classList.contains(ut.classNames.EDIT_MODE);n&&!a&&(n.applyCellFocus(o),n.setEditOnFocus(!1)),r&&!s&&(a&&!i||function(t){var e=t.composedPath();if(e&&e.length>0&&e[0].classList.contains(ut.classNames.EDIT_ICON))return e[0]}(t))&&(this.toggleInlineEdit(o,!0),n&&n.setEditOnFocus(!0),e=!0),this.hook_onTap(t,e,r)}},{key:"getTableComponent",value:function(t){return t.composedPath().find((function(t){var e=t&&t.tagName?t.tagName.toUpperCase():"";return"SF-STANDARD-TABLE"===e||"SF-SEGMENTED-TABLE"===e||"UBP-RATE-TABLE"===e}))}},{key:"getContentNode",value:function(){return this.querySelector("#content")}},{key:"findElementForEvent",value:function(t,e){return t.composedPath().find((function(t){var n=t.classList;return n&&n.contains(e)}))}},{key:"getCellClass",value:function(){throw new Error("getCellClass must be implemented by row element")}},{key:"hook_onHovered",value:function(t){}},{key:"hook_onUnhovered",value:function(t){}},{key:"hook_onTap",value:function(t,e){}},{key:"toggleInlineEdit",value:function(t,e){}}])&&Ua(e.prototype,n),o&&Ua(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(t)})),Xa=n(105),Ja=n(88);function Za(t){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function es(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ns(){return(ns="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=os(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function os(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ss(t)););return t}function rs(t,e){return(rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function is(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ss(t);if(e){var r=ss(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return as(this,n)}}function as(t,e){if(e&&("object"===Za(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ls=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rs(t,e)}(a,t);var e,n,r,i=is(a);function a(){return ts(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"ready",value:function(){ns(ss(a.prototype),"ready",this)&&ns(ss(a.prototype),"ready",this).call(this)}},{key:"toggleInlineEdit",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t&&t.classList.contains("editable")){var r=t.getAttribute("field"),i=this._getFieldMetadataForInlineEdit(r);"boolean"!==i.type&&"checkbox"!==i.type&&(e&&n&&"richtextarea"===i.extraTypeInfo||this.toggleInlineEditForDeviceDelegate(t,e,r,i,o))}}},{key:"setDiscardPendingEdit",value:function(t){this._discardPendingEdit=t}},{key:"commitPendingEdit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!1;if(this._pendingEdit&&!this._discardPendingEdit){var n=this._pendingEdit.field,o=this._pendingEdit.eventDetail,r=this._pendingEdit.eventType,i=this._getFieldMetadataForInlineEdit(n),a=this._parseFieldData(i,o.value);this.commitInlineEdit(n,a),i&&this.handleControllingPicklistAndFields(i,n,r,o),e=!0,!1===t&&this.fireCalculateImmediately(n)}return this._discardPendingEdit=!1,this._pendingEdit=null,e}},{key:"commitInlineEdit",value:function(t,e){this._getRecord()[t]=e}},{key:"_parseFieldData",value:function(t,e){if((""===e||null===e)&&"picklist"!==t.type&&"multipicklist"!==t.type)return null;switch(t.type){case"currency":case"double":case"percent":return(new Ja.a).parse(e,!1,t.scale);case"date":case"datetime":var n=(new Xa.a).parse(e);return null!==n?"date"===t.type?te.a.toApexDate(n):te.a.toApexDateTime(n):e;case"time":return o.a.i18n.parseTime(e);default:return e}}},{key:"_createWritableElement",value:function(t,e){var n=document.createElement("div");n.className="w";var o=e.getAttribute("index");return this._createEditField(n,o,t),e.appendChild(n),st.a.horizontalBound(n),n}},{key:"_createEditField",value:function(t,e,n){var o=this._getFieldMetadataForInlineEdit(n),r=this._getEditField(o,e),i={};r.attachTo(i);var a=this.hydrateTemplate(r.html,i);t.appendChild(a.root)}},{key:"_toggleDirtyClass",value:function(t,e,n){if(n){var o=this._getOriginalRecord();if(o)if(this.checkIsDirty(t,o,e)){if(!this._isEditable(e))return;n.classList.contains(ut.classNames.DIRTY)||n.classList.add(ut.classNames.DIRTY),this.isDirty=!0}else n.classList.remove(ut.classNames.DIRTY)}}},{key:"_refreshDirtyIndicators",value:function(){var t=this;this.isDirty&&(Array.from(this.shadowRoot.querySelectorAll("div.r")).forEach((function(t){t.classList.toggle("dirty",!1)})),this.isDirty=!1);var e=this._getOriginalRecord(),n=this._getRecord();n&&e&&Object.keys(n).forEach((function(o){var r=n[o];if(t.checkIsDirty(r,e,o)){if(!t._isEditable(o))return;var i=t.shadowRoot.querySelector("div.td[field='".concat(o,"'] div.r"));t._enableDirtyClass(i)}}))}},{key:"_enableDirtyClass",value:function(t){t&&(t.classList.toggle("dirty",!0),this.isDirty=!0)}},{key:"_handleEditableCellsHover",value:function(t){var e=this;if(!this._pencilLoaded||t){var n=this.shadowRoot.querySelectorAll(".container.editable");if(n&&n.length>0){var o=Array.from(n);o.forEach((function(t){if(!t.querySelector("span.pencil")){var e=document.createElement("span");if(e.classList.add(ut.classNames.EDIT_ICON),t.classList.contains(ut.classNames.RIGHT)||t.classList.contains(ut.classNames.CENTER)){var n=t.querySelector("div.r");n.insertBefore(e,n.firstChild)}else t.querySelector("div.r").appendChild(e)}})),setTimeout((function(){e.dispatchEvent(new CustomEvent("line-toggled",{detail:{index:e.dataIndex}}))}))}this._pencilLoaded=!0}}},{key:"_resetPencilLoaded",value:function(){this._pencilLoaded&&(Array.from(this.shadowRoot.querySelectorAll(".container.editable span.pencil")).forEach((function(t){t.parentNode.removeChild(t)})),this._pencilLoaded=!1)}},{key:"onChange",value:function(t){var e=Xi(t,this.getCellClass());if(e){var n=e.getAttribute("field"),r=this._getFieldMetadata(n);if(t.detail){this._pendingEdit={field:n,eventDetail:t.detail,eventType:t.type};var i=e.querySelector(".w");"richtextarea"===r.extraTypeInfo?(this.toggleInlineEdit(e,!1),e.removeChild(i),this._applyFocus(e,t)):o.a.isMobile&&Object(qe.a)(this,(function(){this.commitPendingEdit(),i&&this._deviceDelegate&&this._deviceDelegate._updateEditableField&&this._deviceDelegate._updateEditableField(e,this,n,r,i)}))}}}},{key:"toggleInlineEditForDeviceDelegate",value:function(t,e,n,o,r){}},{key:"handleControllingPicklistAndFields",value:function(t,e,n,o){}},{key:"fireCalculateImmediately",value:function(t){}},{key:"_getFieldMetadataForInlineEdit",value:function(t){throw new Error("Must implement method _getFieldMetadataForInlineEdit for SFInlineEditBehavior.")}},{key:"_getEditField",value:function(t,e){throw new Error("Must implement method _getEditField for SFInlineEditBehavior.")}},{key:"_getOriginalRecord",value:function(){throw new Error("Must implement method _getOriginalRecord for SFInlineEditBehavior.")}},{key:"_isEditable",value:function(t){throw new Error("Must implement method _isEditable for SFInlineEditBehavior.")}},{key:"_getRecord",value:function(){throw new Error("Must implement method _getRecord for SFInlineEditBehavior.")}},{key:"checkIsDirty",value:function(t,e,n){throw new Error("Must implement method checkIsDirty for SFInlineEditBehavior.")}},{key:"_formatNewValue",value:function(t,e){throw new Error("Must implement _formatNewValue for SFInlineEditBehavior")}}])&&es(e.prototype,n),r&&es(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(t)}));function cs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var us=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"initListeners",value:function(t){}},{key:"onTap",value:function(t,e){}},{key:"expansionChanged",value:function(t,e,n){}},{key:"toggleInlineEdit",value:function(t,e,n,o,r,i){}},{key:"onKeyDown",value:function(t,e){}},{key:"applyFocus",value:function(t,e,n){}}])&&cs(e.prototype,n),o&&cs(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ds(t){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fs(t,e){return(fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=gs(t);if(e){var r=gs(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ys(this,n)}}function ys(t,e){if(e&&("object"===ds(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fs(t,e)}(a,t);var e,n,o,i=bs(a);function a(){return ps(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"toggleInlineEdit",value:function(t,e,n,o,i,a){var s=t.querySelector(".w"),l=t.querySelector(".r"),c="richtextarea"===o.extraTypeInfo;if(i.toggleCellClass("hidden",e&&!c,l,n),i.toggleCellClass(ut.classNames.EDIT_MODE,e&&!c,t,n),e){s||(s=i._createWritableElement(n,t));var u=Object(Fi.a)('input:not([type="hidden"]), checkbox, select, textarea, sb-rte',s);u&&setTimeout((function(){u.focus()}),10)}else if(s&&(c||t.removeChild(s),i.commitPendingEdit(a))){var d=i._formatNewValue(n,o);setTimeout((function(){i.dispatchEvent(Object(r.d)("line-toggled",{index:i.dataIndex}))})),i._toggleDirtyClass(d,n,l)}}},{key:"onKeyDown",value:function(t,e){var n=!1;switch(t.keyCode){case 27:n=this._onEscapePress(t,e);break;case 32:n=this._onSpaceBarPress(t,e)}return n}},{key:"_onSpaceBarPress",value:function(t,e){var n=t.composedPath()[0];if(n.classList.contains(ut.classNames.EDITABLE)&&n.classList.contains(ut.classNames.BOOLEAN)||n.classList.contains(ut.classNames.SELECTION)){var o=n.querySelector(".checkboxcontainer");if(o)return e.toggleCheckbox(o),!0}return!1}},{key:"_onEscapePress",value:function(t,e){var n=e.findElementForEvent(t,ut.classNames.EDIT_MODE);if(n&&n.getAttribute("field"))if(e._getEditorModel&&n.getAttribute("field")===e._getEditorModel().constants.ADDITIONAL_DISCOUNT_FIELD){var o=n.querySelector("sb-discount");o&&o.resetToOriginal()}else e.setDiscardPendingEdit(!0);return!1}},{key:"applyFocus",value:function(t,e,n){var o=n.getTableComponent(e);o&&o.applyCellFocus(t)}},{key:"updateTemplate",value:function(){}},{key:"_updateEditableField",value:function(){}}])&&hs(e.prototype,n),o&&hs(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(us);function ms(t){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ws(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Os(t,e){return(Os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ss(t);if(e){var r=Ss(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xs(this,n)}}function xs(t,e){if(e&&("object"===ms(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Os(t,e)}(a,t);var e,n,o,i=ks(a);function a(){return _s(this,a),i.apply(this,arguments)}return e=a,o=[{key:"getInstance",value:function(){return this._instance||(this._instance=new a),this._instance}}],(n=[{key:"initListeners",value:function(t){Object(r.b)(t,{mouseover:"onHovered",mouseout:"onUnhovered","rte-esc":"onRteCancel"})}},{key:"expansionChanged",value:function(t,e,n){if(n.isSegmented){var o=n.shadowRoot.querySelector(".segmentedContainer");o&&(o.classList.toggle(ut.classNames.DOWN_ICON,t),o.classList.toggle(ut.classNames.RIGHT_ICON,!t),n.uiData&&n.uiData._cellClasses&&(n.uiData._cellClasses._expansionIcon=t?ut.classNames.DOWN_ICON:ut.classNames.RIGHT_ICON))}else{var r=n.shadowRoot.querySelector(".drawerContainer span");r&&(r.classList.toggle(ut.classNames.CHEVRON_DOWN_ICON,t),r.classList.toggle(ut.classNames.CHEVRON_RIGHT_ICON,!t))}}}])&&ws(e.prototype,n),o&&ws(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(vs);function Es(t){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ts(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Is(t,e){return(Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ms(t);if(e){var r=Ms(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Bs(this,n)}}function Bs(t,e){if(e&&("object"===Es(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ms(t){return(Ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Is(t,e)}(a,t);var e,n,o,i=js(a);function a(){return Ps(this,a),i.apply(this,arguments)}return e=a,o=[{key:"getInstance",value:function(){return this._instance||(this._instance=new a),this._instance}}],(n=[{key:"initListeners",value:function(t){Object(r.b)(t,{"row-swiped":"onRowSwiped"})}},{key:"onTap",value:function(t,e){if(t&&!e.expansionDisabled&&e.findElementForEvent(t,"primary")){var n=e.toggleExpanded(),o=e.shadowRoot.querySelector("sb-swipe-container");null!==o&&(o.groupExpanded=n)}}},{key:"onRowSwiped",value:function(t,e){t&&t.detail&&(e.expansionDisabled=t.detail.isOpen)}},{key:"expansionChanged",value:function(t,e,n){if(!n.expansionDisabled){var o=n.shadowRoot.querySelector(".container.first");if(o){var r=n.shadowRoot.querySelector(".secondary");r||(this._loadSecondaryFields(n),r=n.shadowRoot.querySelector(".secondary")),o.classList.toggle(ut.classNames.EXPANDED,t),r.classList.toggle(ut.classNames.EXPANDED,t)}}}},{key:"updateTemplate",value:function(t){t.secondaryTemplateInstance&&Object.keys(t.uiData).forEach((function(e){t.secondaryTemplateInstance[e]=t.uiData[e]}))}},{key:"_loadSecondaryFields",value:function(t){t.secondaryTemplateInstance=t.hydrateTemplateFromNode(t.secondaryRowTemplate.cloneNode(!0),t.uiData),t.$.content.appendChild(t.secondaryTemplateInstance.root),Array.from(t.shadowRoot.querySelector(".secondary").children).forEach((function(e){if(e.classList.contains(ut.classNames.EDITABLE)&&!e.classList.contains(ut.classNames.BOOLEAN)){var n=e.querySelector(".r");n&&Object(st.m)("hidden",!0,n),t.toggleInlineEdit(e,!0)}}))}},{key:"toggleInlineEdit",value:function(t,e,n,o,r,i){var a=t.querySelector(".w");r.toggleCellClass(ut.classNames.EDIT_MODE,e,t,n),e?a||r._createWritableElement(n,t):a&&r.commitPendingEdit(i)}},{key:"_updateEditableField",value:function(t,e,n,o,r){if(e._formatNewValue(n,o),r.firstChild)try{r.removeChild(r.firstChild),e._createEditField(r,t.getAttribute("index"),n)}catch(t){if(!(t instanceof DOMException&&"NotFoundError"===t.name))throw t}}}])&&Ts(e.prototype,n),o&&Ts(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(us);function As(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fs(t,e){return(Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ns(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Hs(t);if(e){var r=Hs(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return zs(this,n)}}function zs(t,e){if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Us=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fs(t,e)}(i,t);var e,n,o,r=Ns(i);function i(){return Ls(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"updateControlledFields",value:function(t,e){var n=this,o=!1;this._getEditableFieldValues().includes(e)?(this._getControlledFields().forEach((function(e){if(t.lineModel.isFieldRendered(e)&&t.lineModel.isEditable(e)){var n=t.shadowRoot.querySelector("div[field='"+e+"']");if(n){var r=n.classList;r.contains("editable")||(o=!0,r.add("editable"))}}})),o&&t._handleEditableCellsHover(!0)):(this._getControlledFields().forEach((function(e){if(t.lineModel.isFieldRendered(e)){var o=t.shadowRoot.querySelector("div[field='"+e+"']");o&&o.classList.remove("editable"),n._shouldClearFieldValue()&&t._clearFieldValue(e)}})),o=!0),this._getControlledFields().forEach((function(r){var i=n._getControlledFieldValue(r,e,o);void 0!==i&&t._updateFieldValue(r,i)}))}},{key:"_getControlledFields",value:function(){return[]}},{key:"_getEditableFieldValues",value:function(){return[]}},{key:"_getControlledFieldValue",value:function(t,e,n){}},{key:"_shouldClearFieldValue",value:function(){return!0}}])&&qs(e.prototype,n),o&&qs(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"getFieldName",value:function(){}},{key:"updateControlledFields",value:function(t,e){}}])&&As(e.prototype,n),o&&As(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}());function Vs(t){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Gs(t,e){return(Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ys(t);if(e){var r=Ys(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ks(this,n)}}function Ks(t,e){if(e&&("object"===Vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ys(t){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}(i,t);var e,n,o,r=$s(i);function i(){return Ws(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getFieldName",value:function(){return at.a.constants.PRICING_METHOD_FIELD}},{key:"_getControlledFields",value:function(){return[at.a.constants.MARKUP_FIELD,at.a.constants.MARKUP_AMOUNT_FIELD,at.a.constants.MARKUP_RATE_FIELD]}},{key:"_getEditableFieldValues",value:function(){return["Cost"]}}])&&Qs(e.prototype,n),o&&Qs(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Us);function Js(t){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function el(t,e){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=rl(t);if(e){var r=rl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ol(this,n)}}function ol(t,e){if(e&&("object"===Js(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&el(t,e)}(i,t);var e,n,o,r=nl(i);function i(){return Zs(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getFieldName",value:function(){return at.a.constants.NON_DISCOUNTABLE_FIELD}},{key:"_getControlledFields",value:function(){return[at.a.constants.ADDITIONAL_DISCOUNT_FIELD,at.a.constants.ADDITIONAL_DISCOUNT_RATE_FIELD,at.a.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]}},{key:"_getEditableFieldValues",value:function(){return[!1]}}])&&tl(e.prototype,n),o&&tl(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Us);function al(t){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ll(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function cl(t,e){return(cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ul(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=pl(t);if(e){var r=pl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return dl(this,n)}}function dl(t,e){if(e&&("object"===al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pl(t){return(pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cl(t,e)}(i,t);var e,n,o,r=ul(i);function i(){return sl(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getFieldName",value:function(){return at.a.constants.PRICING_METHOD_EDITABLE_FIELD}},{key:"_getControlledFields",value:function(){return[at.a.constants.PRICING_METHOD_FIELD]}},{key:"_getEditableFieldValues",value:function(){return[!0]}},{key:"_shouldClearFieldValue",value:function(){return!1}}])&&ll(e.prototype,n),o&&ll(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Us);function fl(t){return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gl(t,e){return(gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_l(t);if(e){var r=_l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ml(this,n)}}function ml(t,e){if(e&&("object"===fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gl(t,e)}(i,t);var e,n,o,r=vl(i);function i(){return bl(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getFieldName",value:function(){return at.a.constants.PRICE_EDITABLE_FIELD}},{key:"_getControlledFields",value:function(){return[at.a.constants.LIST_PRICE_FIELD]}},{key:"_getEditableFieldValues",value:function(){return[!0]}},{key:"_shouldClearFieldValue",value:function(){return!1}}])&&yl(e.prototype,n),o&&yl(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Us);function Ol(t){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Sl(t,e){return(Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Pl(t);if(e){var r=Pl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return El(this,n)}}function El(t,e){if(e&&("object"===Ol(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pl(t){return(Pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tl,Il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sl(t,e)}(i,t);var e,n,o,r=Cl(i);function i(){return kl(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getFieldName",value:function(){return at.a.constants.SUBSCRIPTION_TYPE_FIELD}},{key:"_getControlledFields",value:function(){return[at.a.constants.SUBSCRIPTION_TERM_FIELD,at.a.constants.END_DATE_FIELD,at.a.constants.EFFECTIVE_END_DATE_FIELD]}},{key:"_getEditableFieldValues",value:function(){return["","Renewable","One-time"]}},{key:"_getControlledFieldValue",value:function(t,e,n){if(t===at.a.constants.SUBSCRIPTION_TERM_FIELD){if("Evergreen"===e)return 1;if(n)return null}}},{key:"_shouldClearFieldValue",value:function(){return!0}}])&&xl(e.prototype,n),o&&xl(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Us);var jl,Bl=Object(ze.b)(Tl||(Tl=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: flex;\n  background-color: var(--sbTableRowBgColor);\n  color: var(--sbTableRowColor);\n  font-family: var(--sbTableRowFontFamilly);\n  font-size: var(--sbTableRowFontSize);\n  font-weight: var(--sbTableRowFontWeight);\n  font-style: var(--sbTableRowFontStyle);\n  text-decoration: var(--sbTableRowTextDecoration);\n  border-bottom: 1px solid #D8DDE6;\n  line-height: var(--sbTableRowLineHeight);\n  padding-top: var(--sbTableRowPaddingTop);\n  padding-bottom: var(--sbTableRowPaddingBottom);\n}\n:host ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .tr div.row {\n  display: block !important;\n}\n:host .tr:hover {\n  background-color: var(--sbTableRowHoverColor);\n}\n:host .tr > div > .td {\n  outline: none;\n}\n:host .tr > div > .td > .sf-icon-right {\n  padding-left: var(--segmented-icon-padding);\n}\n:host .tr .container {\n  /* div.w styling is under .device-desktop */\n}\n:host .tr .container.td input#dateInput.sb-datepicker {\n  width: var(--datePickerWidth, 120px);\n}\n:host .tr .container.td.editMode {\n  position: relative;\n  overflow-x: visible;\n}\n:host .tr .container.td.hideCheckbox {\n  visibility: hidden;\n}\n:host .tr .container.td span.bundle-caret {\n  font-family: sf-icons;\n  margin-right: 5px;\n}\n:host .tr .container.td span.bundle-caret.collapsible-bundle {\n  cursor: pointer;\n}\n:host .tr .container.td span.bundle-caret + div.r {\n  display: inline;\n}\n:host .tr .container div.r {\n  word-wrap: break-word;\n  white-space: pre-line;\n}\n:host .tr .container div.r.hidden {\n  display: none;\n}\n:host .tr .container div.r.dirty {\n  color: #F88962;\n}\n:host .tr .container div.r div.htmlField {\n  display: inline;\n  overflow: hidden;\n  width: 100%;\n}\n:host .tr .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .tr .container.editable span.pencil:after {\n  content: '\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n:host .tr.show .container:not(.editable):hover.right div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).right div.r:before,\n:host .tr.show .container:not(.editable):hover.center div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).center div.r:before,\n:host .tr.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .tr .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .tr #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .tr.show .container.editable span.pencil:after,\n:host .tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .tr.show .container.editable.right div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .tr.show .container.editable.center div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .sb-pricebook-warning {\n  position: relative;\n  display: inline-block;\n  white-space: normal;\n}\n:host .lineActions {\n  white-space: nowrap;\n  text-align: left;\n  color: var(--sbBtnColor);\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host .tr[class*='--mobile'] {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host .tr[class*='--mobile'] .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host .tr[class*='--mobile'] .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host .tr[class*='--mobile'] .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host .tr[class*='--mobile'] .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host .tr[class*='--mobile'] sb-swipe-container {\n  min-width: 100%;\n}\n:host .tr[class*='--mobile'] sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host .secondary[class*='--mobile'] {\n  padding: 10px;\n}\n:host .secondary[class*='--mobile'] .hiddenInMobile {\n  display: none;\n}\n:host .secondary[class*='--mobile'] .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host [class*='--mobile'] .tr {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host [class*='--mobile'] .tr .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host [class*='--mobile'] .tr .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host [class*='--mobile'] .tr .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host [class*='--mobile'] .tr .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host [class*='--mobile'] .tr sb-swipe-container {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .tr sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .secondary {\n  padding: 10px;\n}\n:host [class*='--mobile'] .secondary .hiddenInMobile {\n  display: none;\n}\n:host [class*='--mobile'] .secondary .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n:host #content sb-lookup {\n  --sbTypeaheadSelectorWidth: 97.5%;\n}\n#root[class*='--desktop'] {\n  position: relative;\n  display: inherit;\n}\n.tr[class*='--desktop'] > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n.tr[class*='--desktop'] > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n.tr[class*='--desktop'] .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n.tr[class*='--desktop'] .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n.tr[class*='--desktop'] .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: .25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n.tr[class*='--desktop'] .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n.tr[class*='--desktop'] .container:not(.editable).right div.r:before,\n.tr[class*='--desktop'] .container:not(.editable).center div.r:before,\n.tr[class*='--desktop'] .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\ndiv.sf-standard-table.sf-le-table-row[class*='--desktop']:last-child div.w {\n  left: -110px;\n}\n.tr.focused[class*='--desktop'] {\n  background-color: var(--sbTableRowHoverColor);\n}\n.tr.focused[class*='--desktop']:not(.largeQuote) {\n  cursor: all-scroll;\n}\n.td[class*='--desktop'] {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n.td.top-level[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbBundleOption[class*='--desktop'] {\n  color: #696969;\n}\n.td.sbIndent1[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbIndent1.option[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2.option[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3.option[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4.option[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5.option[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6.option[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7.option[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8.option[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9.option[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10.option[class*='--desktop'] {\n  padding-left: 220px;\n}\n.lineActions[class*='--desktop'] {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n#itemNumber[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n.td.selection[class*='--desktop'],\n.td.boolean[class*='--desktop'] {\n  min-width: 30px;\n  max-width: 30px;\n}\n.imgFormula[class*='--desktop'] {\n  display: inline-block;\n}\n.imgFormula[class*='--desktop'] img {\n  max-width: 150px;\n}\n.td.boolean[class*='--desktop'] div.r:before {\n  padding-right: 1px;\n}\n.drawerContainer[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n.drawerContainer[class*='--desktop']:hover {\n  cursor: pointer;\n}\n.sf-icon-chevronright[class*='--desktop']:before {\n  font-weight: bold;\n}\n.swipeContainer[class*='--desktop'] {\n  display: table-cell;\n}\n.tr.placeholder[class*='--desktop'] {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n.tr.placeholder[class*='--desktop'] sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n[class*='--desktop'] #root {\n  position: relative;\n  display: inherit;\n}\n[class*='--desktop'] .tr > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n[class*='--desktop'] .tr > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n[class*='--desktop'] .tr .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n[class*='--desktop'] .tr .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n[class*='--desktop'] .tr .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: .25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n[class*='--desktop'] .tr .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n[class*='--desktop'] .tr .container:not(.editable).right div.r:before,\n[class*='--desktop'] .tr .container:not(.editable).center div.r:before,\n[class*='--desktop'] .tr .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] div.sf-standard-table.sf-le-table-row:last-child div.w {\n  left: -110px;\n}\n[class*='--desktop'] .tr.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] .tr.focused:not(.largeQuote) {\n  cursor: all-scroll;\n}\n[class*='--desktop'] .td {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n[class*='--desktop'] .td.top-level {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbBundleOption {\n  color: #696969;\n}\n[class*='--desktop'] .td.sbIndent1 {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbIndent1.option {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2 {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2.option {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3 {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3.option {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4 {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4.option {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5 {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5.option {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6 {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6.option {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7 {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7.option {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8 {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8.option {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9 {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9.option {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10 {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10.option {\n  padding-left: 220px;\n}\n[class*='--desktop'] .lineActions {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n[class*='--desktop'] #itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n[class*='--desktop'] .td.selection,\n[class*='--desktop'] .td.boolean {\n  min-width: 30px;\n  max-width: 30px;\n}\n[class*='--desktop'] .imgFormula {\n  display: inline-block;\n}\n[class*='--desktop'] .imgFormula img {\n  max-width: 150px;\n}\n[class*='--desktop'] .td.boolean div.r:before {\n  padding-right: 1px;\n}\n[class*='--desktop'] .drawerContainer {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n[class*='--desktop'] .drawerContainer:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n[class*='--desktop'] .swipeContainer {\n  display: table-cell;\n}\n[class*='--desktop'] .tr.placeholder {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n[class*='--desktop'] .tr.placeholder sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n"],["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: flex;\n  background-color: var(--sbTableRowBgColor);\n  color: var(--sbTableRowColor);\n  font-family: var(--sbTableRowFontFamilly);\n  font-size: var(--sbTableRowFontSize);\n  font-weight: var(--sbTableRowFontWeight);\n  font-style: var(--sbTableRowFontStyle);\n  text-decoration: var(--sbTableRowTextDecoration);\n  border-bottom: 1px solid #D8DDE6;\n  line-height: var(--sbTableRowLineHeight);\n  padding-top: var(--sbTableRowPaddingTop);\n  padding-bottom: var(--sbTableRowPaddingBottom);\n}\n:host ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .tr div.row {\n  display: block !important;\n}\n:host .tr:hover {\n  background-color: var(--sbTableRowHoverColor);\n}\n:host .tr > div > .td {\n  outline: none;\n}\n:host .tr > div > .td > .sf-icon-right {\n  padding-left: var(--segmented-icon-padding);\n}\n:host .tr .container {\n  /* div.w styling is under .device-desktop */\n}\n:host .tr .container.td input#dateInput.sb-datepicker {\n  width: var(--datePickerWidth, 120px);\n}\n:host .tr .container.td.editMode {\n  position: relative;\n  overflow-x: visible;\n}\n:host .tr .container.td.hideCheckbox {\n  visibility: hidden;\n}\n:host .tr .container.td span.bundle-caret {\n  font-family: sf-icons;\n  margin-right: 5px;\n}\n:host .tr .container.td span.bundle-caret.collapsible-bundle {\n  cursor: pointer;\n}\n:host .tr .container.td span.bundle-caret + div.r {\n  display: inline;\n}\n:host .tr .container div.r {\n  word-wrap: break-word;\n  white-space: pre-line;\n}\n:host .tr .container div.r.hidden {\n  display: none;\n}\n:host .tr .container div.r.dirty {\n  color: #F88962;\n}\n:host .tr .container div.r div.htmlField {\n  display: inline;\n  overflow: hidden;\n  width: 100%;\n}\n:host .tr .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .tr .container.editable span.pencil:after {\n  content: '\\\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n:host .tr.show .container:not(.editable):hover.right div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).right div.r:before,\n:host .tr.show .container:not(.editable):hover.center div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).center div.r:before,\n:host .tr.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .tr .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .tr #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .tr.show .container.editable span.pencil:after,\n:host .tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .tr.show .container.editable.right div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .tr.show .container.editable.center div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .sb-pricebook-warning {\n  position: relative;\n  display: inline-block;\n  white-space: normal;\n}\n:host .lineActions {\n  white-space: nowrap;\n  text-align: left;\n  color: var(--sbBtnColor);\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host .tr[class*='--mobile'] {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host .tr[class*='--mobile'] .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host .tr[class*='--mobile'] .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host .tr[class*='--mobile'] .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host .tr[class*='--mobile'] .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host .tr[class*='--mobile'] sb-swipe-container {\n  min-width: 100%;\n}\n:host .tr[class*='--mobile'] sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host .secondary[class*='--mobile'] {\n  padding: 10px;\n}\n:host .secondary[class*='--mobile'] .hiddenInMobile {\n  display: none;\n}\n:host .secondary[class*='--mobile'] .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host [class*='--mobile'] .tr {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host [class*='--mobile'] .tr .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host [class*='--mobile'] .tr .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host [class*='--mobile'] .tr .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host [class*='--mobile'] .tr .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host [class*='--mobile'] .tr sb-swipe-container {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .tr sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .secondary {\n  padding: 10px;\n}\n:host [class*='--mobile'] .secondary .hiddenInMobile {\n  display: none;\n}\n:host [class*='--mobile'] .secondary .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n:host #content sb-lookup {\n  --sbTypeaheadSelectorWidth: 97.5%;\n}\n#root[class*='--desktop'] {\n  position: relative;\n  display: inherit;\n}\n.tr[class*='--desktop'] > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n.tr[class*='--desktop'] > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n.tr[class*='--desktop'] .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n.tr[class*='--desktop'] .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n.tr[class*='--desktop'] .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: .25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n.tr[class*='--desktop'] .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n.tr[class*='--desktop'] .container:not(.editable).right div.r:before,\n.tr[class*='--desktop'] .container:not(.editable).center div.r:before,\n.tr[class*='--desktop'] .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\ndiv.sf-standard-table.sf-le-table-row[class*='--desktop']:last-child div.w {\n  left: -110px;\n}\n.tr.focused[class*='--desktop'] {\n  background-color: var(--sbTableRowHoverColor);\n}\n.tr.focused[class*='--desktop']:not(.largeQuote) {\n  cursor: all-scroll;\n}\n.td[class*='--desktop'] {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n.td.top-level[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbBundleOption[class*='--desktop'] {\n  color: #696969;\n}\n.td.sbIndent1[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbIndent1.option[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2.option[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3.option[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4.option[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5.option[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6.option[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7.option[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8.option[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9.option[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10.option[class*='--desktop'] {\n  padding-left: 220px;\n}\n.lineActions[class*='--desktop'] {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n#itemNumber[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n.td.selection[class*='--desktop'],\n.td.boolean[class*='--desktop'] {\n  min-width: 30px;\n  max-width: 30px;\n}\n.imgFormula[class*='--desktop'] {\n  display: inline-block;\n}\n.imgFormula[class*='--desktop'] img {\n  max-width: 150px;\n}\n.td.boolean[class*='--desktop'] div.r:before {\n  padding-right: 1px;\n}\n.drawerContainer[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n.drawerContainer[class*='--desktop']:hover {\n  cursor: pointer;\n}\n.sf-icon-chevronright[class*='--desktop']:before {\n  font-weight: bold;\n}\n.swipeContainer[class*='--desktop'] {\n  display: table-cell;\n}\n.tr.placeholder[class*='--desktop'] {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n.tr.placeholder[class*='--desktop'] sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n[class*='--desktop'] #root {\n  position: relative;\n  display: inherit;\n}\n[class*='--desktop'] .tr > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n[class*='--desktop'] .tr > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n[class*='--desktop'] .tr .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n[class*='--desktop'] .tr .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n[class*='--desktop'] .tr .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: .25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n[class*='--desktop'] .tr .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n[class*='--desktop'] .tr .container:not(.editable).right div.r:before,\n[class*='--desktop'] .tr .container:not(.editable).center div.r:before,\n[class*='--desktop'] .tr .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] div.sf-standard-table.sf-le-table-row:last-child div.w {\n  left: -110px;\n}\n[class*='--desktop'] .tr.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] .tr.focused:not(.largeQuote) {\n  cursor: all-scroll;\n}\n[class*='--desktop'] .td {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n[class*='--desktop'] .td.top-level {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbBundleOption {\n  color: #696969;\n}\n[class*='--desktop'] .td.sbIndent1 {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbIndent1.option {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2 {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2.option {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3 {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3.option {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4 {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4.option {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5 {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5.option {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6 {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6.option {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7 {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7.option {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8 {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8.option {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9 {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9.option {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10 {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10.option {\n  padding-left: 220px;\n}\n[class*='--desktop'] .lineActions {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n[class*='--desktop'] #itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n[class*='--desktop'] .td.selection,\n[class*='--desktop'] .td.boolean {\n  min-width: 30px;\n  max-width: 30px;\n}\n[class*='--desktop'] .imgFormula {\n  display: inline-block;\n}\n[class*='--desktop'] .imgFormula img {\n  max-width: 150px;\n}\n[class*='--desktop'] .td.boolean div.r:before {\n  padding-right: 1px;\n}\n[class*='--desktop'] .drawerContainer {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n[class*='--desktop'] .drawerContainer:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n[class*='--desktop'] .swipeContainer {\n  display: table-cell;\n}\n[class*='--desktop'] .tr.placeholder {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n[class*='--desktop'] .tr.placeholder sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n"])));function Ml(t){return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Al(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rl(t,e){return(Rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Fl(t);if(e){var r=Fl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ql(this,n)}}function ql(t,e){if(e&&("object"===Ml(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fl(t){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nl,zl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rl(t,e)}(i,t);var e,n,o,r=Ll(i);function i(){return Dl(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sf-line-warning"}},{key:"properties",get:function(){return{key:String,message:String}}},{key:"template",get:function(){return Object(Qe.b)(jl||(jl=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t\n\t\t\t<i class="sf-icon-warning"></i>\n\t\t\t<paper-tooltip position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t<sb-i18n key="[[key]]">[[message]]</sb-i18n>\n\t\t\t</paper-tooltip>\n\t\t'])),Bl)}}],(n=null)&&Al(e.prototype,n),o&&Al(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Qe.a);function Hl(t){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ul(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ql(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ql(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ql(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Gl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $l(){return($l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Kl(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Kl(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tc(t)););return t}function Yl(t,e){return(Yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=tc(t);if(e){var r=tc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Jl(this,n)}}function Jl(t,e){if(e&&("object"===Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zl(t)}function Zl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(zl.is,zl);var ec=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yl(t,e)}(s,t);var e,n,i,a=Xl(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this))._deviceDelegate=o.a.isMobile?Ds.getInstance():Cs.getInstance(),t._deviceDelegate.initListeners(Zl(t)),t}return e=s,i=[{key:"is",get:function(){return"sf-le-table-row"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(n),!0).forEach((function(e){Vl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({lineModel:{type:Object,notify:!0,observer:"_modelChanged"},isSegmented:{type:Boolean,value:!1},columnWidths:{type:Object,observer:"_columnsResized"},secondaryRowTemplate:{type:Object,observer:"_secondaryRowTemplateChanged"},isDirty:Boolean,dataIndex:{type:Number,reflectToAttribute:!0},expansionDisabled:{type:Boolean,value:!1},eventListeners:{type:Object,value:{click:"onTap",change:"onChange","selected-date-changed":"onChange","rte-value-changed":"onChange","lookup-value-changed":"onChange"}}},da.properties)}},{key:"observers",get:function(){return["_recordChanged(lineModel.lineVO.record.*)","_expansionChanged(lineModel.lineVO.expanded)","_selectionChanged(lineModel.selected)","_bundleExpansionChanged(lineModel.bundleCollapsed)"]}},{key:"template",get:function(){return Object(Qe.b)(Nl||(Nl=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles sb-tables-styles sb-icons-styles \n\t\t\t\tsb-forms-styles"></style>\n\t\t\t<div id="content" class$="tr [[deviceClasses]]">\n\t\t\t</div>\n\t\t'])),Bl)}}],(n=[{key:"ready",value:function(){$l(tc(s.prototype),"ready",this).call(this),this.deviceClasses="";var t,e=Wl(Object(Ae.b)());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.deviceClasses+=n+" "}}catch(t){e.e(t)}finally{e.f()}}},{key:"connectedCallback",value:function(){$l(tc(s.prototype),"connectedCallback",this)&&$l(tc(s.prototype),"connectedCallback",this).call(this),Object(r.b)(this,this.eventListeners)}},{key:"disconnectedCallback",value:function(){$l(tc(s.prototype),"disconnectedCallback",this)&&$l(tc(s.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,this.eventListeners)}},{key:"getContentNode",value:function(){return this.shadowRoot.querySelector("#content")}},{key:"getControllingFields",value:function(){return[new Xs,new il,new hl,new wl,new Il]}},{key:"postPopulateContent",value:function(){this._deviceDelegate.updateTemplate(this),this._resetPencilLoaded(),this._refreshDirtyIndicators(),this.uiData.hasLineWarning&&this._loadLineWarning()}},{key:"_loadLineWarning",value:function(){var t=this.shadowRoot.querySelector("#itemNumber .warning");if(t&&!t.hasChildNodes()){var e=document.createElement("sf-line-warning");e.key=this.uiData.lineWarningKey,e.message=this.uiData.lineWarningMsg,e.style.display="revert",e.style.borderBottomWidth="0px",t.appendChild(e)}}},{key:"_recordChanged",value:function(t,e){if(this.templateInstance){var n=t.path;if(n!==xt.recordPath){var o=n.substring(xt.recordPath.length+1),r=t.value,i=this._getFieldMetadata(o);if(i){var a=te.a.formatFieldData(this.lineModel,r,i,this._getRecord());this._restampField(o,a),this._handleChangeControllingField(i.name,t.value);var s=this.shadowRoot.querySelector('div.td[field="'.concat(o,'"] div.w'));s&&this._deviceDelegate._updateEditableField(s.parentElement,this,o,i,s)}}else this.templateInstance.lineModel=this.lineModel}}},{key:"onRteCancel",value:function(t){var e=Xi(t);this.toggleInlineEdit(e,!1),e.removeChild(e.querySelector(".w")),this._applyFocus(e,t)}},{key:"_updateDependentPicklist",value:function(t){var e=this,n=this._getEditorModel().getDependentFields(t);n&&n.length>0&&n.forEach((function(n){var o=e._getFieldValue(n);if(null!==o){var r=e._getFieldMetadata(n),i=new La.a(r,e._getFieldValue(t)).build();("multipicklist"===r.type?o.split(";"):[o]).some((function(t){return!i.some((function(e){return e.value===t}))&&(e._clearFieldValue(n),e._updateDependentPicklist(n),!0)}))}}))}},{key:"_handleChangeControllingField",value:function(t,e){var n=this;this.getControllingFields().forEach((function(o){o.getFieldName()==t&&o.updateControlledFields(n,e)}))}},{key:"_formatNewValue",value:function(t,e){var n,o=this._getFieldValue(t);t===at.a.constants.QUANTITY_FIELD&&e.scale!==this.lineModel.lineVO.productQuantityScale&&null!=this.lineModel.lineVO.productQuantityScale&&((n=JSON.parse(JSON.stringify(e))).scale=this.lineModel.lineVO.productQuantityScale);var r=n||e,i=te.a.formatFieldData(this.lineModel,o,r,this._getRecord());return this._restampField(t,i),o}},{key:"hook_onHovered",value:function(t){this.isSegmented&&this._handleSegmentedCellHover(t),this._handleEditableCellsHover()}},{key:"hook_onTap",value:function(t,e,n){var r=this._getEditorModel();this._deviceDelegate.onTap(t,this);var i=this.findElementForEvent(t,"checkboxcontainer");i&&this.toggleCheckbox(i),e||(r.hasDrawerFields()&&this.findElementForEvent(t,"drawerContainer")&&this.toggleDrawer(),this.lineModel.segments&&this.findElementForEvent(t,"segmentedContainer")&&this.toggleDrawer(),o.a.isBundleCollapsible(this._getEditorModel())&&this.findElementForEvent(t,"collapsible-bundle")&&this.toggleBundleExpansion())}},{key:"onKeyDown",value:function(t){this._deviceDelegate.onKeyDown(t,this)}},{key:"onRowSwiped",value:function(t){this._deviceDelegate.onRowSwiped(t,this)}},{key:"toggleCheckbox",value:function(t){if(t&&t.parentElement){var e=t.parentElement.parentElement,n=t.querySelector("input[type=checkbox]");if(e&&n)if(e.classList.contains(ut.classNames.EDITABLE)){var o=e.getAttribute("field");o&&(this.set("lineModel.lineVO.record.".concat(o),!n.checked),this._calculateImmediately(o)&&this.dispatchEvent(Object(r.d)("calculate-immediately")))}else t.parentElement.classList.contains(ut.classNames.SELECTION)&&this._getEditorModel().data.settings.multiLineDeleteEnabled&&(this.set("lineModel.selected",!n.checked),n.checked?this.lineModel.groupModel.quoteModel.selectedLinesByKey[this.lineModel.lineVO.key]=this.lineModel:delete this.lineModel.groupModel.quoteModel.selectedLinesByKey[this.lineModel.lineVO.key])}}},{key:"toggleDrawer",value:function(){this.toggleExpanded(),this._getEditorModel().largeQuoteExperienceEnabled&&this.dispatchEvent(Object(r.d)("line-toggled",{index:this._getLineNumber()-1}))}},{key:"toggleExpanded",value:function(){var t=!this.lineModel.lineVO.expanded;return this.set("lineModel.lineVO.expanded",t),t}},{key:"_expansionChanged",value:function(t,e){this._deviceDelegate.expansionChanged(t,e,this)}},{key:"toggleBundleExpansion",value:function(){var t=!this.lineModel.bundleCollapsed;this.set("lineModel.bundleCollapsed",t)}},{key:"_bundleExpansionChanged",value:function(t){var e=this;if(void 0!==t){var n="l"+this.lineModel.lineVO.key;Object(vt.b)("BundleCollapsed",[n])!==t&&(this._restampField("_caretContent",t?ut.classNames.CHEVRON_RIGHT_CONTENT:ut.classNames.CHEVRON_DOWN_CONTENT),setTimeout((function(){e.dispatchEvent(Object(r.d)("bundle-toggled",{key:e.lineModel.lineVO.key,expanded:!t}))})),Object(vt.d)("BundleCollapsed",["l"+this.lineModel.lineVO.key],t))}}},{key:"_selectionChanged",value:function(){this._getEditorModel().isMultiLineDeleteEnabled()&&this._applySelectionCheckboxStatus()}},{key:"_applySelectionCheckboxStatus",value:function(){var t=this.shadowRoot.querySelector(".checkboxcontainer");t&&!t.classList.contains(ut.classNames.DISABLED)&&(t.querySelector("input[type=checkbox]").checked=this.lineModel.selected)}},{key:"_getFieldMetadata",value:function(t,e){return this._getEditorModel().getFieldMetadata(t,e)}},{key:"_getEditorModel",value:function(){return this.lineModel.editorModel}},{key:"_getLineNumber",value:function(){return this.uiData.lineNumber}},{key:"_getRecord",value:function(){return this.uiData.lineModel.lineVO.record}},{key:"_getOriginalRecord",value:function(){return this.uiData.lineModel.lineVO.ui_original_record}},{key:"_isEditable",value:function(t){return this.uiData.lineModel.isEditable(t)}},{key:"_getFieldValue",value:function(t){return this._getRecord()[t]}},{key:"_clearFieldValue",value:function(t){this.set("lineModel.lineVO.record.".concat(t),null),this.templateInstance&&this._restampField(t,null)}},{key:"_updateFieldValue",value:function(t,e){this.set("lineModel.lineVO.record.".concat(t),e)}},{key:"_modelChanged",value:function(){Object(St.c)(this,"lineModel"),this.listenedOnTrackHandler&&Object(Dn.d)(this,"track",this.listenedOnTrackHandler),this._isDragAndDropEnabled()&&(this.listenedOnTrackHandler=this.listenedOnTrackHandler||this.onTrack.bind(this),Object(Dn.a)(this,"track",this.listenedOnTrackHandler))}},{key:"_isDragAndDropEnabled",value:function(){return o.a.isDesktop&&!this.lineModel.editorModel.largeQuoteExperienceEnabled}},{key:"_handleSegmentedCellHover",value:function(t){var e=this.findElementForEvent(t,"container");if(e){var n=e.getAttribute("field");if(n&&!n.endsWith("__c")&&"total"!==n&&!e.querySelector("paper-tooltip")){var o=document.createElement("paper-tooltip");o.position="bottom",o.animationDelay=0,e.appendChild(o);var r=document.createElement("sf-segmented-cell-tooltip");r.lineModel=this.lineModel,r.field=n,o.appendChild(r)}}}},{key:"_handleEditableCellsHover",value:function(t){var e=this;if(!this._pencilLoaded||t){var n=this.shadowRoot.querySelectorAll(".container.editable");if(n&&n.length>0){var o=Array.from(n);o.forEach((function(t){if(!t.querySelector("span.pencil")){var e=document.createElement("span");if(e.classList.add(ut.classNames.EDIT_ICON),t.classList.contains(ut.classNames.RIGHT)||t.classList.contains(ut.classNames.CENTER)){var n=t.querySelector("div.r");n.insertBefore(e,n.firstChild)}else t.querySelector("div.r").appendChild(e)}})),setTimeout((function(){e.dispatchEvent(Object(r.d)("line-toggled",{index:e.dataIndex}))}))}this._pencilLoaded=!0}}},{key:"_isAdditionalDiscountUpdated",value:function(t,e){var n={editorModel:this._getEditorModel(),constants:this.uiData.lineModel.constants,lineVO:this.uiData.lineModel.lineVO,getField:function(e){return t[e]},getLineVOProperty:function(e){return t[e]}},o=Object(Ot.b)(n,e),r=Object(Ot.b)(this.uiData.lineModel,e);return o.displayValue!==r.displayValue||o.unit!==r.unit}},{key:"_columnsResized",value:function(t,e){var n=this;null!=t&&null!=e&&Object.keys(t).forEach((function(e){var o=n.shadowRoot.querySelector("div.container[field='".concat(e,"']"));o&&(o.style.minWidth=t[e]+"px",o.style.maxWidth=t[e]+"px")}))}},{key:"onTrack",value:function(t){if(t){if(this.shadowRoot.querySelector("div.w"))return;for(var e=t.composedPath(),n=0,o=e.length;n<o;n++){var r=e[n].nodeName;if("SB-DIALOG"===r||"TEXTAREA"===r)return}Object(st.d)(this).onTrack(t)}}},{key:"deepCloneNode",value:function(){return Object(st.c)(this)}},{key:"_applyFocus",value:function(t,e){this._deviceDelegate.applyFocus(t,e,this)}},{key:"_calculateImmediately",value:function(t){return at.a.shouldCalulateImmediately(t,o.a.org.calculateImmediately,this.lineModel.quoteModel)}},{key:"toggleCellClass",value:function(t,e,n,o){if(Object(st.m)(t,e,n),this.lineModel){var r=this.lineModel.cellClasses[o]||{};r[t]=e,this.lineModel.cellClasses[o]=r}}},{key:"_getFieldMetadataForInlineEdit",value:function(t){return this._getFieldMetadata(t,this.lineModel.quoteModel.quoteVO.record)}},{key:"toggleInlineEditForDeviceDelegate",value:function(t,e,n,o,r){this._deviceDelegate.toggleInlineEdit(t,e,n,o,this,r)}},{key:"fireCalculateImmediately",value:function(t){this._calculateImmediately(t)&&this.dispatchEvent(Object(r.d)("calculate-immediately"))}},{key:"checkIsDirty",value:function(t,e,n){return at.a.isDiscountField(n)?this._isAdditionalDiscountUpdated(e,n):t!==e[n]}},{key:"handleControllingPicklistAndFields",value:function(t,e,n,o){t.controllingPicklist?this._updateDependentPicklist(e):t.relationshipName&&"lookup-value-changed"===n?this._getRecord()[t.relationshipName]=null==o.value?void 0:{Id:o.value,Name:o.refDisplay}:this._handleChangeControllingField(t.name,o.value)}},{key:"_getEditField",value:function(t,e){return Fa.getFieldComponent(t,this.lineModel,e)}},{key:"getCellClass",value:function(){return"sf-le-table-cell"}},{key:"_secondaryRowTemplateChanged",value:function(){o.a.isMobile&&this._deviceDelegate&&this.lineModel&&this.lineModel.lineVO&&this.lineModel.lineVO.expanded&&this._deviceDelegate.expansionChanged(!0,!1,this)}}])&&Gl(e.prototype,n),i&&Gl(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Le.a)(ls(Ya(da(Object(Mn.a)(Qe.a))))));customElements.define(ec.is,ec);var nc=n(69),oc=n(140);function rc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ic,ac=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.indexes={}}var e,n,o;return e=t,(n=[{key:"isSourceLine",value:function(){return this.model.existing}},{key:"getLine",value:function(){return this.model.lineVO}},{key:"getLines",value:function(){return this.model.groupModel.standardLines}},{key:"getSourceOrUpgrade",value:function(t){var e;if(this.model.editorModel.data.settings.bundleKeptTogether)e=this._findLineWithTargetAssetId(t,this.model.groupModel);else for(var n=this.model.groupModel.quoteModel.lineGroups,o=0,r=n.length;o<r&&!e;o++)e=this._findLineWithTargetAssetId(t,n[o]);return e}},{key:"_findLineWithTargetAssetId",value:function(t,e){for(var n,o=!t,r=this.model.lineVO.record[this.constants.UPGRADED_ASSET_FIELD],i=0,a=e.standardLines.length;i<a;i++){var s=e.standardLines[i];if(s.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]===r&&s.lineVO.record[this.constants.EXISTING_FIELD]===o){var l=o?"sourceIndex":"upgradeIndex";this.indexes[l]=i,n=s.lineVO}if(this.model.lineVO.key===s.lineVO.key){var c=!this.indexes.sourceIndex&&this.model.existing?"sourceIndex":"upgradeIndex";this.indexes[c]=i}}return n}},{key:"setSourceAndUpgrade",value:function(t,e){this.sourceLineVO=t,this.upgradeLineVO=e}},{key:"getSourceIdField",value:function(){return this.constants.PRODUCT}},{key:"getUpgradeConversionRateField",value:function(){return this.constants.UPGRADE_CONVERSION_RATE}},{key:"getSourceCurrentQuantityField",value:function(t){return t.record[this.constants.QUANTITY_FIELD]}},{key:"getUpgradeCurrentQuantityField",value:function(t){return t.record[this.constants.QUANTITY_FIELD]}},{key:"getSourcePriorQuantity",value:function(t){return t.record[this.constants.PRIOR_QUANTITY_FIELD]}},{key:"didSourceQuantityChange",value:function(t){return t}},{key:"didUpgradeQuantityChange",value:function(t){return!t}},{key:"isSelected",value:function(){return!0}},{key:"setUpdatedQuantity",value:function(t,e,n,o){t.record[this.constants.QUANTITY_FIELD]=n,e.record[this.constants.QUANTITY_FIELD]=o}},{key:"getIndexes",value:function(){return this.indexes}},{key:"getSourceLineVO",value:function(){return this.sourceLineVO}},{key:"getUpgradeLineVO",value:function(){return this.upgradeLineVO}},{key:"constants",get:function(){return this.model.fieldNames}}])&&rc(e.prototype,n),o&&rc(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),sc=n(48);var lc,cc=Object(ze.b)(ic||(ic=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  width: 100%;\n  height: var(--sbTableCellHeight);\n  table-layout: auto;\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  text-transform: uppercase;\n}\n:host .sf-icon-arrowup,\n:host .sf-icon-arrowdown {\n  visibility: hidden;\n  color: var(--sbIconColor);\n  font-size: 13px;\n}\n:host .sf-icon-arrowup::before,\n:host .sf-icon-arrowdown::before {\n  vertical-align: center;\n}\n:host .asc,\n:host .desc {\n  color: var(--sbIconColor);\n}\n:host .asc > span > .sf-icon-arrowup {\n  visibility: visible;\n}\n:host .desc > span > .sf-icon-arrowdown {\n  visibility: visible;\n}\n:host .desc > span > .sf-icon-arrowup {\n  visibility: hidden !important;\n}\n:host .bundlesVisualized {\n  padding-left: 20px;\n}\n:host .column-header {\n  padding-right: 3px;\n}\n:host .column-header:hover {\n  color: var(--sbIconColor);\n  cursor: pointer;\n}\n:host .column-header:hover > span > .sf-icon-arrowup {\n  visibility: visible;\n}\n:host div#header span {\n  padding: 2px 0;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n}\n:host .unsortable-header[class*='--desktop'] {\n  padding-right: 15px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n}\n:host [class*='--desktop'] .unsortable-header {\n  padding-right: 15px;\n}\n:host([class*='--desktop'].innerTh) {\n  padding-left: 5px;\n}\n:host([class*='--desktop'] .innerTh) {\n  padding-left: 5px;\n}\n:host(.innerTh) #header {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n:host(.detailFieldName) {\n  padding: 3px;\n  white-space: nowrap;\n}\n:host(.detailFieldName) span {\n  display: inline-block;\n}\n@media screen and (min-width: 480px) {\n  :host(.center) {\n    text-align: center;\n  }\n}\n:host([class*='--desktop'].detailFieldName.hiddenInDesktop) {\n  display: none;\n}\n:host([class*='--desktop'] .detailFieldName.hiddenInDesktop) {\n  display: none;\n}\n:host([class*='--desktop'].hoverFieldHeader) {\n  text-transform: capitalize;\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'] .hoverFieldHeader) {\n  text-transform: capitalize;\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\npaper-tooltip[class*='--desktop'] {\n  text-transform: capitalize;\n}\n[class*='--desktop'] paper-tooltip {\n  text-transform: capitalize;\n}\n"])));function uc(t){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hc(t,e){return(hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=yc(t);if(e){var r=yc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return bc(this,n)}}function bc(t,e){if(e&&("object"===uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yc(t){return(yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gc,vc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hc(t,e)}(s,t);var e,n,i,a=fc(s);function s(){return dc(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sb-le-table-header-cell"}},{key:"properties",get:function(){return{byOrder:String,model:{type:Object,observer:"_modelChanged"},showSortableHeader:{type:Boolean,computed:"_showSortableHeader(model)"},constants:{type:Object,value:function(){return new qt.a(o.a.org.prefix+"__")}},overflowTrue:{type:Boolean,value:!1}}}},{key:"template",get:function(){return Object(Qe.b)(lc||(lc=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<div device class="th" id="headerCell">\n\t\t\t\t<template is="dom-if" if="[[showSortableHeader]]">\n\t\t\t\t\t<div id="header" class="td column-header">\n\t\t\t\t\t\t<span id="header-span" class="header-text" on-click="sortLines">\n\t\t\t\t\t\t\t[[value]]\n\t\t\t\t\t\t\t<i id="arrow" class="sf-icon-arrowup"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<paper-tooltip for="header" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t[[value]]\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[!showSortableHeader]]">\n\t\t\t\t\t<div id="header" class="td unsortable-header">\n\t\t\t\t\t\t<span>[[value]]</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="dom-if" if="[[overflowTrue]]">\n\t\t\t\t\t\t<paper-tooltip for="header" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t[[value]]\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'])),cc)}}],(n=[{key:"_modelChanged",value:function(){this.observeNode(this.$.headerCell,function(){var t=this.shadowRoot.querySelector("#header");Object(st.m)("right",this.model[this.value],t);var e=this.model.settings&&this.model.settings.productHierarchyVisualized&&this.model.isStandard&&this.getAttribute("item")===this.constants.PRODUCT_NAME_FIELD;Object(st.m)("bundlesVisualized",e,t)}.bind(this))}},{key:"sortLines",value:function(t){for(var e="",n=this.parentElement.children,o=0;o<n.length;o++)Object(st.m)("asc",!1,n[o].shadowRoot.querySelector("#header")),Object(st.m)("desc",!1,n[o].shadowRoot.querySelector("#header")),n[o].shadowRoot.querySelector("#arrow")&&Object(st.m)("sf-icon-arrowup",!0,n[o].shadowRoot.querySelector("#arrow")),n[o].shadowRoot.querySelector("#arrow")&&Object(st.m)("sf-icon-arrowdown",!1,n[o].shadowRoot.querySelector("#arrow")),n[o].classList.remove("column-selected");this.byOrder?"asc"===this.byOrder?(e="desc",Object(st.m)("sf-icon-arrowup",!1,this.shadowRoot.querySelector("#arrow")),Object(st.m)("sf-icon-arrowdown",!0,this.shadowRoot.querySelector("#arrow"))):"desc"===this.byOrder&&(e=""):(e="asc",Object(st.m)("sf-icon-arrowup",!0,this.shadowRoot.querySelector("#arrow"))),this.sortByField=e?this._getKeyByValue(this.value,this.data):null,Object(st.m)("column-selected",!0,this.shadowRoot.querySelector("#header")),this.byOrder=e,e&&Object(st.m)(e,!0,this.shadowRoot.querySelector("#header")),this.dispatchEvent(Object(r.d)("table-header-sort-clicked",{order:this.byOrder,field:this.sortByField}))}},{key:"_showSortableHeader",value:function(){return!this.model.lineVO&&this.getAttribute("item")!==this.constants.ADDITIONAL_DISCOUNT_FIELD&&!this.classList.contains("hoverFieldHeader")}},{key:"_getKeyByValue",value:function(t,e){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}},{key:"getHeader",value:function(){return this.shadowRoot.querySelector("#header")}}])&&pc(e.prototype,n),i&&pc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(sc.a)(Object(Ae.a)(Qe.a)));customElements.define(vc.is,vc);var mc,_c=Object(ze.b)(gc||(gc=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host(.detailField) {\n  padding: 3px;\n}\n:host(.hiddenInDesktop.drawerCell) #field[class*='--desktop'] {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop.drawerCell) #field {\n  visibility: hidden;\n}\n:host([class*='--desktop'].hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host(.drawerCell) .container {\n  display: table-cell;\n  padding: 6px 0;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  text-align: left;\n}\n:host(.drawerCell) .container .label {\n  display: block;\n  text-transform: uppercase;\n  text-align: left;\n  width: 100%;\n  padding-right: 10px;\n  min-width: 50%;\n}\n:host(.drawerCell) .container #field {\n  display: block;\n  min-height: 25px;\n  text-align: left;\n  width: 60%;\n}\n:host([class*='--desktop'].hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'] .hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'].innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host([class*='--desktop'] .innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host ul > li {\n  list-style: disc;\n}\n:host ol > li {\n  list-style: decimal;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .container {\n  display: flex;\n  flex-direction: row;\n  word-wrap: break-word;\n  white-space: normal;\n}\n:host .container select {\n  min-width: initial;\n}\n:host .container .label {\n  display: none;\n}\n:host .container.overridden > #field {\n  display: none;\n}\n:host .container.overridden > #overrideField {\n  width: 100%;\n}\n:host .container:not(.overridden) > #field {\n  width: 100%;\n}\n:host .container:not(.overridden) > #overrideField {\n  display: none;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host paper-tooltip[class*='--desktop'] .anchor {\n  display: none;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n  padding-right: 18px;\n}\n:host .center[class*='--desktop'] {\n  text-align: center;\n}\n:host .overridden[class*='--desktop'] {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host .overridden.right[class*='--desktop']:hover > #overrideField::before,\n:host .overridden[class*='--desktop']:not(.right):hover > #overrideField::after {\n  content: '\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host [class*='--desktop'] paper-tooltip .anchor {\n  display: none;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n  padding-right: 18px;\n}\n:host [class*='--desktop'] .center {\n  text-align: center;\n}\n:host [class*='--desktop'] .overridden {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host [class*='--desktop'] .overridden.right:hover > #overrideField::before,\n:host [class*='--desktop'] .overridden:not(.right):hover > #overrideField::after {\n  content: '\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host .sf-icon-chevrondown:before {\n  line-height: 1.3em;\n  padding-top: 2px;\n  padding-right: 5px;\n  color: gray;\n}\n:host .top-level {\n  padding-left: 20px;\n}\n:host .sbIndent1 {\n  padding-left: 20px;\n}\n:host .sbIndent1.option {\n  padding-left: 40px;\n}\n:host .sbIndent2 {\n  padding-left: 40px;\n}\n:host .sbIndent2.option {\n  padding-left: 60px;\n}\n:host .sbIndent3 {\n  padding-left: 60px;\n}\n:host .sbIndent3.option {\n  padding-left: 80px;\n}\n:host .sbIndent4 {\n  padding-left: 80px;\n}\n:host .sbIndent4.option {\n  padding-left: 100px;\n}\n:host .sbIndent5 {\n  padding-left: 100px;\n}\n:host .sbIndent5.option {\n  padding-left: 120px;\n}\n:host .sbIndent6 {\n  padding-left: 120px;\n}\n:host .sbIndent6.option {\n  padding-left: 140px;\n}\n:host .sbIndent7 {\n  padding-left: 140px;\n}\n:host .sbIndent7.option {\n  padding-left: 160px;\n}\n:host .sbIndent8 {\n  padding-left: 160px;\n}\n:host .sbIndent8.option {\n  padding-left: 180px;\n}\n:host .sbIndent9 {\n  padding-left: 180px;\n}\n:host .sbIndent9.option {\n  padding-left: 200px;\n}\n:host .sbIndent10 {\n  padding-left: 200px;\n}\n:host .sbIndent10.option {\n  padding-left: 220px;\n}\n:host([class*='--mobile'].detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'].detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'].detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'].detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'].primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'].secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'].secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'].secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n:host([class*='--mobile'] .detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'] .detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'] .detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'] .detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'] .primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'] .secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'] .secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'] .secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n"],["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host(.detailField) {\n  padding: 3px;\n}\n:host(.hiddenInDesktop.drawerCell) #field[class*='--desktop'] {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop.drawerCell) #field {\n  visibility: hidden;\n}\n:host([class*='--desktop'].hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host(.drawerCell) .container {\n  display: table-cell;\n  padding: 6px 0;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  text-align: left;\n}\n:host(.drawerCell) .container .label {\n  display: block;\n  text-transform: uppercase;\n  text-align: left;\n  width: 100%;\n  padding-right: 10px;\n  min-width: 50%;\n}\n:host(.drawerCell) .container #field {\n  display: block;\n  min-height: 25px;\n  text-align: left;\n  width: 60%;\n}\n:host([class*='--desktop'].hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'] .hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'].innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host([class*='--desktop'] .innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host ul > li {\n  list-style: disc;\n}\n:host ol > li {\n  list-style: decimal;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .container {\n  display: flex;\n  flex-direction: row;\n  word-wrap: break-word;\n  white-space: normal;\n}\n:host .container select {\n  min-width: initial;\n}\n:host .container .label {\n  display: none;\n}\n:host .container.overridden > #field {\n  display: none;\n}\n:host .container.overridden > #overrideField {\n  width: 100%;\n}\n:host .container:not(.overridden) > #field {\n  width: 100%;\n}\n:host .container:not(.overridden) > #overrideField {\n  display: none;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host paper-tooltip[class*='--desktop'] .anchor {\n  display: none;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n  padding-right: 18px;\n}\n:host .center[class*='--desktop'] {\n  text-align: center;\n}\n:host .overridden[class*='--desktop'] {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host .overridden.right[class*='--desktop']:hover > #overrideField::before,\n:host .overridden[class*='--desktop']:not(.right):hover > #overrideField::after {\n  content: '\\\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host [class*='--desktop'] paper-tooltip .anchor {\n  display: none;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n  padding-right: 18px;\n}\n:host [class*='--desktop'] .center {\n  text-align: center;\n}\n:host [class*='--desktop'] .overridden {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host [class*='--desktop'] .overridden.right:hover > #overrideField::before,\n:host [class*='--desktop'] .overridden:not(.right):hover > #overrideField::after {\n  content: '\\\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host .sf-icon-chevrondown:before {\n  line-height: 1.3em;\n  padding-top: 2px;\n  padding-right: 5px;\n  color: gray;\n}\n:host .top-level {\n  padding-left: 20px;\n}\n:host .sbIndent1 {\n  padding-left: 20px;\n}\n:host .sbIndent1.option {\n  padding-left: 40px;\n}\n:host .sbIndent2 {\n  padding-left: 40px;\n}\n:host .sbIndent2.option {\n  padding-left: 60px;\n}\n:host .sbIndent3 {\n  padding-left: 60px;\n}\n:host .sbIndent3.option {\n  padding-left: 80px;\n}\n:host .sbIndent4 {\n  padding-left: 80px;\n}\n:host .sbIndent4.option {\n  padding-left: 100px;\n}\n:host .sbIndent5 {\n  padding-left: 100px;\n}\n:host .sbIndent5.option {\n  padding-left: 120px;\n}\n:host .sbIndent6 {\n  padding-left: 120px;\n}\n:host .sbIndent6.option {\n  padding-left: 140px;\n}\n:host .sbIndent7 {\n  padding-left: 140px;\n}\n:host .sbIndent7.option {\n  padding-left: 160px;\n}\n:host .sbIndent8 {\n  padding-left: 160px;\n}\n:host .sbIndent8.option {\n  padding-left: 180px;\n}\n:host .sbIndent9 {\n  padding-left: 180px;\n}\n:host .sbIndent9.option {\n  padding-left: 200px;\n}\n:host .sbIndent10 {\n  padding-left: 200px;\n}\n:host .sbIndent10.option {\n  padding-left: 220px;\n}\n:host([class*='--mobile'].detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'].detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'].detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'].detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'].primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'].secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'].secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'].secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n:host([class*='--mobile'] .detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'] .detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'] .detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'] .detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'] .primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'] .secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'] .secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'] .secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n"])));function wc(t){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Cc(){return(Cc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Ec(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Ec(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jc(t)););return t}function Pc(t,e){return(Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=jc(t);if(e){var r=jc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ic(this,n)}}function Ic(t,e){if(e&&("object"===wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bc,Mc="sf-icon-chevrondown",Dc="top-level",Ac="option",Rc="sbIndent",Lc="right",qc="center",Fc="overridden",Nc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pc(t,e)}(s,t);var e,n,i,a=Tc(s);function s(){return xc(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sb-le-table-cell"}},{key:"properties",get:function(){return{item:String,value:{notify:!0},model:{type:Object,notify:!0},fieldClass:String,data:Object,display:String,index:Number,detailsOnHover:{type:Boolean,value:!1},renderTooltip:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return _t.a.getViewport()}},editable:Boolean,calculateImmediately:{type:Object,value:function(){return o.a.org.calculateImmediately}}}}},{key:"observers",get:function(){return["_modelIsChangedObserver(model, index, viewport)","_displayChanged(display)","_dataOrValueChangedObserver(data, value, item)","_updateOriginalValueObserver(model, item)","_editableChangedObserver(editable, model, item)"]}},{key:"template",get:function(){return Object(Qe.b)(mc||(mc=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t\t<style include="sb-common-styles"></style>\n\t\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t\t<style include="sb-forms-styles"></style>\n\t\t\t\t<style>','</style>\n\t\t\t\t<div device>\n\t\t\t\t\t<div id="fieldContainer" class$="container [[fieldClass]]">\n\t\t\t\t\t\t<div class="label">[[label]]</div>\n\t\t\t\t\t\t<sb-field id="field" model="[[model]]" record="[[data]]" ref-display="{{display}}" render-read-only="true" signaler="[[signaler]]"></sb-field>\n\t\t\t\t\t\t<span id="overrideField">[[overrideValue]]</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="dom-if" if="[[renderTooltip]]">\n\t\t\t\t\t\t<paper-tooltip for="fieldContainer" position="bottom" animation-delay="0">\n\t\t\t\t\t\t\t<template is="dom-if" if="[[detailsOnHover]]">\n\t\t\t\t\t\t\t\t\x3c!--paper tooltip needs a text inside otherwise will not render the table (it\'s hidden in the UI)--\x3e\n\t\t\t\t\t\t\t\t<span class="anchor">[[model.lineVO.dimensionType]]</span>\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-group id="labels"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem="sb-le-table-header-cell"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel="{}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup="[[model.groupModel.quoteModel.editorModel.data.multiSegmentLineFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="[[model.groupModel.quoteModel.editorModel.md.fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="hoverFieldHeader">\n\t\t\t\t\t\t\t\t\t\t\t\t</sb-group>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-group id="values"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem="sb-le-table-cell"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup="[[model.groupModel.quoteModel.editorModel.data.multiSegmentLineFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="[[_getRecord()]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="[[_getRecord()]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel="[[_getLineModel()]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="hoverField">\n\t\t\t\t\t\t\t\t\t\t\t\t</sb-group>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t'])),_c)}}],(n=[{key:"_onTap",value:function(){}},{key:"ready",value:function(){var t=this;Cc(jc(s.prototype),"ready",this).call(this),Object.entries({click:"_onTap","datepicker-opened":"_datePickerOpened","sb-field-on-change-field":"_handleFieldValueChanged"}).map((function(e){var n=Oc(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])}))}},{key:"connectedCallback",value:function(){Cc(jc(s.prototype),"connectedCallback",this).call(this),this.isAttached=!0,this.wasModelIsChangedCalledBeforeAttached&&this._modelIsChanged(),this.model&&this.model.lineVO&&this.model.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]&&this.model.groupModel&&this.model.groupModel.quoteModel.isAmendmentOrChangeQuote&&this.item===this.constants.QUANTITY_FIELD&&(this.quoteLineUpgradeHandler=new ac(this.model),this.quoteLineUpgradeHandler.getSourceLineVO()&&this.quoteLineUpgradeHandler.getUpgradeLineVO()&&(this.addEventListener("value-changed",this._quantityChanged),this.assetUpgradeQuantityCalculator=new oc.a(this.quoteLineUpgradeHandler)))}},{key:"_datePickerOpened",value:function(t){var e=t.detail.dateContainer,n=t.detail.datepicker,o=n.offsetParent.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.model.groupModel.quoteModel;!i.grouped&&i.editorModel.largeQuoteExperienceEnabled&&(n.style.left="".concat(-o.left+r.left,"px"),n.style.top="".concat(r.bottom-o.top,"px")),r.left+n.offsetWidth>window.innerWidth&&(n.style.left="",n.style.right=o.right-r.right+17+"px"),t.stopPropagation()}},{key:"_modelIsChangedObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._modelIsChanged(t,e,n)}},{key:"_modelIsChanged",value:function(){if(this.wasModelIsChangedCalledBeforeAttached=!this.isAttached,this.isAttached&&this.model)if(this.item!==this.constants.SUBSCRIPTION_SCOPE_FIELD||this.model.subscriptionScopeEditable){this.isMobile=this.viewport&&this.viewport.isMobile(),this.overrideEditable=this.classList.contains("mdqSummaryRow")||this.classList.contains("primary");var t=this._setEditable(),e=this._setFieldMD();this._setFieldClassAndFieldContent(e)||(!e.defaultValue||null!=this.value||e.controllingPicklist||e.dependentPicklist||(this.value=e.defaultValue),this.data&&this.value!=this.data[this.item]&&(this.value=this.data[this.item]),void 0===this.value&&(this.value=null),this.label=e.label,this.$.field.editing=t,this.$.field.md=e,this.$.field.property=this.item,this.model.segmented&&!/__c$/.test(this.item)&&"total"!=this.item&&(this.removeEventListener("mouseenter",this._showDetails),this.removeEventListener("mouseleave",this._showDetails),this.renderTooltip=!0,this.addEventListener("mouseenter",this._showDetails),this.addEventListener("mouseleave",this._showDetails)))}else this.fieldClass+=" ".concat(Fc)}},{key:"_updateOriginalValueObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._updateOriginalValue(t,e)}},{key:"_updateOriginalValue",value:function(){this.model.lineVO&&(this.model.lineVO.ui_original_record=this.model.lineVO.ui_original_record||JSON.parse(JSON.stringify(this.model.lineVO.record)));var t=this.get("model.lineVO.ui_original_record");this.$.field.originalValue=t[this.item]}},{key:"_dataOrValueChangedObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._dataOrValueChanged(t,e,n)}},{key:"_dataOrValueChanged",value:function(t,e,n){this.internal=!0,this.userChangedLookupValue?this._updateRelationshipName():this._updateLookupDisplayValue(),this.$.field.value=this.model&&Object(Ot.c)(this.model,n)?Object(Ot.b)(this.model,n).displayValue:e,this.internal=!1,this.userChangedLookupValue=!1}},{key:"_updateRelationshipName",value:function(){this.model&&new Ho.a(this.item,this.data).addRelationshipName(this.value,this.display,this.model.getFieldMD(this.item).referenceTo[0])}},{key:"_updateLookupDisplayValue",value:function(){var t=new Ho.a(this.item,this.data);t.hasRelationship()?this.display=t.getRelationshipName():this.display=void 0}},{key:"_displayChanged",value:function(){this.userChangedLookupValue=!this.internal}},{key:"_setEditable",value:function(){return!this.overrideEditable&&this.model.isEditable(this.item)}},{key:"_editableChangedObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._editableChanged(t,e,n)}},{key:"_editableChanged",value:function(){this.$.field.editing=!this.overrideEditable&&this.model.isEditable(this.item)}},{key:"_setFieldMD",value:function(){var t=this.model.getFieldMD(this.item)?this.model.getFieldMD(this.item):this.model.getFieldMD(this.constants.NET_TOTAL_FIELD);return t.CurrencyIsoCode=this.model.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode,this.constants.QUANTITY_FIELDS&&this.constants.QUANTITY_FIELDS.has(this.item)&&null!=this.model.lineVO.productQuantityScale&&(t=Object.assign({},t,{scale:this.model.lineVO.productQuantityScale})),t}},{key:"_setFieldClassAndFieldContent",value:function(t){var e="";if(this.model.editorModel.data.settings.productHierarchyVisualized&&!this.model.segmented&&(this.isMobile?this.item!==this.constants.PRODUCT_NAME_FIELD&&this.item!==this.constants.NET_TOTAL_FIELD||(e+="".concat(Rc).concat(this.record[this.constants.OPTION_LEVEL_FIELD])):this.item===this.constants.PRODUCT_NAME_FIELD&&(this.model.isBundle?e+="".concat(Mc," "):this.model.component||(e+="".concat(Dc," ")),this.model.component&&(this.model.isBundle||(e+="".concat(Ac," ")),e+="".concat(Rc).concat(this.record[this.constants.OPTION_LEVEL_FIELD])))),(this._isSegmentedDrawer()||"number"==t.type||"double"==t.type||"percent"==t.type||"currency"==t.type)&&(e+=" ".concat(Lc),this.classList.contains("drawerCell")&&this._togglePreventNumericAlignment(),this._isSegmentedDrawer()&&this._toggleSegmentedAlignment()),this._isSegmentedDrawer()||"boolean"!==t.type||(e+=" ".concat(qc)),this.model.bundled&&this.item===this.constants.LIST_PRICE_FIELD)return this.overrideValue=o.a.properties.i18n.value().l("Included"),e+=" ".concat(Fc),this.fieldClass=e,!0;var n=ne.getLocalizedValue(this.model,this.item);return n?(this.overrideValue=n,e+=" ".concat(Fc),this.fieldClass=e,!0):(this.fieldClass=e,!1)}},{key:"_togglePreventNumericAlignment",value:function(){this.$.field.preventNumericAlignment=!this.$.field.preventNumericAlignment}},{key:"_toggleSegmentedAlignment",value:function(){this.$.field.segmentedAlignment=!0}},{key:"_isSegmentedDrawer",value:function(){return"mdqSummaryRow"===this.model.itemClassMap.attributes&&!this.classList.contains("mdqSummaryRow")}},{key:"_quantityChanged",value:function(t){if(!this.model.internalUpdate){this.assetUpgradeQuantityCalculator.setQuantitiesByRatio();var e=this.quoteLineUpgradeHandler.getIndexes(),n=this.quoteLineUpgradeHandler.getSourceLineVO(),o=this.quoteLineUpgradeHandler.getUpgradeLineVO();this.dispatchEvent(Object(r.d)("upgrade-asset-quantity-changed",{sourceIndex:e.sourceIndex,upgradeIndex:e.upgradeIndex,sourceLineVO:n,upgradeLineVO:o}))}}},{key:"_handleFieldValueChanged",value:function(t){!t.detail.suppressImmediateCalculation&&this.calculateImmediately&&this.dispatchEvent(Object(r.d)("calculate-immediately"));var e={value:this.item};this.dispatchEvent(Object(r.d)("field-updated",e))}},{key:"_showDetails",value:function(t){var e=t.type;this.detailsOnHover="mouseenter"==e}},{key:"_getLineModel",value:function(){if("total"!=this.item&&null!=this.model.segmentsByLabel)for(var t=Object.keys(this.model.segmentsByLabel),e=t.length,n=0;n<e;n++)if(t[n].replace(/\W/g,"")==this.item)return this.model.segmentsByLabel[t[n]];return this.model}},{key:"_getRecord",value:function(){return this._getLineModel().lineVO.record}},{key:"constants",get:function(){return this.model.editorModel.constants}},{key:"record",get:function(){return this.model.lineVO.record},set:function(t){this.model.lineVO.record=t}}])&&Sc(e.prototype,n),i&&Sc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Ae.a)(Qe.a));customElements.define(Nc.is,Nc);var zc,Hc=Object(ze.b)(Bc||(Bc=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile'].innerTd.right) {\n  text-align: left !important;\n  padding: 0 !important;\n}\n:host([class*='--mobile'] .innerTd.right) {\n  text-align: left !important;\n  padding: 0 !important;\n}\n:host([class*='--mobile'].desktopOnly) {\n  display: none !important;\n}\n:host([class*='--mobile'] .desktopOnly) {\n  display: none !important;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden !important;\n  --primary-multi-padding-top: 2px;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden !important;\n  --primary-multi-padding-top: 2px;\n}\n"])));function Uc(t){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Wc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $c(){return($c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Kc(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Kc(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zc(t)););return t}function Yc(t,e){return(Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Zc(t);if(e){var r=Zc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Jc(this,n)}}function Jc(t,e){if(e&&("object"===Uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zc(t){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tu,eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yc(t,e)}(a,t);var e,n,o,i=Xc(a);function a(){return Qc(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-segmented-detail-row"}},{key:"properties",get:function(){return{lineModel:{type:Object,notify:!0},viewport:{type:Object,value:function(){return _t.a.getViewport()}},columnName:String,itemClassMap:{type:Object,value:{}},highlightRowOnFocus:{type:Boolean,observer:"_highlightRowOnFocus"},index:{type:Number,reflectToAttribute:!0},segmentRecord:Object}}},{key:"observers",get:function(){return["_lineRecordChanged(lineModel.segments.*)","_lineModelChanged(lineModel, columnName)","_setGroupObserver(detailFieldNames, segmentRecord, segmentModel, mobileCols, fieldLabelsMap)"]}},{key:"template",get:function(){return Object(Qe.b)(zc||(zc=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t\n\t\t\t<sb-group id="column"\n\t\t\t\t\titem="sb-le-table-cell"\n\t\t\t\t\tdata="{{segmentRecord}}"\n\t\t\t\t\tmodel="{{segmentModel}}"\n\t\t\t\t\tgroup-class="tgroup details"\n\t\t\t\t\tclass="innerTd"\n\t\t\t\t\titem-class="detailField"\n\t\t\t\t\tprimary-items="[[mobileCols]]"\n\t\t\t\t\tgroup-display="[[fieldLabelsMap]]"\n\t\t\t\t\titem-class-map="[[itemClassMap]]"\n\t\t\t\t\tsignaler="[[signaler]]"\n\t\t\t\t\ton-click="expand"\n\t\t\t\t\tdevice\n\t\t\t></sb-group>\n\t\t'])),Hc)}}],(n=[{key:"constants",get:function(){return this.lineModel.editorModel.constants}},{key:"selector",get:function(){return this.signaler?this.signaler.selector:null}},{key:"isMobile",get:function(){this.viewport&&this.viewport.isMobile()}},{key:"ready",value:function(){$c(Zc(a.prototype),"ready",this).call(this),this.expanded=!1}},{key:"expand",value:function(t){this.isMobile&&this.enableEditableFields(),this.$.column.dispatchEvent(Object(r.d)("group-expanded",{path:t.composedPath()}))}},{key:"enableEditableFields",value:function(){var t,e=Vc(this.$.column.shadowRoot.querySelectorAll("sb-le-table-cell"));try{for(e.s();!(t=e.n()).done;)t.value.shadowRoot.querySelector("sb-field").renderReadOnly=!1}catch(t){e.e(t)}finally{e.f()}}},{key:"_lineRecordChanged",value:function(t){if(t.path){var e="lineModel.segments.".length,n=t.path.indexOf(".",e),o=t.path.substring(e,n);if(this._pathRefersToMySegmentRecord(o)){var i=t.path.split("."),a=i[i.length-1];"fieldEditability"==a?this._editabilityChanged():"fieldVisibility"==a?this._visibilityChanged():(this.set("segmentRecord.".concat(a),t.value),this.notifyPath("segmentRecord.".concat(a),t.value),this.dispatchEvent(Object(r.d)("line-record-changed",{property:a})))}}}},{key:"_lineModelChanged",value:function(){this.dimension=this.lineModel.lineVO.dimensionType,this.segmentModel=this.lineModel.segmentsByLabel[this.columnName]?this.lineModel.segmentsByLabel[this.columnName]:new xt({key:null,record:{}},this.lineModel.groupModel);var t=this.shadowRoot.querySelector("#column");if(this.isMobile&&t&&(this.lineModel.lineVO.expanded||!1)!=(this.expanded||!1)){var e=new CustomEvent("click",!0,!1),n=t.shadowRoot.querySelectorAll("sb-le-table-cell")[0];n&&n.dispatchEvent(e)}}},{key:"_setGroupObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this._setGroup(t,e,n,o,r)}},{key:"_setGroup",value:function(){this.$.column.group||(this._initializeFieldVisibility(),this.$.column.group=this.detailFieldNames)}},{key:"_initializeFieldVisibility",value:function(){var t=this,e={};this.detailFieldNames.forEach((function(n){t.segmentModel.isFieldRendered(n,t.isMobile)||(e[n]=t.isMobile?"hiddenInMobile":"hiddenInDesktop")})),this.$.column.itemClassMap=e}},{key:"_visibilityChanged",value:function(){var t=this;this.segmentModel.lineVO.fieldVisibility&&this.detailFieldNames.forEach((function(e){var n=t.segmentModel.isFieldRendered(e,t.isMobile),o=[{class:"hiddenInMobile",value:!n},{class:"hiddenInDesktop",value:!n}];t.$.column.set("itemClassMap."+e,o)}))}},{key:"_editabilityChanged",value:function(){var t=this;if(this.segmentModel.lineVO.fieldEditability&&this.detailFieldNames){var e={};this.detailFieldNames.forEach((function(n){t.segmentModel.lineVO.fieldEditability.hasOwnProperty(n)&&(e[n]=t.lineModel.isEditable(n,t.segmentModel.lineVO.fieldEditability))})),this.$.column.itemEditableMap=e}}},{key:"_pathRefersToMySegmentRecord",value:function(t){if(!this.segmentRecord)return!1;if(null==this.lineModel.segments)return!1;if(!this.lineModel.segments[t])return!1;var e=this.lineModel.segments[t].lineVO,n=e.record[this.constants.SEGMENT_KEY_FIELD],o=e.record[this.constants.SEGMENT_INDEX_FIELD],r=e.record[this.constants.SEGMENT_LABEL_FIELD],i=this.segmentRecord[this.constants.SEGMENT_KEY_FIELD],a=this.segmentRecord[this.constants.SEGMENT_INDEX_FIELD],s=this.segmentRecord[this.constants.SEGMENT_LABEL_FIELD];return n===i&&o===a&&r===s}},{key:"_highlightRowOnFocus",value:function(){this.signaler=this.signaler||new nc.a(this,"column","sb-le-table-cell",null,this.index),this.signaler.signalOnFocus("sb-row-focus-signal",!this.highlightRowOnFocus)}}])&&Gc(e.prototype,n),o&&Gc(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Le.a)(Object(Ae.a)(Qe.a)));customElements.define(eu.is,eu);var nu,ou=Object(ze.b)(tu||(tu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: table-row-group;\n  word-break: break-word;\n}\n:host div#detailFieldNames {\n  vertical-align: top;\n}\n:host([class*='--desktop']) {\n  background-color: var(--sbDrawerBgColor);\n}\n:host #selection[class*='--desktop'] {\n  width: 30px;\n}\n:host #itemNumber[class*='--desktop'] {\n  width: 40px;\n}\n:host .lineActions[class*='--desktop'] {\n  width: 95px;\n}\n:host([class*='--desktop']) {\n  background-color: var(--sbDrawerBgColor);\n}\n:host [class*='--desktop'] #selection {\n  width: 30px;\n}\n:host [class*='--desktop'] #itemNumber {\n  width: 40px;\n}\n:host [class*='--desktop'] .lineActions {\n  width: 95px;\n}\n:host sb-group.detailFieldNames[class*='--mobile'],\n:host .empty[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] sb-group.detailFieldNames,\n:host [class*='--mobile'] .empty {\n  display: none;\n}\n"])));function ru(t){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iu(t){return function(t){if(Array.isArray(t))return au(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return au(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return au(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function au(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function cu(){return(cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=uu(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function uu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fu(t)););return t}function du(t,e){return(du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=fu(t);if(e){var r=fu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return hu(this,n)}}function hu(t,e){if(e&&("object"===ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fu(t){return(fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bu,yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&du(t,e)}(a,t);var e,n,o,i=pu(a);function a(){return su(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-segmented-line-details"}},{key:"properties",get:function(){return{lineModel:{type:Object,notify:!0},groupModel:{type:Object,notify:!0},fieldNames:Array,detailFieldNames:Array,fieldLabelsMap:Object,columnNames:Array,itemClassMap:{type:Object,value:{}},viewport:{type:Object,value:function(){return _t.a.getViewport()}},tabIndex:{type:Number,computed:"_initTabIndex(viewport)"},eventListeners:{type:Object,value:{change:"_onChange","rte-value-changed":"_onChange","line-record-changed":"_onLineRecordChange"}}}}},{key:"observers",get:function(){return["_buildRowObserver(detailFieldNames, fieldNames, lineModel, columnWidths)","_columnWidthsChanged(columnWidths)"]}},{key:"template",get:function(){return Object(Qe.b)(nu||(nu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t\t<div device class="tr">\n\t\t\t\t<div class="leGroup">\n\t\t\t\t\t\x3c!--placeholder for line actions column on the right--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[_isActionsOnTheLeft(lineModel.editorModel)]]">\n\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t\x3c!--placeholder for selection column--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[lineModel.editorModel.data.settings.multiLineDeleteEnabled]]">\n\t\t\t\t\t\t<div id="selection" class="td"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t\x3c!--placeholder for number column--\x3e\n\t\t\t\t\t<div id="itemNumber" class="td"></div>\n\t\t\t\t\t<div tabindex$="[[tabIndex]]" on-keyup="forwardFocusDown" on-keydown="forwardFocusDown"></div>\n\t\t\t\t\t<div class="td">\n\t\t\t\t\t\t\x3c!--detail field names column--\x3e\n\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t<div id="detailFieldNames" class="innerTd empty"  style$="min-width:[[fieldNamesColWidth]];max-width:[[fieldNamesColWidth]];">\n\t\t\t\t\t\t\t<sb-group id="header"\n\t\t\t\t\t\t\t\titem="sb-le-table-header-cell"\n\t\t\t\t\t\t\t\tmodel="[[lineModel]]"\n\t\t\t\t\t\t\t\tdata="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\tgroup-class="tgroup"\n\t\t\t\t\t\t\t\tclass="innerTd detailFieldNames right"\n\t\t\t\t\t\t\t\titem-class-map="[[itemClassMap]]"\n\t\t\t\t\t\t\t\titem-class="detailFieldName">\n\n\t\t\t\t\t\t\t</sb-group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--segments--\x3e\n\t\t\t\t\t\t<template is="dom-repeat" items="{{columnNames}}" as="columnName">\n\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t<sb-segmented-detail-row \n\t\t\t\t\t\t\t\tid="column"\n\t\t\t\t\t\t\t\tline-index="[[lineIndex]]"\n\t\t\t\t\t\t\t\tdetail-field-names="[[detailFieldNamesWithLabel]]"\n\t\t\t\t\t\t\t\tsegment-record="{{getSegmentRecord(columnName, lineModel)}}"\n\t\t\t\t\t\t\t\tcolumn-name="[[columnName]]"\n\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\tclass$="innerTd right [[segmentExists(columnName)]] column [[deviceClasses]]"\n\t\t\t\t\t\t\t\tfield-labels-map="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\tmobile-cols="[[mobileCols]]"\n\t\t\t\t\t\t\t\tstyle$="min-width:[[_segDetailColWidth(columnName, columnWidths)]];max-width:[[_segDetailColWidth(columnName, columnWidths)]];"\n\t\t\t\t\t\t\t\thighlight-row-on-focus="[[!isMobile()]]"\n\t\t\t\t\t\t\t></sb-segmented-detail-row>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!--totals column--\x3e\n\t\t\t\t\t<div class="td empty total" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];"></div>\n\t\t\t\t\t\x3c!--placeholder for line actions column on the right--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[!_isActionsOnTheLeft(lineModel.editorModel)]]">\n\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div tabindex$="[[tabIndex]]" on-keyup="forwardFocusUp" on-keydown="forwardFocusUp"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),ou)}}],(n=[{key:"connectedCallback",value:function(){var t=this;cu(fu(a.prototype),"connectedCallback",this).call(this),Object(r.b)(this,this.eventListeners),Object(qe.a)(this,(function(){t.detailFieldNames.forEach((function(e){t._adjustDetailFieldHeights(e)}))}))}},{key:"disconnectedCallback",value:function(){cu(fu(a.prototype),"disconnectedCallback",this)&&cu(fu(a.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,this.eventListeners)}},{key:"_adjustDetailFieldHeights",value:function(t){var e=this.lineModel.getFieldMD(t);if(e&&("textarea"===e.type||"string"===e.type||"currency"===e.type)){var n=this._pierceShadowRootToGetFieldElements(this,t);if(n){var o=Array.from(n),r=Math.max.apply(Math,iu(o.map((function(t){return t.scrollHeight}))));o.forEach((function(t){t.offsetHeight<r&&(t.style.height=r+"px")}));var i=this.$.header.shadowRoot.querySelector("sb-le-table-header-cell[item='".concat(t,"']")),a=i?i.getHeader():null;a&&a.offsetHeight<r&&(a.style.height=r+"px")}}}},{key:"_pierceShadowRootToGetFieldElements",value:function(t,e){var n=Array.from(t.shadowRoot.querySelectorAll("sb-segmented-detail-row")),o=Array.from(n.map((function(t){return t.shadowRoot.querySelector("sb-group").shadowRoot.querySelector('sb-le-table-cell[item="'.concat(e,'"]'))})));return Array.from(o.map((function(t){return t.shadowRoot.querySelector("sb-field#field")})))}},{key:"_onLineRecordChange",value:function(t){t.detail&&this._adjustDetailFieldHeights(t.detail.property)}},{key:"_onChange",value:function(t){var e=this;if(t.detail){var n=t.composedPath();Object(qe.a)(this,(function(t){var n=t.find((function(t){return"SB-LE-TABLE-CELL"===t.tagName}));n&&e._adjustDetailFieldHeights(n.item)}),[n])}}},{key:"isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"getSegmentRecord",value:function(t){return this.lineModel.segmentsByLabel[t]?this.lineModel.segmentsByLabel[t].lineVO.record:new xt({key:null,record:{}},this.lineModel.groupModel).lineVO.record}},{key:"segmentExists",value:function(t){return this.lineModel.segmentsByLabel[t]?"":"desktopOnly"}},{key:"forwardFocusDown",value:function(t){9!==t.keyCode||t.shiftKey||nc.a.signalFirstEditableTargetFirstRow(this,"sb-segmented-detail-row","index")}},{key:"forwardFocusUp",value:function(t){9===t.keyCode&&t.shiftKey&&nc.a.signalLastEditableTargetLastRow(this,"sb-segmented-detail-row",this.columnNames.length,"index")}},{key:"_buildRowObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this._buildRow(t,e,n,o)}},{key:"_buildRow",value:function(){this._setColumnWidths(),this.$.header.itemClassMap=this.itemClassMap,this.detailFieldNamesWithLabel=this.isMobile()?[this.lineModel.editorModel.constants.SEGMENT_LABEL_FIELD].concat(this.detailFieldNames):this.detailFieldNames,this.$.header.group||(this.$.header.group=this.detailFieldNamesWithLabel)}},{key:"_isActionsOnTheLeft",value:function(t){return t.actionsOnTheLeft}},{key:"_setColumnWidths",value:function(){if(!this.isMobile()){var t=this.columnWidths;if(t&&this.columnNames){for(var e=0,n=0,o=this.fieldNames.length;n<o;n++)e+=t[this.fieldNames[n]];this.fieldNamesColWidth=e+"px",this.totalColWidth=t.total+"px"}}}},{key:"_segDetailColWidth",value:function(t,e){return e[Object(st.l)(t)]+"px"}},{key:"_columnWidthsChanged",value:function(){this._setColumnWidths()}},{key:"_initTabIndex",value:function(){return this.isMobile()?-1:0}}])&&lu(e.prototype,n),o&&lu(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Qe.a));customElements.define(yu.is,yu);var gu,vu=Object(ze.b)(bu||(bu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  /* add padding for expand icon when only 1 digit row index number */\n}\n:host sf-le-table-row:nth-of-type(-n+10) {\n  --segmented-icon-padding: 6px !important;\n}\n:host(.largeQuote) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable .listContainer {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 100px;\n}\n:host(.largeQuote) #tableContainer #datatable .tbody {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable iron-list {\n  flex: 1;\n  overflow-x: hidden !important;\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td {\n  color: var(--sbFontColor);\n  font-size: 16px;\n  font-weight: normal;\n  text-transform: none;\n  background-color: var(--sbPageHeaderBgColor);\n  border-top-width: var(--sbPageHeaderBorderBottomWidth);\n  border-top-style: var(--sbPageHeaderBorderBottomStyle);\n  border-top-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.colSubtotal {\n  border-top-width: 0;\n}\n:host(.largeQuote) #subtotalContainer #subtotal {\n  padding-right: 24px;\n}\n:host .tfoot {\n  color: var(--sbGroupHeaderFontColor);\n  display: block;\n  will-change: transform;\n}\n:host .tfoot #mdqSubtotal {\n  --sbFieldWhiteSpace: normal;\n  --sbFieldWordWrap: break-word;\n}\n:host .tfoot .td {\n  border-bottom: none;\n}\n:host .tfoot .td.subtotal {\n  padding-right: 24px;\n}\n:host .tfoot #subtotalLabel {\n  text-transform: uppercase;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n  padding-right: 18px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n  padding-right: 18px;\n}\n:host([class*='--mobile']) {\n  --sb-le-table-cell-border-bottom: 1px solid #d8dde6;\n}\n:host .datatable[class*='--mobile'] .tfoot {\n  display: block;\n  padding: 5px 0;\n}\n:host .datatable[class*='--mobile'] .tfoot .subtotal,\n:host .datatable[class*='--mobile'] .tfoot .subtotalLabel {\n  display: inline-block;\n  font-size: 1rem;\n  font-weight: bold;\n  color: var(--sbFontColor);\n}\n:host .subtotalLabel[class*='--mobile'] {\n  padding-left: 25px;\n  padding-right: 0;\n}\n:host .hiddenInMobile[class*='--mobile'] {\n  display: none;\n}\n:host([class*='--mobile']) {\n  --sb-le-table-cell-border-bottom: 1px solid #d8dde6;\n}\n:host [class*='--mobile'] .datatable .tfoot {\n  display: block;\n  padding: 5px 0;\n}\n:host [class*='--mobile'] .datatable .tfoot .subtotal,\n:host [class*='--mobile'] .datatable .tfoot .subtotalLabel {\n  display: inline-block;\n  font-size: 1rem;\n  font-weight: bold;\n  color: var(--sbFontColor);\n}\n:host [class*='--mobile'] .subtotalLabel {\n  padding-left: 25px;\n  padding-right: 0;\n}\n:host [class*='--mobile'] .hiddenInMobile {\n  display: none;\n}\n:host .emptyTableMessage {\n  padding: 15px 30px;\n}\n:host .hoverover {\n  cursor: all-scroll;\n  background-color: #d8edff;\n  border: 1px solid #5eb4ff;\n}\n"])));function mu(t){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _u(t){return function(t){if(Array.isArray(t))return wu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return wu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ku(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xu(){return(xu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Su(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Su(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tu(t)););return t}function Cu(t,e){return(Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Tu(t);if(e){var r=Tu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Pu(this,n)}}function Pu(t,e){if(e&&("object"===mu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Iu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cu(t,e)}(s,t);var e,n,i,a=Eu(s);function s(){return Ou(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sf-segmented-table"}},{key:"properties",get:function(){return Object(st.e)({rowTemplate:{type:Object},secondaryRowTemplate:Object,uiData:Object,originalFieldValues:{type:Object,value:{}},expansionIconClass:{type:String}},si.properties)}},{key:"observers",get:function(){return["_modelReady(groupModel)"]}},{key:"template",get:function(){return Object(Qe.b)(gu||(gu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="iron-positioning"></style>\n\t\t<style>','</style>\n\t\t\n\t    <div id="tableContainer" device>\n\t\t\t<template is="dom-if" if="[[hasVisibleSegmentedLines]]">\n\t\t\t\t\x3c!--iron-list--\x3e\n\t\t\t\t<template is="dom-if" if="[[groupModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t<div id="datatable" tabindex="0" on-focusout="_onFocusOut" on-keydown="_onKeyDown">\n\t\t\t\t\t\t<div class="theader">\n                            <sf-le-table-header id="header"\n                                                column-widths="[[columnWidths]]"\n                                                template="[[headerTemplate]]"\n                                                ui-data="[[fieldLabelsMap]]"\n                                                line-models="{{lineModels}}"\n\t\t\t\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"></sf-le-table-header>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="listContainer">\n\t\t\t\t\t\t\t<div class="tbody fit vertical layout">\n\t\t\t\t\t\t\t\t<iron-list items="{{lineModels}}" as="lineModel">\n\t\t\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t\t\t<div style$="z-index:[[getZIndex(index, lineModels.length)]]">\n\t\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.visible]]">\n\t\t\t\t\t\t\t\t\t\t\t\t<sf-le-table-row line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t template="[[rowTemplate]]"\n                                                                 secondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t is-segmented="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t original-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t data-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t hidden$="{{lineModel.hidden}}"></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.lineVO.expanded]]">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-segmented-line-details line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   detail-field-names="[[detailFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-names="[[columnNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-labels-map="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   line-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   mobile-cols="[[groupModel.editorModel.segmentedDetailsPrimaryMobileCols]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   hidden$="{{lineModel.hidden}}"></sb-segmented-line-details>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</iron-list>\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t\t<div id="subtotalContainer" class="tfoot">\n\t\t\t\t\t\t\t\t\t\t<div id="subtotalLabel" class="td right subtotalLabel" style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"><sb-i18n>Subtotal</sb-i18n>:</div>\n\t\t\t\t\t\t\t\t\t\t<div class="td hiddenInMobile">\n\t\t\t\t\t\t\t\t\t\t\t<template is="dom-repeat" items="[[columnNames]]" as="columnName">\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="td colSubtotal right" style$="min-width:[[_setSubtotalColWidth(columnName, columnWidths)]];max-width:[[_setSubtotalColWidth(columnName, columnWidths)]];">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqSubtotal" value="[[getMultiSegmentColumnTotal(columnName, groupModel.multiSegmentColumnTotals.*)]]" property="[[columnName]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t<div class="td right subtotal" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];">\n\t\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqTotal" value="[[getMultiSegmentTotalField(dimension, groupModel.netMultiSegmentTotal.*)]]" property="[[netMultiSegmentTotalField]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[!groupModel.editorModel.actionsOnTheLeft]]">\n\t\t\t\t\t\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t\x3c!--regular table--\x3e\n\t\t\t\t<template is="dom-if" if="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t<div class="datatable leTable" tabindex="0" on-focusout="_onFocusOut" on-keydown="_onKeyDown">\n\t\t\t\t\t\t<div class="tbody sb-droppable-mdqRows">\n\t\t\t\t\t\t\t\x3c!--header row--\x3e\n                            <sf-le-table-header id="header"\n                                                column-widths="[[columnWidths]]"\n                                                template="[[headerTemplate]]"\n                                                ui-data="[[fieldLabelsMap]]"\n                                                line-models="{{lineModels}}"\n\t\t\t\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"></sf-le-table-header>\n\t\t\t\t\t\t\t\x3c!--table rows--\x3e\n\t\t\t\t\t\t\t<template is="dom-repeat" items="{{lineModels}}" as="lineModel">\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.visible]]">\n\t\t\t\t\t\t\t\t\t<sf-le-table-row line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t ui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t template="[[rowTemplate]]"\n                                                     secondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t is-segmented="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t original-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t data-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t hidden$="{{lineModel.hidden}}"></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.lineVO.expanded]]">\n\t\t\t\t\t\t\t\t\t\t<sb-segmented-line-details line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   detail-field-names="[[detailFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-names="[[columnNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-labels-map="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   line-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   mobile-cols="[[groupModel.editorModel.segmentedDetailsPrimaryMobileCols]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   hidden$="{{lineModel.hidden}}"></sb-segmented-line-details>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t<div class="tfoot">\n\t\t\t\t\t\t\t\t\t<div id="subtotalLabel" class="td right subtotalLabel" style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"><sb-i18n>Subtotal</sb-i18n>:</div>\n\t\t\t\t\t\t\t\t\t<div class="td hiddenInMobile">\n\t\t\t\t\t\t\t\t\t\t<template is="dom-repeat" items="[[columnNames]]" as="columnName">\n\t\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t\t<div class="td colSubtotal right" style$="min-width:[[_setSubtotalColWidth(columnName, columnWidths)]];max-width:[[_setSubtotalColWidth(columnName, columnWidths)]];">\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqSubtotal" value="[[getMultiSegmentColumnTotal(columnName, groupModel.multiSegmentColumnTotals.*)]]" property="[[columnName]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t<div class="td right subtotal" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];">\n\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqTotal" value="[[getMultiSegmentTotalField(dimension, groupModel.netMultiSegmentTotal.*)]]" property="[[netMultiSegmentTotalField]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t</template>\n\t\t</div>\n\t    '])),vu)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.GROUP_PANEL_CREATED]=this.groupPanelCreated,t[r.a.GROUP_PANEL_TOGGLED]=this.groupPanelToggled,t[r.a.GROUP_TOGGLED]=this.groupToggled,t[r.a.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,t[r.a.OPEN_LOOKUP_DIALOG]=this._openLookupDialog,t[r.a.CLOSE_LOOKUP_DIALOG]=this._closeLookupDialog,t[r.a.REFRESH_TABLE]=this._prepareUIData,t[r.a.RESET_ON_ACTION]=this._resetOnAction,t[r.a.LINE_SPLICE_COMPLETE]=this.postLineSplice,t[r.a.SORT_LINES_REQUIRED]=this.sortLinesRequired,t[r.a.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"ready",value:function(){var t=this;xu(Tu(s.prototype),"ready",this).call(this),this.addEventListener("le-action-tapped",this.unfocus),this.addEventListener("table-header-sort-clicked",this._onSortLinesByHeader),this.addEventListener("line-toggled",(function(e){t.editorModel.largeQuoteExperienceEnabled&&t._onUpdateSizeForItem(e)}))}},{key:"_modelReady",value:function(t){t&&!this._initialized&&(this._initialized=!0,this.editorModel.largeQuoteExperienceEnabled&&Object(qe.a)(this,(function(){this.shadowRoot.querySelector("iron-list").dispatchEvent(Object(r.d)("iron-resize",void 0))})),at.a.constants=this.editorModel.constants,this._resetHeaderTemplate(),this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,t,this.columnNames,this.dimension).generateRowNode(this._getFieldsForTemplate()),this.editorModel.deviceContext.isMobile&&(this.secondaryRowTemplate=this.getTemplateGenerator(this.editorModel,t,null,null,!0).generateRowNode(this._getFields(),{class:ut.classNames.SECONDARY+" "+ut.classNames.EXPANDED})))}},{key:"_prepareUIData",value:function(){var t=o.a.isMobile?this._getAllFields():this._getFields();this.uiData=re.prepareLineData(this.groupModel.segmentedLinesByDimension[this.dimension],t,this.quoteLineFields)}},{key:"getUIData",value:function(t){return this.uiData[t]}},{key:"_segmentedLinesByDimensionChanged",value:function(t){var e,n;if(n=(e=t.path.split(".")).indexOf(this.dimension)>=0,this.lineModels=this.groupModel.segmentedLinesByDimension[this.dimension],"splices"==e[e.length-1]&&n){var o=t.value.indexSplices;o[0].removed&&0===o[0].object.length?this.hasVisibleSegmentedLines=!1:o[0].addedCount>0&&(this.hasVisibleSegmentedLines=!0),this._prepareUIData()}}},{key:"_render",value:function(){if(this.groupModel){Object(st.m)("largeQuote",this.editorModel.largeQuoteExperienceEnabled,this),this.dimension=this.attributes.key.value,this.hasVisibleSegmentedLines=this.groupModel.hasVisibleSegmentedLines[this.dimension],this.fieldNames=this._getFields(),this.lineModels=this.groupModel.segmentedLinesByDimension[this.dimension],this.linkPaths("groupModel.segmentedLinesByDimension.".concat(this.dimension),"lineModels");var t={};for(var e in this.editorModel.md.fieldLabelsMap)t[Object(st.l)(e)]=this.editorModel.md.fieldLabelsMap[e];this.fieldLabelsMap=t,this.quoteLineFields=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],this.settings=this.editorModel.data.settings,this.detailFieldNames=this.editorModel.fieldsetMap.multiSegmentLineFieldNames;var n=this.groupModel.groupVO.multiSegmentColumns;n&&Object.keys(n).length>0?(this.columnNames=n[this.dimension],this.headerColumnNames=this.groupModel.groupVO.localizedMultiSegmentColumns[this.dimension]):(this.columnNames=this.groupModel.quoteModel.quoteVO.multiSegmentColumns[this.dimension],this.headerColumnNames=this.editorModel.quoteModel.quoteVO.localizedMultiSegmentColumns[this.dimension]),this.netMultiSegmentTotalField=this.editorModel.constants.NET_TOTAL_FIELD,this.columnWidths={},this._setColumnWidths(),this.expansionIconClass="sf-icon-right"}}},{key:"_getFieldsForTemplate",value:function(){return this.editorModel.deviceContext.isMobile?this.editorModel.segmentedPrimaryMobileCols:this._getFields()}},{key:"_getFieldSetName",value:function(){return this.editorModel.fieldSetNames.multiSegmentLineSummaryFieldNames}},{key:"sortLines",value:function(t,e,n,o,r){var i;if(e&&this.settings.lineLookups&&this.settings.lineLookups[e]){var a=RelationshipFieldManager.getRelationshipField(e,this.settings.lineLookups[e]).split(".");i=a[1],e=a[0]}var s=Dr(t,e,n,o,i);r?(this.unfocus(),this.set("groupModel.segmentedLinesByDimension.".concat(this.dimension),s.slice()),this.notifyPath("lineModels",s.slice()),this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,this.columnNames,this.dimension).generateRowNode(this._getFields())):this.groupModel.segmentedLinesByDimension[this.dimension]=s}},{key:"columnNamesChanged",value:function(t,e){e&&this.editorModel&&this.editorModel.largeQuoteExperienceEnabled&&(this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,this.columnNames,this.dimension).generateRowNode(this._getFields()),this._resetHeaderTemplate())}},{key:"_resetHeaderTemplate",value:function(){if(!this.editorModel.deviceContext.isMobile){var t=new Xr(this.editorModel,this.columnWidths,this.columnNames);this.headerTemplate=t.generateHeaderNode(this._getFieldsForTemplate())}}},{key:"_getAllFields",value:function(){var t=this._getFields();return this.editorModel.segmentedPrimaryMobileCols&&(t=t.concat(this.editorModel.segmentedPrimaryMobileCols)),_u(new Set(t))}}])&&ku(e.prototype,n),i&&ku(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Le.a)(Object(Ae.a)(Yi(si(Object(Re.a)(Qe.a))))));function ju(t){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Du(t,e){return(Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Au(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Lu(t);if(e){var r=Lu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ru(this,n)}}function Ru(t,e){if(e&&("object"===ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Iu.is,Iu);var qu,Fu=Object(Jr.a)((function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(a,t);var e,n,o,i=Au(a);function a(){return Bu(this,a),i.apply(this,arguments)}return e=a,o=[{key:"properties",get:function(){return{groupModel:{type:Object,notify:!0},settings:Object,fieldNames:Array,quoteLineFields:Object,fieldLabelsMap:{type:Object,notify:!0},subtotal:{type:Number},subtotalMd:Object,dragDrop:Object,viewport:{type:Object,value:function(){return _t.a.getViewport()}},visibleLines:{type:Array,computed:"_initVisibleLines(groupModel)"},tabIndex:{type:Number,computed:"_initTabIndex(viewport)"}}}},{key:"observers",get:function(){return["_buildRows(groupModel)","_updatePrimaryMobileColumnsObserver(fieldSet, groupModel.editorModel.standardPrimaryMobileCols)","_lineSplicesListener(groupModel.standardLines.splices)","_showSubtotal(groupModel.*)","_updateDragDropParentKey(groupModel.editorModel.quoteModel.linesByParentItemKey)"]}}],(n=[{key:"init",value:function(){this.groupModel&&(this.addEventListener("table-header-sort-clicked",this._onSortLinesByHeader),this.summaries=this.groupModel.quoteModel.grouped?this.groupModel.groupVO.summaries:this.groupModel.quoteModel.quoteVO.summaries,at.a.constants=this.editorModel.constants)}},{key:"editorModel",get:function(){return this.groupModel.quoteModel.editorModel}},{key:"md",get:function(){return this.editorModel.md}},{key:"prefix",get:function(){return this.editorModel.data.developerPrefix}},{key:"_buildRows",value:function(){this.groupModel&&this.groupModel.quoteModel&&this.groupModel.quoteModel.editorModel&&this.editorModel.fieldsetMap&&(Object(st.m)("largeQuote",this.editorModel.largeQuoteExperienceEnabled,this),this.actionsOnTheLeft=this.editorModel.actionsOnTheLeft,this.multiLineDeleteEnabled=this.editorModel.data.settings.multiLineDeleteEnabled,this.fieldSetHandler=new wt.a(this.editorModel.fieldsetMap,"lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone"),this._setFieldNames(),this.columnWidths={},this._setColumnWidths(),this.columnNames=null,this.fieldLabelsMap=this.editorModel.md.fieldLabelsMap[this.prefix+"QuoteLine__c"],this.quoteLineFields=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],this._setDrawerFields(),this.settings=this.editorModel.data.settings,this.postBuildRowRefresh(),this.shadowRoot.querySelector("iron-list")&&this.groupModel.groupKey&&1==this.editorModel.quoteModel.quoteVO.lineItemGroups.length&&this.shadowRoot.querySelector("iron-list").notifyResize())}},{key:"_setColumnWidths",value:function(t){var e=null;!this.editorModel.deviceContext.isMobile&&this.editorModel.layout&&(e=this.groupModel.colWidth.Standard,this._setSubtotalColumnWidth(e,this.editorModel.layout.leftOffset)),this.set("columnWidths",e),this._ironListResize(t)}},{key:"_setSubtotalColumnWidth",value:function(t,e){for(var n=e,o=this.fieldNames.length,r=0;r<o-1;r++)n+=t[this.fieldNames[r]];this.labelColWidth=n+6+"px";var i=t[this.fieldNames[this.fieldNames.length-1]];this.subtotalColWidth=i+6+"px"}},{key:"colWidthsChanged",value:function(t){this._setColumnWidths(t)}},{key:"_ironListResize",value:function(t){this.shadowRoot.querySelector("iron-list")&&t&&t.detail&&t.detail.groupKey===this.groupModel.groupKey&&this.shadowRoot.querySelector("iron-list").dispatchEvent(Object(r.d)("iron-resize"))}},{key:"_setDrawerFields",value:function(){var t=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames,e=this.editorModel.deviceContext.isMobile;t&&!e?this.drawerFieldNames=t:t&&e&&(this.fieldNames=this.fieldNames.concat(t))}},{key:"_showSubtotal",value:function(){if(this.groupModel&&this.groupModel.quoteModel&&this.groupModel.quoteModel.editorModel&&this.editorModel.md){var t=this.editorModel.data.settings;this.subtotalMd||(this.subtotalMd={type:"currency",scale:this._getPriceScale(),CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),"doNotDisplay"!=t.lineEditorSubtotalsField&&this.groupModel.standardLines.length>0?(this._getSubtotal(),this.showSubtotal=!0):this.showSubtotal=!1}}},{key:"_getPriceScale",value:function(){var t=this.editorModel.data.settings,e=t.lineEditorSubtotalsField;return t.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:"Default"==e||"doNotDisplay"==e||null==e?this.editorModel.md.fieldsMap[this.prefix+"QuoteLine__c"][this.editorModel.constants.NET_TOTAL_FIELD].scale:this.editorModel.md.fieldsMap[this.prefix+"QuoteLine__c"][e].scale}},{key:"_getSubtotal",value:function(){var t,e,n=this.editorModel.data.settings,o=this.groupModel.standardLines;t="Default"==n.lineEditorSubtotalsField||null==n.lineEditorSubtotalsField?this.editorModel.constants.NET_TOTAL_FIELD:n.lineEditorSubtotalsField,e=0;for(var r=0,i=o.length;r<i;r++){var a=o[r];isNaN(a.lineVO.record[t])||(e+=a.lineVO.record[t])}this.subtotal=e}},{key:"onTrack",value:function(t){this.removeCellFocus&&this.removeCellFocus(this.focusedCell),this.dragDrop._onTrack(t)}},{key:"dragFunc",value:function(t){var e=this.dragDrop;e.ghost=e.lineEditor.$.ghost,this.lineModelsByKey=this.groupModel.quoteModel.lineModelsByKey,e.dragKeys=[],e.dragStandardIndexes=[],e.dragMdqIndexesByDim={},e.dragLineModels=[],e.dragGroupModel=t.lineModel.groupModel,e.dragKeys.push(t.lineModel.lineVO.key),e.keepBundleTogether&&this._getBundleWithChildren(e.dragKeys[0],e.dragKeys),e.dragKeys.forEach(function(t){var n=this.lineModelsByKey[t];e.dragLineModels.push(n),this.lineModelsByKey[t].segmented?e.dragMdqIndexesByDim[n.dimensionType]?e.dragMdqIndexesByDim[n.dimensionType].push(this._getLineIndexFromKey(this.groupModel.segmentedLinesByDimension[n.dimensionType],t)):e.dragMdqIndexesByDim[n.dimensionType]=[this._getLineIndexFromKey(this.groupModel.segmentedLinesByDimension[n.dimensionType],t)]:e.dragStandardIndexes.push(this._getLineIndexFromKey(this.groupModel.standardLines,t))}.bind(this)),e.dragTargetElementIndex=this._getLineIndexFromKey(this.groupModel.standardLines,t.lineModel.lineVO.key);for(var n,o=0;o<e.dragStandardIndexes.length;o++)n=e.dragStandardIndexes[o],this.set("groupModel.standardLines.".concat(n,".hidden"),!0);if(0!=Object.keys(e.dragMdqIndexesByDim).length)for(var r in e.dragMdqIndexesByDim)for(var i,a=0;a<e.dragMdqIndexesByDim[r].length;a++)i=e.dragMdqIndexesByDim[r][a],this.set("groupModel.segmentedLinesByDimension.".concat(r,".").concat(i,".hidden"),!0);e.ghostField=t.lineModel.lineVO.record[this.editorModel.constants.PRODUCT_CODE_FIELD]}},{key:"trackFunc",value:function(t){var e=this.dragDrop,n=this.groupModel.editorModel.data.settings.bundleKeptTogether;if(this.groupModel.standardLines.length,t=e._findTableRowValidTarget(t))switch(e.targetClass){case"sb-droppable-standardRows":if(e.updateTableRowHoverOverObject(t),!e.hoverOver)return;e.targetHost=Object(st.d)(e.hoverOver.comp),e.usePlaceholder=!0,e.enableHighLight=!0;break;case"sb-droppable-emptyTable":n&&e.sourceElement.lineModel.hasParent?e.hoverOver=null:e.hoverOver={comp:t},e.usePlaceholder=!1,e.enableHighLight=!0;break;case"sb-droppable-sidePanelGroups":n&&e.sourceElement.lineModel.hasParent?e.hoverOver=null:e.hoverOver={comp:t},e.targetHost=e.hoverOver.comp.parentNode.parentNode,e.usePlaceholder=!1,e.enableHighLight=!0}else e.hoverOver=null}},{key:"_removeLinesByIndex",value:function(t){t.sort((function(t,e){return t-e}));for(var e=0;e<t.length;e++)this.splice("groupModel.standardLines",t[e],1),t=t.map((function(t){return--t}))}},{key:"_getBundleWithChildren",value:function(t,e){var n;if(this.dragDrop.linesByParentKey[t]){n=this.dragDrop.linesByParentKey[t].length;for(var o=0;o<n;o++){var r=this.dragDrop.linesByParentKey[t][o].lineVO.key;e.push(r),this.dragDrop.linesByParentKey[r]&&this._getBundleWithChildren(r,e)}}}},{key:"_getLineIndexFromKey",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n].lineVO.key===e)return n}},{key:"_getStandardLineIndexesFromKeys",value:function(t,e){for(var n=[],o=0;o<e.length;o++)n.push(this._getStandardLineIndexFromKey(t,e[o]));return n}},{key:"_setFieldNames",value:function(){this.fieldSet=this.fieldSetHandler.getByViewport(this.viewport),this.fieldSetName!=this.fieldSet.name&&(this.fieldSetName=this.fieldSet.name),this.fieldNames=this._getFields()}},{key:"_getFields",value:function(){return this.groupModel.standardSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(this.fieldSet.fields):this.fieldSet.fields}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport,this._setFieldNames()}},{key:"groupPanelToggled",value:function(t){this.drawerState=t.detail.drawerState,this._setColumnWidths(t)}},{key:"groupPanelCreated",value:function(t){this._setColumnWidths(t)}},{key:"groupToggled",value:function(t){var e=this;this._ironListResize(t),this._prepareUIData(),setTimeout((function(){e._onUpdateSizeForItem(t)}))}},{key:"_prepareUIData",value:function(){}},{key:"toggleOptional",value:function(t){if(!t.detail.groupKey||t.detail.groupKey==this.groupModel.groupVO.key)for(var e=0,n=this.groupModel.standardLines.length;e<n;e++)this.set("groupModel.standardLines.".concat(e,".lineVO.record.").concat(this.editorModel.constants.OPTIONAL_FIELD),t.detail.toggleOptionalBoolean)}},{key:"getZIndex",value:function(t){return this.groupModel.standardLines.length+10-t}},{key:"sortLinesRequired",value:function(t){var e=t.detail.notify,n=t.detail.lineSortField;this.sortLines(this.groupModel.standardLines,n,"asc",!1,e)}},{key:"_updatePrimaryMobileColumnsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._updatePrimaryMobileColumns(t,e)}},{key:"_updatePrimaryMobileColumns",value:function(){this.groupModel.editorModel.standardPrimaryMobileCols&&this.groupModel.editorModel.standardPrimaryMobileCols.length>0&&this.fieldSet.name.endsWith("Phone")&&(this.groupModel.editorModel.standardPrimaryMobileCols[0]=this.fieldSet.fields[0])}},{key:"_onUpdateSizeForItem",value:function(t){if(t.detail.index)this.shadowRoot.querySelector("iron-list").updateSizeForItem(t.detail.index);else for(var e=0,n=this.groupModel.standardLines.length;e<n;e++)this.shadowRoot.querySelector("iron-list").updateSizeForItem(e)}},{key:"_initVisibleLines",value:function(){return this.groupModel.standardLines.filter(function(t){return t.visible}.bind(this))}},{key:"_initTabIndex",value:function(){return this.viewport&&this.viewport.isMobile()?-1:0}},{key:"_updateDragDropParentKey",value:function(t){this.dragDrop&&t&&(this.dragDrop.linesByParentKey=t)}},{key:"forwardFocusDown",value:function(t){9!==t.keyCode||t.shiftKey||nc.a.signalFirstEditableTargetFirstRow(this,this.getRowComponentName(),"data-index")}},{key:"forwardFocusUp",value:function(t){9===t.keyCode&&t.shiftKey&&nc.a.signalLastEditableTargetLastRow(this,this.getRowComponentName(),this.visibleLines.length,"data-index")}},{key:"dropFunc",value:function(t,e,n,o){var i,a=Object(st.d)(Object(st.d)(t)),s=this.dragDrop;s.dropKey=null,s.dropIndex=null,s.dropGroupModel=null;for(var l,c=0,u=s.dragStandardIndexes?s.dragStandardIndexes.length:0;c<u;c++)l=s.dragStandardIndexes[c],this.set("groupModel.standardLines.".concat(l,".hidden"),!1);if(0!=Object.keys(s.dragMdqIndexesByDim).length)for(var d in s.dragMdqIndexesByDim)for(var p,h=0;h<s.dragMdqIndexesByDim[d].length;h++)p=s.dragMdqIndexesByDim[d][h],this.set("groupModel.segmentedLinesByDimension.".concat(d,".").concat(p,".hidden"),!1);if(e){switch(t.lineModel.subscriptionScopeEditable&&(Object(st.d)(e).groupModel.colWidth=t.lineModel.groupModel.colWidth,s.dragGroupModel._updateStandardSubscriptionScopeEditable(t.lineModel),this._setFieldNames(),this._setColumnWidths()),this._removeLinesByIndex(s.dragStandardIndexes),n){case"sb-droppable-standardRows":s.dropKey=e.lineModel.lineVO.key,s.dropGroupModel=e.lineModel.groupModel,s.dropIndex=this._getLineIndexFromKey(s.dropGroupModel.standardLines,s.dropKey),i=Object(st.d)(Object(st.d)(e)),o?s.dropIndex=s.dropIndex>=0?s.dropIndex:0:++s.dropIndex;break;case"sb-droppable-emptyTable":case"emptyTableMessage":i=Object(st.d)(e),s.dropGroupModel=i.groupModel;break;case"sb-droppable-sidePanelGroups":var f="Group"+e.getAttribute("id"),b=s._findParentCustomElement(e,"groupContainer","id");i=b.querySelector("#".concat(f)),s.dropGroupModel=i.groupModel}for(var y=0;y<s.dragLineModels.length;y++)if(s.dragLineModels[y].segmented){if(s.dragGroupModel.groupKey===s.dropGroupModel.groupKey)continue;s.dropGroupModel.dimensions.includes(s.dragLineModels[y].segmentType)?i.addSegmentedLineToExistingTab(s.dragLineModels[y]):i.addSegmentedLineToEmptyTable(s.dragLineModels[y])}else{if(s.dragLineModels[y].subscriptionScopeEditable&&(s.dropGroupModel.standardSubscriptionScopeEditable=s.dragLineModels[y].quoteModel.grouped,Object(qe.a)(i.shadowRoot.querySelector("#standardLines"),(function(){i.shadowRoot.querySelector("#standardLines")._setFieldNames(),i.shadowRoot.querySelector("#standardLines")._setColumnWidths()}))),s.dragLineModels[y].visible)switch(n){case"sb-droppable-standardRows":Object(st.d)(e).splice("groupModel.standardLines",s.dropIndex,0,s.dragLineModels[y]);break;case"sb-droppable-emptyTable":case"emptyTableMessage":case"sb-droppable-sidePanelGroups":i.push("groupModel.standardLines",s.dragLineModels[y])}else i.push("groupModel.standardLines",s.dragLineModels[y]);s.dragLineModels[y].groupModel=s.dropGroupModel,s.dragLineModels[y].lineVO.parentGroupKey=s.dropGroupModel.groupKey,s.dropIndex++}if(0!=Object.keys(s.dragMdqIndexesByDim).length)for(var g in s.dragMdqIndexesByDim){s.dragMdqIndexesByDim[g].reverse();for(var v,m=0;m<s.dragMdqIndexesByDim[g].length;m++)if(v=s.dragMdqIndexesByDim[g][m],this.set("groupModel.segmentedLinesByDimension.".concat(g,".").concat(v,".hidden"),!1),s.dragGroupModel.groupKey!==s.dropGroupModel.groupKey){var _=a.groupModel.segmentedLinesByDimension[g][v];a.removeSegmentedLine(_)}}this.dispatchEvent(Object(r.d)("renumber-lines")),this.editorModel.data.settings.usesClientCalculator&&this.editorModel.quoteModel.renumberIndexes(!0),this.postDrop(t,e)}}},{key:"_lineSplicesListener",value:function(t){t&&(this.set("groupModel.hasVisibleStandardLines",this.groupModel._groupHasStandardProducts()),this._showSubtotal())}},{key:"postDrop",value:function(t,e){}},{key:"postBuildRowRefresh",value:function(){}}])&&Mu(e.prototype,n),o&&Mu(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(t)}));n(186);var Nu,zu=Object(ze.b)(qu||(qu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host .actionsOnTheLeft {\n  padding-left: 95px;\n}\n:host .multiDeleteEnabled {\n  padding-left: 35px;\n  width: calc(100% - 35px);\n}\n:host .actionsOnTheLeft.multiDeleteEnabled {\n  padding-left: 130px;\n}\n"])));function Hu(t){return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qu(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Gu(t,e){return(Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Yu(t);if(e){var r=Yu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ku(this,n)}}function Ku(t,e){if(e&&("object"===Hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xu,Ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gu(t,e)}(a,t);var e,n,r,i=$u(a);function a(){return Wu(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-le-drawer"}},{key:"properties",get:function(){return{lineModel:{type:Object,notify:!0},fieldNames:Array,richTextFields:Array,dataIndex:{type:Number,reflectToAttribute:!0}}}},{key:"observers",get:function(){return["_initObserver(fieldNames, lineModel)","_lineRecordChanged(lineModel.*)"]}},{key:"template",get:function(){return Object(Qe.b)(Nu||(Nu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t\n\t\t\t<sb-row-drawer\n\t\t\t\tclass$="[[_showLineMultiActions(lineModel.editorModel)]]"\n\t\t\t\titem="sb-le-table-cell"\n\t\t\t\tmodel="[[lineModel]]"\n\t\t\t\tdata="{{lineModel.lineVO.record}}"\n\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\trich-text-fields="[[richTextFields]]"\n\t\t\t\thighlight-on-focus="true"\n\t\t\t\titem-class-map="[[itemClassMap]]"\n\t\t\t\titem-editable-map="[[itemEditableMap]]"\n\t\t\t\tlist-mode="[[_isListMode()]]"\n\t\t\t></sb-row-drawer>\n\t\t'])),zu)}}],(n=[{key:"_initObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.init(t,e)}},{key:"init",value:function(){this._visibilityChanged(),this._editabilityChanged();var t,e=[],n=Uu(this.fieldNames);try{for(n.s();!(t=n.n()).done;){var o=t.value;this._isRichTextField(o)&&e.push(o)}}catch(t){n.e(t)}finally{n.f()}this.richTextFields=e}},{key:"_isRichTextField",value:function(t){return"richtextarea"===this.lineModel.getFieldMD(t).extraTypeInfo}},{key:"_lineRecordChanged",value:function(t){"lineModel.lineVO.fieldVisibility"===t.path?this._visibilityChanged():"lineModel.lineVO.fieldEditability"===t.path&&this._editabilityChanged()}},{key:"_visibilityChanged",value:function(){this.lineModel.setItemClassMap(),this.itemClassMap=this.lineModel.itemClassMap}},{key:"_editabilityChanged",value:function(){if(this.fieldNames&&this.lineModel.lineVO.fieldEditability&&0!=Object.keys(this.lineModel.lineVO.fieldEditability).length){var t,e={},n=Uu(this.fieldNames);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.lineModel.lineVO.fieldEditability.hasOwnProperty(o)&&(e[o]=this.lineModel.isEditable(o))}}catch(t){n.e(t)}finally{n.f()}this.itemEditableMap=e}}},{key:"_showLineMultiActions",value:function(t){return(t.actionsOnTheLeft?"actionsOnTheLeft ":"")+(t.data.settings.multiLineDeleteEnabled?"multiDeleteEnabled":"")}},{key:"_isListMode",value:function(){return!!o.a.isCompactModeEnabled}}])&&Qu(e.prototype,n),r&&Qu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Qe.a);customElements.define(Ju.is,Ju);var Zu,td=Object(ze.b)(Xu||(Xu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: table-row-group;\n}\n:host .largeQuote {\n  border-top: 1px solid #D8DDE6;\n}\n:host .largeQuote .td {\n  height: 38px;\n}\n:host .td {\n  border-bottom: none;\n}\n:host .td.lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host .td#itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host .td#selection {\n  min-width: 30px;\n  max-width: 30px;\n}\n:host([class*='--mobile']) {\n  display: none;\n}\n:host([class*='--mobile']) {\n  display: none;\n}\n"])));var ed,nd=Object(ze.b)(Zu||(Zu=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  display: table-cell;\n  text-align: right;\n  padding-right: 18px !important;\n  font-weight: bold;\n}\n"])));function od(t){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function id(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ad(t,e){return(ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=cd(t);if(e){var r=cd(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ld(this,n)}}function ld(t,e){if(e&&("object"===od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cd(t){return(cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ud,dd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ad(t,e)}(i,t);var e,n,o,r=sd(i);function i(){return rd(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-le-summary-cell"}},{key:"properties",get:function(){return{model:Object,item:String,summaries:Object}}},{key:"observers",get:function(){return["_setWidthStyleObserver(model.colWidth, item)","_updateField(model.editorModel, item, summaries)"]}},{key:"template",get:function(){return Object(Qe.b)(ed||(ed=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-field id="field" property="[[item]]"></sb-field>\n\t\t'])),nd)}}],(n=[{key:"_updateField",value:function(t,e,n){if(null!=t&&null!=e&&null!=n){var o=n[e.toLowerCase()];if(void 0!==o){var r=t.md.fieldsMap[t.data.quoteLineObjectName][e];r.CurrencyIsoCode=this.model.quoteModel.quoteVO.record.CurrencyIsoCode,this.$.field.md=r,this.$.field.value=o}}}},{key:"_setWidthStyleObserver",value:function(t,e){if(null!=t&&null!=e)return this._setWidthStyle(t,e)}},{key:"_setWidthStyle",value:function(t,e){this.style.minWidth="".concat(t.Standard[e],"px"),this.style.maxWidth=this.style.minWidth}}])&&id(e.prototype,n),o&&id(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Qe.a);function pd(t){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fd(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bd(t,e){return(bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=vd(t);if(e){var r=vd(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return gd(this,n)}}function gd(t,e){if(e&&("object"===pd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(dd.is,dd);var md,_d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bd(t,e)}(a,t);var e,n,o,i=yd(a);function a(){return hd(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-le-summary-row"}},{key:"properties",get:function(){return{model:{type:Object,observer:"_modelChanged"},fieldNames:Array,summaries:Object}}},{key:"template",get:function(){return Object(Qe.b)(ud||(ud=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<div id="container" device>\n\t\t\t<template is="dom-if" if="[[model.editorModel.actionsOnTheLeft]]">\n\t\t\t\t<div class="td lineActions"></div>\n\t\t\t</template>\n\t\t\t<template is="dom-if" if="[[model.editorModel.data.settings.multiLineDeleteEnabled]]">\n\t\t\t\t<div class="td" id="selection"></div>\n\t\t\t</template>\n\t\t\t<div class="td" id="itemNumber"></div>\n\t\t\t<div class="td groupDetails">\n\t\t\t\t<template is="dom-repeat" items="[[fieldNames]]" as="fieldName">\n\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t<sb-le-summary-cell summaries="[[summaries]]" item="[[fieldName]]" model="[[model]]">\n\t\t\t\t\t</sb-le-summary-cell>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<template is="dom-if" if="[[!model.editorModel.actionsOnTheLeft]]">\n\t\t\t\t<div class="td lineActions"></div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),td)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.COL_WIDTHS_CHANGED]=this._colWidthsChanged,t}},{key:"_modelChanged",value:function(t){Object(st.m)("largeQuote",t.editorModel.largeQuoteExperienceEnabled,this.$.container)}},{key:"_colWidthsChanged",value:function(t){this.notifyPath("model")}}])&&fd(e.prototype,n),o&&fd(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Object(Re.a)(Qe.a)));customElements.define(_d.is,_d);var wd,Od=Object(ze.b)(md||(md=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile']#mobileStandardLines) {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n:host([class*='--mobile'] #mobileStandardLines) {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n:host(.largeQuote) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable .listContainer {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 100px;\n}\n:host(.largeQuote) #tableContainer #datatable .tbody {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable iron-list {\n  flex: 1;\n  overflow-x: hidden !important;\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td {\n  font-size: 16px;\n  font-weight: normal;\n  color: var(--sbFontColor);\n  text-transform: none;\n  background-color: var(--sbPageHeaderBgColor);\n  border-top-width: var(--sbPageHeaderBorderBottomWidth);\n  border-top-style: var(--sbPageHeaderBorderBottomStyle);\n  border-top-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.drawerIcon {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host(.largeQuote) #subtotalContainer #subtotal {\n  padding-right: 24px;\n}\n:host .tfoot .td {\n  font-weight: var(--sbGroupHeaderFontWeight);\n  color: var(--sbGroupHeaderFontColor);\n  will-change: transform;\n  text-transform: uppercase;\n  border-bottom: none;\n}\n:host #subtotal {\n  padding-right: 24px;\n}\n:host #subtotalLabel {\n  padding-right: 0;\n}\n:host .row {\n  transition: all 0.4s ease-out;\n}\n:host .drawer {\n  background-color: var(--sbPageHeaderBgColor);\n  border-bottom: 1px solid #d0d0d0;\n}\n:host .datatable[class*='--mobile'] .tfoot {\n  display: block;\n  color: var(--sbFontColor);\n  font-size: 1rem;\n  text-align: left;\n  padding: 10px 0 10px 25px;\n}\n:host .datatable[class*='--mobile'] .tfoot #subtotal,\n:host .datatable[class*='--mobile'] .tfoot #subtotalLabel {\n  display: inline-block;\n  padding: 0;\n}\n:host [class*='--mobile'] .datatable .tfoot {\n  display: block;\n  color: var(--sbFontColor);\n  font-size: 1rem;\n  text-align: left;\n  padding: 10px 0 10px 25px;\n}\n:host [class*='--mobile'] .datatable .tfoot #subtotal,\n:host [class*='--mobile'] .datatable .tfoot #subtotalLabel {\n  display: inline-block;\n  padding: 0;\n}\n"])));function kd(t){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Sd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cd(t){return function(t){if(Array.isArray(t))return Td(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||Pd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pd(t,e){if(t){if("string"==typeof t)return Td(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Td(t,e):void 0}}function Td(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Id(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bd(){return(Bd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Md(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Md(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ld(t)););return t}function Dd(t,e){return(Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ad(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ld(t);if(e){var r=Ld(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Rd(this,n)}}function Rd(t,e){if(e&&("object"===kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ld(t){return(Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qd,Fd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dd(t,e)}(s,t);var e,n,i,a=Ad(s);function s(){return Id(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sf-standard-table"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xd(Object(n),!0).forEach((function(e){Sd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({headerTemplate:{type:Object},rowTemplate:{type:Object},secondaryRowTemplate:Object,uiData:Object,originalFieldValues:{type:Object,value:{}}},Fu.properties)}},{key:"template",get:function(){return Object(Qe.b)(wd||(wd=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style include="iron-positioning"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div id="tableContainer" device>\n\t\t\t\t<template\n\t\t\t\t\tis="dom-if"\n\t\t\t\t\tif="[[groupModel.hasVisibleStandardLines]]"\n\t\t\t\t>\n\t\t\t\t\t\x3c!--infinite scroll--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid="datatable"\n\t\t\t\t\t\t\ton-focusout="_onFocusOut"\n\t\t\t\t\t\t\ton-keydown="_onKeyDown"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class="theader">\n\t\t\t\t\t\t\t\t<sf-le-table-header\n\t\t\t\t\t\t\t\t\tid="header"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\ttemplate="[[headerTemplate]]"\n\t\t\t\t\t\t\t\t\tui-data="[[_getHeaderUIData(fieldLabelsMap)]]"\n\t\t\t\t\t\t\t\t\tline-models="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"\n\t\t\t\t\t\t\t\t></sf-le-table-header>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Setting min-height on the list container so that if vertical space decreases in LQE, the lines do not disappear --\x3e\n\t\t\t\t\t\t\t<div class="listContainer">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid="list"\n\t\t\t\t\t\t\t\t\tclass="tbody fit vertical layout"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusDown"\n\t\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusDown"\n\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t<iron-list\n\t\t\t\t\t\t\t\t\t\titems="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\t\tas="lineModel"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t\t\t\t<div style$="z-index:[[getZIndex(index, groupModel.standardLines.length)]]">\n\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[_isLineVisible(lineModel.visible, lineModel.bundleVisible)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<sf-le-table-row\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="row"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate="[[rowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden$="{{lineModel.hidden}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toriginal-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.hasStandardLineItemDrawer]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.lineVO.expanded]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="drawer">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-le-drawer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tline-model="[[lineModel]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield-names="[[drawerFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="drawerCell"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlight-on-focus="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></sb-le-drawer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</iron-list>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\ttabindex$="[[tabIndex]]"\n\t\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusUp"\n\t\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusUp"\n\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\tif="[[groupModel.editorModel.summarized]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-le-summary-row\n\t\t\t\t\t\t\t\t\tmodel="[[groupModel]]"\n\t\t\t\t\t\t\t\t\tsummaries="[[groupModel.summaries]]"\n\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t></sb-le-summary-row>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid="subtotalContainer"\n\t\t\t\t\t\t\t\t\tclass="tfoot subtotal"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tid="subtotalLabel"\n\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sb-i18n>Subtotal</sb-i18n>:\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tid="subtotal"\n\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[subtotalColWidth]];max-width:[[subtotalColWidth]];"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\tif="[[!groupModel.editorModel.actionsOnTheLeft]]"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\tif="[[groupModel.standardLines.0.hasStandardLineItemDrawer]]"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class="td drawerIcon"></div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--regular table--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid="datatable"\n\t\t\t\t\t\t\tclass="datatable leTable"\n\t\t\t\t\t\t\ton-focusout="_onFocusOut"\n\t\t\t\t\t\t\ton-keydown="_onKeyDown"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid="droppableStandardRows"\n\t\t\t\t\t\t\t\tclass="tbody sb-droppable-standardRows"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\x3c!--header row--\x3e\n\t\t\t\t\t\t\t\t<sf-le-table-header\n\t\t\t\t\t\t\t\t\tid="header"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\ttemplate="[[headerTemplate]]"\n\t\t\t\t\t\t\t\t\tui-data="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\tline-models="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"\n\t\t\t\t\t\t\t\t></sf-le-table-header>\n\t\t\t\t\t\t\t\t\x3c!--table rows--\x3e\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusDown"\n\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusDown"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\titems="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\tas="lineModel"\n\t\t\t\t\t\t\t\t\tinitial-count="10"\n\t\t\t\t\t\t\t\t\ttarget-framerate="10"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\tif="[[lineModel.visible]]"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sf-le-table-row\n\t\t\t\t\t\t\t\t\t\t\tclass="row"\n\t\t\t\t\t\t\t\t\t\t\tui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\thidden$="{{lineModel.hidden}}"\n\t\t\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\ttemplate="[[rowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\tsecondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\toriginal-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.hasStandardLineItemDrawer]]"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.lineVO.expanded]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="drawer">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-le-drawer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield-names="[[drawerFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="drawerCell"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlight-on-focus="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></sb-le-drawer>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\x3c!-- Summary Lines --\x3e\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\tif="[[groupModel.editorModel.summarized]]"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-le-summary-row\n\t\t\t\t\t\t\t\t\t\tmodel="[[groupModel]]"\n\t\t\t\t\t\t\t\t\t\tsummaries="[[groupModel.summaries]]"\n\t\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t></sb-le-summary-row>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ttabindex$="[[tabIndex]]"\n\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusUp"\n\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusUp"\n\t\t\t\t\t\t\t\t></div>\n\n\t\t\t\t\t\t\t\t\x3c!--subtotal--\x3e\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t\t<div class="tfoot subtotal">\n\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tid="subtotalLabel"\n\t\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<sb-i18n>Subtotal</sb-i18n>:\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tid="subtotal"\n\t\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[subtotalColWidth]];max-width:[[subtotalColWidth]];"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'])),Od)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.GROUP_PANEL_CREATED]=this.groupPanelCreated,t[r.a.GROUP_PANEL_TOGGLED]=this.groupPanelToggled,t[r.a.GROUP_TOGGLED]=this.groupToggled,t[r.a.SORT_LINES_REQUIRED]=this.sortLinesRequired,t[r.a.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,t[r.a.QUOTE_SAVED]=this.clearOriginalFieldValues,t[r.a.ROWS_RENUMBERED]=this.onRowsRenumbered,t[r.a.OPEN_LOOKUP_DIALOG]=this._openLookupDialog,t[r.a.CLOSE_LOOKUP_DIALOG]=this._closeLookupDialog,t[r.a.REFRESH_TABLE]=this._prepareUIData,t[r.a.LINE_SPLICE_COMPLETE]=this.postLineSplice,t[r.a.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"ready",value:function(){var t=this;if(Bd(Ld(s.prototype),"ready",this).call(this),Object.entries({"le-action-tapped":"unfocus"}).map((function(e){var n=Ed(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.groupModel){this.init();var e=new Set(["sb-droppable-standardRows","sb-droppable-emptyTable","sb-droppable-sidePanelGroups","emptyTableMessage"]);this.editorModel.largeQuoteExperienceEnabled?(this.addEventListener("bundle-toggled",this._toggleBundleLines),this.addEventListener("line-toggled",this._onUpdateSizeForItem),this._resizeIronList()):this.dragDrop=new Sn(this,this.editorModel.data.settings.bundleKeptTogether,"sf-le-table-row",e,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),9,147),this._prepareUIData(),this._prepareTemplates(!0)}}},{key:"_prepareUIData",value:function(){var t=o.a.isMobile?this._getAllFields(!0):this._getFields();this.uiData=re.prepareLineData(this.groupModel.standardLines,t,this.quoteLineFields)}},{key:"_prepareTemplates",value:function(t){if(this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,null).generateRowNode(this._getFieldsForTemplate(),{class:"row"}),o.a.isMobile)this.secondaryRowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,null,null,!0).generateRowNode(this._getAllFields(!1),{class:ut.classNames.SECONDARY+" "+ut.classNames.EXPANDED});else if(t){var e=new Xr(this.editorModel,this.columnWidths,null,!0);this.headerTemplate=e.generateHeaderNode(this._getFieldsForTemplate(),{class:"header"})}}},{key:"getUIData",value:function(t){return this.uiData[t]}},{key:"_getAllFields",value:function(t){var e=this._getFields();return this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames&&(e=e.concat(this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames)),t&&this.editorModel.standardPrimaryMobileCols&&(e=e.concat(this.editorModel.standardPrimaryMobileCols)),Cd(new Set(e))}},{key:"_getFieldSetName",value:function(){if(this.editorModel&&this.editorModel.fieldSetNames)return this.editorModel.fieldSetNames.lineFieldNames}},{key:"postDrop",value:function(t,e){var n=Object(st.d)(t),o=Object(st.d)(e);n&&"SF-STANDARD-TABLE"===n.tagName&&n._prepareUIData(),o&&"SF-STANDARD-TABLE"===o.tagName&&n!==o&&o._prepareUIData()}},{key:"_getFieldsForTemplate",value:function(){return this.editorModel.deviceContext.isMobile?this.groupModel.editorModel.standardPrimaryMobileCols:this._getFields()}},{key:"_onSortLinesByHeader",value:function(t){this.sortLines(this.groupModel.standardLines,t.detail.lineSortField,t.detail.order,this.settings.bundleKeptTogether,!0)}},{key:"sortLines",value:function(t,e,n,o,r){var i;if(e&&this.settings.lineLookups&&this.settings.lineLookups[e]){var a=Ho.a.getRelationshipField(e,this.settings.lineLookups[e]).split(".");i=a[1],e=a[0]}this._hasNumberField()&&this._preserveNumberValues(t);var s=Dr(t,e,n,o,i);r?(this.unfocus(),this.set("groupModel.standardLines",s.slice()),this._prepareUIData(),this._prepareTemplates(!1)):this.groupModel.standardLines=s,this._resizeIronList()}},{key:"_resizeIronList",value:function(){this.editorModel.largeQuoteExperienceEnabled&&Object(qe.a)(this,(function(){this.shadowRoot.querySelector("iron-list")&&this.shadowRoot.querySelector("iron-list").dispatchEvent(Object(r.d)("iron-resize",void 0))}))}},{key:"onRowsRenumbered",value:function(){this._prepareUIData(),this._resizeIronList()}},{key:"_preserveNumberValues",value:function(t){var e=this;t.forEach((function(t){var n=t.lineVO.record,o=n.Id||n[e.editorModel.constants.SOURCE_FIELD],r=e.editorModel.constants.NUMBER_FIELD;e.originalFieldValues[o]||(e.originalFieldValues[o]={}),e.originalFieldValues[o].hasOwnProperty(r)||(e.originalFieldValues[o][r]=n[r])}))}},{key:"_hasNumberField",value:function(){return this._getFields().indexOf(this.editorModel.constants.NUMBER_FIELD)>-1}},{key:"postLineSplice",value:function(){this._hasNumberField()&&this._preserveNumberValues(this.groupModel.standardLines),this._prepareTemplates(!1)}},{key:"clearOriginalFieldValues",value:function(){var t=this;this.originalFieldValues&&Object.keys(this.originalFieldValues).forEach((function(e){delete t.originalFieldValues[e]}))}},{key:"getRowComponentName",value:function(){return"sf-le-table-row"}},{key:"postBuildRowRefresh",value:function(){this.uiData&&(this._prepareUIData(),this._prepareTemplates(!0))}},{key:"colWidthsChanged",value:function(t){this._isMobile()||(this._setColumnWidths(t),this._prepareTemplates(!1))}},{key:"_toggleBundleLines",value:function(t){var e=this;if(t.detail.key){var n=this.groupModel.standardLines.find((function(e){return e.lineVO.key===t.detail.key}));n&&(this._innerToggleBundleLines(n,t.detail.expanded),this._resizeIronList())}else Object(vt.d)("BundleCollapsed","h"+this.groupModel.groupVO.key,!t.detail.expanded),this.groupModel.standardLines.forEach((function(n,o){n.isBundle&&e.set("groupModel.standardLines.".concat(o,".bundleCollapsed"),!t.detail.expanded)}))}},{key:"_innerToggleBundleLines",value:function(t,e){var n=this,o=t&&t.isBundle;if(o){if(e&&t.bundleCollapsed)return;o.forEach((function(t){var o=n._getLineIndexFromKey(n.groupModel.standardLines,t.lineVO.key);n.set("groupModel.standardLines.".concat(o,".bundleVisible"),e),n._innerToggleBundleLines(t,e)}))}}},{key:"_isLineVisible",value:function(t,e){return t&&e}},{key:"_getHeaderUIData",value:function(t){if(o.a.isBundleCollapsible(this.editorModel)){var e=Object(vt.b)("BundleCollapsed","h"+this.groupModel.groupVO.key)||"Collapsed"===o.a.defaultBundleSetting?ut.classNames.CHEVRON_RIGHT_CONTENT:ut.classNames.CHEVRON_DOWN_CONTENT;return Object.assign({_caretContent:e},this.fieldLabelsMap)}return this.fieldLabelsMap}}])&&jd(e.prototype,n),i&&jd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Le.a)(Object(Ae.a)(Yi(Fu(Object(Re.a)(Qe.a))))));customElements.define(Fd.is,Fd);var Nd,zd=Object(ze.b)(qd||(qd=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host #tabContainer.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host #tabContainer.largeQuote sb-tabs {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n"])));function Hd(t){return(Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vd(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wd(t,e){return(Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$d(t);if(e){var r=$d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Gd(this,n)}}function Gd(t,e){if(e&&("object"===Hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $d(t){return($d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kd,Yd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wd(t,e)}(i,t);var e,n,o,r=Qd(i);function i(){return Ud(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-group-tabs"}},{key:"properties",get:function(){return{isGroupFieldPage:{type:Boolean,computed:"_setIsGroupFieldPage(pageType)"},isSegmentedLinesPage:{type:Boolean,computed:"_setIsSegmentedLinesPage(pageType)"},isStandardLinesPage:{type:Boolean,computed:"_setIsStandardLinesPage(pageType)"},editorModel:{notify:!0,type:Object}}}},{key:"observers",get:function(){return["buildPage(groupModel)"]}},{key:"template",get:function(){return Object(Qe.b)(Nd||(Nd=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<template is="dom-if" if="[[isGroupFieldPage]]">\n\t\t\t<sb-field-set-table editor-model="[[editorModel]]"\n\t\t\t\t\t\t\t\tnum-columns="1"\n\t\t\t\t\t\t\t\tobject-name="[[groupObjectName]]"\n\t\t\t\t\t\t\t\tdata="{{groupModel.groupVO.record}}"\n\t\t\t\t\t\t\t\tmodel="{{groupModel}}"></sb-field-set-table>\n\t\t</template>\n\n\t\t<template is="dom-if" if="[[isStandardLinesPage]]">\n\t\t\t<sf-standard-table group-model="{{groupModel}}"></sf-standard-table>\n\t\t</template>\n\n        <template is="dom-if" if="[[isSegmentedLinesPage]]">\n            <div id="tabContainer" class$="[[containerClass]]">\n                <sb-tabs tabs="[[tabs]]"\n                         page-component="[[pageComponent]]"\n                         group-model="{{groupModel}}"\n                         content-container-class="[[containerClass]]"\n                         tab-container-class="[[containerClass]]"\n                         hide-tabs="[[hideTabs]]"></sb-tabs>\n            </div>\n        </template>\n\t    '])),zd)}}],(n=[{key:"buildPage",value:function(){this.groupModel&&(this.pageType=this.attributes.label.value,this.pageComponent="sf-segmented-table",this.groupObjectName=this.groupModel.groupObjectName,this.groupModel.groupMDQTabs&&(this.tabs=this.groupModel.groupMDQTabs),this.hideTabs=!!this.tabs&&1==this.tabs.length&&"Custom"!=this.tabs[0].key,this.containerClass||(this.containerClass=this.groupModel.editorModel.largeQuoteExperienceEnabled?"largeQuote":"",this.containerClass+=" sbGroupTabs"))}},{key:"_setIsGroupFieldPage",value:function(t){return"details"===t}},{key:"_setIsStandardLinesPage",value:function(t){return"standard"===t}},{key:"_setIsSegmentedLinesPage",value:function(t){return"segmented"===t}}])&&Vd(e.prototype,n),o&&Vd(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Qe.a);customElements.define(Yd.is,Yd);var Xd,Jd=Object(ze.b)(Kd||(Kd=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host(.largeQuote) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host([class*='--desktop']) {\n  --paper-content-container-border-top: 1px solid #d8dde6;\n}\n:host([class*='--desktop']) {\n  --paper-content-container-border-top: 1px solid #d8dde6;\n}\n:host .sbGroup {\n  margin-top: 10px;\n  border: 1px solid #d0d0d0;\n  box-sizing: border-box;\n}\n:host .virtualGroup {\n  position: relative;\n}\n:host .group,\n:host .virtualGroup {\n  width: inherit;\n}\n:host .group:not(.hiddenGroup),\n:host .virtualGroup:not(.hiddenGroup) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host .group[class*='--mobile'],\n:host .virtualGroup[class*='--mobile'] {\n  overflow-x: hidden;\n}\n:host [class*='--mobile'] .group,\n:host [class*='--mobile'] .virtualGroup {\n  overflow-x: hidden;\n}\n:host .group #tabContainer.largeQuote,\n:host .virtualGroup #tabContainer.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host .group #tabContainer.largeQuote sb-tabs,\n:host .virtualGroup #tabContainer.largeQuote sb-tabs {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host .sbGrouped {\n  background: var(--sbGroupHeaderBgColor);\n  padding-left: 10px;\n  color: #16325c;\n  font-family: inherit;\n  cursor: pointer;\n  margin: 10px 0 9px;\n}\n:host .sbGrouped[class*='--mobile'] {\n  margin: 0;\n  background-color: #fff;\n}\n:host [class*='--mobile'] .sbGrouped {\n  margin: 0;\n  background-color: #fff;\n}\n:host .sbGroupHeader {\n  height: 60px;\n}\n:host .groupNameInput {\n  display: inline-block;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  padding: 5px 15px 5px;\n  font-size: 15px;\n  color: #16325c;\n  border-width: 2px;\n  height: 32px;\n  vertical-align: middle;\n}\n:host .groupNameInput[class*='--mobile'] {\n  margin: 0 0 0 10px;\n  padding: 0;\n}\n:host [class*='--mobile'] .groupNameInput {\n  margin: 0 0 0 10px;\n  padding: 0;\n}\n:host #groupHeaderName {\n  font-size: var(--sbGroupHeaderFontSize);\n  font-weight: var(--sbGroupHeaderFontWeight);\n  color: var(--sbGroupHeaderFontColor);\n  vertical-align: middle;\n}\n:host #groupHeaderName[class*='--desktop'] {\n  margin: 5px 0;\n  padding: 7px;\n}\n:host [class*='--desktop'] #groupHeaderName {\n  margin: 5px 0;\n  padding: 7px;\n}\n:host #groupHeaderName[class*='--mobile'] {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n:host [class*='--mobile'] #groupHeaderName {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n:host .groupDescription {\n  white-space: normal;\n  padding-top: 5px;\n  color: #6b6d70;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  font-size: var(--sbProductFeatureHeaderInstructionsFontSize);\n}\n:host .groupTotal {\n  text-align: right;\n  padding-right: 10px;\n}\n:host .group {\n  margin: 10px 15px 15px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbGroupBorderColor);\n  border-radius: 4px;\n  min-height: 146px;\n  display: inline-block;\n}\n:host .group[class*='--mobile'] {\n  display: block;\n  border-top: 1px solid #d8dee6;\n  border-bottom: 1px solid #d8dee6;\n  border-right: none;\n  border-left: none;\n  border-radius: none;\n  margin: 0;\n  min-height: 62px;\n  height: inherit;\n  overflow: inherit;\n}\n:host [class*='--mobile'] .group {\n  display: block;\n  border-top: 1px solid #d8dee6;\n  border-bottom: 1px solid #d8dee6;\n  border-right: none;\n  border-left: none;\n  border-radius: none;\n  margin: 0;\n  min-height: 62px;\n  height: inherit;\n  overflow: inherit;\n}\n:host .group > header {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  background-color: var(--sbGroupHeaderBgColor);\n  font-family: var(--sbGroupHeaderFontFamily);\n  font-size: var(--sbGroupHeaderFontSize);\n  color: var(--sbGroupHeaderFontColor);\n  font-weight: var(--sbGroupHeaderFontWeight);\n  font-style: var(--sbGroupHeaderFontStyle);\n  text-decoration: var(--sbGroupHeaderTextDecoration);\n  display: block;\n  margin: 0;\n  border: 0;\n  padding: 10px 15px 5px;\n  border-bottom-color: var(--sbGroupHeaderBorderBottomColor);\n  border-bottom-style: solid;\n  border-bottom-width: var(--sbGroupHeaderBorderBottomWidth);\n}\n:host .group .emptyTableMessage {\n  padding: 15px;\n}\n:host .emptyTableMessage[class*='--mobile'] {\n  border-top: 1px solid #d8dee6;\n}\n:host [class*='--mobile'] .emptyTableMessage {\n  border-top: 1px solid #d8dee6;\n}\n:host .tableSectionHeader {\n  padding: 20px 0 0 15px;\n  font-weight: 300;\n}\n:host .tableSectionHeader.standard {\n  padding-top: 40px;\n}\n:host .sbGrouped .sf-icon-edit {\n  visibility: hidden;\n}\n:host .sbGrouped .sf-icon-edit[class*='--mobile'] {\n  visibility: visible;\n}\n:host [class*='--mobile'] .sbGrouped .sf-icon-edit {\n  visibility: visible;\n}\n:host .sbGrouped:hover .sf-icon-edit {\n  visibility: visible;\n}\n:host .desktopSubtotal {\n  display: block;\n  text-align: right;\n  margin: 10px 0;\n  padding-right: 24px;\n  text-transform: uppercase;\n  font-size: 16px;\n  font-weight: var(--sbGroupHeaderFontWeight);\n  color: var(--sbGroupHeaderFontColor);\n}\n:host .desktopSubtotal span {\n  display: inline-block;\n}\n:host .desktopSubtotal.largeQuote {\n  display: none;\n}\n:host .desktopSubtotal.right {\n  padding-right: 15px;\n}\n:host .desktopSubtotal[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .desktopSubtotal {\n  display: none;\n}\n:host .groupActionBtns {\n  position: relative;\n  float: right;\n  margin-right: 10px;\n  margin-top: 5px;\n}\n:host .loadingSpinner {\n  position: relative;\n  float: right;\n  margin-right: 20px;\n  margin-top: 20px;\n}\n:host .groupActions {\n  position: absolute;\n  background-color: #ffffff;\n  z-index: 4;\n  border-radius: 4px;\n  border: 1px solid #d8dde6;\n  padding: 0px;\n  margin: 0px;\n  top: 35px;\n  right: 0;\n}\n:host .groupHeaderRight {\n  width: 50%;\n  padding: 0px 10px 0px 10px;\n  border-bottom: none !important;\n  white-space: normal;\n}\n:host .groupHeaderLeft {\n  width: 50%;\n  border-right: 2px solid #d8dde6;\n  border-bottom: none !important;\n}\n:host .groupHeaderLeft[class*='--mobile'] {\n  border-right: none;\n  width: 100%;\n}\n:host [class*='--mobile'] .groupHeaderLeft {\n  border-right: none;\n  width: 100%;\n}\n:host .groupHeaderLeft .container {\n  overflow: hidden;\n}\n:host .groupHeaderLeft h2 {\n  display: inline-block;\n}\n:host .groupHeaderLeft .sb-icon-star-empty,\n:host .groupHeaderLeft .sb-icon-star {\n  font-size: 20px;\n  float: left;\n  margin-top: 9px;\n}\n:host .groupHeaderLeft .sb-icon-star-empty:hover,\n:host .groupHeaderLeft .sb-icon-star:hover {\n  cursor: pointer;\n}\n:host .groupNameLeft {\n  display: inline-block;\n  float: left;\n}\n:host .groupFieldsContainer {\n  width: 100%;\n}\n:host .groupHeaderRight[class*='--mobile'],\n:host #addProducts[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .groupHeaderRight,\n:host [class*='--mobile'] #addProducts {\n  display: none;\n}\n:host #mobileAddProducts {\n  display: none;\n}\n:host #mobileAddProducts[class*='--mobile'] {\n  display: block;\n}\n:host [class*='--mobile'] #mobileAddProducts {\n  display: block;\n}\n:host #groupActionBtn[class*='--mobile'] {\n  border-left: 1px solid #d8dde6;\n  border-radius: 4px;\n}\n:host [class*='--mobile'] #groupActionBtn {\n  border-left: 1px solid #d8dde6;\n  border-radius: 4px;\n}\n:host header {\n  position: relative;\n}\n:host header[class*='--mobile'] {\n  display: block;\n  margin: 0;\n  border: 0;\n  padding: 10px 15px 5px;\n  background-color: #fff;\n  min-height: 62px;\n}\n:host [class*='--mobile'] header {\n  display: block;\n  margin: 0;\n  border: 0;\n  padding: 10px 15px 5px;\n  background-color: #fff;\n  min-height: 62px;\n}\n:host .subtotalInHeader {\n  display: none;\n}\n:host .subtotalInHeader.largeQuote {\n  display: block;\n  font-size: 16px;\n  font-weight: normal;\n  color: var(--sbGroupHeaderFontColor);\n}\n:host .subtotalInHeader.largeQuote > h4 {\n  font-size: 16px;\n}\n:host .subtotalInHeader[class*='--mobile'] {\n  display: block;\n  padding-left: 30px;\n  color: #16325c;\n}\n:host .subtotalInHeader .subtotalLabel[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .subtotalInHeader {\n  display: block;\n  padding-left: 30px;\n  color: #16325c;\n}\n:host [class*='--mobile'] .subtotalInHeader .subtotalLabel {\n  display: none;\n}\n:host #groupExpandIcon {\n  display: none;\n}\n:host #groupExpandIcon[class*='--mobile'] {\n  display: inline-block;\n}\n:host [class*='--mobile'] #groupExpandIcon {\n  display: inline-block;\n}\n:host .hidden {\n  display: none !important;\n}\n:host .hoverover {\n  background-color: #d8edff;\n  border: 1px solid #5eb4ff;\n}\n:host .mobileHidden[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .mobileHidden {\n  display: none;\n}\n"])));function Zd(t){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ep(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ep(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ep(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function op(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rp(){return(rp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=ip(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function ip(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cp(t)););return t}function ap(t,e){return(ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=cp(t);if(e){var r=cp(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return lp(this,n)}}function lp(t,e){if(e&&("object"===Zd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cp(t){return(cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ap(t,e)}(s,t);var e,n,i,a=sp(s);function s(){return np(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sb-le-group"}},{key:"properties",get:function(){return{groupModel:{type:Object,notify:!0,observer:"_groupModelChanged"},groupClass:{type:String},subtotal:Number,subtotalMd:Object,value:{notify:!0,observer:"_descriptionChanged"},descriptionMd:Object,groupLevelTabs:{type:Array,value:[]},isMobile:{type:Boolean,value:!1},editorModel:{type:Object,notify:!0},viewport:{type:Object,value:function(){return _t.a.getViewport()}},favorited:Boolean,i18n:{type:Object,value:function(){return o.a.properties.i18n.value()}}}}},{key:"observers",get:function(){return["_groupRecordChanged(groupModel.groupVO.record.*)","_toggleGrouping(groupModel.groupVO)","_segmentedPrimaryMobileColsChanged(groupModel.editorModel.segmentedPrimaryMobileCols)","_linesChanged(groupModel.standardLines.splices)","_linesChanged(groupModel.segmentedLinesByDimension.*)","_createDragDropModel(editorModel)","_groupCustomActionsChanged(groupModel.editorModel.groupCustomActions)","_showSubtotal(groupModel.groupVO.record.*)","_updateColumnWidths(groupHasSegmentedProducts)"]}},{key:"template",get:function(){return Object(Qe.b)(Xd||(Xd=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div device class$="[[groupClass]]" style$="width:[[totalWidth]]">\n\t\t\t\t<template is="dom-if" if="[[groupModel.quoteModel.grouped]]">\n\t\t\t\t\t<header on-click="expandGroup" triggersExpandGroup>\n\t\t\t\t\t\t<div class="groupFieldsContainer datatable">\n\t\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t\t<div class="groupHeaderLeft td">\n\t\t\t\t\t\t\t\t\t<div class="container" triggersExpandGroup>\n\t\t\t\t\t\t\t\t\t\t<div class="groupNameLeft">\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\tif="[[favorited]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="unfavoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sb-icon-star"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton-click="triggerCustomAction"\n\t\t\t\t\t\t\t\t\t\t\t\t\teventHandlerName="onRemoveFromFavorites"\n\t\t\t\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor="unfavoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\t\t\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfit-to-visible-bounds="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t><sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>Remove From\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFavorites</sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t></paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\tif="[[!favorited]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="favoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sb-icon-star-empty"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton-click="triggerCustomAction"\n\t\t\t\t\t\t\t\t\t\t\t\t\teventHandlerName="onAddToFavorites"\n\t\t\t\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor="favoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\t\t\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfit-to-visible-bounds="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t><sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>Add To\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFavorite</sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t></paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\t\t\t\t\t\tid="groupHeaderName"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="sbGrouped"\n\t\t\t\t\t\t\t\t\t\t\t\ton-click="showGroupNameEditor"\n\t\t\t\t\t\t\t\t\t\t\t\ttriggersExpandGroup\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{groupModel.groupVO.record.Name}}\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sf-icon-edit"\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden$="[[isMobile]]"\n\t\t\t\t\t\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{{groupModel.groupVO.record.Name}}"\n\t\t\t\t\t\t\t\t\t\t\t\tid="groupNameInput"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="groupNameInput hidden"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\ton-blur="checkInputValue"\n\t\t\t\t\t\t\t\t\t\t\t\ton-keydown="closeGroupNameEditor"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<div class$="subtotalInHeader [[containerClass]]">\n\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[showSubtotal]]"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="subtotalLabel"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>Subtotal</sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>:</span\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="subtotal">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tid="groupActions"\n\t\t\t\t\t\t\t\t\t\t\tclass="buttons groupActionBtns"\n\t\t\t\t\t\t\t\t\t\t\thidden$="[[!groupModel.groupExpanded]]"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\t\titems="[[editorModel.groupCustomActions]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-custom-action\n\t\t\t\t\t\t\t\t\t\t\t\t\tname$="[[item.name]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustom-action="[[item]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel="[[groupModel]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbutton="[[isButton]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup-action="[[groupModel.quoteModel.grouped]]"\n\t\t\t\t\t\t\t\t\t\t\t\t></sb-custom-action>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\x3c!-- Toggling the display property (show) stops the animation in Safari and IOS. Toggling the visibility property (invisibility) does not --\x3e\n\t\t\t\t\t\t\t\t\t\t<sf-loading-spinner\n\t\t\t\t\t\t\t\t\t\t\tclass="loadingSpinner"\n\t\t\t\t\t\t\t\t\t\t\tshow="truthy"\n\t\t\t\t\t\t\t\t\t\t\tinvisible$="[[!showSpinner]]"\n\t\t\t\t\t\t\t\t\t\t\tposition="relative"\n\t\t\t\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\t\t\t></sf-loading-spinner>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\x3c!--desktop group description--\x3e\n\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t\t\t\t<div class="groupDescription">\n\t\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\t\tclass="rte"\n\t\t\t\t\t\t\t\t\t\t\t\tproperty="[[editorModel.constants.DESCRIPTION_FIELD]]"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\t\t\t\t\t\t\t\tmd="[[descriptionMd]]"\n\t\t\t\t\t\t\t\t\t\t\t\tediting="true"\n\t\t\t\t\t\t\t\t\t\t\t\trender-read-only="true"\n\t\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="groupHeaderRight td">\n\t\t\t\t\t\t\t\t\t<sb-field-set-table\n\t\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\t\tnum-columns="2"\n\t\t\t\t\t\t\t\t\t\tobject-name="[[groupModel.groupObjectName]]"\n\t\t\t\t\t\t\t\t\t\tdata="{{groupModel.groupVO.record}}"\n\t\t\t\t\t\t\t\t\t\tmodel="{{groupModel}}"\n\t\t\t\t\t\t\t\t\t></sb-field-set-table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t</template>\n\n\t\t\t\t\x3c!--Tabs for Mobile Group--\x3e\n\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[groupModel.groupExpanded]]">\n\t\t\t\t\t\t<div id="mobileGroupTabs">\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\tif="[[groupedAndHasNoLineItems]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid="emptyLinesMsg"\n\t\t\t\t\t\t\t\t\tclass="emptyTableMessage"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-i18n key="mobileEmptyLinesMsg"\n\t\t\t\t\t\t\t\t\t\t>This group has no line items. Click on\n\t\t\t\t\t\t\t\t\t\tAdd Products button to add a\n\t\t\t\t\t\t\t\t\t\tproduct.</sb-i18n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\tif="[[!groupedAndHasNoLineItems]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-tabs\n\t\t\t\t\t\t\t\t\tid="groupTabs"\n\t\t\t\t\t\t\t\t\ttabs="[[groupLevelTabs]]"\n\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t\t\tpage-component="sb-group-tabs"\n\t\t\t\t\t\t\t\t\tbind="[[bind]]"\n\t\t\t\t\t\t\t\t\thide-tabs="[[hideTabs]]"\n\t\t\t\t\t\t\t\t\tselected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t\t\t\tsecondary-tabs\n\t\t\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\n\t\t\t\t\x3c!--Desktop Groups--\x3e\n\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[groupedAndHasNoLineItems]]">\n\t\t\t\t\t\t<div class="sb-droppable-emptyTable">\n\t\t\t\t\t\t\t<div class="emptyTableMessage">\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\tif="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-i18n key="emptyLinesMsg"\n\t\t\t\t\t\t\t\t\t\t>This group has no line items. Click on\n\t\t\t\t\t\t\t\t\t\tAdd Products button or drag lines from\n\t\t\t\t\t\t\t\t\t\tother groups.</sb-i18n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\tif="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-i18n key="mobileEmptyLinesMsg"\n\t\t\t\t\t\t\t\t\t\t>This group has no line items. Click on\n\t\t\t\t\t\t\t\t\t\tAdd Products button to add a\n\t\t\t\t\t\t\t\t\t\tproduct.</sb-i18n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--use tabs if large quote experience is enabled--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div id="tabContainer" class$="[[containerClass]]">\n\t\t\t\t\t\t\t<sb-tabs\n\t\t\t\t\t\t\t\tid="groupTabs"\n\t\t\t\t\t\t\t\ttabs="[[groupLevelTabs]]"\n\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t\tpage-component="sb-group-tabs"\n\t\t\t\t\t\t\t\tbind="[[bind]]"\n\t\t\t\t\t\t\t\thide-tabs="[[hideTabs]]"\n\t\t\t\t\t\t\t\tcontent-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\ttab-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\tselected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t\t\tsecondary-tabs\n\t\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--regular tables--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t\x3c!-- Segmented Products Section --\x3e\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\tif="[[groupHasSegmentedProducts]]"\n\t\t\t\t\t\t\trestamp\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\t\tclass="segmented tableSectionHeader"\n\t\t\t\t\t\t\t\thidden$="[[!groupHasBothProducts]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-i18n>Segmented Products</sb-i18n>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<div id="tabContainer" class$="[[containerClass]]">\n\t\t\t\t\t\t\t\t<sb-tabs\n\t\t\t\t\t\t\t\t\tid="leGroupTabs"\n\t\t\t\t\t\t\t\t\ttabs="{{tabs}}"\n\t\t\t\t\t\t\t\t\tpage-component="sf-segmented-table"\n\t\t\t\t\t\t\t\t\tcontent-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\t\ttab-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\x3c!-- Standard Products Section --\x3e\n\t\t\t\t\t\t<template is="dom-if" if="[[groupHasStandardProducts]]" restamp>\n\t\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\t\tclass="standard tableSectionHeader"\n\t\t\t\t\t\t\t\thidden$="[[!groupHasBothProducts]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-i18n>Standard Products</sb-i18n>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<sf-standard-table\n\t\t\t\t\t\t\t\tid="standardLines"\n\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t></sf-standard-table>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--Subtotal--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t<h4 class$="desktopSubtotal [[containerClass]]">\n\t\t\t\t\t\t\t<span class="subtotal"\n\t\t\t\t\t\t\t\t>[[groupModel.groupVO.record.Name]]\n\t\t\t\t\t\t\t\t<sb-i18n>Subtotal</sb-i18n>:</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t><sb-field\n\t\t\t\t\t\t\t\t\tid="desktopSubtotal"\n\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t></sb-field\n\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'])),Jd)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t[r.a.RENDER_NEW_TAB]=this.renderNewTab,t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"ready",value:function(){var t=this;rp(cp(s.prototype),"ready",this).call(this),Object.entries({"cseDialog-tapped":"_handleCSEDialogTapped","segmented-changed":"_customSegmentedUpdated","upgrade-asset-quantity-changed":"_setUpgradeQuantity"}).map((function(e){var n=tp(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.groupExpanded=!1,this.showSpinner=!1}},{key:"_updateColumnWidths",value:function(){!this.groupHasSegmentedProducts&&o.a.isColumnResizingEnabled&&Object(r.c)(r.a.MDQ_LINE_DELETED)}},{key:"_createDragDropModel",value:function(){var t=new Set(["sb-droppable-mdqRows","sb-droppable-emptyTable","sb-droppable-emptyMDQTable","sb-droppable-emptyMDQSegmentTab","sb-droppable-sidePanelGroups","emptyTableMessage"]);this.dragDrop=new Sn(this,this.editorModel.data.settings.bundleKeptTogether,"sf-le-table-row",t,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),8,150)}},{key:"_groupModelChanged",value:function(){this.editorModel=this.groupModel.quoteModel.editorModel,this._updateTableProperties(),this._updatePageData(this._getTabs(this.groupModel)),this._setIsButton(),this.isMobile=!!this.viewport&&this.viewport.isMobile(),(this.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&(this.set("groupModel.groupExpanded",this.groupExpanded),this.buildGroupTabs()),this.viewport&&!this.viewport.isMobile()&&(this.set("groupModel.groupExpanded",!0),this._setTotalWidth()),this.containerClass=this.editorModel.largeQuoteExperienceEnabled?"largeQuote":""}},{key:"_setIsButton",value:function(){this.isButton=!this.viewport||this.viewport.isDesktop()&&this.viewport.M.up}},{key:"_setTotalWidth",value:function(){this.editorModel.layout&&!this.editorModel.deviceContext.isMobile&&(this.totalWidth=this.editorModel.layout.totalWidth+2+"px")}},{key:"colWidthsChanged",value:function(){this._setTotalWidth()}},{key:"_linesChanged",value:function(){this._updateTableProperties();var t=this._getTabs(this.groupModel);t.length!==this.tabs.length&&this._updatePageData(t)}},{key:"_updateTableProperties",value:function(){this.groupHasStandardProducts=this.groupModel._groupHasStandardProducts(),this.groupHasSegmentedProducts=this.groupModel._groupHasSegmentedProducts(),this.groupedAndHasNoLineItems=this.groupModel.quoteModel.grouped&&!this._groupHasLineItems(),this.groupHasBothProducts=this._groupHasBothProducts(),this._showSubtotal(),this._setGroupDescription()}},{key:"_segmentedPrimaryMobileColsChanged",value:function(){this._updatePageData(this._getTabs(this.groupModel))}},{key:"_updatePageData",value:function(t){this.shadowRoot.querySelector("#leGroupTabs")&&this.shadowRoot.querySelector("#leGroupTabs").destroyTabs(),this.tabs=t,this.groupMDQTabs||(this.groupMDQTabs=t)}},{key:"_getTabs",value:function(t){for(var e=[],n=t.dimensions,o=0,r=n.length;o<r;o++){var i=n[o];if(t.hasVisibleSegmentedLines[i]){var a="t"+o,s={name:a,key:i,label:t.quoteModel.quoteVO.localizedDimensionNames[i],bind:["groupModel"]};"Custom"==i&&(s.iconId=a+"-"+t.groupKey,s.iconClass="sb-icon-pencil",s.iconEvent="cseDialog"),e.push(s)}}return e}},{key:"_handleCSEDialogTapped",value:function(t){this.dispatchEvent(Object(r.d)("cse-tapped",{dialog:"cseDialog",groupModelKey:this.groupModel.groupKey}))}},{key:"_groupHasBothProducts",value:function(){return this.groupModel._groupHasStandardProducts()&&this.groupModel._groupHasSegmentedProducts()}},{key:"_groupHasLineItems",value:function(){return this.groupModel._groupHasStandardProducts()||this.groupModel._groupHasSegmentedProducts()}},{key:"_groupRecordChanged",value:function(t){t.path=="groupModel.groupVO.record.".concat(this.editorModel.constants.OPTIONAL_FIELD)&&Object(r.c)(r.a.TOGGLE_OPTIONAL_CLICKED,{toggleOptionalBoolean:t.value,groupKey:this.groupModel.groupKey});var e=this.groupModel.groupVO.record;this.favorited=!(!e||!e[this.editorModel.constants.FAVORITE_ID_FIELD])}},{key:"_setGroupDescription",value:function(){this.groupModel.groupVO.record&&(this.value=this.groupModel.groupVO.record[this.editorModel.constants.DESCRIPTION_FIELD],this.groupModel&&this.editorModel.md&&this.editorModel.constants&&this._getDescriptionMd(),this.value||(this.value=o.a.properties.i18n.value().l("Click to edit description")))}},{key:"_descriptionChanged",value:function(){var t=o.a.properties.i18n.value().l("Click to edit description");this.value!==t&&(this.groupModel.groupVO.record[this.editorModel.constants.DESCRIPTION_FIELD]=this.value)}},{key:"_getDescriptionMd",value:function(){var t=this.editorModel.md.fieldsMap[this.groupModel.groupObjectName];this.descriptionMd=t[this.editorModel.constants.DESCRIPTION_FIELD]}},{key:"_getSegmentKeys",value:function(){return Object.keys(this.groupModel.segmentedLinesBySegmentKey)}},{key:"triggerCustomAction",value:function(t){this.dispatchEvent(Object(r.d)("le-action-tapped",{customAction:{eventHandlerName:t.currentTarget.attributes.eventHandlerName.value},model:this.groupModel}))}},{key:"showGroupNameEditor",value:function(t){this.isMobile||(t.stopPropagation(),Object(st.m)("hidden",!0,this.shadowRoot.querySelector("#groupHeaderName")),Object(st.m)("hidden",!1,this.shadowRoot.querySelector("#groupNameInput")),this.shadowRoot.querySelector("#groupNameInput").focus(),this.shadowRoot.querySelector("#groupNameInput").setSelectionRange(0,this.groupModel.groupVO.record.Name.length))}},{key:"checkInputValue",value:function(t){t.stopPropagation(),""!=t.target.value&&this.set("groupModel.groupVO.record.Name",t.target.value),Object(st.m)("hidden",!1,this.shadowRoot.querySelector("#groupHeaderName")),Object(st.m)("hidden",!0,this.shadowRoot.querySelector("#groupNameInput"))}},{key:"closeGroupNameEditor",value:function(t){t.stopPropagation(),"13"==t.keyCode&&this.shadowRoot.querySelector("#groupNameInput").blur()}},{key:"_showSubtotal",value:function(){if(this.groupModel.groupVO.record){var t=this.groupModel.quoteModel.editorModel.data.settings;this.groupModel.quoteModel.grouped&&"doNotDisplay"!=t.lineEditorGroupSubtotalsField&&(this.groupModel.segmentedLines.length>0&&this.groupModel._groupHasStandardProducts()||this.viewport&&this.viewport.isMobile()||this.groupModel.editorModel.largeQuoteExperienceEnabled)?(this._getSubtotal(),this.showSubtotal=!0):this.showSubtotal=!1}}},{key:"_getSubtotal",value:function(){if(this.groupModel.quoteModel.grouped){var t,e,n=this.groupModel.quoteModel.editorModel,o=n.data.settings,r=o.lineEditorGroupSubtotalsField;"Default"==r||null==r?(t=o.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:n.md.fieldsMap[o.developerPrefix+"QuoteLineGroup__c"][n.constants.NET_TOTAL_FIELD].scale,e=this.groupModel.groupVO.record[n.constants.NET_TOTAL_FIELD]||0):(t=o.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:n.md.fieldsMap[o.developerPrefix+"QuoteLineGroup__c"][r].scale,e=this.groupModel.groupVO.record[o.lineEditorGroupSubtotalsField]||0),this.subtotalMd||(this.subtotalMd={type:"currency",scale:t,CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),this.subtotal=e}}},{key:"_toggleGrouping",value:function(){this.notifyPath("groupModel.quoteModel.grouped",this.groupModel.quoteModel.grouped),this.set("groupClass",this.groupModel.quoteModel.grouped?"group":"virtualGroup")}},{key:"buildGroupTabs",value:function(){if(this.editorModel){var t=[];this.editorModel.fieldsetMap.groupFieldNames.length>0&&this._groupHasLineItems()&&!this.editorModel.largeQuoteExperienceEnabled&&t.push("details"),this.groupModel._groupHasSegmentedProducts()&&t.push("segmented"),this.groupModel._groupHasStandardProducts()&&t.push("standard");var e=[];if(this.groupModel.groupMDQTabs=this.tabs,this._renderTabs(t)){this.shadowRoot.querySelector("#groupTabs")&&this.shadowRoot.querySelector("#groupTabs").destroyTabs();for(var n=0,o=t.length;n<o;n++){var r="t"+n,i=t[n];e.push({name:r,label:i})}this.groupLevelTabs=void 0,this.bind=["groupModel","editorModel"],this.groupMDQTabs=this.groupModel.groupMDQTabs,this.selectedTabIndex=0,this.hideTabs=1==e.length,this.groupLevelTabs=e}}}},{key:"_renderTabs",value:function(t){if(this.groupLevelTabs.length!==t.length)return!0;if(this.groupModel.groupMDQTabs&&this.groupMDQTabs.length!==this.groupModel.groupMDQTabs.length)return!0;for(var e=0,n=this.groupLevelTabs.length;e<n;e++)if(this.groupLevelTabs[e].label!==t[e])return!0;return!1}},{key:"expandGroup",value:function(t){var e=this;t.target.hasAttribute("triggersExpandGroup")&&this.isMobile&&!this.showSpinner&&(this.shadowRoot.querySelector("#mobileGroupTabs")||(this.showSpinner=!0),Object(qe.a)(this,(function(){e.set("groupModel.groupExpanded",!e.groupModel.groupExpanded),e.groupExpanded=e.groupModel.groupExpanded,Object(qe.a)(e,(function(){e.showSpinner=!1}))})))}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport,this._setIsButton(),this.viewport&&this.viewport.isMobile()?this.isMobile=!0:this.isMobile=!1}},{key:"renderNewTab",value:function(t){t.detail.groupKey===this.groupModel.groupKey&&(this._updatePageData(this._getTabs(this.groupModel)),(this.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&this.buildGroupTabs())}},{key:"_setUpgradeQuantity",value:function(t){var e=this,n=t.detail.sourceIndex,o=t.detail.upgradeIndex,r=t.detail.sourceLineVO,i=t.detail.upgradeLineVO;this._setUpgradeQuantityDebouncer=Fe.a.debounce(this._setUpgradeQuantityDebouncer,Ne.d.after(10),(function(){r.invalidQuantity?e._notifyQuantityChanged(n,o,r,!0):i.invalidQuantity?e._notifyQuantityChanged(o,n,i,!0):e._notifyQuantityChanged(n,o),r.invalidQuantity=null,i.invalidQuantity=null}))}},{key:"_notifyQuantityChanged",value:function(t,e,n,o){var i,a;this.groupModel.standardLines[t].internalUpdate=!0,this.groupModel.standardLines[e].internalUpdate=!0,o&&(i=n.invalidQuantity,a=n.validQuantity,n.record[this.editorModel.constants.QUANTITY_FIELD]=n.invalidQuantity,this.notifyPath("groupModel.standardLines.".concat(t,".lineVO.record.").concat(this.editorModel.constants.QUANTITY_FIELD),this.groupModel.standardLines[t].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),n.record[this.editorModel.constants.QUANTITY_FIELD]=n.validQuantity),this.notifyPath("groupModel.standardLines.".concat(t,".lineVO.record.").concat(this.editorModel.constants.QUANTITY_FIELD),this.groupModel.standardLines[t].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),this.groupModel.standardLines[t].internalUpdate=!1,this.notifyPath("groupModel.standardLines.".concat(e,".lineVO.record.").concat(this.editorModel.constants.QUANTITY_FIELD),this.groupModel.standardLines[e].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),this.groupModel.standardLines[e].internalUpdate=!1,this.dispatchEvent(Object(r.d)("validate-quantity-changed",{invalidQuantity:i,validQuantity:a}))}},{key:"addSegmentedLineToEmptyTable",value:function(t){var e=t.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],n=this.groupModel.quoteModel.quoteVO.multiSegmentKeys?this.groupModel.quoteModel.quoteVO.multiSegmentKeys[e]:null;this.groupModel.hasVisibleSegmentedLines||(this.groupModel.hasVisibleSegmentedLines={}),this.groupModel.setDimensionProperties(n),this.groupModel.segmentedLines.push(t),this.groupModel.groupVO.multiSegmentColumns[n]=t.editorModel.data.quote.multiSegmentColumns[n],this.groupModel.groupVO.localizedMultiSegmentColumns[n]=t.editorModel.data.quote.localizedMultiSegmentColumns[n],this.groupModel.colWidth[n]=t.groupModel.colWidth[n],t.groupModel=this.groupModel,t.lineVO.parentGroupKey=this.groupModel.groupKey;for(var o=0,r=t.segments.length;o<r;o++)t.segments[o].lineVO.parentGroupKey=this.groupModel.groupKey;this.groupModel.segmentedLinesBySegmentKey[e]=t,this.push("groupModel.segmentedLinesByDimension.".concat(n),t),this._updatePageData(this._getTabs(this.groupModel))}},{key:"addSegmentedLineToExistingTab",value:function(t){var e=t.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],n=this.groupModel.quoteModel.quoteVO.multiSegmentKeys?this.groupModel.quoteModel.quoteVO.multiSegmentKeys[e]:null;this.groupModel.segmentedLines.push(t),t.groupModel=this.groupModel,t.lineVO.parentGroupKey=this.groupModel.groupKey;for(var o=0,r=t.segments.length;o<r;o++)t.segments[o].lineVO.parentGroupKey=this.groupModel.groupKey;this.groupModel.segmentedLinesBySegmentKey[e]=t,this.push("groupModel.segmentedLinesByDimension.".concat(n),t)}},{key:"removeSegmentedLine",value:function(t){var e=t.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],n=this.groupModel.quoteVO.multiSegmentKeys?this.groupModel.quoteVO.multiSegmentKeys[e]:null;this.groupModel.segmentedLines.splice(this.groupModel.segmentedLines.indexOf(t),1),delete this.groupModel.segmentedLinesBySegmentKey[e],this.splice("groupModel.segmentedLinesByDimension.".concat(n),this.groupModel.segmentedLinesByDimension[n].indexOf(t),1),0===this.groupModel.segmentedLinesByDimension[n].length&&(this.groupModel.removeDimensionProperties(n),delete this.groupModel.groupVO.localizedMultiSegmentColumns[n],delete this.groupModel.groupVO.multiSegmentColumns[n],this.shadowRoot.querySelector("#leGroupTabs")&&this.shadowRoot.querySelector("#leGroupTabs").destroyTabs(),this._updatePageData(this._getTabs(this.groupModel)))}},{key:"_onTrack",value:function(t){this.dragDrop._onTrack(t)}},{key:"dragFunc",value:function(t){this.dragDrop.ghost=this.dragDrop.lineEditor.$.ghost,this.linesByParentKey=this.editorModel.quoteModel.linesByParentItemKey,this.indexByGroupKey=this.groupModel.quoteModel.indexByGroupKey,this.lineModelsByKey=this.groupModel.quoteModel.lineModelsByKey,this.dragDrop.dragLineModel=[],this.dragDrop.dragGroupModel=t.lineModel.groupModel,this.dragDrop.dragKey=t.lineModel.lineVO.key,this.dragDrop.dragLineModel=t.lineModel,this.dragDrop.segment=Object(st.d)(t).dimension,this.dragDrop.dragIndex=this.groupModel.segmentedLinesByDimension[this.dragDrop.segment].indexOf(t.lineModel),this.set("groupModel.segmentedLinesByDimension.".concat(this.dragDrop.segment,".").concat(this.dragDrop.dragIndex,".hidden"),!0)}},{key:"trackFunc",value:function(t){var e=this.dragDrop;if(t=e._findTableRowValidTarget(t))switch("placeholder"===t.id&&(t="before"===t.getAttribute("ref")?t.previousElementSibling:t.nextElementSibling),e.targetClass){case"sb-droppable-mdqRows":if(e._updateMDQTableRowHoverOverObject(e.sourceElement,t),!e.hoverOver)return;e.targetHost=Object(st.d)(e.hoverOver.comp),e.usePlaceholder=!0,e.enableHighLight=!1;break;case"sb-droppable-emptyTable":case"sb-droppable-sidePanelGroups":e.keepBundleTogether&&e.sourceElement.lineModel.hasParent?e.hoverOver=null:e.hoverOver={comp:t},e.usePlaceholder=!1,e.enableHighLight=!0}}},{key:"dropFunc",value:function(t,e,n,o){this.dragDrop.dropKey=null,this.dragDrop.dropIndex=null,this.dragDrop.dropGroupModel=null;var i,a=this.dragDrop.segment,s=this.dragDrop.dragLineModel;if(this.set("groupModel.segmentedLinesByDimension.".concat(a,".").concat(this.dragDrop.dragIndex,".hidden"),!1),e){var l=Object(st.d)(t),c=Object(st.d)(e);switch(t.lineModel.subscriptionScopeEditable&&(this.dragDrop.dragGroupModel._updateSegmentedSubscriptionScopeEditable(t.lineModel),l.fieldNames=l._getFields(),l._setColumnWidths()),n){case"sb-droppable-mdqRows":var u=e.lineModel.groupModel;i=Object(st.d)(Object(st.d)(c)),this.dragDrop.dropGroupModel=u,s.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0);var d=u.segmentedLinesByDimension[a].indexOf(e.lineModel);o?d=d>=0?d:0:++d,s.groupModel=u,s.lineVO.parentGroupKey=u.groupKey,s.segments.forEach(function(t){t.lineVO.parentGroupKey=u.groupKey,t.groupModel=u}.bind(this)),this.removeSegmentedLine(this.dragDrop.dragLineModel);var p=s.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD];this.groupModel.segmentedLinesBySegmentKey[p]=s,this.groupModel.segmentedLines.splice(d,0,s),i.splice("groupModel.segmentedLinesByDimension.".concat(a),d,0,s);break;case"sb-droppable-emptyTable":case"emptyTableMessage":i=Object(st.d)(e),this.dragDrop.dropGroupModel=i.groupModel,s.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0),this.removeSegmentedLine(this.dragDrop.dragLineModel),i.addSegmentedLineToEmptyTable(s);break;case"sb-droppable-sidePanelGroups":var h="Group"+e.getAttribute("id");i=this.dragDrop._findParentCustomElement(e,"groupContainer","id").querySelector("#".concat(h)),this.dragDrop.dropGroupModel=i.groupModel,s.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0),this.removeSegmentedLine(this.dragDrop.dragLineModel),this.dragDrop.dropGroupModel.dimensions.includes(this.dragDrop.segment)?i.addSegmentedLineToExistingTab(s):i.addSegmentedLineToEmptyTable(s)}if("sb-droppable-mdqRows"===n){var f=i.groupModel.segmentedLinesByDimension[a];c.notifyPath("groupModel.segmentedLinesByDimension.".concat(a),f.slice()),c.notifyPath("lineModels",f.slice())}this.dispatchEvent(Object(r.d)("renumber-lines",void 0)),this.editorModel.data.settings.usesClientCalculator&&this.editorModel.quoteModel.renumberIndexes(!0),l&&"SF-SEGMENTED-TABLE"===l.tagName&&l._prepareUIData(),c&&"SF-SEGMENTED-TABLE"===c.tagName&&l!==c&&c._prepareUIData()}}},{key:"_groupCustomActionsChanged",value:function(t){for(var e=t?t.length:0,n=0;n<e;n++)this.notifyPath("editorModel.groupCustomActions.".concat(n,".children"))}}])&&op(e.prototype,n),i&&op(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Le.a)(Object(Ae.a)(Object(Re.a)(Qe.a))));customElements.define(up.is,up);var dp=n(94),pp=(n(185),n(85));function hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fp(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var bp,yp=function(){function t(e,n,o,r,i,a,s,l,c,u,d,p){var h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];hp(this,t),this.parentElWidth=e,this.md=o,this.columns=n,this.actionsOnTheLeft=r,this.hasSelection=i,this.hasStandardDrawer=a,this.columnMetadata=s,this.columnConstants=l,this.isColumnResizingEnabled=c,this.fieldsetName=u,this.newColumnMdSizesMap=d,this.dimensionType=p,this.isResetAction=h}var e,n,o;return e=t,(n=[{key:"build",value:function(){this.layout={},this.availableWidth=this._getAvailableWidth(),this.totalColsWidth=0;var t=0,e=this.columns.length,n=this.availableWidth/e,o=[],r=this._buildLayoutWithColumnSizing(st.a.deepClone(this.columns));if(e===r.length){for(var i=0;i<e;i++){var a=r[i],s=150,l=new pp.c(this.md[a],0).getImageWidth(25);l>150?(s=l,o.push(a)):n>150&&(s=Math.ceil(n*this._getMultiplier(a))),this.layout[a]=s,t+=s}if(this.totalColsWidth+=t,n>150){var c=t-this.availableWidth,u=e-o.length,d=0;this.totalColsWidth=0;for(var p=0;p<e;p++){var h=r[p],f=-1!==o.indexOf(h)?this.layout[h]:Math.ceil(this.layout[h]-c/u);d+=f,p==e-1&&(f-=d-this.availableWidth),this.layout[h]=f,this.totalColsWidth+=f}}}return this.layout}},{key:"_buildLayoutWithColumnSizing",value:function(t){var e=this;if(this.isColumnResizingEnabled&&!this.isResetAction){var n={};this.columnMetadata&&this.columnMetadata.length>0&&null==this.newColumnMdSizesMap?this.columnMetadata.forEach((function(t){t[e.columnConstants.FieldSetMasterDetail][e.columnConstants.FieldSet]===e.fieldsetName&&(n[t[e.columnConstants.FieldName]]=t[e.columnConstants.FieldColumnSize])})):null!=this.newColumnMdSizesMap&&this.newColumnMdSizesMap[this.dimensionType]&&(n=st.a.deepClone(this.newColumnMdSizesMap[this.dimensionType])),Object.keys(n).length>0&&(t.forEach((function(t){n[t]?(e.layout[t]=n[t],e.totalColsWidth+=n[t]):(e.layout[t]=150,e.totalColsWidth+=150)})),t=t.filter((function(t){return!n[t]})))}return t}},{key:"_getAvailableWidth",value:function(){return this.parentElWidth-this._getStaticColsWidth()-12}},{key:"getTotalWidth",value:function(){return this.totalColsWidth+this._getStaticColsWidth()+10}},{key:"_getStaticColsWidth",value:function(){var t=135;return this.hasSelection&&(t+=30),this.hasStandardDrawer&&(t+=40),t}},{key:"getLeftOffset",value:function(){var t=40;return this.actionsOnTheLeft&&(t+=95),this.hasSelection&&(t+=30),t}},{key:"_getMultiplier",value:function(t){switch((this.md[t]?this.md[t].type:"currency").toUpperCase()){case"STRING":return 1.5;case"BOOLEAN":return 1;case"DATE":return 1.3;case"DOUBLE":case"CURRENCY":case"PERCENT":case"NUMBER":return 1.6;case"PICKLIST":case"MULTIPICKLIST":return 1.4;case"REFERENCE":case"TEXTAREA":default:return 1.6}}}])&&fp(e.prototype,n),o&&fp(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gp(t,e,n,o,i){return t.then((function(t){if(Object(vt.d)("TestOnlyStates",i,!0),t.isSuccessful){var e=new De;e.log(null,o,{field:e.maskCustomerData(n)})}else Object(r.c)(r.a.COL_SIZE_ERR,{errorMessage:t.errorMessage})}),(function(t){Object(vt.d)("TestOnlyStates",i,!0),Object(r.c)(r.a.COL_SIZE_ERR,{errorMessage:t})}))}var vp,mp=Object(ze.b)(bp||(bp=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  height: inherit;\n  display: flex;\n  flex-direction: column;\n}\n:host #groupContainer {\n  height: inherit;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n:host #groupContainer #groups sb-le-group.largeQuote {\n  height: inherit;\n}\n:host #mainPanel {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  overflow-y: auto;\n  will-change: transform;\n}\n:host #mainPanel[class*='--mobile'] {\n  overflow-x: hidden;\n}\n:host [class*='--mobile'] #mainPanel {\n  overflow-x: hidden;\n}\n:host #mainPanel #groups.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host #mainPanel #groups.largeQuote .hiddenGroup {\n  display: none;\n}\n:host #drawerPanel {\n  z-index: 9999;\n  position: absolute;\n  width: 256px;\n  height: 100%;\n  top: 0;\n  left: -256px;\n  bottom: 0;\n  background-color: #fff;\n}\n:host #drawerPanel.open {\n  width: 280px;\n}\n:host #drawerPanel[class*='--mobile'] {\n  border-right: 1px solid #d8dde6;\n  left: 0px;\n  display: none;\n}\n:host [class*='--mobile'] #drawerPanel {\n  border-right: 1px solid #d8dde6;\n  left: 0px;\n  display: none;\n}\n:host .nav-item {\n  background-color: var(--sbNavigationDrawerRowColor);\n  border-bottom: 1px solid #d8dde6;\n  padding: 15px;\n  text-transform: uppercase;\n}\n:host .nav-item:hover {\n  cursor: pointer;\n  background-color: var(--sbNavigationDrawerRowHoverColor);\n}\n:host .hoverover {\n  cursor: copy;\n  background-color: #0070d2;\n}\n:host .selected-tab {\n  background-color: var(--sbNavigationDrawerRowSelectedColor);\n}\n:host #placeholder {\n  background-color: #d8dde6;\n  cursor: copy;\n}\n:host .droppableTopBorder {\n  border-top: 4.5px solid #005fb2;\n}\n:host .droppableBottomBorder {\n  border-bottom: 4.5px solid #005fb2;\n}\n:host .loadingSpinner {\n  float: right;\n  margin: 9px;\n}\n"]))),_p=n(29);function wp(t){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Op(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function xp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sp(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Cp(){return(Cp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Ep(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Ep(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jp(t)););return t}function Pp(t,e){return(Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=jp(t);if(e){var r=jp(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ip(this,n)}}function Ip(t,e){if(e&&("object"===wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jp(t){return(jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bp,Mp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pp(t,e)}(s,t);var e,n,i,a=Tp(s);function s(){return xp(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"sb-le-group-layout"}},{key:"properties",get:function(){return{addedIndex:Number,addedKey:Number,dragDrop:Object,drawerState:String,editorModel:Object,fieldSetName:String,groupModels:{type:Array,notify:!0,observer:"_modelChanged"},lastSelectedGroup:Object,layoutLeft:{type:String,value:"24px"},layoutLink:String,layoutWidth:Number,noHeader:{type:Boolean,value:!1},observersAttached:Boolean,rightSideButton:Boolean,selectedGroupKey:{type:Number,notify:!0},tableLayoutBuilder:Object}}},{key:"observers",get:function(){return["_groupModelsAreChangedObserver(editorModel, groupModels, rightSideButton)","_spliceObserver(groupModels.splices)","_createDragDropModel(groupModels)"]}},{key:"template",get:function(){return Object(Qe.b)(vp||(vp=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t<div device id="groupContainer">\n\t\t\t<div id="mainPanel" tabindex="-1">\n\t\t\t\t<div>\n\t\t\t\t\t<slot name="quoteInformation"></slot>\n\t\t\t\t\t<slot name="emptyQuote"></slot>\n\t\t\t\t\t<slot name="emptyGroupedQuote"></slot>\n\t\t\t\t</div>\n\t\t\t\t<template is="dom-if" if="[[editorModel]]">\n\t\t\t\t\t<div id="groups" class$="[[getContainerClass()]]">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{groupModels}}" as="groupModel" initialCount="5" targetFramerate="1">\n\t\t\t\t\t\t\t<sb-le-group class$="group [[getGroupClass(groupModel.groupVO.key, selectedGroupKey)]] [[deviceClasses]]" id$="Group_[[groupModel.groupVO.key]]" group-model="{{groupModel}}"></sb-le-group>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<slot name="footer"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<div id="drawerPanel" class$="{{computeDrawerPanelClass(rightSideButton)}}">\n\t\t\t\t<sb-side-panel id="panel" side-text="[[_getGroupsLabel()]]" render-header="[[noHeader]]" right-side-button="[[rightSideButton]]" is-open="[[drawerState]]">\n\t\t\t\t\t<div id = "sbDroppableSidePanelGroups" slot="panel-actions" class="panel-actions sb-droppable-sidePanelGroups">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[groupModels]]" as="groupModel">\n\t\t\t\t\t\t\t<div on-click="navTo"\n\t\t\t\t\t\t\t\t class="nav-item"\n\t\t\t\t\t\t\t\t id$="_[[groupModel.groupVO.key]]"\n\t\t\t\t\t\t\t\t on-track="onTrack"\n\t\t\t\t\t\t\t\t data-index="[[index]]">[[groupModel.groupVO.record.Name]]\n\t\t\t\t\t\t\t\t<sf-loading-spinner class="loadingSpinner invisible" show="truthy" position="relative" size="small"></sf-loading-spinner>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-side-panel>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),mp)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.TOGGLE_PANEL_CLICKED]=this.toggle,t[r.a.CLOSE_GROUP_PANEL]=this.closePanel,t[r.a.GROUP_PANEL_CREATED]=this.groupPanelCreated,t[r.a.BUILD_LAYOUT]=this.buildLayout,t[r.a.GROUP_ADDED]=this.groupAdded,t[r.a.GROUP_DELETED]=this.groupDeleted,t[r.a.PAGE_RESIZED]=this.pageResized,t[r.a.RESET_COL_SIZES]=this.resetToDefault,t[r.a.MDQ_LINE_DELETED]=this.resizeColumnsOnLineItemDelete,t}},{key:"ready",value:function(){var t=this;Cp(jp(s.prototype),"ready",this).call(this),Object.entries({"side-toggle-clicked":"toggle","sf-col-size-adjusted":"sizeAdjusted","sf-reset-col-sizes":"resetToDefault"}).map((function(e){var n=Op(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),Object(qe.a)(this,(function(){this._resize=function(){var t=this;this._resizeDebouncer=Fe.a.debounce(this._resizeDebouncer,Ne.d.after(200),(function(){t.buildLayout(),Object(qe.a)(t,(function(){Object(r.c)(r.a.COL_WIDTHS_CHANGED,{layout:t.editorModel.layout,groupKey:t.selectedGroupKey})}))}))}.bind(this),window.addEventListener("resize",this._resize)}))}},{key:"disconnectedCallback",value:function(){Cp(jp(s.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this._resize)}},{key:"isMobile",value:function(){return this.editorModel.deviceContext.isMobile}},{key:"_spliceObserver",value:function(t){t&&0!=t.indexSplices[0].addedCount&&(this.addedIndex=t.indexSplices[0].index,this.addedKey=t.indexSplices[0].object[this.addedIndex].groupVO.key,this.observersAttached||this._attachObservers())}},{key:"sizeAdjusted",value:function(t){var e=this;if(t.detail&&t.detail.field&&t.detail.fieldsWidth&&t.detail.fieldSet){var n=t.detail.fieldSet,i=t.detail.field,a=t.detail.dimension?t.detail.dimension:"Standard";this.editorModel&&this.editorModel.quoteModel&&this.editorModel.quoteModel.lineGroups&&(this.editorModel.quoteModel.lineGroups.forEach((function(e){e.colWidth&&e.colWidth[a]&&e.colWidth[a][i]&&(e.colWidth[a][i]=t.detail.fieldsWidth,Object(vt.d)("columnSizes",[],e.colWidth))})),function(t,e){gp((new ie.a).save(o.a.org.prefix,"ColumnSizingServiceProvider.SaveColumnSizes",t),0,e,je,["columnSizeSaved"])}({fieldSetName:n,columnSizes:Object(vt.b)("columnSizes")[a],shouldBeDefault:!1,objectType:this.editorModel.constants.QUOTE_LINE},t.detail.field),this.buildLayout(),Object(qe.a)(this,(function(){Object(r.c)(r.a.COL_WIDTHS_CHANGED,{layout:e.editorModel.layout})})))}}},{key:"resetToDefault",value:function(t){var e=this;if(this.editorModel&&this.editorModel.layout&&t.detail&&t.detail.fieldSet){Object(vt.a)("columnSizes");var n=ae.a.get("LineEditor",this.editorModel.quoteModel.quoteVO.record.Id.substring(0,15));n&&n.columnMetadata&&(n.columnMetadata=[]),this.editorModel.columnMetadata=[],function(t){gp((new ie.a).save(o.a.org.prefix,"ColumnSizingServiceProvider.ResetColumnSizes",t),0,"",Be,["columnSizeReset"])}({fieldSetName:t.detail.fieldSet,shouldBeDefault:!1,objectType:this.editorModel.constants.QUOTE_LINE}),this.buildLayout(null,!0),Object(qe.a)(this,(function(){Object(r.c)(r.a.COL_WIDTHS_CHANGED,{layout:e.editorModel.layout})}))}}},{key:"getGroupClass",value:function(t){if(this.editorModel){var e="";return this.selectedGroupKey!=t&&(e+="hiddenGroup"),this.editorModel.largeQuoteExperienceEnabled&&(e+=" largeQuote"),e}}},{key:"getContainerClass",value:function(){return this.editorModel.largeQuoteExperienceEnabled?"largeQuote":""}},{key:"toggle",value:function(){var t=this;"open"==this.drawerState?this.closePanel():this.openPanel(),Object(qe.a)(this,(function(){Object(r.c)(r.a.GROUP_PANEL_TOGGLED,{drawerState:t.drawerState,groupKey:t.selectedGroupKey})}))}},{key:"openPanel",value:function(){this.isMobile()?this.$.drawerPanel.style.display="block":(this.$.drawerPanel.style.left="0px",this.$.mainPanel.style.paddingLeft="280px"),this.drawerState="open"}},{key:"closePanel",value:function(){this.isMobile()?this.$.drawerPanel.style.display="none":this.$.drawerPanel.style.left="-256px",this.$.mainPanel.style.paddingLeft=!this.isMobile()&&this.rightSideButton?"24px":"0px",this.drawerState="closed"}},{key:"groupPanelCreated",value:function(){var t=this;this.isMobile()||(this._resizeDebouncer=Fe.a.debounce(this._resizeDebouncer,Ne.d.after(50),(function(){t.buildLayout(),Object(qe.a)(t,(function(){Object(r.c)(r.a.COL_WIDTHS_CHANGED,{layout:t.editorModel.layout})}))})))}},{key:"groupAdded",value:function(t){this.navTo(t)}},{key:"groupDeleted",value:function(t){this.navTo(t)}},{key:"pageResized",value:function(t){t.detail.isFullScreenToggleEvent&&(this.buildLayout(),Object(r.c)(r.a.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout,groupKey:this.selectedGroupKey}))}},{key:"resizeColumnsOnLineItemDelete",value:function(){this.buildLayout(),Object(r.c)(r.a.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}},{key:"_hasSegmentedProduct",value:function(t){return void 0!==t.find((function(t){return t._groupHasSegmentedProducts()}))}},{key:"_groupModelsAreChangedObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._groupModelsAreChanged(t,e,n)}},{key:"_groupModelsAreChanged",value:function(){var t=this;this.drawerState?"closed"==this.drawerState&&(this.$.mainPanel.style.paddingLeft=!this.isMobile()&&this.rightSideButton?"24px":"0px"):this.closePanel(),this.buildLayout(),Object(qe.a)(this,(function(){t.observersAttached||t._attachObservers()}))}},{key:"_getGroupsLabel",value:function(){return _p.a.localize("lbl_groups")}},{key:"buildLayout",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isMobile()){var r=e?e.detail.group:null,i={},a=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],s=this.editorModel.actionsOnTheLeft,l=this.editorModel.data.settings.multiLineDeleteEnabled,c=this.editorModel.quoteModel.quoteVO.lineItems.length>0,u=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames.length>0,d=this.editorModel.columnMetadata,p=this.editorModel.constants.COLUMN_METADATA,h=o.a.isColumnResizingEnabled;i.totalWidth=c?this._getMaxTableWidth(this._getAvailableWidth(),a,s,l,u,d,p,h,n):this._getAvailableWidth(),r?r.colWidth=this._calculateGroupWidth(i,a,s,l,r,u,d,p,h,n):(this.editorModel.quoteModel.lineGroups.forEach((function(e){e.colWidth=t._calculateGroupWidth(i,a,s,l,e,u,d,p,h,n)})),this.set("editorModel.layout",i))}}},{key:"_getAvailableWidth",value:function(){var t=document.getElementById("sbPageContainer");if(t){var e=t.shadowRoot.querySelector("sb-line-editor");if(t&&e){var n=e.clientWidth;return this.editorModel.quoteModel.grouped&&(n-=32,this.editorModel.quoteModel.lineGroups.length>1&&(n-=24,this.drawerState&&"open"==this.drawerState&&(n-=256))),n}}}},{key:"_getMaxTableWidth",value:function(t,e,n,o,r,i,a,s,l){var c=Object(vt.b)("columnSizes");this.tableLayoutBuilder=new yp(t,this._getQuoteStandardFields(),e,n,o,r,i,a,s,this.fieldSetName,c,"Standard",l),this.tableLayoutBuilder.build();var u=this.tableLayoutBuilder.getTotalWidth(),d=this._hasSegmentedProduct(this.groupModels)?this.editorModel.quoteModel.quoteVO.multiSegmentColumns:[],p=this._getQuoteSegmentedFields();for(var h in d)if(d.hasOwnProperty(h)){var f=p.concat(d[h]).concat("total");this.tableLayoutBuilder=new yp(t,f,e,n,o,r,i,a,s,this.fieldSetName,c,h,l),this.tableLayoutBuilder.build();var b=this.tableLayoutBuilder.getTotalWidth();b>u&&(u=b)}return u}},{key:"_calculateGroupWidth",value:function(t,e,n,o,r,i,a,s,l,c){var u=Object(vt.b)("columnSizes"),d=r.groupKey,p=r.quoteModel.grouped?r.groupVO.multiSegmentColumns:r.quoteModel.quoteVO.multiSegmentColumns,h={};for(var f in this._hasSegmentedProduct(this.groupModels)||(p=[]),this.tableLayoutBuilder=new yp(t.totalWidth,this._getGroupStandardFields(d),e,n,o,i,a,s,l,this.fieldSetName,u,"Standard",c),t.leftOffset=this.tableLayoutBuilder.getLeftOffset(),h.Standard=this.tableLayoutBuilder.build(),this._updateMaxWidth(t,this.tableLayoutBuilder.getTotalWidth()),p)p.hasOwnProperty(f)&&(this.tableLayoutBuilder=new yp(t.totalWidth,this._getSegmentedFieldNames(r,p[f]),e,n,o,!1,a,s,l,this.fieldSetName,u,f,c),h[f]=this.tableLayoutBuilder.build(),this._updateMaxWidth(t,this.tableLayoutBuilder.getTotalWidth()));return h}},{key:"_updateMaxWidth",value:function(t,e){e>t.totalWidth&&(t.totalWidth=e)}},{key:"_getQuoteStandardFields",value:function(){for(var t=!1,e=this.editorModel.quoteModel.lineGroups,n=0,o=e.length;n<o;n++)if(e[n].standardSubscriptionScopeEditable){t=!0;break}return this._getStandardFields(t)}},{key:"_getGroupStandardFields",value:function(t){var e=this.editorModel.quoteModel.groupsByKey[t];return this._getStandardFields(e.standardSubscriptionScopeEditable)}},{key:"_getStandardFields",value:function(t){this._updateFieldSetName("lineFieldNames");var e=this.editorModel.fieldsetMap.lineFieldNames;return t&&(e=[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(e)),e}},{key:"_getQuoteSegmentedFields",value:function(){for(var t=!1,e=this.editorModel.quoteModel.lineGroups,n=0,o=e.length;n<o;n++)if(e[n].segmentedSubscriptionScopeEditable){t=!0;break}this._updateFieldSetName("multiSegmentLineSummaryFieldNames");var r=this.editorModel.data.multiSegmentLineSummaryFieldNames;return t?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(r):r}},{key:"_getSegmentedFieldNames",value:function(t,e){this._updateFieldSetName("multiSegmentLineSummaryFieldNames");for(var n=this.editorModel.data.multiSegmentLineSummaryFieldNames,o=t.segmentedSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(n):n.slice(),r=0,i=e.length;r<i;r++)o.push(e[r].replace(/\W/g,""));return o.push("total"),o}},{key:"_updateFieldSetName",value:function(t){this.editorModel.fieldSetNames&&this.editorModel.fieldSetNames[t]?this.fieldSetName=this.editorModel.fieldSetNames[t]:this.fieldSetName=null}},{key:"_attachObservers",value:function(){(this.rightSideButton||this.isMobile())&&(this.observersAttached=!0,this._observeNodes=new dp.a(this.shadowRoot.querySelector("#groups"),function(t){var e=t.addedNodes.filter(function(t){return"SB-LE-GROUP"===t.nodeName&&t.groupModel.groupVO.key==this.addedKey}.bind(this)),n=t.removedNodes.filter((function(t){return"SB-LE-GROUP"===t.nodeName}));e[0]!==n[0]&&(this.processNewGroups(e),this.processRemovedGroups(n))}.bind(this)))}},{key:"processNewGroups",value:function(t){if(this.addedKey&&t.length>0){var e=this.addedKey;this.isMobile()&&this.closePanel(),this.toggleSelectedAndScroll(e),this._observeNodes.disconnect(),this.observersAttached=!1,this.addedKey=null}}},{key:"processRemovedGroups",value:function(t){this.lastSelectedGroup&&1==t.length&&(Object(st.m)("selected-tab",!1,this.lastSelectedGroup),this.lastSelectedGroup=void 0,this._observeNodes.disconnect(),this.observersAttached=!1)}},{key:"toggleSelectedAndScroll",value:function(t){var e=this.shadowRoot.querySelector("#_"+t);this.lastSelectedGroup&&Object(st.m)("selected-tab",!1,this.lastSelectedGroup),"open"==this.drawerState&&(Object(st.m)("selected-tab",!0,e),this.lastSelectedGroup=e),this.shadowRoot.querySelector("#Group_"+t)&&(this._scrollIntoView(this.shadowRoot.querySelector("#Group_"+t)),this.shadowRoot.querySelector("#_"+t).scrollIntoView(!1))}},{key:"_scrollIntoView",value:function(t){this.shadowRoot.querySelector("#mainPanel").scrollTop=this.isMobile()?t.offsetTop:t.offsetTop-15}},{key:"navTo",value:function(t){var e=this;if(t.stopPropagation(),this.isMobile()){var n=t.target.querySelector(".loadingSpinner");n.toggleClass("invisible",!1)}var o=t.composedPath();Object(qe.a)(this,(function(){var i=o&&o[0]?o[0].id:t.path[0].id,a=t.detail.groupKey||i.split("_")[1];if(e.toggleSelectedAndScroll(a),e.editorModel.largeQuoteExperienceEnabled){var s=e.selectedGroupKey,l=parseInt(a);e.set("selectedGroupKey",l),l!=s&&Object(r.c)(r.a.GROUP_TOGGLED,{groupKey:e.selectedGroupKey})}e.isMobile()&&(Object(qe.a)(e,(function(){n.toggleClass("invisible",!0)})),e.toggle())}))}},{key:"_modelChanged",value:function(){Object(St.c)(this,"groupModels")}},{key:"_createDragDropModel",value:function(){if(this.editorModel&&!this.isMobile()&&!this.editorModel.largeQuoteExperienceEnabled){var t=new Set(["sb-droppable-sidePanelGroups"]);this.dragDrop=new Sn(this,this.editorModel.data.settings.bundleKeptTogether,"div",t,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),8,150)}}},{key:"onTrack",value:function(t){this.isMobile()||this.editorModel.largeQuoteExperienceEnabled||this.dragDrop._onTrack(t)}},{key:"dragFunc",value:function(t){var e=this.dragDrop;e.ghost=this.dragDrop.lineEditor.$.ghost,e.dragIndex=t.dataIndex,e.dragGroupModel=this.groupModels[e.dragIndex],t.style.display="none"}},{key:"trackFunc",value:function(t){var e=this.dragDrop;(t=this.dragDrop._findSidePanelGroupValidTarget(t))?("placeholder"===t.id&&(t="before"===t.ref?t.previousElementSibling:t.nextElementSibling),e.hoverOver={comp:t,phLoc:"both"},e.targetHost=this,e.highlightableElements=[],e.highlightableElements.push(e.hoverOver.comp),e.usePlaceholder=!0,e.enableHighLight=!1):e.hoverOver=null}},{key:"dropFunc",value:function(t,e,n,o){var r=this.dragDrop;if(t.style.display="block",e){var i=this.$.sbDroppableSidePanelGroups.querySelectorAll(".nav-item").length-1;r.dropIndex=e.dataIndex,o?r.dropIndex=r.dropIndex>=0?r.dropIndex:0:r.dropIndex++,Pn(e),this.splice("groupModels",r.dragIndex,1),r.dropIndex<i?this.splice("groupModels",r.dropIndex,0,r.dragGroupModel):this.push("groupModels",r.dragGroupModel),r.lineEditor.renumber(),this.editorModel.data.settings.usesClientCalculator&&r.lineEditor.editorModel.quoteModel.renumberIndexes(!0)}}},{key:"computeDrawerPanelClass",value:function(t){return t?"open":""}}])&&Sp(e.prototype,n),i&&Sp(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Le.a)(Object(Ae.a)(Object(Re.a)(Object(Mn.a)(Qe.a)))));function Dp(t){return(Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Lp(){return(Lp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=qp(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function qp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hp(t)););return t}function Fp(t,e){return(Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Hp(t);if(e){var r=Hp(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return zp(this,n)}}function zp(t,e){if(e&&("object"===Dp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hp(t){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Mp.is,Mp);var Up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fp(t,e)}(a,t);var e,n,r,i=Np(a);function a(){return Ap(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-le-field-md"}},{key:"properties",get:function(){return{data:{type:Object},md:{type:Object,notify:!0},error:{type:Object,notify:!0}}}},{key:"observers",get:function(){return["getFieldNames(data)"]}},{key:"template",get:function(){return Object(Qe.b)(Bp||(Bp=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<sb-describe\n\t\t\t\tid="describe"\n\t\t\t\tobjects="[[objects]]"\n\t\t\t></sb-describe>\n\t\t'])))}}],(n=[{key:"prefix",get:function(){return o.a.org.prefix?o.a.org.prefix+"__":""}},{key:"ready",value:function(){Lp(Hp(a.prototype),"ready",this).call(this),this.$.describe.addEventListener("describe-changed",function(t){var e=t.detail.value.md,n={},o={};this.constants||(this.constants=new qt.a(this.prefix));var r=this.constants.UNIT_PRICE_FIELDS,i=this.constants.QUANTITY_FIELDS;for(var a in e){var s=a.split("."),l=s[0],c=s[1];n[l]||(n[l]={}),o[l]||(o[l]={}),r.has(e[a].name)?e[a].scale=this.settings.priceScale:"currency"==e[a].type&&this.settings.isMultiCurrencyOrg?e[a].scale=this.currencyDecimalScale:i.has(e[a].name)&&(e[a].scale=this.settings.quantityScale||0===this.settings.quantityScale?this.settings.quantityScale:e[a].scale),n[l][c]=e[a],l===this.prefix+"QuoteLine__c"&&(o[l][c]=e[a].label),o[c]=e[a].label}this.md={fieldsMap:n,fieldLabelsMap:o}}.bind(this)),this.$.describe.addEventListener("error-changed",function(t){this.error=t.detail.value}.bind(this))}},{key:"getFieldNames",value:function(){var t=[];for(var e in this.data)for(var n=0,o=this.data[e].length;n<o;n++){var r=this.data[e][n];t.push(e+"."+r)}this.$.describe.fields=t}}])&&Rp(e.prototype,n),r&&Rp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Qe.a);customElements.define(Up.is,Up);var Vp=n(58),Wp=n(38),Qp=n(123);function Gp(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var $p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quoteModel=e,this.constants=n}var e,n,r;return e=t,(n=[{key:"validateAssetQuantityChanges",value:function(){var t=this.quoteModel.record[this.constants.TYPE_FIELD];return"Renewal"===t?this._validateAssetQuantityChangeForRenewal():"Amendment"===t?this._validateAssetQuantityChangeForAmendment():[]}},{key:"_validateAssetQuantityChangeForRenewal",value:function(){var t=[],e=Object(o.b)("msg_qty_cannot_decrease_on_renewal");return this.quoteModel.lineItems.forEach((function(n){var o=n.record[this.constants.RENEWAL_CHECKBOX],r=n.record[this.constants.EXISTING_FIELD],i=n.record[this.constants.PRIOR_QUANTITY_FIELD];if(o&&r&&null!=i){var a=n.record[this.constants.QUANTITY_FIELD];if(0!=a&&a<i){var s=e.replace("{0}",n.record[this.constants.NUMBER_FIELD]).replace("{1}",i);t.push(s)}}}),this),t}},{key:"_validateAssetQuantityChangeForAmendment",value:function(){var t=this,e=[],n=[],r=[],i=[];if(this.quoteModel.lineItems.forEach((function(e){null!=e.record[this.constants.UPGRADED_ASSET_FIELD]&&(e.record[this.constants.QUANTITY_FIELD]<0?e.record[this.constants.EXISTING_FIELD]&&e.record[this.constants.RENEWAL_CHECKBOX]&&n.push(e):(e.record[this.constants.EXISTING_FIELD]||e.record[this.constants.CARRYOVER_LINE_FIELD])&&(e.record[this.constants.UPGRADED_QUANTITY]>e.record[this.constants.PRIOR_QUANTITY_FIELD]?r.push(e):!e.record[this.constants.ALLOW_ASSET_REFUND_FIELD]&&function(e){var n=e.record[t.constants.QUANTITY_FIELD],o=e.record[t.constants.PRIOR_QUANTITY_FIELD]||0,r=e.record[t.constants.UPGRADED_QUANTITY]||0,i=e.record[t.constants.EXISTING_FIELD],a=e.record[t.constants.CARRYOVER_LINE_FIELD];return i||a?n-o+r:n}(e)<0&&i.push(e)))}),this),n.length>0){var a=Object(o.b)("msg_qty_no_negative_on_amend"),s="";n.forEach((function(t){s+=t.record[this.constants.NUMBER_FIELD]+", "}),this),s=s.substr(0,s.lastIndexOf(",")),e.push(a.replace("{0}",s))}if(r.length>0){var l=Object(o.b)("msg_qty_of_upgrade_exceeds_source_prior");r.forEach((function(t){var n=t.record[this.constants.NUMBER_FIELD],o=t.record[this.constants.PRIOR_QUANTITY_FIELD],r=l.replace("{0}",n).replace("{1}",o);e.push(r)}),this)}if(i.length>0){var c=Object(o.b)("msg_qty_of_source_too_low");i.forEach((function(t){var n=t.record[this.constants.PRODUCT_NAME_FIELD],o=t.record[this.constants.NUMBER_FIELD],r=c.replace("{0}",n).replace("{1}",o);e.push(r)}),this)}return e}}])&&Gp(e.prototype,n),r&&Gp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Kp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Yp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Yp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Xp(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Jp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineEditorComponent=e,this.editorModel=this.lineEditorComponent.editorModel,this.indexByGroupKey=this.editorModel.quoteModel.indexByGroupKey,this.fieldNameSet=this.lineEditorComponent.editorModel.fieldNameSet,this.propertyNameSet=new Set,this.propertyNameSet.add("multiSegmentRowTotals"),this.propertyNameSet.add("multiSegmentColumnTotals"),this.propertyNameSet.add("netMultiSegmentTotal"),this.propertyNameSet.add("summaries"),this.propertyNameSet.add("fieldVisibility"),this.propertyNameSet.add("fieldEditability"),this.pathNameSet=new Set(this.fieldNameSet);var n,o=Kp(this.propertyNameSet);try{for(o.s();!(n=o.n()).done;){var r=n.value;this.pathNameSet.has(r)||this.pathNameSet.add(r)}}catch(t){o.e(t)}finally{o.f()}this.constants=this.editorModel.constants,this.pathsToNotify={},this.originalPathValues={},this.pathsToSet={},this.groupModels=this.editorModel.quoteModel.lineGroups,this.quoteVO=this.editorModel.quoteModel.quoteVO}var e,n,o;return e=t,(n=[{key:"notify",value:function(t,e,n,o,r){var i,a;if(this.pathNameSet.has(e.split(".").pop()))if("QuoteModel"==t){if(this.notifyPath("editorModel.quoteModel.quoteVO.".concat(e),n,r,t),"multiSegmentRowTotals"==e){if(!n)return;for(var s=0,l=this.groupModels.length;s<l;s++)for(var c=this.groupModels[s].dimensions,u=0,d=c.length;u<d;u++)for(var p=0,h=this.groupModels[s].segmentedLinesByDimension[c[u]].length;p<h;p++){var f=this.groupModels[s].segmentedLinesByDimension[c[u]][p].lineVO.record[this.constants.SEGMENT_KEY_FIELD];this.notifyPath("groupModels.".concat(s,".segmentedLinesByDimension.").concat(c[u],".").concat(p,".total"),n[f],r,t)}}if(o.grouped)return;var b=this.indexByGroupKey[this.groupModels[0].groupVO.key].index;this.notifySpecificPath(b,e,o,n,r,t)}else if("QuoteLineGroupModel"==t)null!=this.indexByGroupKey[o.key]&&null!=this.indexByGroupKey[o.key].index&&(i=this.indexByGroupKey[o.key].index,this.notifyPath("groupModels.".concat(i,".groupVO.").concat(e),n,r,t),this.notifySpecificPath(i,e,o,n,r,t));else if("QuoteLineModel"==t)if(i=this.indexByGroupKey[o.parentGroupKey].index,a=this.indexByGroupKey[o.parentGroupKey].indexByLineKey[o.key],o.record[this.constants.SEGMENT_KEY_FIELD]){var y=o.parentQuote.multiSegmentKeys[o.record[this.constants.SEGMENT_KEY_FIELD]],g=this.indexByGroupKey[o.parentGroupKey].indexBySegmentKey[o.record[this.constants.SEGMENT_KEY_FIELD]];this.notifyPath("groupModels.".concat(i,".segmentedLinesByDimension.").concat(y,".").concat(g,".segments.").concat(a,".lineVO.").concat(e),n,r,t),e=="record."+[this.constants.NET_TOTAL_FIELD]&&this.notifyPath("groupModels.".concat(i,".segmentedLinesByDimension.").concat(y,".").concat(g,".")+o.record[this.constants.SEGMENT_LABEL_FIELD].replace(/\W/g,""),n,r,t)}else this.notifyPath("groupModels.".concat(i,".standardLines.").concat(a,".lineVO.").concat(e),n,r,t)}},{key:"notifySpecificPath",value:function(t,e,n,o,r,i){if("multiSegmentColumnTotals"==e||"netMultiSegmentTotal"==e||"summaries"==e)if("summaries"!=e){if(o)for(var a=n.localizedMultiSegmentColumns?Object.keys(n.localizedMultiSegmentColumns):Object.keys(n.multiSegmentColumnTotals),s=0,l=a.length;s<l;s++){var c="netMultiSegmentTotal"==e?n.netMultiSegmentTotal[a[s]]:n.multiSegmentColumnTotals[a[s]];if("netMultiSegmentTotal"==e)this.set("groupModels.".concat(t,".netMultiSegmentTotal.").concat(a[s]),o[a[s]],r,i);else for(var u=Object.keys(c),d=0,p=u.length;d<p;d++)this.set("groupModels.".concat(t,".multiSegmentColumnTotals.").concat(a[s],".").concat(u[d]),o[a[s]][u[d]],r,i)}}else this.set("groupModels.".concat(t,".summaries"),o,r,i)}},{key:"notifyPath",value:function(t,e,n,o){this.originalPathValues.hasOwnProperty(t)||(this.originalPathValues[t]=n),this.pathsToNotify[t]={value:e,root:o}}},{key:"set",value:function(t,e,n,o){this.originalPathValues.hasOwnProperty(t)||(this.originalPathValues[t]=n),this.pathsToSet[t]={value:e,root:o}}},{key:"fireEvent",value:function(t,e){this.lineEditorComponent.dispatchEvent(Object(r.d)(t,e))}}])&&Xp(e.prototype,n),o&&Xp(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Zp(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var th=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.MONTHLY_DIM="Month",this.YEARLY_DIM="Year",this.QUARTERLY_DIM="Quarter",this.editorModel=e,this.groupModelsByKey=n,this.prefix=e.developerPrefix,this.START_DATE_FIELD=this.prefix+"StartDate__c",this.END_DATE_FIELD=this.prefix+"EndDate__c",this.SUBSCRIPTION_TERM_FIELD=this.prefix+"SubscriptionTerm__c",this.LINES_GROUPED_FIELD=this.prefix+"LineItemsGrouped__c",this.SEGMENT_KEY_FIELD=this.prefix+"SegmentKey__c",this.SEGMENT_INDEX_FIELD=this.prefix+"SegmentIndex__c",this.SEGMENT_LABEL_FIELD=this.prefix+"SegmentLabel__c",this.FIRST_SEGMENT_END_DATE_FIELD=this.prefix+"FirstSegmentTermEndDate__c",this.TYPE_FIELD=this.prefix+"Type__c",this.EXISTING_FIELD=this.prefix+"Existing__c",this._segmentsChanged=!1}var e,n,o;return e=t,(n=[{key:"updateSegments",value:function(){var t=this.editorModel.quote;return this._hasMultiSegmentLines(t)&&(t.grouped||t.record[this.LINES_GROUPED_FIELD]?t.lineItemGroups.forEach((function(e){this._adjustSegments(t,e)}),this):this._adjustSegments(t,null)),this._segmentsChanged}},{key:"_hasMultiSegmentLines",value:function(t){for(var e=t.lineItems.length,n=0;n<e;n++)if(null!=t.lineItems[n].record[this.SEGMENT_KEY_FIELD])return!0;return!1}},{key:"_adjustSegments",value:function(t,e){var n=this._calculateSubscriptionTerm(t,e),o=e?t.lineItems.filter((function(t){return t.parentGroupKey===e.key})):t.lineItems;this._calculateSegmentDeltasAndModifySegments(t,e,o,n,this.YEARLY_DIM),this._calculateSegmentDeltasAndModifySegments(t,e,o,n,this.MONTHLY_DIM),this._calculateSegmentDeltasAndModifySegments(t,e,o,n,this.QUARTERLY_DIM)}},{key:"_calculateSubscriptionTerm",value:function(t,e){var n=e&&e.record[this.START_DATE_FIELD]||t.record[this.START_DATE_FIELD],o=e&&e.record[this.END_DATE_FIELD]||t.record[this.END_DATE_FIELD],r=e&&null!=e.record[this.SUBSCRIPTION_TERM_FIELD]?e.record[this.SUBSCRIPTION_TERM_FIELD]:t.record[this.SUBSCRIPTION_TERM_FIELD],i=n?new Date(n):null,a=o?new Date(o):null,s=t.record[this.FIRST_SEGMENT_END_DATE_FIELD],l=s?new Date(s):null;if(l){i=i||new Date,a||(a=new Date(i.getTime()),this.editorModel.settings.subscriptionTermUnitIsDay?a.setUTCDate(a.getUTCDate()+r-1):(SB.addMonths(a,r),a.setUTCDate(a.getUTCDate()-1)));var c=new Date(l.getTime());return c.setUTCDate(c.getUTCDate()+1),a.setDate(a.getDate()+1),this.editorModel.settings.subscriptionTermUnitIsDay?SB.daysBetween(c,a):SB.monthsBetweenRoundPartialUp(c,a)}return i&&a?(a.setDate(a.getDate()+1),this.editorModel.settings.subscriptionTermUnitIsDay?SB.daysBetween(i,a):SB.monthsBetweenRoundPartialUp(i,a)):r}},{key:"_calculateSegmentDeltasAndModifySegments",value:function(t,e,n,o,r){var i=this._calculateSegmentDeltas(t,n,o,r);0!=i.size&&this._modifySegmentsBasedOnDelta(t,e,i,r)}},{key:"_calculateSegmentDeltas",value:function(t,e,n,o){var r=this.editorModel.settings.subscriptionTermUnitIsDay;n=null==n?r?365:12:n;var i=function(){for(var t=new Map,n=e.length,r=0;r<n;r++){var i=e[r];if(i.dimensionType==o){var a=i.record[this.SEGMENT_KEY_FIELD],s=t.get(a)||0;t.set(a,s+1)}}return t}.bind(this)(),a=function(){var e=0,i=t.record[this.FIRST_SEGMENT_END_DATE_FIELD],a=i?new Date(i):null;if(a){e=1;var s=new Date(a.getTime());s.setUTCDate(s.getUTCDate()+1)}if(r){var l=s||new Date(this.editorModel.quote.record[this.START_DATE_FIELD]),c=this.editorModel.quote.record[this.END_DATE_FIELD]?new Date(this.editorModel.quote.record[this.END_DATE_FIELD]):new Date(l.setUTCDate(l.getUTCDate()+n));n=SB.monthsBetween(l,c),l.setUTCMonth(l.getUTCMonth()+n),l.setUTCDate(l.getUTCDate()-1),l<c&&(n+=1)}switch(o){case this.YEARLY_DIM:e+=Math.ceil(n/12);break;case this.QUARTERLY_DIM:e+=Math.ceil(n/3);break;case this.MONTHLY_DIM:e+=n}return e}.bind(this)(),s=new Map;return i.forEach((function(t,e){s.set(e,a-t)})),s}},{key:"_modifySegmentsBasedOnDelta",value:function(t,e,n,o){n.forEach((function(e,n){var r=this._getLastSegmentFromQuote(t,n,o),i=0===e,a="Amendment"===t.record[this.TYPE_FIELD]&&r.record[this.EXISTING_FIELD],s=r.record[this.START_DATE_FIELD],l=r.record[this.END_DATE_FIELD],c=s?new Date(s):null,u=l?new Date(l):null;if(!i&&!a)if(e>0&&u>=c){this._segmentsChanged=!0;for(var d=1;d<=e;d++){var p=this._createNewSegment(t,r,d);t.lineItems.push(p),this.groupModelsByKey&&this.groupModelsByKey[p.parentGroupKey].processQuoteLines(p)}}else if(e<0){this._segmentsChanged=!0;for(var h=0;h>e;h--){var f=this._getLastSegmentFromQuote(t,n,o);if(this._removeSegment(t,f),this.groupModelsByKey){var b=this.groupModelsByKey[f.parentGroupKey].segmentedLinesBySegmentKey[n];b.segments.splice(b.segments.length-1,1)}}}}),this)}},{key:"_getLastSegmentFromQuote",value:function(t,e,n){var o=null,r=null;return t.lineItems.forEach((function(t){if(t.record[this.SEGMENT_KEY_FIELD]===e&&t.dimensionType===n){var i=t.record[this.SEGMENT_INDEX_FIELD];null!=i&&(null==r||r<i)&&(r=i,o=t)}}),this),o}},{key:"_createNewSegment",value:function(t,e,n){var o=JSON.parse(JSON.stringify(e));o.key=++t.nextKey,o.record.Id=null,o.record[this.SEGMENT_KEY_FIELD]=e.record[this.SEGMENT_KEY_FIELD],o.record[this.SEGMENT_INDEX_FIELD]=e.record[this.SEGMENT_INDEX_FIELD]+n;var r=o.record[this.SEGMENT_INDEX_FIELD]<10?"  ":" ";return o.record[this.SEGMENT_LABEL_FIELD]=e.dimensionType+r+o.record[this.SEGMENT_INDEX_FIELD],o}},{key:"_removeSegment",value:function(t,e){for(var n=t.lineItems.length,o=0;o<n;o++){var r=t.lineItems[o];if(r.key===e.key)return t.lineItems=t.lineItems.slice(0,o).concat(t.lineItems.slice(o+1,n)),void(t.deletedLineIds&&r.record&&r.record.Id&&t.deletedLineIds.push(r.record.Id))}}}])&&Zp(e.prototype,n),o&&Zp(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function eh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var nh=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editorModel=e,this.targetRecord=n}var e,n,o;return e=t,(n=[{key:"getRequest",value:function(){return{target:this.targetRecord,quote:this.editorModel.quoteModel.quoteVO.record,lines:[],actions:[]}}},{key:"getResponse",value:function(t){if(t)switch(t.actions[0].toLowerCase().replace(" ","")){case"save":return{lines:t.lines,action:"save"};case"quicksave":return{lines:t.lines,action:"quicksave"};case"reload":return{lines:t.lines,action:"reload"};case"none":default:return{lines:t.lines,action:"none"}}}}])&&eh(e.prototype,n),o&&eh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function oh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var rh,ih=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constants=new qt.a(e)}var e,n,o;return e=t,(n=[{key:"sortLineItems",value:function(t,e){return t.sort(function(t,n){if(t.lineSortValue=t.record[e],n.lineSortValue=n.record[e],null!=t.lineSortValue&&null!=n.lineSortValue&&t.lineSortValue!=n.lineSortValue){var o=t.lineSortValue-n.lineSortValue;return o==o?o:t.lineSortValue<n.lineSortValue?-1:1}if(t.lineSortValue==n.lineSortValue){var r=t.record[this.constants.SEGMENT_INDEX_FIELD],i=n.record[this.constants.SEGMENT_INDEX_FIELD];return r==i?t.record[this.constants.NUMBER_FIELD]-n.record[this.constants.NUMBER_FIELD]:null==r?-1:null==i?1:r-i}return null==t.lineSortValue?-1:null==n.lineSortValue?1:t.record[this.constants.NUMBER_FIELD]-n.record[this.constants.NUMBER_FIELD]}.bind(this)),t}}])&&oh(e.prototype,n),o&&oh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(171),n(164);var ah,sh=Object(ze.b)(rh||(rh=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  --sbMultiSelectMinWidth: 250px;\n  --sbSelectMinHeight: 210px;\n  --sbSelectOptionPadding: 5px;\n}\n:host i {\n  font-size: 20px;\n}\n:host .selectArea {\n  width: 250px;\n}\n:host .selectTitle {\n  padding: 5px;\n}\n:host .arrows {\n  width: 30px;\n  margin-left: 30px;\n  margin-right: 20px;\n  margin-top: 50px;\n}\n:host .arrows :hover {\n  cursor: pointer;\n}\n:host #container {\n  display: flex;\n  margin-top: 10px;\n}\n"])));function lh(t){return(lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dh(t,e){return(dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ph(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=fh(t);if(e){var r=fh(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return hh(this,n)}}function hh(t,e){if(e&&("object"===lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fh(t){return(fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bh,yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dh(t,e)}(i,t);var e,n,o,r=ph(i);function i(){return ch(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-dual-list-box"}},{key:"properties",get:function(){return{options:Array,availableOptions:Array,availableTitle:String,chosenOptions:Array,chosenTitle:String,value:{type:Array,notify:!0}}}},{key:"observers",get:function(){return["_buildOptions(options)"]}},{key:"template",get:function(){return Object(Qe.b)(ah||(ah=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="container">\n\t\t\t<div class="selectArea">\n\t\t\t\t<div class="selectTitle">{{availableTitle}}</div>\n\t\t\t\t<sb-select device id="available" multi-select="true" options="[[availableOptions]]" on-change="_onAvailableChange" is-required="true"></sb-select>\n\t\t\t</div>\n\t\t\t<div class="arrows">\n\t\t\t\t<i class="icon sf-icon-right" on-click="_updateOptions" data-index="right"></i>\n\t\t\t\t<i class="icon sf-icon-left" on-click="_updateOptions" data-index="left"></i>\n\t\t\t</div>\n\t\t\t<div class="selectArea">\n\t\t\t\t<div class="selectTitle">{{chosenTitle}}</div>\n\t\t\t\t<sb-select device id="chosen" multi-select="true" options="[[chosenOptions]]" on-change="_onChosenChange" is-required="true"></sb-select>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),sh)}}],(n=[{key:"_buildOptions",value:function(){this.value=[],this.chosenOptions=[];var t=[];this._clearSelected(),this.options.forEach(function(e){e.available=!0,t.push(e)}.bind(this)),this.availableOptions=t}},{key:"_onAvailableChange",value:function(t){this.availableOptionsSelected=t.detail.value}},{key:"_onChosenChange",value:function(t){this.chosenOptionsSelected=t.detail.value}},{key:"_updateOptions",value:function(t){var e=t.currentTarget.getAttribute("data-index"),n=new Set("right"===e?this.availableOptionsSelected.split(";"):this.chosenOptionsSelected.split(";"));this.availableOptionsSelected="",this.chosenOptionsSelected="";var o=[],r=[];this.options.forEach(function(t){"right"===e?n.has(t.value.toString())||!t.available?(t.available=!1,r.push(t)):o.push(t):n.has(t.value.toString())||t.available?(t.available=!0,o.push(t)):r.push(t)}.bind(this)),this._clearSelected(),this.availableOptions=o,this.chosenOptions=r,this.value=this.chosenOptions}},{key:"_clearSelected",value:function(){this.$.available.value=null,this.$.chosen.value=null}}])&&uh(e.prototype,n),o&&uh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(Ae.a)(Qe.a));customElements.define(yh.is,yh);var gh,vh=Object(ze.b)(bh||(bh=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host .content {\n  text-align: var(--sbDialogContentTextAlign, left);\n  font-size: var(--sbDialogContentFontSize, 14px);\n}\n:host([class*='--mobile']) {\n  padding-top: 60px;\n  text-align: center;\n}\n:host .groupContainer[class*='--mobile'] {\n  width: 100%;\n}\n:host .selectionMessageContainer[class*='--mobile'] {\n  width: 100%;\n  padding: 10px;\n  border-bottom: 2px solid #d8dde6;\n}\n:host .selectionMessage[class*='--mobile'] {\n  font-size: 18px;\n  padding-left: 20px;\n  margin-top: 80px;\n}\n:host .label[class*='--mobile'] {\n  display: inline-block;\n  font-size: 18px;\n  padding-left: 5px;\n  margin-top: 8px;\n}\n:host .selectBox[class*='--mobile'] {\n  font-size: 20px;\n  margin-left: 5px;\n  float: left;\n  padding: 5px;\n}\n:host .selectionContainer[class*='--mobile'] {\n  width: 100%;\n  overflow: hidden;\n  padding: 10px 15px 5px;\n  display: block;\n  margin: 0;\n  border-bottom: 2px solid #d8dde6;\n  min-height: 62px;\n  box-sizing: border-box;\n}\n:host .backgroundContainer[class*='--mobile'] {\n  background-color: #eef1f6;\n}\n:host .backgroundContainer[class*='--mobile'] span {\n  color: #16325C;\n  font-weight: bold;\n}\n:host .backgroundContainer[class*='--mobile'] .sf-icon-check {\n  color: #16325C;\n}\n:host .backgroundContainer[class*='--mobile'] .check {\n  float: left;\n  padding-top: 10px;\n}\n:host([class*='--mobile']) {\n  padding-top: 60px;\n  text-align: center;\n}\n:host [class*='--mobile'] .groupContainer {\n  width: 100%;\n}\n:host [class*='--mobile'] .selectionMessageContainer {\n  width: 100%;\n  padding: 10px;\n  border-bottom: 2px solid #d8dde6;\n}\n:host [class*='--mobile'] .selectionMessage {\n  font-size: 18px;\n  padding-left: 20px;\n  margin-top: 80px;\n}\n:host [class*='--mobile'] .label {\n  display: inline-block;\n  font-size: 18px;\n  padding-left: 5px;\n  margin-top: 8px;\n}\n:host [class*='--mobile'] .selectBox {\n  font-size: 20px;\n  margin-left: 5px;\n  float: left;\n  padding: 5px;\n}\n:host [class*='--mobile'] .selectionContainer {\n  width: 100%;\n  overflow: hidden;\n  padding: 10px 15px 5px;\n  display: block;\n  margin: 0;\n  border-bottom: 2px solid #d8dde6;\n  min-height: 62px;\n  box-sizing: border-box;\n}\n:host [class*='--mobile'] .backgroundContainer {\n  background-color: #eef1f6;\n}\n:host [class*='--mobile'] .backgroundContainer span {\n  color: #16325C;\n  font-weight: bold;\n}\n:host [class*='--mobile'] .backgroundContainer .sf-icon-check {\n  color: #16325C;\n}\n:host [class*='--mobile'] .backgroundContainer .check {\n  float: left;\n  padding-top: 10px;\n}\nsb-dialog {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerWidth: 65%;\n}\n"])));function mh(t){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Oh(){return(Oh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=kh(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function kh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Eh(t)););return t}function xh(t,e){return(xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Eh(t);if(e){var r=Eh(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ch(this,n)}}function Ch(t,e){if(e&&("object"===mh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Eh(t){return(Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xh(t,e)}(l,t);var e,n,i,s=Sh(l);function l(){return _h(this,l),s.apply(this,arguments)}return e=l,i=[{key:"is",get:function(){return"sb-clone-to-group-dialog"}},{key:"properties",get:function(){return Object(st.e)({quoteModel:Object},a.a.properties)}},{key:"template",get:function(){return Object(Qe.b)(gh||(gh=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-dialog-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t\n\t\t\t<div device>\n\t\t\t\t<sb-dialog\n\t\t\t\t\tid="dialog"\n\t\t\t\t\tmodal="true"\n\t\t\t\t\tclose-dialog="sb-cancel-clone-to-group"\n\t\t\t\t>\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Clone To Group(s)</sb-i18n>\n\t\t\t\t\t</div>\n\t\t\t\t\t<paper-button\n\t\t\t\t\t\tslot="paper-button"\n\t\t\t\t\t\tnoink\n\t\t\t\t\t\tclass="primary"\n\t\t\t\t\t\ton-click="onSave"\n\t\t\t\t\t\t><sb-i18n>Save</sb-i18n></paper-button\n\t\t\t\t\t>\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<div class="selectionMessageContainer">\n\t\t\t\t\t\t\t<sb-i18n class="selectionMessage">Select one or more group(s):</sb-i18n>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!--desktop fields--\x3e\n\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t<sb-dual-list-box\n\t\t\t\t\t\t\t\tid="dualListBox"\n\t\t\t\t\t\t\t\tvalue="{{selectedGroups}}"\n\t\t\t\t\t\t\t\toptions="[[groups]]"\n\t\t\t\t\t\t\t\tavailable-title="[[availableGroupTitle]]"\n\t\t\t\t\t\t\t\tchosen-title="[[chosenGroupTitle]]"\n\t\t\t\t\t\t\t></sb-dual-list-box>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\x3c!--mobile fields--\x3e\n\t\t\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t\t\t<div class="groupContainer datatable">\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\titems="[[groups]]"\n\t\t\t\t\t\t\t\t\tas="group"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t\t\t\t<div class="td">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass="selectionContainer"\n\t\t\t\t\t\t\t\t\t\t\t\ton-click="toggleSelectedClass"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="check">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[group.selected]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="sf-icon-check"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="label">[[group.label]]</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),vh)}}],(n=[{key:"ready",value:function(){var t=this;Oh(Eh(l.prototype),"ready",this).call(this),Object(qe.a)(this,(function(){t.addEventListener("sb-cancel-clone-to-group",t.onCancel)}))}},{key:"open",value:function(){this.lineGroups=this.quoteModel.lineGroups,this.$.dialog.toggle();for(var t=[],e=0,n=this.lineGroups.length;e<n;e++)t.push({value:this.lineGroups[e].groupKey,label:this.lineGroups[e].groupVO.record.Name,selected:!1});this.groups=t,this.isMobile||(this.availableGroupTitle=o.a.properties.i18n.value().l("Available Groups"),this.chosenGroupTitle=o.a.properties.i18n.value().l("Selected Groups"))}},{key:"onSave",value:function(){this.isMobile?(this.selectedGroups=this._getSelectedGroups(),this.dispatchEvent(Object(r.d)("sb-clone-to-group-selected",this.selectedGroups)),this.groups=void 0):this.dispatchEvent(Object(r.d)("sb-clone-to-group-selected",this.selectedGroups)),this.$.dialog.toggle()}},{key:"onCancel",value:function(){this.$.dialog.toggle(),this.isMobile&&(this.groups=void 0)}},{key:"_getSelectedGroups",value:function(){for(var t=[],e=0,n=this.groups.length;e<n;e++)this.groups[e].selected&&t.push(this.groups[e]);return t}},{key:"toggleSelectedClass",value:function(t){var e=t.currentTarget,n=e.classList.contains("backgroundContainer"),o=e.dataIndex;this.set("groups.".concat(o,".selected"),!n),Object(st.m)("backgroundContainer",!n,e)}}])&&wh(e.prototype,n),i&&wh(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(Le.a)(Object(Ae.a)(Qe.a)));function Th(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ih(t,e,n){return e&&Th(t.prototype,e),n&&Th(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}customElements.define(Ph.is,Ph);var jh=Ih((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.template=e,this.discountSchedule=n,this.selected=!1,this.hidden=!1,this.disabled=!1,this.tiers=[]}));function Bh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Mh,Dh=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.schedule=e,this.editorModel=n,this.constants=n.constants,this.unitPriceScale=n.data.settings.priceScale,this.isMultiCurrencyOrg=n.data.settings.isMultiCurrencyOrg}var e,n,o;return e=t,(n=[{key:"validate",value:function(t){var e=new Map,n=null,o=this.editorModel.data.customLabels,r=this.schedule;return t.forEach(function(t){var i=null,a=t.template[this.constants.NUMBER_FIELD],s=t.template[this.constants.LOWER_BOUND_FIELD],l=t.template[this.constants.UPPER_BOUND_FIELD],c=null!=n?n[this.constants.UPPER_BOUND_FIELD]:null,u=r[this.constants.DISCOUNT_UNIT_FIELD],d=t.template[this.constants.ADDITIONAL_DISCOUNT_RATE_FIELD];delete t.template.Price,null==s?i=this.formatLabel(o.msg_missing_lower_bound_tier,[a]):null!=n&&s!=c?i=this.formatLabel(o.msg_unequal_lower_upper_bounds_tier,[a]):null!=d||null!=u&&"PERCENT"!==u.toUpperCase()?null!=l&&""!=l&&l<=s?i=this.formatLabel(o.msg_upper_greater_tier,[a]):u&&"AMOUNT"===u.toUpperCase()?t.tiers.forEach(function(e){null===this.discountFormatted(e)&&(i=this.isMultiCurrencyOrg?this.formatLabel(o.msg_missing_discount_amount_tier_currency,[a,t.CurrencyIsoCode]):this.formatLabel(o.msg_missing_discount_amount_tier,[a]))}.bind(this)):null!=l&&""!=l&&l<=s&&(i=this.formatLabel(o.msg_upper_greater_tier,[a])):i=this.formatLabel(o.msg_missing_discount_tier,[a]),null!=i&&e.set(Number(a),i),n=t.template}.bind(this)),e}},{key:"discountFormatted",value:function(t){return null==t[this.constants.DISCOUNT_AMOUNT_FIELD]?null:Number(t[this.constants.DISCOUNT_AMOUNT_FIELD]).toFixed(this.unitPriceScale)}},{key:"formatLabel",value:function(t,e){for(var n=0,o=e.length;n<o;n++)t=t.replace("{"+n+"}",e[n].toString());return t}}])&&Bh(e.prototype,n),o&&Bh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();var Ah,Rh=Object(ze.b)(Mh||(Mh=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  width: 100%;\n}\n:host .table {\n  padding: 10px 0;\n}\n:host .tr {\n  text-align: center;\n  vertical-align: top;\n  display: flex;\n}\n:host .td1 {\n  width: 100%;\n}\n:host .td2 {\n  width: 50%;\n}\n:host .td3 {\n  width: 33%;\n}\n:host .header-attributes {\n  padding: 0 30px 0 30px;\n}\n"])));var Lh,qh=Object(ze.b)(Ah||(Ah=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .td {\n  display: flex;\n  padding: 6px 0;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n}\n:host .td > .label {\n  text-align: right;\n  padding-right: 10px;\n  min-width: 50%;\n  align-self: center;\n  white-space: nowrap;\n}\n:host .td > .field {\n  text-align: left;\n  padding-left: 10px;\n  width: 60%;\n}\n:host .td > .sb-icon-help-circled {\n  font-size: var(--sbFontSizeDefault);\n}\n:host .td[class*='--mobile'] {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n}\n:host .td[class*='--mobile'] .helpText {\n  display: none;\n}\n:host .td[class*='--mobile'] .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n:host .td[class*='--mobile'] .field {\n  width: 110%;\n  padding-left: 0;\n}\n:host [class*='--mobile'] .td {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n}\n:host [class*='--mobile'] .td .helpText {\n  display: none;\n}\n:host [class*='--mobile'] .td .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n:host [class*='--mobile'] .td .field {\n  width: 110%;\n  padding-left: 0;\n}\n"])));function Fh(t){return(Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hh(t,e){return(Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Uh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Wh(t);if(e){var r=Wh(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Vh(this,n)}}function Vh(t,e){if(e&&("object"===Fh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wh(t){return(Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qh,Gh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hh(t,e)}(i,t);var e,n,o,r=Uh(i);function i(){return Nh(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-field-item"}},{key:"properties",get:function(){return{value:{notify:!0},item:String,model:Object,md:Object,data:Object}}},{key:"observers",get:function(){return["_setFieldDataObserver(item, model)","_dataChangedObserver(data, item)"]}},{key:"template",get:function(){return Object(Qe.b)(Lh||(Lh=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\n\t\t<div device class="td">\n\t\t<div class="label">[[label]]</div>\n\t\t<template is="dom-if" if="[[md.inlineHelpText]]">\n\t\t\t<div class="helpText">\n\t\t\t\t<span class="sb-icon-help-circled"></span>\n\t\t\t\t<paper-tooltip position="top" animation-delay="0">[[helpText]]</paper-tooltip>\n\t\t\t</div>\n\t\t</template>\n\t\t<div class="field"><sb-field id="field" value="{{value}}" record="[[data]]" md="[[md]]" disabled="[[disabled]]"></sb-field></div>\n\t\t</div>\n\t\t'])),qh)}}],(n=[{key:"_setFieldDataObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._setFieldData(t,e)}},{key:"_setFieldData",value:function(){this.md=this.model[this.item],this.label=this.md.label,this.helpText=this.md.inlineHelpText,this.$.field.editing=this.md.updateable,this.$.field.md=this.md,this.$.field.property=this.item;var t={};t[this.item]=this.value,this.$.field.obj=t}},{key:"_dataChangedObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._dataChanged(t,e)}},{key:"_dataChanged",value:function(){var t=new Ho.a(this.item,this.data);t.hasRelationship()&&(this.display=t.getRelationshipName())}}])&&zh(e.prototype,n),o&&zh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(Ae.a)(Qe.a));function $h(t){return($h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yh(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xh(t,e){return(Xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=tf(t);if(e){var r=tf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Zh(this,n)}}function Zh(t,e){if(e&&("object"===$h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function tf(t){return(tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Gh.is,Gh);var ef,nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xh(t,e)}(i,t);var e,n,o,r=Jh(i);function i(){return Kh(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-field-table"}},{key:"properties",get:function(){return{numColumns:{type:Number,value:1},data:{type:Object,notify:!0},fieldNames:String,md:Object,disabled:Boolean}}},{key:"observers",get:function(){return["_generateColumnsObserver(md, fieldNames)"]}},{key:"template",get:function(){return Object(Qe.b)(Qh||(Qh=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\n\t\t<div id="table" class="table">\n\t\t\t<div class="tr">\n\t\t\t\t<div class$="td [[columnOneWidth]]"><sb-group id="firstColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>\n\t\t\t\t<div class$="td [[columnTwoWidth]]"><sb-group id="secondColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>\n\t\t\t\t<div class$="td [[columnThreeWidth]]"><sb-group id="thirdColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),Rh)}}],(n=[{key:"_generateColumnsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.generateColumns(t,e)}},{key:"generateColumns",value:function(){for(var t=[],e=[],n=[],o=this.fieldNames.length,r=0;r<o;r++)r%this.numColumns==0?t.push(this.fieldNames[r]):r%this.numColumns==1?e.push(this.fieldNames[r]):n.push(this.fieldNames[r]);1==this.numColumns?this.columnOneWidth="td1":2==this.numColumns?(this.columnOneWidth="td2",this.columnTwoWidth="td2"):(this.columnOneWidth="td3",this.columnTwoWidth="td3",this.columnThreeWidth="td3"),this.setColumns(t,e,n)}},{key:"setColumns",value:function(t,e,n){t.length>0&&(this.$.firstColumn.model=this.md,this.$.firstColumn.group=t),e.length>0&&(this.$.secondColumn.model=this.md,this.$.secondColumn.group=e),n.length>0&&(this.$.thirdColumn.model=this.md,this.$.thirdColumn.group=n)}}])&&Yh(e.prototype,n),o&&Yh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Qe.a);customElements.define(nf.is,nf);var of,rf=Object(ze.b)(ef||(ef=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile']) {\n  min-height: 53px;\n}\n:host([class*='--mobile']) {\n  min-height: 53px;\n}\n:host([class*='--mobile'].primary) {\n  border-bottom: 1px solid #d8dde6 !important;\n  padding-top: 16px !important;\n  display: flex !important;\n}\n:host([class*='--mobile'] .primary) {\n  border-bottom: 1px solid #d8dde6 !important;\n  padding-top: 16px !important;\n  display: flex !important;\n}\n:host([class*='--mobile'].primary.first):after {\n  position: relative !important;\n  left: 0 !important;\n  margin-top: 0 !important;\n}\n:host([class*='--mobile'] .primary.first):after {\n  position: relative !important;\n  left: 0 !important;\n  margin-top: 0 !important;\n}\n"])));function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function cf(t,e){return(cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=pf(t);if(e){var r=pf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return df(this,n)}}function df(t,e){if(e&&("object"===af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pf(t){return(pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hf,ff=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cf(t,e)}(i,t);var e,n,o,r=uf(i);function i(){return sf(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-ds-table-cell"}},{key:"properties",get:function(){return{item:String,disabled:Boolean,hidden:Boolean,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null},index:Number,viewport:{type:Object,value:function(){return _t.a.getViewport()}}}}},{key:"observers",get:function(){return["_buildCellObserver(item, model, data, index, viewport)"]}},{key:"template",get:function(){return Object(Qe.b)(of||(of=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-icons-styles sb-forms-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t\n\t\t\t<sb-field\n\t\t\t\tdevice\n\t\t\t\tid="field"\n\t\t\t\tvalue="{{value}}"\n\t\t\t\tproperty="[[item]]"\n\t\t\t\trender-read-only="true"\n\t\t\t\tediting="[[editing]]"\n\t\t\t\tmd="[[md]]"\n\t\t\t\tdisabled="[[disabled]]"\n\t\t\t\trecord="[[data.template]]"\n\t\t\t></sb-field>\n\t\t'])),rf)}}],(n=[{key:"constants",get:function(){return this.model.constants}},{key:"_buildCellObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this.buildCell(t,e,n,o,r)}},{key:"buildCell",value:function(){var t=this.model.md.fieldsMap[this.constants.DISCOUNT_TIER_FIELD],e=this.item.replace("template.","");this.handleOriginalValues(),this.editing=this.isEditable(e,t);var n=t[e];n.CurrencyIsoCode=this.model.quoteModel.quoteVO.record.CurrencyIsoCode,this.md=n}},{key:"isEditable",value:function(t,e){return t!==this.constants.NUMBER_FIELD&&(t!==this.constants.LOWER_BOUND_FIELD||this.data.template[this.constants.NUMBER_FIELD]!==this.model.disabledDiscountTier)&&(0!==this.index||!this.viewport||!this.viewport.isMobile())&&e[t].updateable}},{key:"handleOriginalValues",value:function(){!this.data.original&&this.data.template&&(this.data.original={},this.data.original.template=JSON.parse(JSON.stringify(this.data.template))),this.data.original&&(this.$.field.originalValue=this.get("data.original."+this.item))}}])&&lf(e.prototype,n),o&&lf(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(Ae.a)(Qe.a));customElements.define(ff.is,ff);var bf,yf=Object(ze.b)(hf||(hf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n"])));function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _f(t,e){return(_f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=kf(t);if(e){var r=kf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Of(this,n)}}function Of(t,e){if(e&&("object"===gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kf(t){return(kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xf,Sf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_f(t,e)}(a,t);var e,n,o,i=wf(a);function a(){return vf(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-ds-tiers"}},{key:"properties",get:function(){return{discountTiers:{type:Array,notify:!0},model:{type:Object,notify:!0},discountSchedule:Object,editorModel:Object}}},{key:"template",get:function(){return Object(Qe.b)(bf||(bf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t\t<style>','</style>\n\n\t\t\t\t<div device class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header"\n\t\t\t\t\t\t\t\t\t\tselectable="[[model.fieldsEditable]]"\n\t\t\t\t\t\t\t\t\t\tselected="{{model.selected}}"\n\t\t\t\t\t\t\t\t\t\tcols="[[model.fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\theader-class-map="[[model.headerClassMap]]"\n\t\t\t\t\t\t\t\t\t\theader-actions="[[model.headerActions]]"\n\t\t\t\t\t\t\t\t\t\thide-hidden-selectable="[[!model.fieldsEditable]]">\n\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{discountTiers}}" as="tier">\n\t\t\t\t\t\t\t<sb-table-row \n\t\t\t\t\t\t\t\t\t\tcell="sb-ds-table-cell"\n\t\t\t\t\t\t\t\t\t\trow-data="[[tier]]"\n\t\t\t\t\t\t\t\t\t\tcols="[[model.recordKeys]]"\n\t\t\t\t\t\t\t\t\t\tcols-display="[[model.fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\t\tmodel="[[editorModel]]"\n\t\t\t\t\t\t\t\t\t\tselected="{{tier.selected}}"\n\t\t\t\t\t\t\t\t\t\tselectable="[[model.fieldsEditable]]"\n\t\t\t\t\t\t\t\t\t\thide-selection="[[_hideSelection(index, model.fieldsEditable)]]"\n\t\t\t\t\t\t\t\t\t\tprimary-mobile-cols=\'["template.Name"]\'\n\t\t\t\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\t\t\t\trow-class-map="[[model.rowClassMap]]"\n\t\t\t\t\t\t\t\t\t\tselection-id-data-path="template.Id"\n\t\t\t\t\t\t\t\t\t\trow-actions="[[tier.rowActions]]"\n\t\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t\t\troute-source="lineEditor"\n\t\t\t\t\t\t\t\t\t\tpath-prefix="template."\n\t\t\t\t\t\t\t\t\t\tdisabled="[[tier.disabled]]"\n\t\t\t\t\t\t\t\t\t\tselection-class="zone">\n\t\t\t\t\t\t\t</sb-table-row>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),yf)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.DELETE_GROUPS]=this._deleteGroups,t}},{key:"_hideSelection",value:function(t){return 0===t&&this.model.fieldsEditable?{hidden:!0,type:"invisible"}:null}},{key:"_deleteGroups",value:function(){this.$.header.$.header.destroyGroup(),this.$.tbody.querySelectorAll("sb-table-row").forEach(function(t){t.cols=void 0,t.$.row.destroyGroup()}.bind(this))}}])&&mf(e.prototype,n),o&&mf(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Object(Re.a)(Qe.a)));customElements.define(Sf.is,Sf);var Cf,Ef=Object(ze.b)(xf||(xf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogContentHeight: 300px;\n}\n:host .fieldItem {\n  width: 50%;\n}\n:host #fieldItemRow {\n  display: flex;\n}\n:host .hidden {\n  display: none;\n}\n:host #deleteLines {\n  margin: 0;\n  border-left: none;\n}\nsb-field-table {\n  --sbInputwidth: 95%;\n  --sbInputborder: 1px solid #d8dde6 !important;\n}\nsb-dialog {\n  --sbDialogContainerWidth: 80%;\n  --sbDialogContentOverflowX: hidden;\n  --sbDialogContentHeight: initial;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n"])));function Pf(t){return(Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return If(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return If(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function jf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mf(){return(Mf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Df(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Df(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qf(t)););return t}function Af(t,e){return(Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=qf(t);if(e){var r=qf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Lf(this,n)}}function Lf(t,e){if(e&&("object"===Pf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qf(t){return(qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ff,Nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Af(t,e)}(a,t);var e,n,o,i=Rf(a);function a(){return jf(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-discount-schedule-dialog"}},{key:"properties",get:function(){return{discountSchedule:{type:Object},discountUnit:{type:String},editorModel:Object,lineModel:Object,schedule:{type:Object,notify:!0},error:{type:Object,notify:!0},model:{type:Object,value:{}},viewport:{type:Object,value:function(){return _t.a.getViewport()}},isMobile:{type:Boolean,value:!1},dialogTapped:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_retrieveSchedule(discountScheduleId)","_buildDialog(schedule)","_discountScheduleResponseChanged(discountScheduleResponse)","_discountScheduleChanged(discountSchedule.*)","_createErrorHandler(error)","_toggleEditableClasses(dialogTapped)","_selectCheckboxes(model.selected)"]}},{key:"template",get:function(){return Object(Qe.b)(Cf||(Cf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-icons-styles sb-dialog-styles sb-tables-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-service id="discountScheduleUpdaterService" saver="QuoteLineEditorServiceProvider.DiscountScheduleUpdater" cache="DiscountSchedules" response={{discountScheduleResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="discountScheduleClonerService" saver="QuoteLineEditorServiceProvider.DiscountScheduleCloner" response={{discountScheduleResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="loadDiscountScheduleService" loader="DiscountScheduleServiceProvider" cache="DiscountSchedules" response="{{schedule}}" error="{{error}}"></sb-service>\n\n\t\t\t<div device>\n\t\t\t\t<sb-dialog id="dialog"\n\t\t\t\t\t\tmodal="[[dialogTapped]]"\n\t\t\t\t\t\thide-close-icon="[[!dialogTapped]]"\n\t\t\t\t\t\tclose-dialog="sb-cancel-ds"\n\t\t\t\t\t\thide-cancel-button="[[!dialogTapped]]"\n\t\t\t\t\t\ttap-dialog="sb-tap-ds">\n\t\t\t\t\t\t<i slot="icon" class="icon sf-icon-discountscheduleicons-02"></i>\n\t\t\t\t\t\t<div slot="title" class="title"><sb-i18n>Discount Schedule Editor</sb-i18n></div>\n\t\t\t\t\t<div slot="content" class="content" id="content">\n\t\t\t\t\t\t<sf-loading-spinner show="[[showSpinner]]"></sf-loading-spinner>\n\t\t\t\t\t\t<div hidden$="[[showSpinner]]">\n\t\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t\t\t\t<sb-tabs id="dsTabs"\n\t\t\t\t\t\t\t\t\t\ttabs="[[tabs]]"\n\t\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\t\tdata="{{discountSchedule}}"\n\t\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\tmd="[[fieldTableData]]"\n\t\t\t\t\t\t\t\t\t\tnum-columns="2"\n\t\t\t\t\t\t\t\t\t\tdiscount-tiers="{{discountTiers}}"\n\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\tdisabled="[[!model.fieldsEditable]]"\n\t\t\t\t\t\t\t\t\t\tselected-tab-index="0">\n\t\t\t\t\t\t\t\t</sb-tabs>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t\t<sb-field-table data="{{discountSchedule}}"\n\t\t\t\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\tmd="[[fieldTableData]]"\n\t\t\t\t\t\t\t\t\t\t\t\tnum-columns="2"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled="[[!model.fieldsEditable]]">\n\t\t\t\t\t\t\t\t</sb-field-table>\n\t\t\t\t\t\t\t\t<sb-ds-tiers discount-schedule="{{discountSchedule}}"\n\t\t\t\t\t\t\t\t\t\t\tdiscount-tiers="{{discountTiers}}"\n\t\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\t\teditor-model="[[editorModel]]">\n\t\t\t\t\t\t\t\t</sb-ds-tiers>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="dom-if" if="[[model.fieldsEditable]]">\n\t\t\t\t\t\t<paper-button slot="paper-button" noink class="primary" id="save" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="update" on-click="onSave"><sb-i18n>Update</sb-i18n></paper-button>\n\t\t\t\t\t\t<template is="dom-if" if="[[showRevertBtn]]">\n\t\t\t\t\t\t\t<paper-button slot="paper-button" noink class="sf-icon-undo" on-click="onRevert"></paper-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="deleteLines" on-click="onDeleteLines"><sb-i18n>Delete</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="addLine" on-click="onAddLine"><sb-i18n>Add</sb-i18n></paper-button>\n\t\t\t\t\t</template>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),Ef)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.SCHEDULE_ACTION]=this._handleIconAction,t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"constants",get:function(){return this.editorModel.constants}},{key:"ready",value:function(){var t=this;Mf(qf(a.prototype),"ready",this).call(this),Object.entries({"delete-tapped":"onDeleteLines","add-tapped":"onAddLine"}).map((function(e){var n=Tf(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.addEventListener("sb-cancel-ds",this.onCancel),this.addEventListener("data-changed",function(t){t.detail&&t.detail.path=="data.".concat(this.discountUnitField)&&this.discountUnit!=t.detail.value&&(this.discountUnit=t.detail.value,this._calculateDiscountAmounts(this.discountTiers),this.buildRowData())}.bind(this)),this._handleDialogTap(),this._handleDialogMouseEvents()}},{key:"_createErrorHandler",value:function(){this.error&&(this.errors=this.error.validations?this.error.validations:[this.error.message])}},{key:"_retrieveSchedule",value:function(t){t&&(this.showSpinner=!0,this.context={currencyCode:this.editorModel.quoteModel.quoteVO.record.CurrencyIsoCode,fieldSetName:"DiscountScheduleModal"},this.$.loadDiscountScheduleService.uid=void 0,this.$.loadDiscountScheduleService.context=this.context,this.$.loadDiscountScheduleService.uid=t,this.$.loadDiscountScheduleService.spinner=!1)}},{key:"_buildDialog",value:function(){if(this.schedule){this._setConstants(this.constants),this.discountTiers=void 0,this.currencyCode=this.editorModel.quoteModel.quoteVO.record.CurrencyIsoCode,this.editable=!!this.schedule[this.overrideBehaviorField],this.savedTiers=[],this.discountSchedule=JSON.parse(JSON.stringify(this.schedule)),this.data=this.discountSchedule,this.discountSchedule[this.discountUnitField]=this.discountSchedule[this.usePriceForAmountField]?"Price":this.discountSchedule[this.discountUnitField],this._setDSFields(),this.showRevertBtn=!!this.discountSchedule[this.originalScheduleField],this.discountUnit=this.discountSchedule[this.usePriceForAmountField]?"Price":this.discountSchedule[this.discountUnitField],this.buildRowData();var t=this.buildTiers();this._calculateDiscountAmounts(t),this.buildFieldData(),this.discountTiers=t,this._createActions(),this._toggleEditableClasses(),this.isMobile&&this._buildTabData(),this.showSpinner=!1}}},{key:"_discountScheduleResponseChanged",value:function(){var t=this.discountScheduleResponse.Id;if(this.lineModel.lineVO.record[this.discountScheduleField]=t,this.lineModel.lineVO.record[this.segmentKeyField])for(var e=this.lineModel.segments,n=0,o=e.length;n<o;n++)e[n].lineVO.record[this.discountScheduleField]=t;"save"===this.action?this.onCancel():(this.schedule=this.discountScheduleResponse,this.showRevertBtn=this.discountScheduleResponse[this.originalScheduleField]),Object(st.d)(this).onFlagCalculate()}},{key:"_discountScheduleChanged",value:function(t){t.path=="discountSchedule.".concat(this.discountUnitField)&&(this.discountUnit=t.value,this._calculateDiscountAmounts(this.discountTiers),this.buildRowData())}},{key:"buildTiers",value:function(){var t=[],e=this._retrieveRecords();return this.previousLowerBound=void 0,e.forEach(function(e){if(null!=e[this.lowerBoundField]){if("Percent"==this.discountUnit&&this.previousLowerBound!=e[this.lowerBoundField])this.previousLowerBound=e[this.lowerBoundField];else if("Percent"==this.discountUnit||e.CurrencyIsoCode!=this.currencyCode)return;t.push(new jh(e,this.discountSchedule))}else t.push(new jh(e,this.discountSchedule))}.bind(this)),t}},{key:"buildFieldData",value:function(){if(!this.fieldNames){var t=this.editorModel.md.fieldsMap[this.discountScheduleField];t[this.discountUnitField].required=!0,this.fieldTableData=t,this.fieldNames=["Name",this.discountUnitField]}}},{key:"buildRowData",value:function(){this.fieldsArray&&Object(r.c)(r.a.DELETE_GROUPS);var t=this.editorModel.data.discountScheduleModalFieldNames,e=this.editorModel.md.fieldsMap[this.tierField],n=[],o={},i={},a={},s=this.editorModel.data.customLabels.lbl_price,l={};t.forEach(function(t){l[t]="template."+t}.bind(this)),"Price"===this.discountUnit&&(l[s]="template."+s,e[s]=JSON.parse(JSON.stringify(e[this.discountAmountField])),e[s].label=s+"("+(this.currencyCode||this.editorModel.data.currencySymbol)+")",e[s].name=s),this.fieldsArray=Object.keys(l);var c=[];this.fieldsArray.forEach(function(t){if(this._isFieldShown(t)){var r,s=e[t],u=s.name;"currency"===s.type&&(s.scale=this._getPriceScale()),t===this.numberField?r="#":t===this.discountAmountField?(r=s.label.replace("{0}",this.currencyCode||this.editorModel.data.currencySymbol),s.label=r):r=s.label,c.push(l[t]),n.push(r),o[u]=s.label,i[s.label.replace(/\W/g,"")]=s.type,a[l[t]]=s.type}}.bind(this)),this.set("model.fieldsMD",e),this.isMobile||(this.set("model.selected",!1),this.set("model.headerClassMap",new Bn.a(Object.keys(i),"Th",i,null,!0).build()),this.set("model.fieldLabels",n)),this.set("model.rowClassMap",new Bn.a(c,"Td",a).build()),this.set("model.fieldLabelMap",o),this.set("model.recordKeys",c)}},{key:"onRevert",value:function(){this._retrieveSchedule(this.discountSchedule[this.originalScheduleField])}},{key:"onAddLine",value:function(t){var e=this._createBlankTierRecord(),n=new jh(e,this.discountSchedule);n.rowActions=this._createRowActions(),t.detail&&void 0!==t.detail.index?this.splice("discountTiers",t.detail.index+1,0,n):this.push("discountTiers",n),this._renumberLines(this.discountTiers,!0)}},{key:"onDeleteLines",value:function(t){if(t.detail&&t.detail.index)this.splice("discountTiers",t.detail.index,1);else{for(var e=0,n=this.discountTiers.length;e<n&&this.discountTiers[e];e++)this.discountTiers[e].selected&&(this.splice("discountTiers",e,1),e--);this.set("model.selected",!1)}this._selectCheckboxes(!1),this._renumberLines(this.discountTiers,!0)}},{key:"onSave",value:function(t){var e;this.errors=void 0,this.tiers=this._processForSaving(),this.tiers&&(this.errors=void 0,this.action=t.currentTarget.attributes.id.value,this.discountSchedule[this.userDefinedField]&&this.lineModel.lineVO.record.Id===this.discountSchedule[this.quoteLineField]?(e={discountScheduleJSON:JSON.stringify(this.discountSchedule),tiersJSON:JSON.stringify(this.tiers),ignoreValidate:!0,context:JSON.stringify(this.context)},this.$.discountScheduleUpdaterService.uid=this.discountSchedule.Id,this.$.discountScheduleUpdaterService.model=e):(this.discountSchedule[this.quoteLineField]=this.lineModel.lineVO.record.Id,this.discountSchedule[this.userDefinedField]=!0,this.discountSchedule[this.originalScheduleField]=this.discountSchedule.Id,e={discountScheduleJSON:JSON.stringify(this.discountSchedule),tiersJSON:JSON.stringify(this.tiers),ignoreValidate:!0,context:JSON.stringify(this.context)},this.$.discountScheduleClonerService.model=e))}},{key:"onCancel",value:function(){Object(r.c)(r.a.DELETE_GROUPS),this.dialogTapped=!1,this.dialogOverlapping=!1,this.set("model.fieldsEditable",!1),this.errors=void 0,this.schedule=void 0,this.discountSchedule=void 0,this.discountTiers=void 0,this.discountScheduleId=void 0,this.$.dialog.close()}},{key:"_processForSaving",value:function(){var t=this._sortTiers(this.savedTiers),e=this._sortTiers(this.discountTiers);if(!t||!e)return null;var n=t.concat(e);this._renumberLines(n,!1),this.set("discountTiers",e),this._updateActions(),this._calculateDiscountAmounts(n),this._createTiers(n);var o=new Dh(this.discountSchedule,this.editorModel).validate(n);if(o.size>0)return this._createError(o),null;var r=[];return n.forEach(function(t){t.tiers.forEach(function(t){r.push(t)}.bind(this))}.bind(this)),this.discountSchedule[this.tiersField].records=r,this.discountSchedule[this.tiersField].totalSize=r.length,"Price"===this.discountUnit?(this.discountSchedule[this.discountUnitField]="amount",this.discountSchedule[this.usePriceForAmountField]=!0):this.discountSchedule[this.usePriceForAmountField]=!1,r}},{key:"_setConstants",value:function(t){this.discountAmountField=t.DISCOUNT_AMOUNT_FIELD,this.discountScheduleField=t.DISCOUNT_SCHEDULE_FIELD,this.discountRateField=t.ADDITIONAL_DISCOUNT_RATE_FIELD,this.discountUnitField=t.DISCOUNT_UNIT_FIELD,this.lowerBoundField=t.LOWER_BOUND_FIELD,this.numberField=t.NUMBER_FIELD,this.originalScheduleField=t.ORIGINAL_SCHEDULE_FIELD,this.overrideBehaviorField=t.OVERRIDE_BEHAVIOR_FIELD,this.quantityField=t.QUANTITY_FIELD,this.quoteLineField=t.QUOTE_LINE,this.segmentKeyField=t.SEGMENT_KEY_FIELD,this.specialPriceField=t.SPECIAL_PRICE_FIELD,this.tierField=t.DISCOUNT_TIER_FIELD,this.tiersField=t.DISCOUNT_TIERS_FIELD,this.upperBoundField=t.UPPER_BOUND_FIELD,this.usePriceForAmountField=t.USE_PRICE_FOR_AMOUNT_FIELD,this.userDefinedField=t.USER_DEFINED_FIELD}},{key:"_createError",value:function(t){for(var e=[],n=0,o=this.discountTiers.length;n<o;n++){var r=this.discountTiers[n].template[this.numberField];t&&t.get(r)&&e.push(t.get(r))}e.length>0&&(this.errors=e)}},{key:"_createActions",value:function(){if(this.discountTiers){for(var t=[],e=0,n=this.discountTiers.length;e<n;e++){var o=this._createRowActions(e);this.set("discountTiers.".concat(e,".rowActions"),o)}t.push({icon:"sb-icon-plus",position:"right",hidden:!0,invisible:!0}),t.push({icon:"sf-icon-delete",position:"right",hidden:!0,invisible:!0}),this.isMobile||this.set("model.headerActions",t)}}},{key:"_createRowActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[{icon:"sb-icon-plus",title:"Add",position:"right",invisible:!1,hidden:!1,onTapFunction:function(){this.dispatchEvent(Object(r.d)("add-tapped",{index:this.index}))}},{icon:"sf-icon-delete",title:"Delete",position:"right",invisible:0==t,hidden:!1,onTapFunction:function(){this.dispatchEvent(Object(r.d)("delete-tapped",{index:this.index}))}}]}},{key:"_retrieveVisibleRecords",value:function(t){var e=[],n=this.lineModel.lineVO.record[this.quantityField];if(t.forEach(function(t){var o=t[this.lowerBoundField],r=t[this.upperBoundField],i=this.discountSchedule[this.userDefinedField];if(!r)return n>=o||i?e.push(t):e;n>=o&&n>=r?this.savedTiers.push(new jh(t,this.discountSchedule)):(o<=n&&n<r||i&&o>n)&&e.push(t)}.bind(this)),0==e.length&&t.length>0){var o=t.length-1,r=t[0][this.lowerBoundField],i=t[o][this.upperBoundField],a=this._createBlankTierRecord();n<r?a[this.numberField]=1:n>=i&&(a[this.numberField]=t[o][this.numberField]+1,a[this.lowerBoundField]=i),e.push(a)}return e}},{key:"_retrieveRecords",value:function(){var t=[];if(this.discountSchedule[this.tiersField])t=this.discountSchedule[this.tiersField].records,"Current Tier Only"===this.discountSchedule[this.overrideBehaviorField]?(t=this._retrieveVisibleRecords(t),this.savedTiers.length>0&&(this.editorModel.disabledDiscountTier=t[0][this.numberField])):this.editorModel.disabledDiscountTier=void 0;else{var e=this._createBlankTierRecord();e[this.numberField]=1,t.push(e)}return t}},{key:"_calculateDiscountAmounts",value:function(t){if(t){var e=this.lineModel.lineVO.record[this.specialPriceField];t.forEach(function(t){var n=t.template;"Price"===this.discountUnit?(n.Price=n.Price||0===n.Price?n.Price:e-n[this.discountAmountField],n[this.discountAmountField]=e-n.Price):(n[this.discountRateField]=n[this.discountRateField]||0,n[this.discountAmountField]=n[this.discountAmountField]||0),n[this.constants.UPPER_BOUND_FIELD]||0==n[this.constants.UPPER_BOUND_FIELD]||(n[this.constants.UPPER_BOUND_FIELD]=null)}.bind(this))}}},{key:"_renumberLines",value:function(t,e){for(var n="Current Tier Only"===this.discountSchedule[this.overrideBehaviorField]&&this.savedTiers.length>0?t[0].template[this.numberField]:1,o=0,r=t.length;o<r;o++)t[o].template[this.numberField]!=n&&(e?this.set("discountTiers.".concat(o,".template.").concat(this.numberField),n):t[o].template[this.numberField]=n),n++}},{key:"_sortTiers",value:function(t){var e=[],n={},o=[];return t.forEach(function(t){var o=t.template[this.lowerBoundField];if(n[o])return this.errors=[this.editorModel.data.customLabels.msg_identical_lower_bounds],null;e.push(o),n[o]=t}.bind(this)),e.sort((function(t,e){return t-e})),e.forEach(function(t){var e=n[t];o.push(e)}.bind(this)),o}},{key:"_createTiers",value:function(t){var e=this.editorModel.data.settings.currencyIsoCodes;t.forEach(function(t){t.tiers=[],e?e.forEach(function(e){if(e==this.currencyCode)return t.template.CurrencyIsoCode=e,void t.tiers.push(t.template);"Percent"!==this.discountUnit&&t.tiers.push(this._createMultiCurrencyRecord(t.template,e))}.bind(this)):t.tiers.push(t.template)}.bind(this))}},{key:"_selectCheckboxes",value:function(t){if(this.discountTiers)for(var e=1,n=this.discountTiers.length;e<n;e++)this.discountTiers[e]&&this.set("discountTiers.".concat(e,".selected"),t)}},{key:"_createMultiCurrencyRecord",value:function(t,e){var n=JSON.parse(JSON.stringify(t));return n.CurrencyIsoCode=e,n[this.discountAmountField]=0,n[this.discountRateField]=n[this.discountRateField]||0,delete n.Price,n}},{key:"_createBlankTierRecord",value:function(){var t={};return this.fieldsArray.forEach(function(e){t[e]=null,t.CurrencyIsoCode=this.currencyCode,t[this.discountAmountField]=0,t[this.discountRateField]=0}.bind(this)),t}},{key:"_handleIconAction",value:function(t){var e=this,n=t.detail.event.type,o=t.detail.model;switch(this.lineModel=this.editorModel.quoteModel.lineModelsByKey[o.serviceModel.keys[0]],this.discountScheduleId=o.serviceModel.scheduleId,n){case"mouseenter":this.isMobile||this.dialogTapped||(this._toggleDialogClasses(!0),this.$.dialog.open());break;case"mouseleave":this._closeDialogDebouncer=Fe.a.debounce(this._closeDialogDebouncer,Ne.d.after(1),(function(){e.isMobile||e.dialogTapped||e.dialogOverlapping||e.onCancel()}));break;case"click":this._openDialog()}}},{key:"_openDialog",value:function(){this.dialogTapped||(this.dialogTapped=!0,this.$.dialog.open(),this._toggleDialogClasses(!1))}},{key:"_toggleDialogClasses",value:function(t){var e=this.$.dialog.shadowRoot,n=e.querySelector(".sbDialog");Object(st.m)("boxShadow",t,n),Object(st.m)("noMarginBottom",t,e.querySelector("#content"))}},{key:"_handleDialogTap",value:function(){this.addEventListener("sb-tap-ds",function(){!this.isMobile&&this.dialogOverlapping&&this._openDialog()}.bind(this))}},{key:"_handleDialogMouseEvents",value:function(){if(!this.isMobile){var t=this.$.dialog.shadowRoot.querySelector(".sbDialog");t.addEventListener("mouseenter",function(){this.dialogTapped||(this.dialogOverlapping=!0)}.bind(this)),t.addEventListener("mouseleave",function(){!this.dialogTapped&&this.dialogOverlapping&&this.onCancel()}.bind(this))}}},{key:"_toggleEditableClasses",value:function(){this.set("model.fieldsEditable",this.editable&&this.dialogTapped),this.discountTiers&&(this._setDisabled(),this._updateActions())}},{key:"_updateActions",value:function(){for(var t=0,e=this.discountTiers.length;t<e;t++){var n=this.discountTiers[t].rowActions;if(n)for(var o=0,r=n.length;o<r;o++){var i=0==t&&"sf-icon-delete"==n[o].icon;this.set("discountTiers.".concat(t,".rowActions.").concat(o,".hidden"),!this.model.fieldsEditable),this.set("discountTiers.".concat(t,".rowActions.").concat(o,".invisible"),i)}}if(!this.isMobile&&this.model.headerActions)for(var a=0,s=this.model.headerActions.length;a<s;a++)this.set("model.headerActions.".concat(a,".hidden"),!this.model.fieldsEditable)}},{key:"_setDisabled",value:function(){for(var t=0,e=this.discountTiers.length;t<e;t++)this.set("discountTiers.".concat(t,".disabled"),!this.model.fieldsEditable)}},{key:"_setDSFields",value:function(){var t,e=this.editorModel.quoteModel.quoteVO;this.discountSchedule[this.constants.QUOTE]=e.record.Id,e.record[this.constants.ACCOUNT_FIELD]?t=e.record[this.constants.ACCOUNT_FIELD].Id:e.record[this.constants.OPPORTUNITY_FIELD]&&(t=e.record[this.constants.OPPORTUNITY_FIELD].AccountId),this.discountSchedule[this.constants.ACCOUNT_ID_FIELD]=t}},{key:"_isFieldShown",value:function(t){return!("Percent"===this.discountUnit&&t===this.discountAmountField||"Amount"===this.discountUnit&&t===this.discountRateField||"Price"===this.discountUnit&&(t===this.discountRateField||t===this.discountAmountField))}},{key:"_buildTabData",value:function(){var t=[],e=["Details","Tiers"];if(this.tabs!==t){for(var n=0,o=e.length;n<o;n++){var r=e[n],i="t"+n,a=void 0,s=void 0;"Details"===r?(a=["data","fieldNames","md","numColumns","disabled"],s="sb-field-table"):"Tiers"===r&&(a=["discountTiers","model","editorModel"],s="sb-ds-tiers"),t.push({name:i,label:r,bind:a,pageComponent:s})}this.tabs=t}}},{key:"_getPriceScale",value:function(){var t=this.discountSchedule[this.constants.PRICE_SCALE_FIELD];return null!=t?t:this.editorModel.data.settings.priceScale}},{key:"viewportChanged",value:function(){this.isMobile=!(!this.viewport||!this.viewport.isMobile())}}])&&Bf(e.prototype,n),o&&Bf(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Le.a)(Object(Ae.a)(Object(Re.a)(Qe.a))));customElements.define(Nf.is,Nf);var zf,Hf=Object(ze.b)(Ff||(Ff=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogMaxHeight: 420px;\n  --sbDialogMinWidth: 420px;\n  --sbToastMinWidth: 300px;\n}\n:host .content {\n  text-align: var(--sbDialogContentTextAlign, left);\n  font-size: var(--sbDialogContentFontSize, 14px);\n  max-height: 400px;\n}\n:host .content input {\n  font-size: 14px;\n  min-width: 220px;\n  height: 24px;\n  padding: 0 10px;\n  margin-left: 20px;\n}\n:host .content[class*='--mobile'] {\n  width: 100%;\n  padding-top: 60px;\n  text-align: center;\n}\n:host .content sb-i18n[class*='--mobile'] {\n  font-size: 24px;\n}\n:host .content input[class*='--mobile'] {\n  width: 80%;\n  margin: 40px 0 4px 0;\n  font-size: 20px;\n  text-align: left;\n  border: 1px solid #D8DDE6;\n  height: 30px;\n}\n:host [class*='--mobile'] .content {\n  width: 100%;\n  padding-top: 60px;\n  text-align: center;\n}\n:host [class*='--mobile'] .content sb-i18n {\n  font-size: 24px;\n}\n:host [class*='--mobile'] .content input {\n  width: 80%;\n  margin: 40px 0 4px 0;\n  font-size: 20px;\n  text-align: left;\n  border: 1px solid #D8DDE6;\n  height: 30px;\n}\n"])));function Uf(t){return(Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wf(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qf(){return(Qf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Gf(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Gf(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xf(t)););return t}function $f(t,e){return($f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Xf(t);if(e){var r=Xf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Yf(this,n)}}function Yf(t,e){if(e&&("object"===Uf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xf(t){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jf,Zf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$f(t,e)}(a,t);var e,n,o,i=Kf(a);function a(){return Vf(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-favorite-dialog"}},{key:"properties",get:function(){return{favName:String}}},{key:"template",get:function(){return Object(Qe.b)(zf||(zf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div device>\n\t\t\t\t<sb-dialog\n\t\t\t\t\tid="dialog"\n\t\t\t\t\tmodal="true"\n\t\t\t\t\tclose-dialog="sb-cancel-fav"\n\t\t\t\t>\n\t\t\t\t\t<i slot="icon" class="icon sb-icon-star"></i>\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Add to Favorites</sb-i18n>\n\t\t\t\t\t</div>\n\t\t\t\t\t<paper-button\n\t\t\t\t\t\tslot="paper-button"\n\t\t\t\t\t\tnoink\n\t\t\t\t\t\tclass="primary"\n\t\t\t\t\t\ton-click="onSave"\n\t\t\t\t\t\t><sb-i18n>Save</sb-i18n></paper-button\n\t\t\t\t\t>\n\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t<sb-i18n class="favNameText">Favorite Name</sb-i18n>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass="favNameInput"\n\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\tvalue="{{favName::input}}"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),Hf)}}],(n=[{key:"ready",value:function(){Qf(Xf(a.prototype),"ready",this).call(this),this.addEventListener("sb-cancel-fav",this.onCancel)}},{key:"onSave",value:function(){if(""!=this.favName&&void 0!==this.favName){var t=[];if(this.favoritedGroup)for(var e=this.groupLines.length,n=0;n<e;n++)this.groupLines[n].component||t.push(this.groupLines[n].lineVO.key);else t.push(this.favoritedLine[0]);this.dispatchEvent(Object(r.d)("sb-favorite-saved",{keys:t,name:this.favName,groupKey:this.favoritedGroup})),this.favoritedGroup=this.favoritedLine=this.groupLines=null,this.favName="",this.$.dialog.toggle()}else this.errors=["Favorite name cannot be left blank."]}},{key:"onCancel",value:function(){this.favoritedGroup=this.favoritedLine=this.groupLines=null,this.favName="",this.$.dialog.toggle()}}])&&Wf(e.prototype,n),o&&Wf(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Qe.a));customElements.define(Zf.is,Zf);var tb,eb=Object(ze.b)(Jf||(Jf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogMaxHeight: 600px;\n  --sbDialogMinWidth: 600px;\n  --sbToastMinWidth: 300px;\n}\n:host .content {\n  text-align: var(--sbDialogContentTextAlign, left);\n  font-size: var(--sbDialogContentFontSize, 14px);\n  max-height: 400px;\n  max-width: 900px;\n}\n:host .content .guidanceTable {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n}\n:host .content .Reasoning-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  text-align: left;\n  width: 49%;\n  padding-left: 10px;\n}\n:host .content .Target-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  text-align: center;\n  font-weight: 900;\n  width: 17%;\n}\n:host .content .Norm-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  font-weight: 500;\n  text-align: center;\n  width: 17%;\n}\n:host .content .Floor-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  font-weight: 300;\n  text-align: center;\n  width: 17%;\n}\n:host .content .Reasoning-detail {\n  display: table-cell;\n  width: 49%;\n  text-align: left;\n  vertical-align: top;\n  padding-top: 8px;\n  padding-left: 10px;\n  padding-bottom: 10px;\n}\n:host .content .Target-detail {\n  display: table-cell;\n  width: 17%;\n  font-size: 1.714rem;\n  font-weight: 900;\n  text-align: center;\n  vertical-align: top;\n  padding-top: 8px;\n}\n:host .content .Norm-detail {\n  display: table-cell;\n  width: 17%;\n  font-size: 1.714rem;\n  font-weight: 500;\n  text-align: center;\n  vertical-align: top;\n  padding-top: 8px;\n}\n:host .content .Floor-detail {\n  display: table-cell;\n  width: 17%;\n  font-size: 1.714rem;\n  font-weight: 300;\n  text-align: center;\n  vertical-align: top;\n  padding-top: 8px;\n}\n:host .content .rowWrapper {\n  overflow-x: auto;\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host .content .rowWrapper .htmlField ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host .content .rowWrapper .htmlField ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host .content ul.grid {\n  width: fit-content;\n  display: flex;\n  padding: .75rem 0 .75rem 0;\n  max-height: 25rem;\n}\n:host .content li.detail-block {\n  padding-right: 2rem;\n  padding-bottom: 4px;\n}\n:host .content li.detail-block div.body {\n  font-weight: bold;\n  padding-top: 4px;\n  padding-bottom: 8px;\n  text-transform: uppercase;\n}\n:host .content div.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-top: 4px;\n}\n:host .content[class*='--mobile'] {\n  width: 100%;\n  padding-top: 24px;\n  text-align: center;\n}\n:host .content sb-i18n[class*='--mobile'] {\n  font-size: 14px;\n}\n:host .content .mobile-Reasoning-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n}\n:host .content .mobile-Target-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n  padding-top: 24px;\n}\n:host .content .mobile-Norm-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host .content .mobile-Floor-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host .content .mobile-Target-detail[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 900;\n}\n:host .content .mobile-Norm-detail[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host .content .mobile-Floor-detail[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host .content .mobile-Reasoning-detail[class*='--mobile'] {\n  padding-left: 20px;\n  padding-right: 20px;\n  text-align: justify;\n  font-size: 1.143rem;\n}\n:host [class*='--mobile'] .content {\n  width: 100%;\n  padding-top: 24px;\n  text-align: center;\n}\n:host [class*='--mobile'] .content sb-i18n {\n  font-size: 14px;\n}\n:host [class*='--mobile'] .content .mobile-Reasoning-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n}\n:host [class*='--mobile'] .content .mobile-Target-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n  padding-top: 24px;\n}\n:host [class*='--mobile'] .content .mobile-Norm-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Floor-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Target-detail {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 900;\n}\n:host [class*='--mobile'] .content .mobile-Norm-detail {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Floor-detail {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Reasoning-detail {\n  padding-left: 20px;\n  padding-right: 20px;\n  text-align: justify;\n  font-size: 1.143rem;\n}\n:host paper-button[aria-disabled=\"true\"] {\n  background-color: lightgrey;\n}\n"])));function nb(t){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rb(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ib(){return(ib="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=ab(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function ab(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=db(t)););return t}function lb(t,e){return(lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=db(t);if(e){var r=db(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ub(this,n)}}function ub(t,e){if(e&&("object"===nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function db(t){return(db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}(a,t);var e,n,o,i=cb(a);function a(){return ob(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-pricing-guidance-dialog"}},{key:"properties",get:function(){return{lineVO:Object,isPricingRecommendationAvailable:Boolean,pricingGuidanceArray:Array,isPricingGuidanceAvailable:Boolean,isMobileDevice:Boolean,quoteLineObjectArray:Array}}},{key:"template",get:function(){return Object(Qe.b)(tb||(tb=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<div device>\n\t\t\t\t<sb-dialog\n\t\t\t\t\tid="dialog"\n\t\t\t\t\tmodal="true"\n\t\t\t\t\tclose-dialog="sb-cancel-fav"\n\t\t\t\t>\n\t\t\t\t\t<i slot="icon" class="icon sf-icon-target"></i>\n\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Pricing Guidance</sb-i18n>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<paper-button\n\t\t\t\t\t\tslot="paper-button"\n\t\t\t\t\t\tnoink\n\t\t\t\t\t\tclass="primary"\n\t\t\t\t\t\ton-click="onAcceptPricingGuidance"\n\t\t\t\t\t\tdisabled$="[[!isPricingRecommendationAvailable]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<sb-i18n>Accept Recommendation</sb-i18n>\n\t\t\t\t\t</paper-button>\n\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\tif="[[!isPricingGuidanceAvailable]]"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t[[pricingGuidanceRecord.errorMessage]]\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\tif="[[isPricingGuidanceAvailable]]"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobileDevice]]">\n\t\t\t\t\t\t\t\t<table class="topContentTable">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table class="guidanceTable">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems="[[pricingGuidanceArray]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass$="guidanceHeader [[item.name]]-header"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[[item.displayName]]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems="[[pricingGuidanceArray]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class$="guidanceDetail [[item.name]]-detail">[[item.value]]</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\n\t\t\t\t\t\t\t\t&nbsp;\n\n\t\t\t\t\t\t\t\t<div class="rowWrapper"></div>\n\t\t\t\t\t\t\t\t<div class="rowWrapper">\n\t\t\t\t\t\t\t\t\t<ul class="grid">\n\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\titems="[[quoteLineObjectArray]]"\n\t\t\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<li class="detail-block">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="truncate body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t[[item.key]]\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="truncate">\n\t\t\t\t\t\t\t\t\t\t\t\t\t[[item.value]]\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[isMobileDevice]]">\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\titems="[[pricingGuidanceArray]]"\n\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li class="mobileDevice">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass$="mobileDevice mobile-[[item.displayName]]-header"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t[[item.displayName]]\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass$="mobileDevice mobile-[[item.displayName]]-detail"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t[[item.value]]\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),eb)}}],(n=[{key:"ready",value:function(){ib(db(a.prototype),"ready",this).call(this),this.addEventListener("sb-cancel-fav",this.onCancel)}},{key:"onAcceptPricingGuidance",value:function(){this.dispatchEvent(Object(r.d)("sb-accept-pricing-guidance",{lineVO:this.lineVO,headerValues:this.headerValues,lineItemValues:this.lineItemValues})),this.$.dialog.toggle()}},{key:"onCancel",value:function(){this.$.dialog.toggle(),this.properties.lineVO={},this.properties.isPricingRecommendationAvailable=!1,this.properties.pricingGuidanceArray=[],this.properties.isPricingGuidanceAvailable=!1,this.properties.isMobileDevice=!1,this.properties.quoteLineObjectArray=[]}},{key:"getPricingGuidanceValue",value:function(t,e){return t[e]}}])&&rb(e.prototype,n),o&&rb(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Ae.a)(Qe.a));customElements.define(pb.is,pb);var hb;n(50);function fb(t){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bb(t){return function(t){if(Array.isArray(t))return vb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gb(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yb(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=gb(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function gb(t,e){if(t){if("string"==typeof t)return vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vb(t,e):void 0}}function vb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function mb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wb(){return(wb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Ob(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Ob(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cb(t)););return t}function kb(t,e){return(kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Cb(t);if(e){var r=Cb(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Sb(this,n)}}function Sb(t,e){if(e&&("object"===fb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cb(t){return(Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}(c,t);var e,n,a,l=xb(c);function c(){return mb(this,c),l.apply(this,arguments)}return e=c,a=[{key:"is",get:function(){return"sb-le-custom-action-services"}},{key:"properties",get:function(){return{editorModel:Object,eventDetail:Object,response:{type:Object,notify:!0},error:{notify:!0}}}},{key:"observers",get:function(){return["_executeCustomAction(eventDetail)","_handleCalculateResponse(calculateResponse)","_checkForGuidedMessages(saverResponse)","_reloadEditor(quoteEditorModelResponse)","_handleFavoriteResponse(favoriteResponse)","_handleUnfavoriteResponse(unfavoriteResponse)","_handleResegmentResponse(resegmentResponse)","_updateQuote(quoteVOResponse)","_handleToggleGroupResponse(toggleGroupResponse)","_handlePopupResponse(popupResponse)"]}},{key:"template",get:function(){return Object(Qe.b)(hb||(hb=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t\x3c!-- Quote Actions --\x3e\n\t\t\t<sb-service id="calculateService" saver="QuoteLineEditorServiceProvider.EditorCalculator" response={{calculateResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="saveService" saver="QuoteLineEditorServiceProvider.EditorSaver" response={{saverResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="quickSaveService" saver="QuoteLineEditorServiceProvider.EditorQuickSaver" cache="LineEditor" response={{quoteEditorModelResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="oppSyncUpserter" saver="QuoteOpportunitySynchronizer.OpportunityLineBulkFragmentedSaver" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="oppSyncInserter" saver="QuoteOpportunitySynchronizer.OpportunityLineBulkFragmentedSaver" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="oppSyncDeleter" saver="QuoteOpportunitySynchronizer.OpportunityLineItemBulkDeleter" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onAddGroup" saver="QuoteLineEditorServiceProvider.ToggleGroupSaver" response={{toggleGroupResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onUngroup" saver="QuoteLineEditorServiceProvider.ToggleGroupSaver" response={{toggleGroupResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="productRuleValidator" loader="ProductRuleServiceProvider.ProductValidationLoader" error="{{error}}" ignore-cache></sb-service>\n\n\t\t\t\x3c!-- Group Actions --\x3e\n\t\t\t<sb-service id="onDeleteGroup" saver="QuoteLineEditorServiceProvider.EditorGroupDeleter" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onCloneGroup" saver="QuoteLineEditorServiceProvider.EditorGroupCloner" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\n\t\t\t\x3c!-- Line Actions --\x3e\n\t\t\t<sb-service id="onDeleteLine" saver="QuoteLineEditorServiceProvider.EditorDeleteLines" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onDesegmentLine" saver="QuoteLineEditorServiceProvider.EditorSegmentLine" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onResegmentLine" saver="QuoteLineEditorServiceProvider.EditorSegmentLine" response={{resegmentResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="favoriteLinesService" saver="QuoteLineEditorServiceProvider.EditorFavoriteLines" response={{favoriteResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onRemoveFromFavorites" saver="QuoteLineEditorServiceProvider.EditorRemoveFavorite" response={{unfavoriteResponse}} error="{{error}}"></sb-service>\n\n\t\t\t\x3c!-- Load LineEditorCalculate --\x3e\n\t\t\t<sb-job-checker id="jobchecker" error="{{error}}"></sb-job-checker>\n\n\t\t\t\x3c!--Set and get record job status--\x3e\n\t\t\t<sb-service id="setJobStatus" saver="JobCheckerServiceProvider.SetJobsStatus" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="getRecordJobStatus" loader="JobCheckerServiceProvider.GetRecordJobStatus" error="{{error}}" uid="AllJobs"></sb-service>\n\n\t\t\t\x3c!--Dialogs--\x3e\n\t\t\t<span device>\n\t\t\t<sb-favorite-dialog id="favDialog"></sb-favorite-dialog>\n\t\t\t<sb-pricing-guidance-dialog id="pricingGuidanceDialog"></sb-pricing-guidance-dialog>\n\t\t\t<sb-discount-schedule-dialog editor-model="{{editorModel}}" id="dsDialog"></sb-discount-schedule-dialog>\n\t\t\t<sb-clone-to-group-dialog id="cloneToGroupDialog" is-mobile="[[editorModel.deviceContext.isMobile]]"></sb-clone-to-group-dialog>\n\t\t\t<sb-popup id="popup" response-message="{{popupResponse}}"></sb-popup>\n\t\t\t<sb-product-alert id="alertModal"></sb-product-alert>\n\t\t\t</span>\n\n\t\t\t<sb-loading-spinner show="[[showSpinner]]"></sb-loading-spinner>\n\t\t'])))}}],(n=[{key:"_executeServiceAction",value:function(t,e,n){var o=e||(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null);this.editorModel&&(this._usesClientCalculator()&&this.sortLines(this.editorModel.quoteModel.quoteVO,!1),this.editorModel.quoteModel.quoteVO.lineItems=this._reorderLineItems(),this._reorderGroups());var r=this.editorModel?this.editorModel.quoteModel.quoteVO:this.data.quote,i=n&&o?n(r,o):r.lineItems,a=r.lineItems;r.partialVO=a.length!=i.length,r.lineItems=i;var s=this.data.settings.largeQuoteThreshold,l=s&&r.lineItems.length>s;if(("saveService"===t||"quickSaveService"===t)&&l&&SB&&SB.QuoteDAO)return r.lineItems=a,r.partialVO=!1,void this._saveLargeQuote(r,t);var c={cleanRootProperty:"record",cleanPathFromRoot:["ui_original_record"],keepIfDirtyWhenParentContains:"attributes",keepIfDirtyAllowList:{type:["".concat(this.prefix,"QuoteLineConsumptionSchedule__c"),"".concat(this.prefix,"QuoteLineConsumptionRate__c")]}};o?(this.$[t].model=void 0,o.quote=new Qp.a(!0,null,null,c).format(r),this.$[t].model=o):(this.$[t].model=void 0,this.$[t].model=new Qp.a(!0,null,null,c).format(r)),r.lineItems=a,r.partialVO=!1}},{key:"_executeQuotelessServiceAction",value:function(t,e){var n=e||(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null);n?(this.$[t].model=void 0,this.$[t].model=n):console.log("no service model means nothing to do")}},{key:"_saveLargeQuote",value:function(t,e){var n,o=this,r=yb(t.lineItemGroups);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.record.attributes||(i.record.attributes={type:"".concat(this.prefix,"QuoteLineGroup__c")})}}catch(t){r.e(t)}finally{r.f()}var a=this.app.org.prefix;Promise.resolve().then((function(){return o.data.settings.enableLQTValidations?Object(Xt.b)("validationErrorConditionDependencies",[]).then((function(e){if(e.errors)throw new Error(Object(Wp.a)(e.errors));return o.$.productRuleValidator.load({uid:t.record.Id,context:{quote:t.record,quoteLineGroups:t.lineItemGroups.map((function(t){return t.record})),quoteLines:t.lineItems.map((function(t){return Object(st.f)(t.record,e.fields)}))}})})):[]})).then((function(t){if(t.length>0)throw new Error(Object(Wp.a)(t));return new s.a(a).getConnection()})).then((function(e){return new SB.QuoteDAO(a,e,o.data.settings).saveQuote(t).then((function(){e.sobject=function(){var t=o;return{upsertBulk:function(e){return t._bulkService("oppSyncUpserter",e)},insertBulk:function(e){return t._bulkService("oppSyncInserter",e)},deleteBulk:function(e){return t._bulkService("oppSyncDeleter",e)}}};var n=new SB.QuoteOpportunitySynchronizer(o.data.settings,e,a),r=[];return r.push(n.updateOpportunityProducts(t)),r.push(o._checkIfRecordJobFailed()),Promise.all(r)}))})).then((function(t){return"Failed"!==t[1]?Promise.resolve():o._setRecordJob("Completed")})).then((function(){return o._handleLargeQuoteSaveResponse(e)})).catch((function(t){o.error=o.$[e].createError(t),o.showSpinner=!1;var n=t.message||t,r=t.stack||t;o._setRecordJob("Failed",n,r)}))}},{key:"_checkIfRecordJobFailed",value:function(){var t={recordId:this.editorModel.quoteModel.quoteVO.record.Id,jobType:"QuoteCalculator"};return this.$.getRecordJobStatus.load({context:t})}},{key:"_setRecordJob",value:function(t,e,n){var o={recordIds:[this.editorModel.quoteModel.quoteVO.record.Id],jobType:"QuoteCalculator",jobStatus:t,jobDetails:e,stacktrace:n};return this.$.setJobStatus.save({model:o})}},{key:"_bulkService",value:function(t,e){var n=[],o=e.slice(),r=function(t,e){return this.$[t].save({model:e.splice(0,200)}).then((function(o){return n=n.concat(o),e.length>0?r(t,e):Promise.resolve(n)}))}.bind(this);return r(t,o)}},{key:"_handleLargeQuoteSaveResponse",value:function(t){"saveService"===t?this.saverResponse="SUCCESS":"quickSaveService"===t&&(this._reloadEditor(),this._getDomHost().$.sbLineEditorRead.update(!0))}},{key:"_reorderLineItems",value:function(){for(var t=[],e=this.editorModel.quoteModel.lineGroups,n=0,o=e.length;n<o;n++){for(var r=e[n],i=0,a=r.dimensions.length;i<a;i++)for(var s=r.dimensions[i],l=r.segmentedLinesByDimension[s],c=0,u=l.length;c<u;c++)for(var d=l[c].segments,p=0,h=d.length;p<h;p++)t.push(d[p].lineVO);for(var f=0,b=r.standardLines.length;f<b;f++)t.push(r.standardLines[f].lineVO)}return t}},{key:"_reorderGroups",value:function(){for(var t=Object(st.d)(this).groupModels,e=0;e<t.length;e++)t[e].groupVO.record[this.editorModel.constants.NUMBER_FIELD]=e+1}},{key:"updateUIAfterCalculate",value:function(t){var e=t.lineSortField&&t.lineSortField==this.editorModel.constants.NUMBER_FIELD;Object(st.d)(this).updateAfterJSQC(this.notifier,e),this.sortLines(t,!0)||Object(r.c)(r.a.REFRESH_TABLE)}},{key:"connectedCallback",value:function(){wb(Cb(c.prototype),"connectedCallback",this)&&wb(Cb(c.prototype),"connectedCallback",this).call(this),Object(r.b)(this,this._getEventListners())}},{key:"disconnectedCallback",value:function(){wb(Cb(c.prototype),"disconnectedCallback",this)&&wb(Cb(c.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,this._getEventListners())}},{key:"_getEventListners",value:function(){return{"sb-favorite-saved":"_saveFavorite","sb-clone-to-group-selected":"_cloneToGroup","job-completed":"_jobCompleted","sb-accept-pricing-guidance":"_onAcceptPricingGuidance"}}},{key:"_saveFavorite",value:function(t){var e=this;this._executeServiceAction("favoriteLinesService",{keys:t.detail.keys,favName:t.detail.name,groupKey:t.detail.groupKey},(function(t,n){var o=null==t.lineItems||0==t.lineItems.length,r=null==n.keys||0==n.keys.length;if(o||r)return[];var i=new Set;n.keys.forEach((function n(o){i.add(o),t.lineItems.forEach((function(t){t.parentItemKey===o&&(i.add(t.key),t.record[e.data.developerPrefix+"Bundle__c"]&&n(t.key))}))}));var a=[];return t.lineItems.forEach((function(t){i.has(t.key)&&a.push(t)})),a}))}},{key:"_handleFavoriteResponse",value:function(){Object(st.d)(this).updateQuote(this.favoriteResponse,(function(t,e){var n=e.lineItems,o=n.length;t.lineItems&&0!==t.lineItems.length&&t.lineItems.forEach((function(t){for(var e=t.key,r=0;r<o;r++)if(n[r].key===e){n[r]=t;break}}));var r=e.lineItemGroups,i=r.length;return t.lineItemGroups&&0!==t.lineItemGroups.length&&t.lineItemGroups.forEach((function(t){for(var e=t.key,n=0;n<i;n++)if(r[n].key===e){r[n]=t;break}})),t.lineItems=n,t.lineItemGroups=r,t}))}},{key:"_handleUnfavoriteResponse",value:function(){this._removeFavoritesFromQuote(this.unfavoriteResponse)}},{key:"_removeFavoritesFromQuote",value:function(t){var e=new Set(t),n=this.editorModel.constants.FAVORITE_ID_FIELD;if(this.editorModel.quoteModel.quoteVO.lineItems.forEach((function(t){e.has(t.record[n])&&(t.record[n]=null)})),this.editorModel.quoteModel.quoteVO.lineItemGroups.forEach((function(t){e.has(t.record[n])&&(t.record[n]=null)})),this.editorModel.quoteModel.quoteVO.favoriteIds){var o=this.editorModel.quoteModel.quoteVO.favoriteIds;this.editorModel.quoteModel.quoteVO.favoriteIds=o.filter((function(t){return!e.has(t)}))}this._updateQuote(this.editorModel.quoteModel.quoteVO)}},{key:"_executeCustomAction",value:function(){var t=this.eventDetail.customAction;"function"==typeof this[t.eventHandlerName]?this[t.eventHandlerName]():t.url&&t.urlTarget?this._executeCustomURLAction(t.url,t.urlTarget,this.eventDetail.model):this._executeServiceAction(this.eventDetail.customAction.eventHandlerName)}},{key:"onSaveAndNavigate",value:function(){this.onSave()}},{key:"_executeCustomURLAction",value:function(t,e,n){switch(n.modelType){case"QuoteModel":this.model=n.quoteVO;break;case"LineModel":this.model=n.lineVO;break;case"GroupModel":this.model=n.groupVO;break;default:this.model=n.quoteVO||n.lineVO||n.groupVO}var o=this._parseURL(t,this.model,this.editorModel.quoteModel);"Popup"===e?this._handlePopup(o,this.model.record):this._navigateToURL(o)}},{key:"_handleCalculateResponse",value:function(){var t=this.calculateResponse;t&&(null!=t.jobId?this._onJobChecker(t):this._updateQuote(t))}},{key:"_updateQuote",value:function(t){Object(st.d)(this).updateQuote(t)}},{key:"_checkForGuidedMessages",value:function(){this.saverResponse.guidedMessages&&this.saverResponse.guidedMessages.length>0?(Object(st.d)(this).handleProductRuleAlertModal("saveService",this.saverResponse),this.showSpinner=!1):this.navigateToReturnUrl(!0)}},{key:"navigateToReturnUrl",value:function(t){if(t&&this.saverResponse&&this.saverResponse.messages&&this.saverResponse.messages.length>0)return this.showSpinner&&(this.showSpinner=!1),void(Object(st.d)(this).error={validations:this.saverResponse.messages});var e="";if("onSaveAndNavigate"===this.eventDetail.customAction.eventHandlerName)e=this._parseURL(this.eventDetail.customAction.url,this.editorModel.quoteModel.quoteVO,this.editorModel.quoteModel);else{var n=this.editorModel.quoteModel.quoteVO.record.Id;if((e=this.eventDetail.customAction.record?this.eventDetail.customAction.record[this.editorModel.constants.RETURN_URL_FIELD]:null)&&(15!==(e=this._parseURL(e,this.editorModel.quoteModel.quoteVO,this.editorModel.quoteModel)).length&&18!==e.length||!e.match(/^[a-zA-Z0-9]*$/)||(n=e,e=null)),this._getDomHost().inFullScreenMode&&this._getDomHost().exitFullScreenMode(),window.parent.postMessage({acknowledgement:"I acknowledge that this is an unsupported feature that may stop working at any time.",recordId:n},"*"),!e){if(this._isLightningExperience()){var o=this._getRecordIdsToRefresh(n);return window.SfdcApp&&window.SfdcApp.projectOneNavigator&&window.SfdcApp.projectOneNavigator.fireContainerEvent("force__vfGetRecordNotifyChange",{recordIds:o},!0),sforce.one.navigateToSObject(n),this._closeSubTab(),void(this.showSpinner&&(this.showSpinner=!1))}if("undefined"!=typeof Sfdc&&Sfdc&&Sfdc.Url){var r=Sfdc.Url.getUrlParameters(window.location.href);if(this._areUrlParamsValid(r))return void this._navigateByWindowLocation("".concat(this.editorModel.communityPrefix,"/").concat(n,"?isdtp=").concat(r.isdtp))}}e=e||this.editorModel.communityPrefix+"/"+n}this.showSpinner&&(this.showSpinner=!1),this._navigateToURL(e,!0)}},{key:"_getRecordIdsToRefresh",value:function(t){var e=[{recordId:t}];return(this.editorModel.quoteModel.quoteVO.lineItems||[]).forEach((function(t){t.record.Id&&e.push({recordId:t.record.Id})})),(this.editorModel.quoteModel.lineGroups||[]).forEach((function(t){t.groupVO.record.Id&&e.push({recordId:t.groupVO.record.Id})})),(this.editorModel.quoteModel.quoteVO.deletedLineIds||[]).forEach((function(t){e.push({recordId:t})})),(this.editorModel.quoteModel.quoteVO.deletedGroupIds||[]).forEach((function(t){e.push({recordId:t})})),e}},{key:"_areUrlParamsValid",value:function(t){return t&&("nv"===t.isdtp||"vw"===t.isdtp)}},{key:"_closeSubTab",value:function(){if(sforce&&sforce.console)try{sforce.console.getEnclosingTabId((function(t){sforce.console.closeTab(t.id)}))}catch(t){}}},{key:"_reloadEditor",value:function(){Object(st.d)(this).destampGroups(),Object(st.d)(this).md=void 0,this._clearAppliedUbpChanges(),Object(qe.a)(this,(function(){var t=this.editorModel.data.settings.largeQuoteThreshold;(null==t||this.editorModel.quoteModel.quoteVO.lineItems.length<=t)&&(Object(st.d)(this).rawData=this.quoteEditorModelResponse,this.quoteEditorModelResponse.guidedMessages&&this.quoteEditorModelResponse.guidedMessages.length>0&&(Object(st.d)(this).$.productAlertModal.displayContinueButton=!1,Object(st.d)(this).handleProductRuleAlertModal("quickSaveService",this.quoteEditorModelResponse))),Object(qe.a)(this,(function(){this.showSpinner=!1,Object(r.c)(r.a.TOGGLE_QUICKSAVE,{enable:!0})}))}))}},{key:"_handleToggleGroupResponse",value:function(){Object(st.d)(this).set("editorModel.quoteModel.quoteVO",this.toggleGroupResponse),Object(st.d)(this).shadowRoot.querySelector("#quoteTabs")&&Object(st.d)(this).shadowRoot.querySelector("#quoteTabs").destroyTabs();var t=this.editorModel.quoteModel,e=t.quoteVO.lineItemGroups;if(t.grouped){Object(st.d)(this).set("editorModel.quoteModel.grouped",!1),Object(st.d)(this).rightSideButton=!1,Object(r.c)(r.a.CLOSE_GROUP_PANEL);for(var n=0;n<Object(st.d)(this).groupModels.length;n++)Object(st.d)(this).set("groupModels."+n+".groupVO",{})}else"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(e[0].record),this.set("editorModel.quoteModel.grouped",!0),this.set("editorModel.quoteModel.quoteVO.lineItemGroups",t.quoteVO.lineItemGroups);this._updateQuote(t.quoteVO),Object(st.d)(this).viewport.isMobile()&&Object(st.d)(this).buildQuoteTabs(),Object(st.d)(this).quoteHasNoLines()}},{key:"_handlePopupResponse",value:function(){switch(this.popupResponse.action){case"save":this.onSave();break;case"quicksave":this.onQuickSave();break;case"reload":this._reload()}}},{key:"_reload",value:function(){window.location.reload()}},{key:"_handlePopup",value:function(t,e){var n=this.$.popup;n.url=t,n.messenger=new nh(this.editorModel,e),n.open()}},{key:"_parseURL",value:function(t,e,n){return t.replace(/{!(.*?)}/g,function(t,o){var r,i=o.split("."),a=i[0];a==this.app.org.prefix+"__Quote__c"||a==this.app.org.prefix+"__Quote__r"||"Quote__c"==a||"Quote__r"==a?(r=n.quoteVO.record,i.shift()):a===this.app.org.prefix+"__Group__c"||a===this.app.org.prefix+"__Group__r"||"Group__c"==a||"Group__r"==a?(r=n.groupsByKey[this.model.parentGroupKey].groupVO.record,i.shift()):r=e.record;for(var s=0;s<i.length;s++){if(s===i.length-1)return r[i[s]];r=r[i[s]]}}.bind(this))}},{key:"_navigateToURL",value:function(t,e){this._isLightningExperience()?o.a.user.inCommunity?this._navigateInLightningCommunity(t,e):sforce.one.navigateToURL(t,!!e):this._navigateByWindowLocation(t)}},{key:"_navigateInLightningCommunity",value:function(t,e){if(t)if(t.startsWith("http"))sforce.one.navigateToURL(t,!!e);else{var n=t;n.startsWith("/")||(n="/"+n),n=this.editorModel.communityPrefix+n,sforce.one.navigateToURL(n,!!e)}}},{key:"_navigateByWindowLocation",value:function(t){window.location.href=t}},{key:"_isLightningExperience",value:function(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}},{key:"onFlagCalculate",value:function(t,e,n){Object(st.d)(this).errors=null,this._usesClientCalculator()?(Object(st.d)(this).calculateGetCacheArray=[],this._jsqcCalculate(t).then(function(t){return e||t.updateQuoteRequired?(this.data.quote.calculationRequired=!1,void this._updateQuote(t.value)):this.data.quote.calculationRequired?(this.data.quote.calculationRequired=!1,t.value.lineSortField&&t.value.lineSortField!=this.data.developerPrefix+"Number__c"&&(t.value.lineItems=new ih(this.data.developerPrefix).sortLineItems(t.value.lineItems,t.value.lineSortField)),void Object(st.d)(this)._createEditorModel(Object(st.d)(this).data,Object(st.d)(this).md)):(this.updateUIAfterCalculate(t.value),void("function"==typeof n&&n(t.value)))}.bind(this),function(t){"function"==typeof n&&n(),void 0===this.editorModel?(this.$.alertModal.displayContinueButton=!1,this.$.alertModal.cancelCB=function(){location.reload()}.bind(this),this.$.alertModal.alerts=[t.message]):Object(st.d)(this).error=t}.bind(this))):(this.$.calculateService.model=void 0,this.$.calculateService.background=!1===t,this._executeServiceAction("calculateService"),"function"==typeof n&&n())}},{key:"onSave",value:function(){this.showSpinner=!0,this.$.saveService.background=!0,this._save("saveService")}},{key:"onQuickSave",value:function(){if(this.$.quickSaveService.uid=this.editorModel.quoteModel.quoteVO.record.Id.substring(0,15),this.showSpinner=!0,this.$.quickSaveService.background=!0,Object(st.d)(this).$.sbLineEditorRead.clearCache(),this.editorModel.largeQuoteExperienceEnabled){for(var t=this.editorModel.quoteModel.lineGroups,e=0,n=t.length;e<n;e++)if(t[e].groupKey==Object(st.d)(this).selectedGroupKey){Object(st.d)(this).returnGroupKeyAfterQuickSave=e+2;break}}else Object(st.d)(this).returnGroupKeyAfterQuickSave=null;this._save("quickSaveService"),Object(r.c)(r.a.QUOTE_SAVED)}},{key:"onCancel",value:function(){this.showSpinner=!0,this.navigateToReturnUrl()}},{key:"onAddProducts",value:function(){this._navigateToLookup("product")}},{key:"onAddFavorites",value:function(){this._navigateToLookup("favorite")}},{key:"onDeleteLines",value:function(){if(this._usesClientCalculator()){var t=new Set;if(this._retrieveKeysOfSelected().forEach((function(e){t.add(e)})),this._deleteLines(t,this.editorModel.quoteModel.quoteVO,!0),Object(st.d)(this).renumber(),this.onFlagCalculate(!0,!1),Object(st.d)(this).quoteHasNoLines(),this.editorModel.largeQuoteExperienceEnabled||this.editorModel.deviceContext.isMobile){this.editorModel.deviceContext.isMobile&&Object(st.d)(this).buildQuoteTabs();for(var e=0,n=this.editorModel.quoteModel.lineGroups.length;e<n;e++)Object(r.c)(r.a.RENDER_NEW_TAB,{groupKey:this.editorModel.quoteModel.lineGroups[e].groupKey})}}else this._executeServiceAction("onDeleteLine",{keys:this._retrieveKeysOfSelected()})}},{key:"onDeleteLine",value:function(){if(this._usesClientCalculator()){var t=new Set;t.add(this.eventDetail.model.serviceModel.keys[0]),this._deleteLines(t,this.editorModel.quoteModel.quoteVO,!0),Object(st.d)(this).renumber(),this.onFlagCalculate(!0,!1),Object(st.d)(this).quoteHasNoLines(),this.editorModel.deviceContext.isMobile?(Object(st.d)(this).buildQuoteTabs(),Object(r.c)(r.a.RENDER_NEW_TAB,{groupKey:this.eventDetail.model.groupModel.groupKey})):this.editorModel.largeQuoteExperienceEnabled&&Object(r.c)(r.a.RENDER_NEW_TAB,{groupKey:Object(st.d)(this).selectedGroupKey})}else this._executeServiceAction("onDeleteLine",{keys:this.eventDetail.model.serviceModel.keys})}},{key:"onAddGroup",value:function(){this._resetOnActionSignal(),this.editorModel.quoteModel.grouped?(this._addGroup(),this.onFlagCalculate(!0,!0)):this._groupQuote()}},{key:"onUngroup",value:function(){this._resetOnActionSignal(),this._ungroupQuote()}},{key:"_groupQuote",value:function(){var t=this.editorModel.quoteModel,e=t.quoteVO;if(e.record[this.data.developerPrefix+"LineItemsGrouped__c"]=!0,0===e.lineItemGroups.length){var n=this.editorModel.data.customLabels.lbl_default_group_name;if(e.record[this.data.developerPrefix+"DefaultGroupName__c"]){var o=e.record[this.data.developerPrefix+"DefaultGroupName__c"];o&&(n=o)}var r=this.editorModel.constants,i=this._createGroupRecord(t);i.Name=n,i[r.NUMBER_FIELD]=1,i=JSON.parse(JSON.stringify(i)),"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(i),t.lineGroups[0].groupVO={key:++t.quoteVO.nextGroupKey,record:i,multiSegmentColumns:{},localizedMultiSegmentColumns:{}},sb.common.core.AppContext.org.isMultiCurrencyOrg&&(t.lineGroups[0].groupVO.CurrencyIsoCode=e.record.CurrencyIsoCode),t.grouped=!0,e.lineItemGroups.push(t.lineGroups[0].groupVO),t.groupsByKey[t.lineGroups[0].groupVO.key]=t.lineGroups[0],delete t.groupsByKey.null;var a=t.indexByGroupKey;a[t.lineGroups[0].groupVO.key]={index:Object.keys(a).length,indexByLineKey:{},indexBySegmentKey:{}},e.lineItems.forEach((function(e){e.parentGroupKey=t.lineGroups[0].groupVO.key})),this.onFlagCalculate(!0,!0),this.editorModel.largeQuoteExperienceEnabled&&Object(st.d)(this).set("selectedGroupKey",t.lineGroups[0].groupVO.key)}}},{key:"_ungroupQuote",value:function(){var t=this.editorModel.quoteModel;t.indexByGroupKey.null={index:0,indexByLineKey:{},indexBySegmentKey:{}},t.grouped=!1;var e=t.quoteVO,n=this.data.developerPrefix,o=[];0!==e.lineItemGroups.length&&(e.lineItemGroups.forEach((function(t){t.record.Id&&-1===o.indexOf(t.record.Id)&&o.push(t.record.Id)})),e.lineItemGroups=[],e.deletedGroupIds=o,e.lineItems.forEach((function(t){t.parentGroupKey=null,t.record[n+"Group__c"]=null}))),e.record[n+"LineItemsGrouped__c"]=!1,this.onFlagCalculate(!0,!0),Object(st.d)(this).rightSideButton=!1,Object(r.c)(r.a.CLOSE_GROUP_PANEL),this.editorModel.largeQuoteExperienceEnabled&&(Object(st.d)(this).set("groupModels",[]),Object(st.d)(this).set("selectedGroupKey",null))}},{key:"onResegmentLine",value:function(){var t=this.editorModel.data.settings.largeQuoteThreshold,e=this.editorModel.data.customLabels.msg_large_quote_sent_without_lines;if(null!=t&&t<this.editorModel.quoteModel.quoteVO.lineItems.length){var n=this.eventDetail.model.lineVO.parentGroupKey,o=this.editorModel.quoteModel.quoteVO,r=new Vp.a(o).getSegmentTemplatesByDimensionTypeForGroupKey(n);o.segmentTemplatesByDimensionTypeByGroupKey={},o.segmentTemplatesByDimensionTypeByGroupKey[(n||-1)+""]=r;var i=e.replace("{0}",o.record.Id).replace("{1}",t);console.log(i),this._executeServiceAction("onResegmentLine",null,(function(t,e){for(var n=e.keys[0],o=[],r=t.lineItems.length,i=0;i<r;i++){var a=t.lineItems[i];if(a.key==n){o.push(a);break}}return o}))}else this._executeServiceAction("onResegmentLine")}},{key:"_handleResegmentResponse",value:function(){var t=this;delete this.resegmentResponse.segmentTemplatesByDimensionTypeByGroupKey,Object(st.d)(this).updateQuote(this.resegmentResponse,(function(e,n){for(var o,r=e.lineItems.length,i=t.editorModel.constants,a=0;a<r;a++){var s=e.lineItems[a];if(1==s.record[i.SEGMENT_INDEX_FIELD]){o=s.key;break}}var l=[];return n.lineItems.forEach((function(t){t.key!==o&&l.push(t)})),l=l.concat(e.lineItems),e.lineItems=l,e}))}},{key:"onDesegmentLine",value:function(){var t,e=this.editorModel.constants,n=(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null).segmentKey,o=JSON.parse(JSON.stringify(this.editorModel.quoteModel.quoteVO)),r=new Set;o.lineItems.forEach((function(o){o.record[e.SEGMENT_KEY_FIELD]===n&&(1===o.record[e.SEGMENT_INDEX_FIELD]?t=o:r.add(o.key))}));var i=this._transformLineToNonSegmentedLine(t);0!==r.size&&this._deleteLines(r,o,!1);var a=[],s=null!=i.parentItemKey;o.lineItems.forEach((function(t){t.key!=i.key&&a.push(t),s&&i.parentItemKey==t.key&&(a.push(i),s=!1)})),null==i.parentItemKey&&a.push(i),o.lineItems=a,o.calculationRequired=!0,this._updateQuote(o)}},{key:"_deleteLines",value:function(t,e,n){var i=this,a=this.editorModel.constants,s=new Set,l=new Set,c=this._getAllRelatedKeys(t,n);t=new Set([].concat(bb(t),bb(c))),e.lineItems.forEach((function(n,r){if(t.has(n.key)){if(s.add(r),n.record.Id&&l.add(n.record.Id),o.a.isManualEditsForUBPEnabled&&n.record[i.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){var c=i._getLineOrProdId(n.record),u="AppliedUbpChanges_".concat(c,"_").concat(n.key);Object(vt.a)(u)}if(n.parentGroup&&(n.parentGroup.record[a.FAVORITE_ID_FIELD]=null),n.record[a.FAVORITE_ID_FIELD]&&e.favoriteIds){var d=n.record[a.FAVORITE_ID_FIELD],p=[];e.favoriteIds.forEach((function(t){t!=d&&p.push(t)})),e.favoriteIds=p}}}));var u=[];e.lineItems.forEach(function(t,e){if(s.has(e)){var n=t.parentGroupKey,o=this.editorModel.quoteModel.indexByGroupKey[t.parentGroupKey].index;if(t.record[this.editorModel.constants.SEGMENT_KEY_FIELD]){var r=t.record[this.editorModel.constants.SEGMENT_KEY_FIELD],i=this.editorModel.quoteModel.lineModelsByKey[t.key];if(i.segments&&i.segments.length>0){var c=i.dimensionType,d=this.editorModel.quoteModel.indexByGroupKey[n].indexBySegmentKey[r];i.segments=[],Object(st.d)(this).splice("groupModels.".concat(o,".segmentedLinesByDimension.").concat(c),d,1)}}else{var p=this.editorModel.quoteModel.indexByGroupKey[n].indexByLineKey[t.key];Object(st.d)(this).splice("groupModels.".concat(o,".standardLines"),p,1)}this.editorModel.quoteModel.renumberIndexes(!0)}else l.has(t.record[a.SOURCE_FIELD])&&(t.record[a.SOURCE_FIELD]=null),u.push(t)}.bind(this)),s.size>0&&Object(r.c)(r.a.LINE_SPLICE_COMPLETE),e.lineItems=u,e.deletedLineIds=e.deletedLineIds||[],l.forEach((function(t){e.deletedLineIds.push(t)}))}},{key:"_transformLineToNonSegmentedLine",value:function(t){var e=this.editorModel.constants;t.dimensionType=null,t.record[e.DIMENSION_ID_FIELD]=null,t.record[e.DIMENSION_FIELD]=null,t.record[e.SEGMENT_KEY_FIELD]=null,t.record[e.SEGMENT_INDEX_FIELD]=null,t.record[e.SEGMENT_LABEL_FIELD]=null,t.record[e.START_DATE_FIELD]=null,t.record[e.END_DATE_FIELD]=null;var n=t.record[e.OPTION_TYPE_FIELD];return n&&"component"===n.toLowerCase()?t.record[e.BUNDLED_QUANTITY_FIELD]=function(t){if(null!=t.actualQuantity)return t.actualQuantity;var n=t.record[e.QUANTITY_FIELD],o=t.record[e.PRIOR_QUANTITY_FIELD]||0,r=t.record[e.UPGRADED_QUANTITY]||0;return t.record[e.EXISTING_FIELD]||t.record[e.CARRYOVER_LINE_FIELD]?n-o+r:n}(t):n&&"accessory"===n.toLowerCase()&&(t.record[e.BUNDLED_QUANTITY_FIELD]=t.record[e.QUANTITY_FIELD]),t}},{key:"onResetDiscounts",value:function(){this.editorModel.quoteModel.resetDiscounts(this.eventDetail.model.groupKey),at.a.shouldCalulateImmediately(at.a.constants.ADDITIONAL_DISCOUNT_FIELD,o.a.org.calculateImmediately,this.editorModel.quoteModel)&&this.onFlagCalculate(!0,!1)}},{key:"updateLineOptional",value:function(){var t;this.eventDetail.model.groupKey&&(t=this.eventDetail.model.groupKey),this.editorModel.quoteModel.allOptional="optionalAllBtn"===this.eventDetail.customAction.caClass,this.editorModel.styleQuoteAndGroupActionButtons(),this.notifyPath("editorModel.quoteModel.allOptional",this.editorModel.quoteModel.allOptional),Object(r.c)(r.a.TOGGLE_OPTIONAL_CLICKED,{toggleOptionalBoolean:this.editorModel.quoteModel.allOptional,groupKey:t})}},{key:"onUpgradeAssets",value:function(){this._navigateToLookup("asset")}},{key:"onRenewSubscriptions",value:function(){this._navigateToLookup("subscription")}},{key:"onAmendSubscriptions",value:function(){this._navigateToLookup("subscription")}},{key:"onAddRecommendedProducts",value:function(){this._navigateToLookup("recommend")}},{key:"onCloneGroup",value:function(){this.$.showSpinner=!0;var t=this.editorModel.quoteModel,e=this.eventDetail.model.serviceModel.keys[0];this._cloneGroup(t,e),delete this.eventDetail.model,this.onFlagCalculate(!0,!1)}},{key:"_cloneGroup",value:function(t,e){var n=this,o=t.groupsByKey[e];if(o){this._addGroup(o.groupVO);var r=t.groupsByKey[t.quoteVO.nextGroupKey-1];if(r){var i=new Set,a=o.quoteModel.lineModelsByKey;for(var s in a)a.hasOwnProperty(s)&&(a[s].lineVO.parentItemKey||a[s].lineVO.parentGroupKey==e||i.add(a[s].lineVO.key));o.segmentedLines.forEach((function(t){var e=null;t.lineVO.parentItemKey&&(e=n._getRootPackage(a[t.lineVO.parentItemKey],a)),e&&i.has(e.lineVO.key)?n._cloneLine(e,r):t.lineVO.parentItemKey||n._cloneLine(t,r)})),o.standardLines.forEach((function(t){if(t.lineVO.key){var e=null;t.lineVO.parentItemKey&&(e=n._getRootPackage(a[t.lineVO.parentItemKey],a)),e&&i.has(e.lineVO.key)?n._cloneLine(e,r):t.lineVO.parentItemKey||n._cloneLine(t,r)}}))}}}},{key:"_getRootPackage",value:function(t,e){return t.lineVO.parentItemKey?this._getRootPackage(e[t.lineVO.parentItemKey],e):t}},{key:"onDeleteGroup",value:function(){var t=this,e=Object(st.d)(this).i18n.l;!this.editorModel.quoteModel.isAmendmentOrChangeQuote||this.eventDetail.model.canDelete()?sb.dialog.confirm(e("msg_confirm_group_delete"),{ok:e("Ok"),cancel:e("Cancel")},(function(e){e&&t._deleteGroup()})):Object(st.d)(this).errors=[e("msg_cannot_delete_group")]}},{key:"_deleteGroup",value:function(){var t=this.eventDetail.model.serviceModel.keys[0],e=this.editorModel.quoteModel;this.eventDetail.model=void 0,null!=e.groupsByKey&&(this._removeGroup(e,t),this.onFlagCalculate(!0,!0),this._updateQuote(e.quoteVO),1==e.lineGroups.length&&Object(r.c)(r.a.CLOSE_GROUP_PANEL),this.editorModel.largeQuoteExperienceEnabled&&e.lineGroups[0]&&Object(r.c)(r.a.GROUP_DELETED,{groupKey:e.lineGroups[0].groupKey}))}},{key:"_removeGroup",value:function(t,e){var n=this,o=!0,r=new Set;if(t.quoteVO.lineItems.length>0&&(t.quoteVO.lineItems.forEach((function(t){t.parentItemKey&&t.parentGroupKey==e&&r.add(t.parentItemKey)})),t.quoteVO.lineItems.forEach((function(t){t.parentGroupKey!=e&&r.has(t.key)&&(o=!1)})),o)){var i,a=new Set,s=[];t.quoteVO.lineItems.forEach((function(t){t.parentGroupKey!=e?s.push(t):t.record.Id&&!a.has(t.record.Id)&&a.add(t.record.Id)})),s.forEach((function(t){a.has(t.record[n.editorModel.constants.SOURCE_FIELD])&&(t.record[n.editorModel.constants.SOURCE_FIELD]=null)})),t.quoteVO.deletedLineIds=(i=t.quoteVO.deletedLineIds).concat.apply(i,bb(a)),t.quoteVO.lineItems=s}if(o){var l=[],c=[];t.quoteVO.lineItemGroups.forEach((function(t){t.key!=e?l.push(t):t.record.Id&&-1==c.indexOf(t.record.Id)&&c.push(t.record.Id)})),t.quoteVO.lineItemGroups=l,t.quoteVO.deletedGroupIds=t.quoteVO.deletedGroupIds.concat(c);var u=[],d=-1;t.lineGroups.forEach((function(t,n){t.groupKey!=e?u.push(t):d=n})),t.lineGroups=u,delete t.groupsByKey[e],delete t.indexByGroupKey[e],d>-1&&(Object(st.d)(this).splice("groupModels",d,1),Object(ko.b)())}}},{key:"onReconfigureLine",value:function(){var t={lineKey:this.eventDetail.model.lineVO.key,qId:this.editorModel.quoteModel.quoteVO.record.Id,ignoreCache:!0};this.eventDetail.model.groupModel.quoteModel.grouped&&(t.groupKey=this.eventDetail.model.groupModel.groupKey),i.a.nav("#",t,["product","pc"],!1,this)}},{key:"onAddToFavorites",value:function(){this._openDialog("favDialog")}},{key:"onViewPricingGuidance",value:function(){this._openPricingGuidanceDialog("pricingGuidanceDialog")}},{key:"onViewConsumptionSchedule",value:function(){this.dispatchEvent(Object(r.d)("toggle-ubp-editor",{lineModel:this.eventDetail.model,visible:!0}))}},{key:"onRemoveFromFavorites",value:function(){var t=this,e=Object(st.d)(this).i18n.l;"Line"===this.eventDetail.customAction.location?sb.dialog.confirm(e("msg_confirm_remove_favorite"),{ok:e("Ok"),cancel:e("Cancel")},(function(e){e&&t._executeQuotelessServiceAction("onRemoveFromFavorites")})):sb.dialog.confirm(e("msg_confirm_remove_group_from_favorites"),{ok:e("Ok"),cancel:e("Cancel")},(function(e){e&&t._executeQuotelessServiceAction("onRemoveFromFavorites")}))}},{key:"_onAcceptPricingGuidance",value:function(){if(this.eventDetail&&this.eventDetail.model&&this.eventDetail.model.lineVO&&this.eventDetail.model.lineVO.record&&this.eventDetail.model.lineVO.quoteLinePricingGuidance&&this.eventDetail.model.lineVO.quoteLinePricingGuidance.record&&this.eventDetail.model.groupModel&&this.eventDetail.model.groupModel.quoteModel&&this.eventDetail.model.groupModel.quoteModel.quoteVO&&this.eventDetail.model.groupModel.quoteModel.quoteVO.lineItems){for(var t=this.eventDetail.model.lineVO,e=t.record,n=this.data.developerPrefix,o=t.quoteLinePricingGuidance.record[n+"Target__c"],r=!1,i=n+"Product__c",a=e[i],s=n+"Discount__c",l=n+"AdditionalDiscountAmount__c",c=this.eventDetail.model.groupModel.quoteModel.quoteVO.lineItems,u=0;u<c.length;u++){var d=c[u].record;d[i]===a&&c[u].quoteLinePricingGuidance&&(d[s]===o&&null==d[l]||(d[s]=o,d[l]=null,r=!0))}r&&this.onFlagCalculate(!0,!1);var p=this.eventDetail.model.groupModel.quoteModel.quoteVO.record.Id;(new De).log(p,Me,JSON.stringify({pricingGuidanceAction:"Accepted",quoteLineId:e.Id}))}}},{key:"_cloneToGroup",value:function(t){var e=t.detail;if(0!==e.length){var n=this.editorModel.quoteModel,o=this.editorModel.constants,i=Object(st.d)(this),a=n.indexByGroupKey;for(var s in this.selectedLinesByKey){for(var l=this.selectedLinesByKey[s],c=0,u=e.length;c<u;c++){var d=n.groupsByKey[e[c].value];this._cloneLine(l,d)}var p=a[l.lineVO.parentGroupKey],h=p.index,f=l.segmented?p.indexBySegmentKey[l.lineVO.record[o.SEGMENT_KEY_FIELD]]:p.indexByLineKey[s];this._clearSelectedCheckbox(f,h,i,l.lineVO.dimensionType)}if(n.selectedLinesByKey={},this.selectedLinesByKey={},this.editorModel.largeQuoteExperienceEnabled)for(var b=0,y=e.length;b<y;b++)Object(r.c)(r.a.RENDER_NEW_TAB,{groupKey:e[b].value});this.onFlagCalculate(!0,!1)}}},{key:"_clearSelectedCheckbox",value:function(t,e,n,o){o?n.set("groupModels.".concat(e,".segmentedLinesByDimension.").concat(o,".").concat(t,".selected"),!1):n.set("groupModels.".concat(e,".standardLines.").concat(t,".selected"),!1)}},{key:"onCloneLine",value:function(){var t=this,e=this.eventDetail.model;if(e.selected&&this.editorModel.quoteModel.grouped){this.selectedLinesByKey=this.editorModel.quoteModel.selectedLinesByKey;var n=this.$.cloneToGroupDialog;return n.quoteModel=this.editorModel.quoteModel,void n.open()}this.showSpinner=!0;var o=function(){t.showSpinner=!1};Object(qe.a)(this,(function(){if(t.editorModel.data.settings.caPlugin){var n={};n.originalLines=t._getOriginalLineKeys(e),t.callPlugin("onBeforeCloneLine",n).then((function(){var o=t._cloneLine(e);return n.clonedLines=t._getClonedLineKeys(o),t.callPlugin("onAfterCloneLine",n)})).then((function(){delete t.eventDetail.model,t.onFlagCalculate(!0,!1,o)}))}else t._cloneLine(e),delete t.eventDetail.model,t.onFlagCalculate(!0,!1,o)}))}},{key:"callPlugin",value:function(t,e){var n=this;return new Promise((function(o,r){if(SB&&SB.JSQC){var i=new s.a(n.app.org.prefix);n.notifier=!n.data.quote.calculationRequired&&Object(st.d)(n).editorModel?new Jp(Object(st.d)(n)):null;var a=new SB.JSQC(n.data.settings,n.data.quote,n.notifier),l=[i.getConnection(),i.getConnection()];Promise.all(l).then((function(i){a.setConnection(i[0]),a.setCustomerOnlyConnection(i[1]),a.onCallCAPlugin(t,e).then((function(t){n.updateUIAfterCalculate(t),n.showSpinner=!1,o()}),(function(t){n.showSpinner=!1;var e=t.message||t;Object(st.d)(n).errors=[Object(st.d)(n).i18n.l(e)],r({message:e})}))}),(function(t){n.showSpinner=!1;var e=t.message||t;Object(st.d)(n).errors=[Object(st.d)(n).i18n.l(e)],r({message:e})}))}else r({message:"ERROR: Could not find the Client-Side Calculator"})}))}},{key:"_getOriginalLineKeys",value:function(t,e,n){if(n=n||{},t.segmented){n.segmented||(n.segmented={});var o=t.dimensionType;n.segmented[o]||(n.segmented[o]=[]);for(var r=0;r<t.segments.length;r++)n.segmented[o].push(t.segments[r].lineVO.key)}else{n.standard||(n.standard=[]),n.standard.push(t.lineVO.key);var i=this.editorModel.quoteModel.linesByParentItemKey[t.lineVO.key];if(i)for(var a=0,s=i.length;a<s;a++)n=this._getOriginalLineKeys(i[a],i[a].lineVO.key,n)}return n}},{key:"_getClonedLineKeys",value:function(t){for(var e={standard:[]},n=0;n<t.standard.length;n++)e.standard.push(t.standard[n].lineVO.key);for(var o in e.segmented={},t.segmented)if(t.segmented.hasOwnProperty(o)){e.segmented[o]||(e.segmented[o]=[]);for(var r=t.segmented[o].lines,i=0;i<r.length;i++)for(var a=r[i],s=0;s<a.segments.length;s++)e.segmented[o].push(a.segments[s].lineVO.key)}return e}},{key:"_cloneLine",value:function(t,e){var n=this,i=[],a={Year:{lines:[]},Quarter:{lines:[]},Month:{lines:[]},Custom:{lines:[]}},s=Object(st.d)(this).groupModels,l=e?e.groupKey:t.lineVO.parentGroupKey,c=l?this.editorModel.quoteModel.indexByGroupKey[l].index:0;return function t(n,o){var r;if(n.segmented?(r=s[c].cloneSegmentedLine(n,o,e),a[r.dimensionType].lines.push(r),a[r.dimensionType].key=n.lineVO.key):(r=s[c].cloneLine(n,o,e),i.push(r)),s[c].addToLinesByParentItemKey(r),n.bundle&&s[c].quoteModel.linesByParentItemKey[n.lineVO.key])for(var l=s[c].quoteModel.linesByParentItemKey[n.lineVO.key],u=0,d=l.length;u<d;u++)t(l[u],r.lineVO.key)}(t),function(){var o=s[c].standardLines.length;if(i.length>0){var a,l,u=s[c].standardLines.length;if(e)a=u;else for(l=0;l<u;l++)if(t.lineVO.key===s[c].standardLines[l].lineVO.key){a=l+1;break}if(t.bundle)if(n.editorModel.data.settings.bundleKeptTogether)for(var d=l;d<u;d++){if(!s[c].standardLines[d].component&&s[c].standardLines[d].lineVO.key!==t.lineVO.key){a=d;break}a=u}else a=u;for(var p=Object(st.d)(n),h=0,f=i.length;h<f;h++){var b=i[h];p.splice("groupModels.".concat(c,".standardLines"),a,0,b),s[c].quoteModel.quoteVO.lineItems.push(b.lineVO),n.editorModel.quoteModel.lineModelsByKey[b.lineVO.key]=b,a++}e&&p.notifySplices("groupModels.".concat(c,".standardLines"),[{index:a-i.length,removed:[],addedCount:i.length,object:p.groupModels[c].standardLines,type:"splice"}]),n.editorModel.deviceContext.isMobile&&0===o&&Object(r.c)(r.a.RENDER_NEW_TAB,{groupKey:e.groupKey})}}(),function(){for(var t in a)if(a[t].lines.length>0){var o=0,i=a[t].lines,l=s[c].segmentedLinesByDimension[t],u=l.length,d=a[t].key;if(e)o=u;else for(var p=0,h=l.length;p<h;p++)if(l[p].lineVO.key===d){o=p+1;break}for(var f=0,b=i.length;f<b;f++){var y=i[f];Object(st.d)(n).splice("groupModels.".concat(c,".segmentedLinesByDimension.").concat(t),o+f,0,y),Object(st.d)(n).push("groupModels.".concat(c,".segmentedLines"),y);for(var g=0;g<y.segments.length;g++)s[c].quoteModel.quoteVO.lineItems.push(y.segments[g].lineVO),n.editorModel.quoteModel.lineModelsByKey[y.segments[g].lineVO.key]=y.segments[g];y.segments.length>0&&(n.editorModel.quoteModel.lineModelsByKey[y.segments[0].lineVO.key].segments=y.segments,n.editorModel.quoteModel.lineModelsByKey[y.segments[0].lineVO.key].dimensionType=y.dimensionType)}0===u&&Object(r.c)(r.a.RENDER_NEW_TAB,{groupKey:e.groupKey})}}(),function(){if(o.a.isManualEditsForUBPEnabled&&t.lineVO.record[n.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){var e=n._getLineOrProdId(t.lineVO.record),r="AppliedUbpChanges_".concat(e,"_").concat(t.lineVO.key),a=Object(vt.b)(r,["rates"]);if(a){var s,l=yb(i);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=n._getLineOrProdId(c.lineVO.record),d="AppliedUbpChanges_".concat(u,"_").concat(c.lineVO.key);Object(vt.d)(d,["rates"],st.a.deepClone(a))}}catch(t){l.e(t)}finally{l.f()}}}}(),Object(st.d)(this).renumber(),this.editorModel.quoteModel.renumberIndexes(!0),{standard:i,segmented:a}}},{key:"_usesClientCalculator",value:function(){return this.data.settings.usesClientCalculator}},{key:"_jsqcCalculate",value:function(t){return this.showSpinner=!(!t&&null!=t)||this.showSpinner,new Promise(function(e,n){if(SB&&SB.JSQC){var o={},r=this.data.settings,i=new s.a(this.app.org.prefix);this.notifier=!this.data.quote.calculationRequired&&Object(st.d)(this).editorModel?new Jp(Object(st.d)(this)):null,r.displayedLookupMap=this.getDisplayedLookupNames(this.data),(this.editorModel?new th(this.data,this.editorModel.quoteModel.groupsByKey):new th(this.data,null)).updateSegments()&&!this.data.quote.calculationRequired&&(o.updateQuoteRequired=!0,this.notifier=null);var a=new SB.JSQC(r,this.data.quote,this.notifier),l=[i.getConnection(),i.getConnection()];Promise.all(l).then(function(r){a.setConnection(r[0]),a.setCustomerOnlyConnection(r[1]),a.initServices(r[0]),a.onCalc().then(function(n){o.value=n,this.showSpinner=!t&&null!=t&&this.showSpinner,e(o)}.bind(this),function(e){this.showSpinner=!t&&null!=t&&this.showSpinner,n({message:e.message||e})}.bind(this))}.bind(this),function(t){n({message:t.message||t})}.bind(this))}else n({message:"ERROR: Could not find the Client-Side Calculator"})}.bind(this))}},{key:"getDisplayedLookupNames",value:function(t){var e={line:[],group:[],quote:[]},n=t.settings.lineLookups?Object.keys(t.settings.lineLookups):[],o=t.settings.groupLookups?Object.keys(t.settings.groupLookups):[],r=t.settings.quoteLookups?Object.keys(t.settings.quoteLookups):[];return n.forEach((function(t){e.line.push(Ho.a.getRelationshipField(t))})),o.forEach((function(t){e.group.push(Ho.a.getRelationshipField(t))})),r.forEach((function(t){e.quote.push(Ho.a.getRelationshipField(t))})),e}},{key:"_onJobChecker",value:function(t){t.jobType="QuoteCalculator",this.$.jobchecker.useSpinner=!this.$.calculateService.background,this.$.jobchecker.data=t}},{key:"_jobCompleted",value:function(){if(null!=this.$.jobchecker.result.payload){var t=JSON.parse(this.$.jobchecker.result.payload);if(t.backgroundCalculatePending=!1,this.saveServiceAfterBackgroundCalc)return this.editorModel.createQuoteModel(t),this._executeServiceAction(this.saveServiceAfterBackgroundCalc),void(this.saveServiceAfterBackgroundCalc=null);this._getDomHost().updateQuote(t)}}},{key:"_save",value:function(t){this.editorModel.data.settings.usesClientCalculator?this._jsqcCalculate(!1).then(function(e){this._mergeUbpEdits(this.editorModel.quoteModel.quoteVO);var n=new $p(this.editorModel.quoteModel.quoteVO,this.editorModel.constants).validateAssetQuantityChanges();0!==n.length?Object(st.d)(this).error={validations:n}:this._executeServiceAction(t)}.bind(this),function(t){Object(st.d)(this).error=t}.bind(this)):this.editorModel.data.settings.usesBackgroundCalculator?(this.saveServiceAfterBackgroundCalc=t,this.onFlagCalculate(!1)):this._executeServiceAction(t)}},{key:"_mergeUbpEdits",value:function(t){var e=this;o.a.isManualEditsForUBPEnabled&&function(){var n,o=Object.keys(e.editorModel.constants.UBP_FIELDS.ConsumptionRateFields).map((function(t){return{fieldPath:e.editorModel.constants.UBP_FIELDS.ConsumptionRateFields[t]}})),r=!1,i=yb(t.lineItems);try{var a=function(){var t=n.value;if(t.record[e.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){var i=e._getLineOrProdId(t.record),a="AppliedUbpChanges_".concat(i,"_").concat(t.key),s=Object(vt.b)(a,["rates"]);s&&Object.keys(s).forEach((function(n){t.ubpChanges||(t.ubpChanges={rates:{}}),t.ubpChanges.rates[n]||(t.ubpChanges.rates[n]={Id:n,attributes:{type:"".concat(e.editorModel.constants.prefix,"QuoteLineConsumptionRate__c")}}),t.ubpChanges.rates[n]=Ce(t.ubpChanges.rates[n]||{},s[n],o),r=!0}))}};for(i.s();!(n=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}r&&(t.record[e.editorModel.constants.CONSUMPTION_RATE_OVERRIDE]=!0)}();var n,r=yb(t.lineItems);try{var i=function(){var t=n.value;t.record[e.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]&&t.ubpChanges&&t.ubpChanges.rates&&Object.keys(t.ubpChanges.rates).forEach((function(e){Object(vt.d)(e,["record"],Object(st.g)(Object(vt.b)(e,["record"])||{},t.ubpChanges.rates[e]))}))};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}},{key:"_clearAppliedUbpChanges",value:function(){var t=this;o.a.isManualEditsForUBPEnabled&&this.quoteEditorModelResponse&&this.quoteEditorModelResponse.quote&&this.quoteEditorModelResponse.quote.lineItems&&this.quoteEditorModelResponse.quote.lineItems.forEach((function(e){var n=t._getLineOrProdId(e.record),o="AppliedUbpChanges_".concat(n,"_").concat(e.key);Object(vt.a)(o)}))}},{key:"_navigateToLookup",value:function(t){this._resetOnActionSignal(),Object(st.d)(this).errors=null;var e={qId:this.editorModel.quoteModel.quoteVO.record.Id,aId:this.eventDetail.customAction.customActionId};this.eventDetail.model&&this.eventDetail.model.groupKey&&(e.groupKey=this.eventDetail.model.groupKey),i.a.nav("#",e,[t,"lookup"],!1,this)}},{key:"_retrieveKeysOfSelected",value:function(){for(var t=[],e=this.editorModel.quoteModel.lineGroups,n=0,o=e.length;n<o;n++){for(var r=e[n].standardLines,i=0,a=e[n].standardLines.length;i<a;i++)r[i].selected&&r[i].removable&&t.push(r[i].lineVO.key);for(var s=e[n].segmentedLines,l=0,c=s.length;l<c;l++)if(s[l].selected&&s[l].removable)for(var u=s[l].segments,d=0,p=u.length;d<p;d++)t.push(u[d].lineVO.key)}return t}},{key:"_getAllRelatedKeys",value:function(t,e){var n=this,o=new Set;return t.forEach((function(t){if(t){var r=n.editorModel.quoteModel.lineModelsByKey[t],i=n.editorModel.quoteModel.linesByParentItemKey[t];if(i){for(var a=new Set,s=0;s<i.length;s++)a.add(i[s].lineVO.key);var l=n._getAllRelatedKeys(a,e);o=new Set([].concat(bb(o),bb(a),bb(l)))}else e&&r.segmented&&r.segments&&r.segments.forEach((function(t){o.add(t.lineVO.key)}))}})),o}},{key:"_addGroup",value:function(t){var e=this.editorModel.constants,n=this.editorModel.quoteModel,o=!1,i=!1;if(t){var a=this.editorModel.quoteModel.groupsByKey[t.key];o=a.standardSubscriptionScopeEditable,i=a.segmentedSubscriptionScopeEditable}else{var s=this._createGroupRecord(n);s.Name="Group".concat(n.lineGroups.length+1),t={record:s,multiSegmentColumns:{},localizedMultiSegmentColumns:{}}}"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(t.record),(t=JSON.parse(JSON.stringify(t))).key=n.quoteVO.nextGroupKey,n.quoteVO.nextGroupKey++,t.record.Id=void 0;var l=new Tt(t,n);l.standardSubscriptionScopeEditable=o,l.segmentedSubscriptionScopeEditable=i,n.quoteVO.lineItemGroups.push(t),n.groupsByKey[l.groupVO.key]=l;var c=n.indexByGroupKey;c[l.groupVO.key]={index:Object.keys(c).length,indexByLineKey:{},indexBySegmentKey:{}},Object(st.d)(this).push("groupModels",l);for(var u=0;u<n.quoteVO.lineItemGroups.length;u++)n.quoteVO.lineItemGroups[u].record[e.NUMBER_FIELD]=u+1;Object(st.d)(this).rightSideButton=n.lineGroups.length>1&&this.editorModel.quoteModel.grouped,Object(st.d)(this).notifyPath("editorModel.quoteModel.lineGroups.length",this.editorModel.quoteModel.lineGroups.length),n.lineGroups.length==e.PANEL_ADDED_INDEX?Object(r.c)(r.a.GROUP_PANEL_CREATED,{groupKey:l.groupVO.key}):Object(r.c)(r.a.BUILD_LAYOUT,{group:l}),this.editorModel.largeQuoteExperienceEnabled&&Object(r.c)(r.a.GROUP_ADDED,{groupKey:l.groupVO.key}),Object(st.d)(this).quoteHasNoLines()}},{key:"_createGroupRecord",value:function(t){var e={},n=this.editorModel.constants;return e[n.QUOTE_PROCESS_FIELD]=this.editorModel.data.defaultQuoteProcessId,e[n.ACCOUNT_FIELD]=t.quoteVO.record[n.ACCOUNT_FIELD],e[n.ACCOUNT_ID_FIELD]=t.quoteVO.record[n.ACCOUNT_ID_FIELD],e.attributes={type:"".concat(this.prefix,"QuoteLineGroup__c")},e}},{key:"_extendSolutionGroupRecord",value:function(t){t.Name=this.eventDetail.customAction.record.Name,t[this.editorModel.constants.DESCRIPTION_FIELD]=this.eventDetail.customAction.record[this.editorModel.constants.DESCRIPTION_FIELD],t[this.editorModel.constants.SOLUTION_GROUP_ID_FIELD]=this.eventDetail.customAction.record.Id}},{key:"_openDialog",value:function(t){var e=this.$[t];if("Line"===this.eventDetail.customAction.location)e.favoritedLine=this.eventDetail.model.serviceModel.keys;else{var n=[].concat(this.eventDetail.model.standardLines).concat(this.eventDetail.model.segmentedLines);if(0===n.length)return void(Object(st.d)(this).errors=[o.a.properties.i18n.value().l("Please select a group with one or more lines to favorite.")]);e.favoritedGroup=this.eventDetail.model.groupKey,e.groupLines=n}e.$.dialog.toggle()}},{key:"_openPricingGuidanceDialog",value:function(t){var e=this.$[t],n=this.eventDetail.model.lineVO,o=this.editorModel.md.fieldLabelsMap[this.editorModel.constants.QUOTE_LINE],r=[],i=this.data.lineFieldNames,a=!1,s=!1,l={},c={},u=!1,d=[],p=this.eventDetail.model;if(n.quoteLinePricingGuidance&&n.quoteLinePricingGuidance.record){e.pricingGuidanceRecord=n.quoteLinePricingGuidance.record;var h={type:"percent",scale:2};if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_TARGET]){var f=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_TARGET],b=te.a.formatFieldData(p,f,h,n.record);this.pushPricingGuidanceValueToArray(r,"Target",b),a=!0,s=!0}if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_NORM]){var y=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_NORM],g=te.a.formatFieldData(p,y,h,n.record);this.pushPricingGuidanceValueToArray(r,"Norm",g),s=!0}if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_FLOOR]){var v=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_FLOOR],m=te.a.formatFieldData(p,v,h,n.record);this.pushPricingGuidanceValueToArray(r,"Floor",m),s=!0}if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_EXPLANATION]){var _=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_EXPLANATION];this.pushPricingGuidanceValueToArray(r,"Explanation",_),s=!0}e.pricingGuidanceArray=r}s||(l={errorMessage:[Object(st.d)(this).i18n.l("PricingGuidanceNotAvailable")]});var w=re.prepareSingleLineData(p,0,i,this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName]);if(i)for(var O=0,k=Object.values(i);O<k.length;O++){var x=k[O];d.push({key:o[x],value:w[x]}),c[x]=o[x]}this.editorModel.deviceContext&&this.editorModel.deviceContext.isMobile&&(u=!0),e.pricingGuidanceRecord=l,e.isPricingGuidanceAvailable=s,e.lineVO=n,e.isPricingRecommendationAvailable=a,e.isMobileDevice=u,e.quoteLineObjectArray=d,e.$.dialog.toggle();for(var S=n.record,C=this.data.developerPrefix,E=C+"IsViewed__c",P=C+"Product__c",T=S[P],I=this.eventDetail.model.groupModel.quoteVO.lineItems,j=0;j<I.length;j++)I[j].record[P]==T&&I[j].quoteLinePricingGuidance&&(I[j].quoteLinePricingGuidance.record[E]=!0);var B=this.eventDetail.model.groupModel.quoteModel.quoteVO.record.Id;(new De).log(B,Me,JSON.stringify({pricingGuidanceAction:"Viewed",quoteLineId:S.Id}))}},{key:"pushPricingGuidanceValueToArray",value:function(t,e,n){var o=Object(st.d)(this).i18n.l(e);t.push({name:e,value:n,displayName:o})}},{key:"prefix",get:function(){if(void 0!==this.app)return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"sortLines",value:function(t,e){var n=t.lineSortField;return!(!t.lineSortField||n==this.editorModel.constants.NUMBER_FIELD||(Object(r.c)(r.a.SORT_LINES_REQUIRED,{lineSortField:n,notify:e}),0))}},{key:"_resetOnActionSignal",value:function(){Object(r.c)(r.a.RESET_ON_ACTION)}},{key:"_getDomHost",value:function(){return Object(st.d)(this)}},{key:"_getViewport",value:function(){return _t.a.getViewport()}},{key:"_getLineOrProdId",value:function(t){return t.Id||t[this.editorModel.constants.SOURCE_FIELD]||t[this.editorModel.constants.PRODUCT]}}])&&_b(e.prototype,n),a&&_b(e,a),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(Le.a)(Object(Ae.a)(Qe.a)));customElements.define(Eb.is,Eb);var Pb=n(87),Tb=n(80);function Ib(t){return(Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jb(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bb(t,e){return(Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ab(t);if(e){var r=Ab(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Db(this,n)}}function Db(t,e){if(e&&("object"===Ib(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ab(t){return(Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}(i,t);var e,n,o,r=Mb(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this)).metadata=t,n.options=e||{},n}return e=i,(n=[{key:"generateRow",value:function(t){for(var e="",n=this.getColumnWidths(),o=this.getColumnWidthUnit(),r=0;r<t.length;r++)e+='<div tabindex="0" '.concat(this.getAttributes(t[r])),n&&n[t[r]]&&(e+="px"===o?' style="min-width:'.concat(n[t[r]],"px;max-width:").concat(n[t[r]],'px"'):' style="width:'.concat(n[t[r]]).concat(o,'"')),e+=' index="'.concat(r,'" field="').concat(t[r],'" >'),e+='<div class="r">',e+=this.generateInnerFieldTemplate(t[r],this.metadata[r]),e+="</div>",e+="</div>";return e}},{key:"getColumnWidths",value:function(){return this.options.columnWidths||{}}},{key:"getColumnWidthUnit",value:function(){return this.options.columnWidthUnit||"px"}},{key:"getAttributes",value:function(t){return(this.options.attributes||"").replace(/\$field/g,t)}}])&&jb(e.prototype,n),o&&jb(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(ut),Lb=n(66),qb=n(103);function Fb(t){return function(t){if(Array.isArray(t))return Nb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Hb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zb(Object(n),!0).forEach((function(e){Ub(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ub(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vb,Wb,Qb,Gb=function(t){var e=parseInt(t,10);return e.toString()===t.toString()&&e>=0},$b=function(t,e,n){var o=[];Vb=n;var r=e.UBP_FIELDS.ConsumptionRateFields;return Object.keys(t).forEach((function(e){var n=t[e].sort(function(t){return function(e,n){return e[t.ProcessingOrder]>n[t.ProcessingOrder]||e[t.ProcessingOrder]===n[t.ProcessingOrder]&&e[t.LowerBound]>n[t.LowerBound]?1:-1}}(r));n.forEach((function(t,i){var a=i+1,s=n.length<=a?null:n[a];o=[].concat(Fb(o),Fb(function(t,e,n){var o=[],r={scheduleId:t,rateId:e.Id};return null==e[n.Price]&&o.push(Hb(Hb({},r),{},{errorMsg:Vb.msg_missing_rate_field})),null==e[n.ProcessingOrder]&&o.push(Hb(Hb({},r),{},{errorMsg:Vb.msg_missing_rate_field})),null==e[n.LowerBound]&&o.push(Hb(Hb({},r),{},{errorMsg:Vb.msg_missing_rate_field})),o}(e,t,r)),Fb(function(t,e,n){if(null!=e[n.Price]){var o="";if("number"!=typeof e[n.Price])o=Vb.msg_rate_price_not_a_number;else parseInt(e[n.Price],10)<0&&(o=Vb.msg_rate_price_is_negative);if(""!==o)return[{scheduleId:t,rateId:e.Id,ratePrice:e[n.Price],errorMsg:o}]}return[]}(e,t,r)),Fb(function(t,e,n){var o=e[n.LowerBound],r=e[n.UpperBound],i="";return null!=o&&!Gb(o)||null!=r&&!Gb(r)?i=Vb.msg_bound_fields_must_be_positive:null!=o&&null!=r&&parseInt(o,10)>=parseInt(r,10)&&(i=Vb.msg_lower_bound_greater_than_upper_bound),""!==i?[{scheduleId:t,rateId:e.Id,lowerBound:o,upperBound:r,errorMsg:i}]:[]}(e,t,r)),Fb(function(t,e,n,o){if(null!=n&&null!=e[o.ProcessingOrder]&&null!=n[o.ProcessingOrder]){var r=parseInt(e[o.ProcessingOrder],10);if(r===parseInt(n[o.ProcessingOrder],10))return[{scheduleId:t,processingOrder:r,errorMsg:Vb.msg_duplicate_rate_processing_order}]}return[]}(e,t,s,r)),Fb(function(t,e,n,o){if(null!==n&&null!=e[o.UpperBound]&&null!=n[o.LowerBound]){var r=parseInt(e[o.UpperBound],10),i=parseInt(n[o.LowerBound],10)-r;if(i>0)return[{scheduleId:t,errorMsg:Vb.msg_gaps_between_rates_bounds}];if(i<0)return[{scheduleId:t,errorMsg:Vb.msg_overlap_between_rates_bounds}]}return[]}(e,t,s,r)),Fb(function(t,e,n,o){return n||null!=e[o.UpperBound]?[]:[{scheduleId:t,rateId:e.Id,errorMsg:Vb.msg_lesser_rate_has_null_upper_bound}]}(e,t,a===n.length,r)))}))})),o},Kb=(n(128),n(106));
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Object(Je.a)({_template:Object(ze.a)(Wb||(Wb=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n\n    <slot></slot>\n"]))),is:"iron-scroll-threshold",properties:{upperThreshold:{type:Number,value:100},lowerThreshold:{type:Number,value:100},upperTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},lowerTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},horizontal:{type:Boolean,value:!1}},behaviors:[Kb.a],observers:["_setOverflow(scrollTarget)","_initCheck(horizontal, isAttached)"],get _defaultScrollTarget(){return this},_setOverflow:function(t){this.style.overflow=t===this?"auto":"",this.style.webkitOverflowScrolling=t===this?"touch":""},_scrollHandler:function(){this.isDebouncerActive("_checkTheshold")||this.debounce("_checkTheshold",(function(){this.checkScrollThresholds()}),200)},_initCheck:function(t,e){e&&this.debounce("_init",(function(){this.clearTriggers(),this.checkScrollThresholds()}))},checkScrollThresholds:function(){if(!(!this.scrollTarget||this.lowerTriggered&&this.upperTriggered)){var t=this.horizontal?this._scrollLeft:this._scrollTop,e=this.horizontal?this.scrollTarget.scrollWidth-this._scrollTargetWidth-this._scrollLeft:this.scrollTarget.scrollHeight-this._scrollTargetHeight-this._scrollTop;t<=this.upperThreshold&&!this.upperTriggered&&(this._setUpperTriggered(!0),this.fire("upper-threshold")),e<=this.lowerThreshold&&!this.lowerTriggered&&(this._setLowerTriggered(!0),this.fire("lower-threshold"))}},checkScrollThesholds:function(){this.checkScrollThresholds()},clearTriggers:function(){this._setUpperTriggered(!1),this._setLowerTriggered(!1)}});var Yb,Xb=Object(ze.b)(Qb||(Qb=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: table-row;\n  background-color: var(--sbTableHeaderBgColor);\n  color: var(--sbTableHeaderColor);\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbTableHeaderBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n}\n:host #content {\n  position: relative;\n}\n:host .th {\n  display: table-cell;\n  height: 32px;\n  padding-top: 2px;\n  padding-right: 18px;\n  padding-bottom: 0px;\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  text-transform: uppercase;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n}\n:host .sortable {\n  cursor: pointer;\n}\n:host .sortable:hover {\n  color: var(--sbIconColor);\n}\n:host .column-selected {\n  color: var(--sbIconColor);\n}\n:host .th.itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host .rightAligned {\n  text-align: right;\n}\n:host .centerAligned {\n  text-align: center;\n}\n:host .leftAligned {\n  text-align: left;\n}\n:host .hidden {\n  display: none;\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .sf-icon-arrowup,\n:host .sf-icon-arrowdown {\n  color: var(--sbIconColor);\n  font-size: 13px;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .sf-icon-arrowup::before,\n:host .sf-icon-arrowdown::before {\n  vertical-align: center;\n}\n:host .arrow-on-hover > i {\n  display: none;\n}\n:host .arrow-on-hover:hover > i {\n  display: inline;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .col-adj-bar {\n  position: absolute;\n  padding: 16px 0 16px 0;\n  cursor: col-resize;\n  top: 0;\n  right: 0;\n  width: 1px;\n  height: inherit;\n  background-color: #d8dde6;\n}\n:host .th:hover .col-adj-bar {\n  width: 4px;\n  background-color: #706e6b;\n}\n:host .th:hover .col-adj-bar:hover {\n  background-color: var(--sbIconColor);\n}\n:host #col-resize-indicator {\n  background-color: var(--sbIconColor);\n  width: 4px;\n  height: 32px;\n  position: absolute;\n  cursor: col-resize;\n  top: 0;\n  visibility: hidden;\n  display: block;\n  z-index: 99999;\n}\n:host #col-resize-indicator #col-adj-divider {\n  background-color: var(--sbIconColor);\n  height: 70vh;\n  width: 1px;\n  float: right;\n  z-index: 99999;\n}\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n:host {\n  display: flex;\n}\n:host .th {\n  display: inline-block;\n  padding-top: 8px;\n}\n:host #content {\n  width: 100%;\n  display: table;\n}\n'])));function Jb(t){return(Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zb(Object(n),!0).forEach((function(e){ey(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ey(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ny(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oy(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ry(){return(ry="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=iy(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function iy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cy(t)););return t}function ay(t,e){return(ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=cy(t);if(e){var r=cy(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ly(this,n)}}function ly(t,e){if(e&&("object"===Jb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cy(t){return(cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ay(t,e)}(a,t);var e,n,o,i=sy(a);function a(){return ny(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sf-table-header"}},{key:"properties",get:function(){return ty(ty({fieldLabels:Object,fields:Object,options:{type:Object,value:{}},eventListeners:{type:Object,value:{click:"onTap",mouseover:"onHover"}}},da.properties),_a.properties)}},{key:"observers",get:function(){return["_initObserver(fields, fieldLabels, options)"]}},{key:"template",get:function(){return Object(Qe.b)(Yb||(Yb=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-icons-styles"></style>\n       \t\t<div id="content">\n       \t\t</div>\n\t\t'])),Xb)}}],(n=[{key:"connectedCallback",value:function(){ry(cy(a.prototype),"connectedCallback",this)&&ry(cy(a.prototype),"connectedCallback",this).call(this),Object(r.b)(this,this.eventListeners)}},{key:"disconnectedCallback",value:function(){ry(cy(a.prototype),"disconnectedCallback",this)&&ry(cy(a.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,this.eventListeners)}},{key:"_initObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._init(t,e,n)}},{key:"_init",value:function(t,e){this.templateHTML=new zr(this.options).generate(t),this.uiData=e}},{key:"getContentNode",value:function(){return this.shadowRoot.querySelector("#content")}},{key:"isTemplatizeWithRootDivNode",value:function(){return!1}},{key:"getTooltipContent",value:function(t){return Object(st.h)(this.uiData,t.split("."))||""}}])&&oy(e.prototype,n),o&&oy(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Mn.a)(da(_a(Qe.a))));function dy(t){return(dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function py(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hy(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fy(t,e){return(fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function by(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=gy(t);if(e){var r=gy(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return yy(this,n)}}function yy(t,e){if(e&&("object"===dy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gy(t){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(uy.is,uy);var vy,my=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fy(t,e)}(a,t);var e,n,o,i=by(a);function a(){return py(this,a),i.apply(this,arguments)}return e=a,o=[{key:"getInstance",value:function(){return this._instance||(this._instance=new a),this._instance}}],(n=[{key:"initListeners",value:function(t){Object(r.b)(t,{mouseover:"onHovered",mouseout:"onUnhovered"})}}])&&hy(e.prototype,n),o&&hy(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(vs);var _y,wy=Object(ze.b)(vy||(vy=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  width: 24rem;\n  background-color: #F0F0F0;\n  display: inline-block;\n  border-radius: 0.25rem;\n}\n:host div.title {\n  margin-top: 0.5rem;\n}\n:host div.title span {\n  font-size: 1rem;\n}\n:host div.title .headerIcon {\n  display: inline-block;\n  padding: 0.25rem;\n  margin: 0.5rem 0.5rem 0.125rem 1rem;\n  background-color: #65B766;\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: 1.5rem;\n  border-radius: 4px;\n}\n:host ul.dataList {\n  width: 100%;\n  margin: 1rem;\n}\n:host ul.dataList li {\n  width: 50%;\n  float: left;\n  padding-right: .25rem;\n  padding-bottom: .5rem;\n}\n:host ul.dataList li:last-child {\n  margin-bottom: 1rem;\n}\n:host ul.dataList li div {\n  overflow: hidden;\n  -ms-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  line-height: 1.25;\n}\n:host ul.dataList li div.body {\n  font-weight: bold;\n}\n:host ul.dataList li div.dirty {\n  color: #F88962;\n}\n'])));function Oy(t){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function xy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cy(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ey(t,e){return(Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Py(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Iy(t);if(e){var r=Iy(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ty(this,n)}}function Ty(t,e){if(e&&("object"===Oy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jy,By=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}(i,t);var e,n,o,r=Py(i);function i(){return Sy(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sf-preview-panel"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ky(Object(n),!0).forEach((function(e){xy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({iconClass:String,title:String,data:{type:Array,observer:"_dataChanged"},metadata:{type:Object,observer:"_dataChanged"},templateOptions:Object,additionalUIData:Object},da.properties)}},{key:"template",get:function(){return Object(Qe.b)(_y||(_y=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div class="title">\n\t\t\t\t<i class$="headerIcon [[iconClass]]"></i><span>[[title]]</span>\n\t\t\t</div>\n\t\t\t<ul class="dataList"></ul>\n\t\t'])),wy)}}],(n=[{key:"_dataChanged",value:function(){var t=this;if(this.data&&this.metadata){var e=Object.keys(this.metadata),n=Object.keys(this.metadata).reduce((function(e,n){return e[n]=t.metadata[n].label,e}),{});this.templateHTML=new gt(this.metadata,this.templateOptions).generate(e,n);var o=Object.keys(this.metadata).reduce((function(e,n){var o=t.data.find((function(t){return t.field===n})),r=o?o.value:"";return e[n]=te.a.formatFieldData(null,r,t.metadata[n],t.data),e}),{});this.additionalUIData&&(o=Object.assign(o,this.additionalUIData)),this.uiData=o}}},{key:"getContentNode",value:function(){return this.shadowRoot.querySelector(".dataList")}},{key:"isTemplatizeWithRootDivNode",value:function(){return!1}}])&&Cy(e.prototype,n),o&&Cy(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(da(Qe.a));customElements.define(By.is,By);var My,Dy=Object(ze.b)(jy||(jy=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .content {\n  width: 100%;\n  display: table;\n}\n:host .content.inlineEditable.show .container:not(.editable):hover.right div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).right div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover.center div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).center div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .content.inlineEditable.tr.show .container.editable span.pencil:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .content.inlineEditable.tr.show .container.editable.right div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable.center div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .content.inlineEditable .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: .25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n:host .content.inlineEditable .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n:host .content.inlineEditable .container:not(.editable).right div.r:before,\n:host .content.inlineEditable .container:not(.editable).center div.r:before,\n:host .content.inlineEditable .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: \'\\e874\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .content.inlineEditable .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .content.inlineEditable .container.editable span.pencil:after {\n  content: \'\\e847\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .td {\n  display: inline-block;\n  padding-top: calc(0.3rem + 2px);\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-right: 6px;\n  padding-bottom: 0.3rem;\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .td div.r {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n:host .td[field="ConsumptionSchedule.Name"] div.r,\n:host .td[field="QuoteLineConsumptionSchedule__r.Name"] div.r,\n:host .td[field="SBQQ__QuoteLineConsumptionSchedule__r.Name"] div.r {\n  cursor: pointer;\n  color: #166bbf;\n}\n:host paper-tooltip #tooltip {\n  padding: 0px;\n}\n:host .dirty {\n  color: #F88962;\n}\n'],['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .content {\n  width: 100%;\n  display: table;\n}\n:host .content.inlineEditable.show .container:not(.editable):hover.right div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).right div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover.center div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).center div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .content.inlineEditable.tr.show .container.editable span.pencil:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .content.inlineEditable.tr.show .container.editable.right div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable.center div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .content.inlineEditable .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: .25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n:host .content.inlineEditable .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n:host .content.inlineEditable .container:not(.editable).right div.r:before,\n:host .content.inlineEditable .container:not(.editable).center div.r:before,\n:host .content.inlineEditable .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: \'\\\\e874\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .content.inlineEditable .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .content.inlineEditable .container.editable span.pencil:after {\n  content: \'\\\\e847\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .td {\n  display: inline-block;\n  padding-top: calc(0.3rem + 2px);\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-right: 6px;\n  padding-bottom: 0.3rem;\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .td div.r {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n:host .td[field="ConsumptionSchedule.Name"] div.r,\n:host .td[field="QuoteLineConsumptionSchedule__r.Name"] div.r,\n:host .td[field="SBQQ__QuoteLineConsumptionSchedule__r.Name"] div.r {\n  cursor: pointer;\n  color: #166bbf;\n}\n:host paper-tooltip #tooltip {\n  padding: 0px;\n}\n:host .dirty {\n  color: #F88962;\n}\n'])));function Ay(t){return(Ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ly(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qy(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Fy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ny(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function zy(){return(zy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Hy(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Hy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gy(t)););return t}function Uy(t,e){return(Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Gy(t);if(e){var r=Gy(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Wy(this,n)}}function Wy(t,e){if(e&&("object"===Ay(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qy(t)}function Qy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gy(t){return(Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $y,Ky=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}(s,t);var e,n,i,a=Vy(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this))._deviceDelegate=my.getInstance(),t._deviceDelegate.initListeners(Qy(t)),t}return e=s,i=[{key:"is",get:function(){return"ubp-rate-row"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ry(Object(n),!0).forEach((function(e){Ly(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({categoryId:String,rateId:String,unsavedUbpChanges:{type:Object,observing:{id:"UnsavedUbpChanges",path:[]}},inlineEditChanges:{type:Object,observing:{id:"UbpInlineEditChanges",path:["rates"]}},inlineEditedCategories:Array,rateRecord:{type:Object,observing:{idProperty:"rateId",path:["record"]}},dataIndex:{type:Number,reflectToAttribute:!0},fields:Array,isDirty:Boolean,eventListeners:{type:Object,value:{click:"onTap",change:"onChange"}}},da.properties)}},{key:"observers",get:function(){return["_updateUiDataObserver(rateRecord, fields, rateId, unsavedUbpChanges)","_inlineEditedCategoriesChanged(inlineEditedCategories.splices)"]}},{key:"template",get:function(){return Object(Qe.b)(My||(My=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles sb-icons-styles "></style>\n\t\t\t<div class$="content tr {{computeClasses()}}"></div>\n\t\t'])),Dy)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.UBP_ROW_REFRESH]=this._refreshRow,t}},{key:"connectedCallback",value:function(){zy(Gy(s.prototype),"connectedCallback",this)&&zy(Gy(s.prototype),"connectedCallback",this).call(this),Object(r.b)(this,this.eventListeners)}},{key:"disconnectedCallback",value:function(){zy(Gy(s.prototype),"disconnectedCallback",this)&&zy(Gy(s.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,this.eventListeners)}},{key:"getContentNode",value:function(){return this.shadowRoot.querySelector("div.content")}},{key:"postPopulateContent",value:function(){var t=this;Object(qe.a)(this,(function(){t.dispatchEvent(Object(r.d)("rate-row-rendered"))})),this._resetPencilLoaded(),this._refreshDirtyIndicators()}},{key:"hook_onHovered",value:function(t){var e=this.findCell(t);e&&e.getAttribute("field")==="".concat(at.a.constants.UBP_FIELDS.ConsumptionSchedule,".Name")&&(this.showTooltip=!0,this._displayPreviewTooltip(e)),this._handleEditableCellsHover()}},{key:"hook_onUnhovered",value:function(t){var e=this.findCell(t);e&&e.getAttribute("field")==="".concat(at.a.constants.UBP_FIELDS.ConsumptionSchedule,".Name")&&(this.showTooltip=!1,this.dispatchEvent(Object(r.d)("toggle-tooltip",{show:!1})))}},{key:"findCell",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return t.composedPath().find((function(t){var n=t.classList;return n&&n.contains(e)}))}},{key:"_mapToMasterUbpChanges",value:function(t,e){return e&&(t=st.a.deepClone(t),e.forEach((function(e){t[e.fieldPath]=t["".concat(at.a.constants.prefix).concat(e.fieldPath,"__c")]}))),t}},{key:"_displayPreviewTooltip",value:function(t){var e,n,o=this;if(this._previewPanel)this.dispatchEvent(Object(r.d)("toggle-tooltip",{target:t,content:this._rateCardPreview,show:!0}));else{var i=document.createElement("sf-preview-panel"),a=(e=this.rateId,n=["record"],Object(vt.b)(e,n)),s=a[at.a.constants.UBP_FIELDS.ConsumptionScheduleId];be(this.categoryId,["rateCardFields"],(function(){return fe(s)})).then((function(e){var n=e.reduce((function(t,e){return t[e.fieldPath]={type:e.type,label:e.label},t}),{});be(s,["record"],(function(){return fe(s)})).then((function(l){var c={};if(o.unsavedUbpChanges&&o.unsavedUbpChanges.schedules&&o.unsavedUbpChanges.schedules[s]){var u=o.unsavedUbpChanges.schedules[s];l.attributes&&"ConsumptionSchedule"===l.attributes.type&&(u=o._mapToMasterUbpChanges(o.unsavedUbpChanges.schedules[s],e));var d=Ce(l,u,e);Object.keys(n).forEach((function(t){st.a.deepEquals(d[t],l[t])||(c[t]="dirty")})),l=d}var p=[];Object.keys(l).forEach((function(t){p.push({field:t,value:l[t]})})),i.additionalUIData={_cellClasses:c},i.templateOptions={attributes:'class$="truncate body {{_cellClasses.$field}}"'},i.data=p,i.metadata=n,i.title=Object(st.h)(a,"".concat(at.a.constants.UBP_FIELDS.ConsumptionSchedule,".Name").split(".")),i.iconClass="sf-icon-paired-lines",o._rateCardPreview=i,o.showTooltip&&o.dispatchEvent(Object(r.d)("toggle-tooltip",{target:t,content:i,show:!0}))}))}))}}},{key:"_updateUiDataObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this._updateUiData(t,e,n,o)}},{key:"_updateUiData",value:function(t,e,n,o){var r=this._computeUnsavedEditForRate(n,o),i=r?Ce(t,r,e):t;this.uiData=this._formatUiData(i,e,n,r)}},{key:"commitInlineEdit",value:function(t,e){this.inlineEditChanges[this.rateId]=this.inlineEditChanges[this.rateId]||{},this.inlineEditChanges[this.rateId][t]=e,this.dispatchEvent(Object(r.d)("inline-edit-commit"))}},{key:"_getInlineEditChangesForRate",value:function(t){return this.inlineEditChanges&&this.inlineEditChanges[t]||{}}},{key:"_formatUiData",value:function(t,e,n,r){var i,a={},s=qy(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.fieldPath.split(".");o.a.org.isMultiCurrencyOrg&&"currency"===l.type&&!l.CurrencyIsoCode&&(l.CurrencyIsoCode=Object(vt.b)(Object(vt.b)("UBPClientState",["quoteLineOrProdId"]),["record","CurrencyIsoCode"]));var u=te.a.formatFieldData(null,Object(st.h)(t,c),l,t);Object(st.i)(a,c,u)}}catch(t){s.e(t)}finally{s.f()}return a.rateId=n,a.unsavedEdits=r,a}},{key:"_computeUnsavedEditForRate",value:function(t,e){var n={},o=Object(vt.b)(t,["record"]);if(o){if(e){var r=o[at.a.constants.UBP_FIELDS.ConsumptionScheduleId];if(r&&e.schedules&&e.schedules[r]){var i=e.schedules[r];Object.keys(i).forEach((function(t){"Id"!==t&&"attributes"!==t&&(n["".concat(at.a.constants.UBP_FIELDS.ConsumptionSchedule,".").concat(t)]=i[t])}))}}this.appliedChanges&&this.appliedChanges[t]?n=Ce(n,this.appliedChanges[t],this.fields):e&&e.rates&&e.rates[t]&&(n=Ce(n,e.rates[t],this.fields)),this.inlineEditChanges&&(n=Ce(n,this._getInlineEditChangesForRate(t),this.fields))}return n}},{key:"appliedChanges",get:function(){var t=Object(vt.b)("UBPClientState"),e="AppliedUbpChanges_".concat(t.quoteLineOrProdId,"_").concat(t.lineKey);return Object(vt.b)(e,["rates"])}},{key:"computeClasses",value:function(){return o.a.isManualEditsForUBPEnabled?"inlineEditable":""}},{key:"getCellClass",value:function(){return"sf-ubp-table-cell"}},{key:"_getFieldMetadataForInlineEdit",value:function(t){return this.fields.find((function(e){return e.fieldPath===t}))}},{key:"_getFieldMetadata",value:function(t){return this._getFieldMetadataForInlineEdit(t)}},{key:"toggleInlineEditForDeviceDelegate",value:function(t,e,n,o){this._deviceDelegate.toggleInlineEdit(t,e,n,o,this)}},{key:"toggleCellClass",value:function(t,e,n,o){Object(st.m)(t,e,n)}},{key:"_getEditField",value:function(t,e){return Fa.getFieldComponent(t,null,e,this._getRecord())}},{key:"_getOriginalRecord",value:function(){return this.appliedChanges&&this.appliedChanges[this.rateId]?Ce(this.rateRecord,this.appliedChanges[this.rateId],this.fields):this.rateRecord}},{key:"_isEditable",value:function(t){return at.a.isUbpFieldInlineEditable(t,Object(vt.b)("ConsumptionRateMetadata",["rateEditable"]))}},{key:"_getRecord",value:function(){var t=this._computeUnsavedEditForRate(this.rateId,this.unsavedUbpChanges);return Ce(this.rateRecord,t,this.fields)}},{key:"checkIsDirty",value:function(t,e,n){return t!==e[n]}},{key:"_formatNewValue",value:function(t,e){var n=this._computeUnsavedEditForRate(this.rateId,this.unsavedUbpChanges),o=te.a.formatFieldData(null,n[t],e,this.rateRecord);return this._restampField(t,o),n[t]}},{key:"_inlineEditedCategoriesChanged",value:function(t){var e=this;t&&t.indexSplices&&t.indexSplices.forEach((function(t){if(t.removed){var n,o=!1,r=qy(t.removed);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=Object(vt.b)(i,["orderedRates"]);if(a&&a.indexOf(e.rateId)>-1){o=!0;break}}}catch(t){r.e(t)}finally{r.f()}o&&e._updateUiData(e.rateRecord,e.fields,e.rateId,e.unsavedUbpChanges)}}))}},{key:"onKeyDown",value:function(t){this._deviceDelegate.onKeyDown(t,this)}},{key:"_refreshRow",value:function(t){t&&t.detail&&t.detail.id===this.rateId&&this._updateUiData(this.rateRecord,this.fields,this.rateId,this.unsavedUbpChanges)}}])&&Ny(e.prototype,n),i&&Ny(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(Pb.a)(ls(Ya(Object(Re.a)(da(Qe.a))))));customElements.define(Ky.is,Ky);var Yy,Xy=Object(ze.b)($y||($y=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  overflow: auto;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  --paper-tooltip-duration-in: 0;\n}\n:host .rateCardPreview {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .fixed {\n  padding-top: 3px;\n  padding-right: 32px;\n  float: right;\n}\n:host .fixed > paper-button {\n  padding-left: 32px;\n  padding-right: 32px;\n}\n:host .tbody {\n  flex: 1;\n}\n:host sf-table-header {\n  padding: 0 0 0 1.3rem;\n}\n:host .sb-icon-search {\n  right: 1rem;\n  bottom: 0.1rem;\n}\n:host .sb-icon-clear {\n  cursor: pointer;\n  border: none;\n  position: relative;\n  right: 1.75rem;\n}\n:host .leftSearchIcon {\n  position: absolute;\n  margin: 0.5rem 0 0 0.75rem;\n}\n:host #searchBar {\n  padding-top: 3rem;\n  padding-bottom: 1.0rem;\n  padding-left: 1.5rem;\n  background-color: #fafafa;\n}\n:host #searchRateInput {\n  width: 28rem;\n  height: 2.2rem;\n  padding-left: 2rem;\n}\n:host .searchResultDesc {\n  margin: 0.28rem 0 0 0.56rem;\n}\n:host .noSearchResults {\n  margin-left: 2rem;\n  margin-top: 2rem;\n}\n:host .ubpSearchMessage {\n  height: 1.25rem;\n}\n:host .rateRow {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n  padding: 0 0 0 1.3rem;\n  /* has to match sf-table-header */\n}\n'])));function Jy(t){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zy(Object(n),!0).forEach((function(e){eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ng(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||og(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function og(t,e){if(t){if("string"==typeof t)return rg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rg(t,e):void 0}}function rg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ig(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ag(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function sg(){return(sg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=lg(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function lg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pg(t)););return t}function cg(t,e){return(cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ug(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=pg(t);if(e){var r=pg(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return dg(this,n)}}function dg(t,e){if(e&&("object"===Jy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pg(t){return(pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hg,fg=["Description","ConsumptionSchedule.Description"],bg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cg(t,e)}(s,t);var e,n,i,a=ug(s);function s(){return ig(this,s),a.apply(this,arguments)}return e=s,i=[{key:"is",get:function(){return"ubp-rate-table"}},{key:"properties",get:function(){return{clientCacheSearchInput:{type:String,observing:{id:"UBPClientState",path:["searchKeyword"]}},userSearchInput:{type:String,value:null},rowTemplate:{type:Object,computed:"_getRowTemplate(fields)"},categoryId:{type:String,observer:"_categoryIdChanged"},rateIds:{type:Object,observing:{idProperty:"categoryId",path:["orderedRates"]},observer:"_rateIdsChanged"},fields:{type:Object,observing:{idProperty:"categoryId",path:["fields"]}},totalRateCount:{type:Number,observing:{idProperty:"categoryId",path:["rateCount"]},value:0},sortField:{type:String,observing:{idProperty:"categoryId",path:["sortField"]}},sortOrder:{type:String,observing:{idProperty:"categoryId",path:["sortOrder"]}},quoteLineOrProdId:{type:String,observing:{id:"UBPClientState",path:["quoteLineOrProdId"]}},lineKey:{type:Number,observing:{id:"UBPClientState",path:["lineKey"]}},hasInlineEditChanges:{type:Boolean,value:!1},inlineEditedCategories:{type:Array,observing:{id:"UbpInlineEditChanges",path:["categories"]}},lineModel:Object}}},{key:"observers",get:function(){return["_updateHeaderStateObserver(sortField, sortOrder)"]}},{key:"template",get:function(){return Object(Qe.b)(Yy||(Yy=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-icons-styles sb-forms-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div id="searchBar">\n\t\t\t\t<div id="invalidSearch" class="ubpSearchMessage searchResultDesc">\n\t\t\t\t\t<template is="dom-if" if="[[_shouldDisableSearch(userSearchInput)]]">\n\t\t\t\t\t\t<p><sb-i18n key="Your_search_term_must_have_2_or_more_characters">Your search term must have 2 or more characters, excluding  *, ?, (), or \' \'</sb-i18n></p>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t\t<span class="icon leftSearchIcon sf-icon-search"></span>\n\t\t\t\t<iron-input bind-value="{{userSearchInput}}">\n\t\t\t\t\t<input id="searchRateInput" value="{{value::input}}" on-keydown="_onKeyPress" placeholder=[[_getSearchPlaceholder()]]>\t\t\t\t\n\t\t\t\t</iron-input> \n\t\t\t\t<button class="sb-icon-clear sf-icon-clear" on-click="_clear"></button>\n\t\t\t\t<paper-button disabled="[[_shouldDisableSearch(userSearchInput)]]" class="sbPrimaryAction sb-icon-search" noink on-click="_search"></paper-button>\n\t\t\t\t<div class="fixed ubp-edit-buttons" hidden$="[[!_shouldShowManualEditButtons(hasInlineEditChanges)]]">\n\t\t\t\t\t<paper-button id="ubpCancelButton" on-click="_onCancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t\t\t<paper-button id="ubpUpdateButton" on-click="_onUpdate" class="brand-button"><sb-i18n>Update</sb-i18n></paper-button>\n\t\t\t\t</div>\n\t\t\t\t<div id="sortByMessage" class="ubpSearchMessage searchResultDesc">\n\t\t\t\t\t<template is="dom-if" if="[[_shouldShowSortMessage(sortOrder, totalRateCount)]]">\n\t\t\t\t\t\t<p><b>[[_getSortMessage(totalRateCount, sortField, fields)]]</b></p>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<paper-tooltip fit-to-visible-bounds="true" position="top" animation-delay="0" class="rateCardPreview"></paper-tooltip>\n\t\t\t<sf-table-header id="tableHeader" fields="[[_getFieldsFromMetadata(fields)]]"\n\t\t\t\tfield-labels="[[_getFieldLabels(fields)]]" options="[[_getFieldOptions(fields)]]"></sf-table-header>\n\t\t\t<template is="dom-if" if="[[_noSearchResults(totalRateCount)]]">\n\t\t\t\t<p class="noSearchResults"><b><sb-i18n>There are no rates that match your search criteria</sb-i18n></b></p>\n\t\t\t</template>\n\t\t\t<iron-scroll-threshold id="threshold" class="tbody" on-lower-threshold="_loadMore">\n\t\t\t\t<div on-focusout="_onFocusOut" on-keydown="_onKeyDown">\n\t\t\t\t\t<iron-list id="ironList" scroll-target="threshold" as="rateId">\n\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t<div style$="z-index:[[getZIndex(index)]]" class="rateRow">\n\t\t\t\t\t\t\t\t<ubp-rate-row\n\t\t\t\t\t\t\t\t\ttemplate="[[rowTemplate]]"\n\t\t\t\t\t\t\t\t\tcategory-id="[[categoryId]]"\n\t\t\t\t\t\t\t\t\trate-id="[[rateId]]"\n\t\t\t\t\t\t\t\t\tfields="[[fields]]"\n\t\t\t\t\t\t\t\t\tinline-edited-categories="[[inlineEditedCategories]]"\n\t\t\t\t\t\t\t\t\tdata-index="[[index]]">\n\t\t\t\t\t\t\t\t</ubp-rate-row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</iron-list>\n\t\t\t\t</div>\n\t\t\t</iron-scroll-threshold>\n\t\t'])),Xy)}}],(n=[{key:"ready",value:function(){var t=this;sg(pg(s.prototype),"ready",this).call(this),Object.entries({"table-header-sort-clicked":"_onSort","rate-row-rendered":"_resizeIronList","toggle-tooltip":"_toggleTooltip","iron-resize":"_checkThreshold","inline-edit-commit":"_inlineEditCommitted"}).map((function(e){var n=ng(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])}))}},{key:"_categoryIdChanged",value:function(t,e){void 0===t&&e&&(this.rateIds=[],this.totalRateCount=0,this.fields=[]),this.hasInlineEditChanges=this.inlineEditedCategories&&this.inlineEditedCategories.indexOf(this.categoryId)>-1}},{key:"_toggleTooltip",value:function(t){for(var e=this.shadowRoot.querySelector(".rateCardPreview");e.firstChild;)e.removeChild(e.firstChild);t.detail.show?(e._target=t.detail.target,e.appendChild(t.detail.content),e.updatePosition(),e.show()):e.hide()}},{key:"_checkThreshold",value:function(){this.rateIds&&this.rateIds.length!=this.totalRateCount&&this._previousRenderLength!==this.rateIds.length&&(this._previousRenderLength=this.rateIds.length,this.$.threshold.clearTriggers(),this.$.threshold.checkScrollThresholds())}},{key:"_resizeIronList",value:function(){this.shadowRoot.querySelector("iron-list").dispatchEvent(Object(r.d)("iron-resize"))}},{key:"_rateIdsChanged",value:function(t){var e=this.$.ironList._scrollPosition;this.$.ironList.items=t,this.$.ironList._resetScrollPosition(e)}},{key:"_getSortLabel",value:function(t,e){if(t&&e){var n=e.find((function(e){return e.fieldPath===t}));return n?n.label:t==="".concat(at.a.constants.UBP_FIELDS.ConsumptionSchedule,".Name")?Object(o.b)("Consumption Schedule Name"):""}return""}},{key:"_onSort",value:function(t){var e=t.detail,n=e.lineSortField,o=e.order;Object(vt.d)(this.categoryId,[],tg(tg({},Object(vt.b)(this.categoryId,[])),{},{sortField:n,sortOrder:o})),this._loadRates(0)}},{key:"_getFieldLabels",value:function(t){var e,n={},o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=og(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;Object(st.i)(n,r.fieldPath.split("."),r.label)}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"_getFieldOptions",value:function(t){var e=this._getWidthParameters(this._getFieldsFromMetadata(t));return e.isSortable=function(t){return t&&fg.every((function(e){return e!==t}))},e}},{key:"_getWidthParameters",value:function(t){return{columnWidths:this._calcColumnWidths(t),columnWidthUnit:"%"}}},{key:"_getFieldsFromMetadata",value:function(t){return t.map((function(t){return t.fieldPath}))}},{key:"_calcColumnWidths",value:function(t){var e={};return t.length>0&&t.forEach((function(n){e[n]=Math.floor(100/t.length)})),e}},{key:"_getRowTemplate",value:function(t){var e=this._getFieldsFromMetadata(t),n=this._getWidthParameters(e);return n.attributes="class$=\"container sf-ubp-table-cell td focusable ubp-rate-row {{computeCellClasses(rateId, '$field', unsavedEdits)}}\"",new Rb(t,n).generateRowNode(e)}},{key:"_search",value:function(){var t=this.userSearchInput?Tb.a.sanitizeHtmlText(this.userSearchInput):null;return Object(vt.d)("UBPClientState",["searchKeyword"],t),this._loadRates(0)}},{key:"_clear",value:function(){this.set("userSearchInput",""),this._search()}},{key:"_onKeyPress",value:function(t){13!=t.keyCode||this._shouldDisableSearch(this.userSearchInput)||(this._search(),this.$.searchRateInput.blur())}},{key:"_getSearchPlaceholder",value:function(){return Object(o.b)("Search Consumption Schedule Name")}},{key:"_loadMore",value:function(){this._loadRates(this.rateIds?this.rateIds.length:0)}},{key:"_loadRates",value:function(t){he(t)}},{key:"_updateHeaderStateObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.updateHeaderState(t,e)}},{key:"updateHeaderState",value:function(t,e){this.$.tableHeader.setSort(t,e)}},{key:"_noSearchResults",value:function(t){return 0===t}},{key:"_shouldDisableSearch",value:function(t){return!!t&&!/(.*[^*?)( ]){2,}.*/g.test(t)}},{key:"_shouldShowSortMessage",value:function(t,e){return""!==t&&e>0}},{key:"_shouldShowSearchAppliesMessage",value:function(t){return!t}},{key:"_getSortMessage",value:function(t,e,n){return Object(o.b)("Items_Sorted_by",[t,this._getSortLabel(e,n)])}},{key:"clearSearch",value:function(){this.userSearchInput=null,Object(vt.d)("UBPClientState",["searchKeyword"],null)}},{key:"computeCellClasses",value:function(t,e,n){var r="";if(n&&n.hasOwnProperty(e)){var i=Object(vt.b)(t,["record"]),a=Object(vt.b)(this.appliedChangeKey,["rates"]);a&&a[t]&&(i=Ce(i,a[t],[{fieldPath:e}])),r=st.a.deepEquals(n[e],Object(st.h)(i,e.split(".")))?"":"dirty "}return o.a.isManualEditsForUBPEnabled&&(r+=at.a.isUbpFieldInlineEditable(e,Object(vt.b)("ConsumptionRateMetadata",["rateEditable"]))?ut.classNames.EDITABLE:""),r}},{key:"normalizeAndMergeUnsavedChanges",value:function(t,e){var n=this,o={};return t.forEach((function(t){var r=t.Id,i=t.consumptionRates;o[r]=i.map((function(t){return Ce(t,e[t.Id],n.fields)}))})),o}},{key:"_onUpdate",value:function(){this.dispatchEvent(Object(r.d)("calculate-immediately",{callback:this._updateAfterCalculate.bind(this)}))}},{key:"_updateAfterCalculate",value:function(t){var e=this;Object(vt.b)(this.appliedChangeKey)||Object(vt.d)(this.appliedChangeKey,[],{rates:{}});var n=this._getUnsavedUbpChanges(t),o=Object(vt.b)("UbpInlineEditChanges",["rates"])||{},r=Object(vt.b)(this.appliedChangeKey,["rates"]),i=this._getSavedSchedulesAndRates(),a=[],s={};i.forEach((function(t){t.consumptionRates.forEach((function(t){a.push(t.Id)}))})),a.forEach((function(t){if(o[t]||n[t]||r[t]){var i=Ce(r[t]||{},o[t],e.fields);s[t]=Ce(i,n[t],e.fields)}}));var l=this.normalizeAndMergeUnsavedChanges(i,s),c=Object(vt.b)("ubpLabels",["labels"]),u=this._validateRates(l,c),d=0===u.length;d?(Object.keys(s).forEach((function(t){Object(vt.d)(e.appliedChangeKey,["rates",t],s[t])})),this._onCancel()):this._overrideConflictingInlineEdits(a,n,o),Object(vt.d)("UBPClientState",["successMsg"],d?[c.msg_changes_applied]:null),Object(vt.d)("UBPClientState",["errorMsg"],d?null:[u[0].errorMsg])}},{key:"_overrideConflictingInlineEdits",value:function(t,e,n){t.forEach((function(t){if(e[t]&&n[t]){var o=!1;Object.keys(e[t]).forEach((function(e){"Id"!==e&&"attributes"!==e&&n[t][e]&&(delete n[t][e],o=!0)})),o&&Object(r.c)(r.a.UBP_ROW_REFRESH,{id:t})}}))}},{key:"_getUnsavedUbpChanges",value:function(t){var e=this,n=Object(vt.b)("UnsavedUbpChanges",["rates"]);if(n)return n;if(t&&t.lineItems){var o=t.lineItems.find((function(t){return(t.record.Id===e.quoteLineOrProdId||t.record[at.a.constants.PRODUCT]===e.quoteLineOrProdId)&&t.key===e.lineKey}));if(o&&o.ubpChanges)return n=o.ubpChanges,Object(vt.d)("UnsavedUbpChanges",[],n),n.rates}return{}}},{key:"_validateRates",value:function(t,e){return $b(t,at.a.constants,e)}},{key:"_getSavedSchedulesAndRates",value:function(){var t=this,e=new window.SB.usageBasedPricingDAO(at.a.constants.prefix,null,null).getFromCache(this.quoteLineOrProdId)||[],n=Object(vt.b)(this.categoryId,["name"]),r=e.filter((function(t){return t["".concat(at.a.constants.prefix,"Category__c")]===n||t["".concat(at.a.constants.prefix,"Category__c")]==="".concat(at.a.constants.prefix).concat(n)}));return o.a.org.isMultiCurrencyOrg&&function(){for(var e=Object(vt.b)(t.quoteLineOrProdId,["record","CurrencyIsoCode"]),n=0;n<r.length;n++)r[n].consumptionRates=r[n].consumptionRates.filter((function(t){return t.CurrencyIsoCode===e}))}(),r}},{key:"_onCancel",value:function(){var t=this;if(this.inlineEditedCategories){var e=this.inlineEditedCategories.indexOf(this.categoryId);if(e>-1){var n=Object(vt.b)("UbpInlineEditChanges",["rates"]);n&&Object.keys(n).forEach((function(e){var o=Object(vt.b)(e,["record",at.a.constants.prefix+"QuoteLineConsumptionSchedule__r",at.a.constants.prefix+"Category__c"]);o&&t.quoteLineOrProdId+"_"+o===t.categoryId&&delete n[e]})),this.splice("inlineEditedCategories",e,1),this.hasInlineEditChanges=!1}}}},{key:"_shouldShowManualEditButtons",value:function(){return o.a.isManualEditsForUBPEnabled&&this.hasInlineEditChanges}},{key:"_inlineEditCommitted",value:function(){this.hasInlineEditChanges=!0,-1===this.inlineEditedCategories.indexOf(this.categoryId)&&this.inlineEditedCategories.push(this.categoryId)}},{key:"getCellClass",value:function(){return"sf-ubp-table-cell"}},{key:"appliedChangeKey",get:function(){return"AppliedUbpChanges_".concat(this.quoteLineOrProdId,"_").concat(this.lineKey)}},{key:"getZIndex",value:function(t){return this.totalRateCount+10-t}},{key:"_rowHasParentDiv",value:function(){return!0}},{key:"discardUnappliedChanges",value:function(){Object(vt.d)("UbpInlineEditChanges",["categories"],[]),Object(vt.d)("UbpInlineEditChanges",["rates"],{}),this.hasInlineEditChanges=!1}}])&&ag(e.prototype,n),i&&ag(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(qb.b)([Lb.a],Object(Le.a)(Object(Pb.a)(da(Yi(Qe.a))))));customElements.define(bg.is,bg);var yg,gg=Object(ze.b)(hg||(hg=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n:host .ubpTabContainer {\n  border-bottom: 1px solid #d8dde6;\n  padding-left: 1rem;\n}\n:host .ubpTabContainer #paperTabContainer {\n  border: none;\n}\n:host .header {\n  background: var(--sbPageHeaderBgColor);\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n  min-height: var(--sbPageHeaderMinHeight);\n  padding-top: var(--sbPageHeaderPaddingTop);\n  padding-right: var(--sbPageHeaderPaddingRight);\n  padding-bottom: var(--sbPageHeaderPaddingBottom);\n  padding-left: var(--sbPageHeaderPaddingLeft);\n  width: 100%;\n}\n:host .header #ubpHeaderIcon {\n  display: var(--sbPageHeaderIconDisplay);\n  padding-top: 0px;\n  margin-top: 6px;\n  background-color: #2FBFCE;\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\n:host .header #ubpHeaderIcon:before {\n  display: block;\n}\n:host .header .ubpHeaderTitles {\n  padding-top: 3px;\n  line-height: 1.25;\n}\n:host .header #ubpSubTitle {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\n:host .header #productName {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n:host .header .fixed {\n  padding-top: 3px;\n  padding-right: 32px;\n}\n:host .header .fixed > paper-button {\n  padding-left: 32px;\n  padding-right: 32px;\n}\n:host .rowWrapper {\n  overflow-x: auto;\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host .rowWrapper .htmlField ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host .rowWrapper .htmlField ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host ul.grid {\n  width: fit-content;\n  display: flex;\n  padding: .75rem 0 .75rem 0;\n  max-height: 15rem;\n}\n:host li.detail-block {\n  padding-left: 2rem;\n  padding-right: 2rem;\n}\n:host li.detail-block div.body {\n  font-weight: bold;\n}\n:host div.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2.13333333px);\n  border-bottom-width: calc(2.13333333px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host .discardBtn {\n  float: right;\n}\n:host #stayOnPageBtn {\n  float: left;\n  margin: 0;\n}\n"])));function vg(t){return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Og(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function kg(){return(kg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=xg(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function xg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pg(t)););return t}function Sg(t,e){return(Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Pg(t);if(e){var r=Pg(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Eg(this,n)}}function Eg(t,e){if(e&&("object"===vg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pg(t){return(Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tg,Ig=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}(a,t);var e,n,o,i=Cg(a);function a(){return wg(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sf-ubp-editor"}},{key:"properties",get:function(){return{lineRecord:Object,errorMsg:{type:String,observing:{id:"UBPClientState",path:["errorMsg"]}},successMsg:{type:String,observing:{id:"UBPClientState",path:["successMsg"]}},requestCount:{type:Number,observing:{id:"UBPClientState",path:["requestCount"]}},categoryIds:{type:Array,observing:{idFunction:"_getLineId(lineRecord)",path:["related","categoryIds"]}},categoryIndex:{type:Number,observing:{id:"UBPClientState",path:["categoryIndex"]},value:0}}}},{key:"template",get:function(){return Object(Ge.b)(yg||(yg=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles iron-flex iron-flex-alignment"></style>\n\t\t<style>','</style>\n\t\t\n\t\t<sb-dialog \n\t\t\tid="confirmationDialog" \n\t\t\tmodal="true" \n\t\t\thide-cancel-button="true" \n\t\t\tclose-dialog="sb-cancel-backToQuote">\n\t\t\t<div slot="title" class="title">\n\t\t\t\t<sb-i18n key="Leave_page_without_updating">Leave page without updating?</sb-i18n></div>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<sb-i18n key="There_are_unsaved_changes_in_one_or_more_of_your_categories">\n\t\t\t\t\tThere are unsaved changes in one or more of your categories.  We\'re just making sure you want to go back to the quote without updating.\n\t\t\t\t</sb-i18n>\n\t\t\t</div>\n\t\t\t<paper-button \n\t\t\t\tslot="paper-button" \n\t\t\t\tid="stayOnPageBtn" \n\t\t\t\tnoink \n\t\t\t\ton-click="_closeConfirmationDialog">\n\t\t\t\t<sb-i18n>Never Mind</sb-i18n>\n\t\t\t</paper-button>\n\t\t\t<paper-button \n\t\t\t\tslot="paper-button" \n\t\t\t\tid="discardChangesBtn" \n\t\t\t\tnoink \n\t\t\t\tclass="primary discardBtn" \n\t\t\t\ton-click="_discardAllUnappliedChanges">\n\t\t\t\t<sb-i18n>Back to Quote</sb-i18n>\n\t\t\t</paper-button>\n\t\t</sb-dialog>\n\t\t<sb-loading-spinner \n\t\t\tshow="[[_loading(requestCount)]]"></sb-loading-spinner>\n\t\t<header class="header">\n\t\t\t<sb-toast type="error" messages="[[errorMsg]]"></sb-toast>\n\t\t\t<sb-toast type="success" messages="[[successMsg]]"></sb-toast>\n\t\t\t<div class="layout horizontal">\n\t\t\t\t\x3c!-- Icon and Titles --\x3e\n\t\t\t\t<i id="ubpHeaderIcon" class="icon sf-icon-paired-lines"></i>\n\t\t\t\t<div class="ubpHeaderTitles">\n\t\t\t\t\t<p id="ubpSubTitle"><sb-i18n>Consumption Schedule</sb-i18n></p>\n\t\t\t\t\t<p id="productName">[[_getProductName(lineRecord)]]</p>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- back button --\x3e\n\t\t\t\t<div class="flex layout horizontal wrap end-justified">\n\t\t\t\t\t<div class="fixed">\n\t\t\t\t\t\t<paper-button \n\t\t\t\t\t\t\tid="ubpBackButton" \n\t\t\t\t\t\t\ton-click="_onBackToQLE">\n\t\t\t\t\t\t\t\t<sb-i18n>Back to Quote</sb-i18n>\n\t\t\t\t\t\t</paper-button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t\t<div class="rowWrapper">\n\t\t\t<ul class="grid" role="list" id="quoteLine">\n\t\t\t</ul>\n\t\t</div>\n        <div class="ubpTabContainer">\n        <template is="dom-if" if="[[_hasCategories(categoryIds)]]">\n            <sb-tabs \n            \tid="ubpCategoryTabs"\n                tabs="[[_getCategoryTabs(categoryIds)]]"\n                selected-tab-index="[[categoryIndex]]">\n            </sb-tabs>\n        </template>\n        </div>\n        <ubp-rate-table id="ubpRateTable" category-id="[[_getCategoryId(categoryIds, categoryIndex)]]"></ubp-rate-table>\n\t\t'])),gg)}}],(n=[{key:"ready",value:function(){var t=this;kg(Pg(a.prototype),"ready",this).call(this),Object.entries({"selected-page-changed":"_onTabChanged","sb-cancel-backToQuote":"_closeConfirmationDialog"}).map((function(e){var n=mg(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.shadyRoot&&(this.scopeSubtree(this.$.quoteLine,!0),this.scopeSubtree(this.querySelector(".ubpTabContainer",!0)))}},{key:"getContentNode",value:function(){return this.$.quoteLine}},{key:"isTemplatizeWithRootDivNode",value:function(){return!1}},{key:"_getLineId",value:function(t){return t.Id||t[at.a.constants.SOURCE_FIELD]||t[at.a.constants.PRODUCT]}},{key:"_getCategoryId",value:function(t,e){if(t)return t[e]}},{key:"_hasCategories",value:function(t){return!!t&&t.length>0}},{key:"_getCategoryTabs",value:function(t){return t.map((function(t){return{label:Object(vt.b)(t,["label"])}}))}},{key:"_onBackToQLE",value:function(){this.$.ubpRateTable.clearSearch();var t=Object(vt.b)("UbpInlineEditChanges",["categories"]);null!=t&&t.length>0?this.$.confirmationDialog.open():this.dispatchEvent(Object(r.d)("toggle-ubp-editor",{visible:!1}))}},{key:"_closeConfirmationDialog",value:function(){this.$.confirmationDialog.close()}},{key:"_discardAllUnappliedChanges",value:function(){this.$.ubpRateTable.discardUnappliedChanges(),this._closeConfirmationDialog(),this.dispatchEvent(Object(r.d)("toggle-ubp-editor",{visible:!1}))}},{key:"_getProductName",value:function(t){return t[at.a.constants.PRODUCT_NAME_FIELD]}},{key:"_onTabChanged",value:function(t){this.categoryIndex!==t.detail&&(Object(vt.d)("UBPClientState",["categoryIndex"],t.detail),this._loadRates(0))}},{key:"_loading",value:function(t){return t>0}},{key:"_loadRates",value:function(t){he(t)}}])&&Og(e.prototype,n),o&&Og(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(da(Object(Pb.a)(Qe.a)));customElements.define(Ig.is,Ig);var jg,Bg=Object(ze.b)(Tg||(Tg=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: inherit;\n  height: inherit;\n  --sb-side-panel-border-top: 1px solid #d8dde6;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n:host #quoteTabsContainer {\n  position: relative;\n}\n"])));function Mg(t){return(Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ag(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rg(){return(Rg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Lg(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Lg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zg(t)););return t}function qg(t,e){return(qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=zg(t);if(e){var r=zg(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ng(this,n)}}function Ng(t,e){if(e&&("object"===Mg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zg(t){return(zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hg,Ug=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qg(t,e)}(a,t);var e,n,o,i=Fg(a);function a(){return Dg(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-quote-tabs"}},{key:"properties",get:function(){return{isQuoteFieldPage:{type:Boolean,computed:"_setIsQuoteFieldPage(pageType)"},isGroupsPage:{type:Boolean,computed:"_setIsGroupsPage(pageType)"},isSegmentedLinesPage:{type:Boolean,computed:"_setIsSegmentedLinesPage(pageType)"},isStandardLinesPage:{type:Boolean,computed:"_setIsStandardLinesPage(pageType, groupModel)"},editorModel:{notify:!0,type:Object},groupModels:{notify:!0,type:Object},viewport:{type:Object,value:function(){return _t.a.getViewport()}},segmentedCompName:String}}},{key:"observers",get:function(){return["buildPage(groupModels)","_groupModelsChanged(groupModels.*)"]}},{key:"template",get:function(){return Object(Qe.b)(jg||(jg=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t        <div device id="quoteTabsContainer" style$="height:[[layoutHeight]]">\n\n\t\t\t<template is="dom-if" if="[[isQuoteFieldPage]]">\n\t\t\t\t<div class="quoteFieldsContainer">\n\t\t\t\t\t<sb-field-set-table num-columns="1"\n\t\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\t\tobject-name="[[editorModel.data.quoteObjectName]]"\n\t\t\t\t\t\t\t\t\t\tdata="{{editorModel.quoteModel.quoteVO.record}}"\n\t\t\t\t\t\t\t\t\t\tmodel="{{editorModel.quoteModel}}"></sb-field-set-table>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[isGroupsPage]]">\n\t\t\t\t<sb-le-group-layout id="groupLayout"\n\t\t\t\t\t\t\t\t\teditor-model="[[editorModel]]"\n\t\t\t\t\t\t\t\t\tgroup-models="{{groupModels}}"\n\t\t\t\t\t\t\t\t\tright-side-button="[[rightSideButton]]"></sb-le-group-layout>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[isSegmentedLinesPage]]">\n\t\t\t\t<sb-tabs tabs="[[segmentedTabs]]"\n\t\t\t\t\t\t page-component="[[segmentedCompName]]"\n\t\t\t\t\t\t group-model="{{groupModel}}"\n\t\t\t\t\t\t hide-tabs="[[hideTabs]]"></sb-tabs>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[isStandardLinesPage]]">\n\t\t\t\t<sf-standard-table id="mobileStandardLInes" group-model="{{groupModel}}"></sf-standard-table>\n\t\t\t</template>\n\t\t</div>\n\t    '])),Bg)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"_groupModelsChanged",value:function(t){if(1===this.groupModels.length&&"groupModels"!==t.path&&!this.groupModels[0].quoteModel.grouped){var e=t.path.split("."),n=e.splice(2,e.length).join(".");this.set("groupModel."+n,t.value)}}},{key:"ready",value:function(){Rg(zg(a.prototype),"ready",this).call(this),this.handleResize(),this.segmentedCompName="sf-segmented-table"}},{key:"connectedCallback",value:function(){Rg(zg(a.prototype),"connectedCallback",this).call(this),this.resize()}},{key:"buildPage",value:function(){this.groupModels&&(this.pageType=this.attributes.label.value,"details"!==this.pageType&&"groups"!==this.pageType&&(this.groupModel=this.groupModels[0],this.quoteModel=this.groupModel.quoteModel),"segmented"===this.pageType&&this.groupModel.quoteMDQTabs&&(this.segmentedTabs=this.groupModel.quoteMDQTabs),this.hideTabs=!!this.segmentedTabs&&1===this.segmentedTabs.length&&"Custom"!==this.segmentedTabs[0].key,this.resize())}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"handleResize",value:function(){window.addEventListener("resize",function(t){this.resize()}.bind(this))}},{key:"resize",value:function(){if(Object(st.d)(this)){var t=1===Object(st.d)(this).tabs.length&&"Custom"!==Object(st.d)(this).tabs[0].key?0:43;this.layoutHeight=Object(st.d)(this).getBoundingClientRect().height-t+"px",this.parentNode.style.height=this.layoutHeight}}},{key:"_setIsQuoteFieldPage",value:function(t){return"details"===t}},{key:"_setIsGroupsPage",value:function(t){return"groups"===t}},{key:"_setIsSegmentedLinesPage",value:function(t){return"segmented"===t}},{key:"_setIsStandardLinesPage",value:function(t,e){return"standard"===t&&e}}])&&Ag(e.prototype,n),o&&Ag(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(Le.a)(Object(Ae.a)(Object(Re.a)(Qe.a))));function Vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Wg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qg(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gg(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Gg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function $g(t){return($g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yg(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xg(){return(Xg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Jg(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Jg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nv(t)););return t}function Zg(t,e){return(Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=nv(t);if(e){var r=nv(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ev(this,n)}}function ev(t,e){if(e&&("object"===$g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nv(t){return(nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Ug.is,Ug);var ov={"le-action-tapped":"_executeCustomAction","cseMobile-tapped":"_handleMobileCSE","cse-tapped":"_handleCSE","segmented-changed":"_handleCSEResponse","change-ghost":"_handleGhostChanges","renumber-lines":"renumber","validate-quantity-changed":"_displayUpgradeQuantityToast","field-change-validated":"_updateFieldValidations","calculate-immediately":"_calculateImmediately","rte-saved":"_updateIronList","calculate-cache-get":"_setCalculateCached","toggle-ubp-editor":"_toggleUbpEditor","toggle-page-loaded":"_togglePageLoaded"},rv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}(u,t);var e,n,l,c=tv(u);function u(){return Kg(this,u),c.apply(this,arguments)}return e=u,l=[{key:"is",get:function(){return"sb-line-editor"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vg(Object(n),!0).forEach((function(e){Wg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({rawData:{type:Object},data:{type:Object,observer:"_dataIsChanged"},md:{type:Object,notify:!0},editorModel:{type:Object,notify:!0},groupModels:{type:Array},errors:{type:Array,notify:!0},quoteLevelTabs:{type:Array,value:[]},pageLoaded:{type:Boolean,value:!1},calculateGetCacheArray:{type:Array,value:[]},rules:Array},a.a.properties)}},{key:"observers",get:function(){return["_createEditorModelObserver(data, md)","_errorEventHandled(error)","_loadObjectMD(app.org)","_initObserver(rawData, rules)"]}},{key:"template",get:function(){return Object(Qe.b)(Hg||(Hg=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="qlEditorContainer">\n\t\t\t\x3c!-- Put background data loading services here. --\x3e\n\t\t\t<sb-service id="validationErrorConditionDependencies" reader="ErrorConditionDependencyServiceProvider.QuoteScopedValidationQuoteLineFields" background="true"></sb-service>\n\t\t\t<sb-service id="selectionErrorConditionDependencies" reader="ErrorConditionDependencyServiceProvider.QuoteScopedSelectionQuoteLineFields" background="true"></sb-service>\n\n\t\t\t\x3c!--Load LineEditorModel--\x3e\n\t\t\t<sb-custom-segment-dialog id="cseDialog"></sb-custom-segment-dialog>\n\t\t\t<sb-line-editor-read id="sbLineEditorRead" quote-id="{{ctx.params.qId}}" line-editor-model="{{rawData}}" error="{{errors}}" background="true"></sb-line-editor-read>\n\t\t\t<sb-loading-spinner show="[[!pageLoaded]]"></sb-loading-spinner>\n\t\t\t\x3c!--caches objects--\x3e\n\t\t\t<sb-describe objects="[[mdObjects]]" background="true"></sb-describe>\n\t\t\t\x3c!--Load Field Metadata--\x3e\n\t\t\t<sb-le-field-md id="md" md="{{md}}" currency-decimal-scale="[[data.quote.currencyDecimalScale]]" settings="[[data.settings]]"></sb-le-field-md>\n\t\t\t\x3c!--Load Quote Scoped Product Rules Metadata--\x3e\n\t\t\t<template is="dom-if" if="[[_loadProductRules()]]">\n\t\t\t\t<sb-service id="productRulesService" uid="jspr" reader="ProductRuleServiceProvider.QuoteRulesLoader" error="{{errors}}" response="{{rules}}" cache="jspr"></sb-service>\n\t\t\t</template>\n\t\t\t<sb-product-rules-quote-line-adder id="quoteLineAdder" error="{{errors}}"></sb-product-rules-quote-line-adder>\n\n\t\t\t<sb-le-custom-action-services id="customActionServices" data="{{data}}" editor-model="{{editorModel}}" event-detail="[[eventDetail]]" response="{{customActionResponse}}" error="{{error}}" app="[[app]]"></sb-le-custom-action-services>\n\n\t\t\t<sb-page-header device id="lineEditorPageHeader">\n\t\t\t\t<div slot="messages" id="messages">\n\t\t\t\t\t<sb-toast type="error" messages="[[errors]]"></sb-toast>\n\t\t\t\t</div>\n\t\t\t\t<i slot="icon" class="icon sf-icon-custom93"></i>\n\t\t\t\t<h2 slot="h2" id="headerSubtitle">[[editorModel.data.headerSubtitle]]</h2>\n\t\t\t\t\x3c!--combine quote # and page label when quote toal is displayed in page header within large quote experience --\x3e\n\t\t\t\t<template is="dom-if" if="[[subtitleCombined]]">\n\t\t\t\t\t<h2 slot="h2" class="separator">|</h2>\n\t\t\t\t\t<h2 slot="h2"><sb-i18n>Edit Quote</sb-i18n></h2>\n\t\t\t\t</template>\n\t\t\t\t\x3c!--page label for desktop (large quote experience disabled--\x3e\n\t\t\t\t<template is="dom-if" if="[[!subtitleCombined]]">\n\t\t\t\t\t<h1 slot="h1" id="pageLabel"><sb-i18n>Edit Quote</sb-i18n></h1>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[quoteTotalDisplayed]]">\n\t\t\t\t\t<h2 slot="quoteTotal" id="quoteTotal">\n\t\t\t\t\t\t<sb-le-footer id="total" quote-model="[[editorModel.quoteModel]]"></sb-le-footer>\n\t\t\t\t\t</h2>\n\t\t\t\t</template>\n\t\t\t\t<div class="fixedActions hidden" slot="fixedActions" hidden$="[[!editorModel.quoteModel.grouped]]">\n\t\t\t\t\t<paper-button noink on-click="toggleGroupPanel" class="sf-icon-rows">\n\t\t\t\t\t\t<span class="badge icon-badge-upper-left">[[editorModel.quoteModel.lineGroups.length]]</span>\n\t\t\t\t\t</paper-button>\n\t\t\t\t</div>\n\t\t\t\t<div id="actions" class="actions" slot="actions">\n\t\t\t\t\t<template is="dom-repeat" items="[[editorModel.quoteCustomActions]]">\n\t\t\t\t\t\t<sb-custom-action name$="[[item.name]]" custom-action="[[item]]" model="[[editorModel.quoteModel]]" button="true"></sb-custom-action>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[_isColumnResizingEnabled()]]">\n\t\t\t\t\t\t<paper-menu-button id="cogDropdown"class$="[[deviceClasses]] columnSizeSetting" ignore-select no-overlap horizontal-align="right" vertical-offset$="[[verticalOffset]]">\n\t\t\t\t\t\t\t<paper-button noink id="cogButton" slot="dropdown-trigger" class="dropdown-trigger sf-icon-settings">\n\t\t\t\t\t\t\t\t<div class="sf-icon-down settings"></div>\n\t\t\t\t\t\t\t</paper-button>\n\n\t\t\t\t\t\t\t<paper-listbox id="cogMenu" slot="dropdown-content" class="dropdown-content">\n\t\t\t\t\t\t\t\t<paper-button><sb-i18n key="Reset_Column_Widths" on-click="resetColumnWidths">Reset Column Widths</sb-i18n></paper-button>\n\t\t\t\t\t\t\t</paper-listbox>\n\t\t\t\t\t\t</paper-menu-button>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<template is="dom-if" if="[[editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t<div id="fullScreenMode" slot="fullScreenMode">\n\t\t\t\t\t\t<paper-button noink on-click="toggleFullScreenMode" class="sf-icon-expand"></paper-button>\n\t\t\t\t\t\t<paper-tooltip for="fullScreenMode" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t<sb-i18n key="fullScreenMode">Toggle Full Screen Mode</sb-i18n>\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</sb-page-header>\n\n\n\n\t\t\t\x3c!--Tabs for mobile line editor--\x3e\n\t\t\t<template is="dom-if" if="[[isMobileRendered]]" restamp="true">\n\t\t\t\t<template is="dom-if" if="[[groupedQuoteHasNoGroups]]">\n\t\t\t\t\t<div id="emptyGroupedQuote"><sb-i18n key="emptyGroupedQuoteMsg">This quote has no line items. Click on Add Group button to select products.</sb-i18n></div>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[ungroupedQuoteHasNoLines]]">\n\t\t\t\t\t<div id="emptyQuote"><sb-i18n key="emptyQuoteMsg">This quote has no line items. Click on Add Products button to select products.</sb-i18n></div>\n\t\t\t\t</template>\n\n\t\t\t\t<sb-tabs id="quoteTabs"\n\t\t\t\t\t\t tabs="[[quoteLevelTabs]]"\n\t\t\t\t\t\t group-models="{{groupModels}}"\n\t\t\t\t\t\t right-side-button="{{rightSideButton}}"\n\t\t\t\t\t\t editor-model="{{editorModel}}"\n\t\t\t\t\t\t selected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t page-component="sb-quote-tabs"\n\t\t\t\t\t\t hide-tabs="[[hideTabs]]" secondary-tabs></sb-tabs>\n\t\t\t</template>\n\n\t\t\t\x3c!--Groups--\x3e\n\t\t\t<div device class="groupWrapper">\n\t\t\t<template is="dom-if" if="[[isDesktopRendered]]" restamp="true">\n\t\t\t\t<sb-le-group-layout id="groupLayout" group-models="{{groupModels}}" right-side-button="[[rightSideButton]]" editor-model="[[editorModel]]" selected-group-key="{{selectedGroupKey}}">\n\t\t\t\t\t\x3c!--Quote Fields--\x3e\n\t\t\t\t\t<div slot="quoteInformation" id="quoteInformation">\n\t\t\t\t\t\t<template is="dom-if" if="[[hasQuoteFieldSet]]">\n\t\t\t\t\t\t\t<div class="quoteFieldsContainer">\n\t\t\t\t\t\t\t\t<span class$="[[quoteDetailsIconClass]]" on-click="updateQuoteDetails"></span>\n\t\t\t\t\t\t\t\t<header class="quoteFieldsHeader">[[editorModel.data.quoteFieldsSectionTitle]]</header>\n\t\t\t\t\t\t\t\t<sb-field-set-table num-columns="3" editor-model="[[editorModel]]" object-name="[[editorModel.data.quoteObjectName]]" data="{{editorModel.quoteModel.quoteVO.record}}" hidden$="[[quoteDetailsHidden]]" model="{{editorModel.quoteModel}}"></sb-field-set-table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<template is="dom-if" if="[[groupedQuoteHasNoGroups]]">\n\t\t\t\t\t\t<div slot="emptyGroupedQuote" id="emptyGroupedQuote"><sb-i18n key="emptyGroupedQuoteMsg">This quote has no line items. Click on Add Group button to select products.</sb-i18n></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[ungroupedQuoteHasNoLines]]">\n\t\t\t\t\t\t<div slot="emptyQuote" id="emptyQuote"><sb-i18n key="emptyQuoteMsg">This quote has no line items. Click on Add Products button to select products.</sb-i18n></div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<template is="dom-if" if="[[!editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t\t<sb-le-footer slot="footer" quote-model="[[editorModel.quoteModel]]"></sb-le-footer>\n\t\t\t\t\t</template>\n\t\t\t\t</sb-le-group-layout>\n\t\t\t</template>\n\n\t\t\t\x3c!--Dialogs--\x3e\n\t\t\t<sb-pricebook-dialog id="pricebookDialog" editor-model="[[editorModel]]"></sb-pricebook-dialog>\n\t\t\t<sb-product-alert id="productAlertModal"></sb-product-alert>\n\t\t\t<div id="ghost" class="ghost"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="ubpEditorContainer" class="ubpEditorContainer hidden"></div>\n\t\t'])),We)}}],(n=[{key:"events",get:function(){var t={};return t[r.a.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,t[r.a.VIEWPORT_CHANGED]=this.viewportChanged,t[r.a.COL_SIZE_ERR]=this._onError,t[r.a.GENERIC_ERROR]=this._onError,t}},{key:"connectedCallback",value:function(){Xg(nv(u.prototype),"connectedCallback",this).call(this),document.addEventListener("LineEditor-cached",function(){this.needsInit=!0}.bind(this)),Object(r.b)(this,ov)}},{key:"disconnectedCallback",value:function(){Xg(nv(u.prototype),"disconnectedCallback",this).call(this),Object(r.e)(this,ov)}},{key:"_isColumnResizingEnabled",value:function(){return o.a.org.isColumnResizingEnabled&&!o.a.isMobile}},{key:"_updateIronList",value:function(){this.editorModel.largeQuoteExperienceEnabled&&Object(r.c)(r.a.UPDATE_IRON_LIST,{index:null})}},{key:"_loadObjectMD",value:function(){var t=this.app.org.prefix?this.app.org.prefix+"__":"";this.mdObjects=[t+"QuoteLineGroup__c",t+"QuoteLine__c",t+"Quote__c",t+"DiscountTier__c",t+"DiscountSchedule__c"]}},{key:"_loadProductRules",value:function(){var t=o.a.org.hasQuoteSelectionProductRules&&o.a.org.isJSProductRulesEnabled;return!1===t&&(this.rules={}),t}},{key:"_executeCustomAction",value:function(t){var e=t.detail,n=e.customAction.eventHandlerName;"onFlagCalculate"===n&&(this.calculateGetCacheArray=[]),this._doesUserHavePermissionForAction(n)?("onFlagCalculate"===n&&this.data.settings.diagnosticToolEnabled&&this._openDiagnosticTool(),this.eventDetail=e):this.errors=[this.i18n.l("Insufficient privileges to perform that action")]}},{key:"_doesUserHavePermissionForAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Set(["onAddProducts","onSave","onQuickSave","onFlagCalculate"]);return!e.has(t)||!1!==o.a.user.hasQuoteEditPermission}},{key:"_createEditorModelObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._createEditorModel(t,e)}},{key:"_createEditorModel",value:function(t,e){if(t.settings.largeQuoteThreshold>0&&(t.settings.enableLQTValidations&&this._cacheProductRuleFields("validationErrorConditionDependencies"),t.settings.enableLQTSelectionRules&&this._cacheProductRuleFields("selectionErrorConditionDependencies")),this.ctx.params&&"onFlagCalculate"==this.ctx.params.cmd&&(t.quote.calculationRequired=!0,this.ctx.params.cmd=null),t.quote.calculationRequired)this.$.customActionServices.onFlagCalculate(this.pageLoaded);else{if(this.editorModel=new Vt(t,e,this),this._updateFieldLabelsMap(),this._handleGroupCustomActions(),this.groupModels=this._getGroupModels(),this.rightSideButton=!this.editorModel.deviceContext.isMobile&&this.groupModels.length>1&&this.editorModel.quoteModel.grouped,this.quoteId=this.editorModel.quoteModel.quoteVO.record.Id,this.hasQuoteFieldSet=this.editorModel.fieldsetMap.quoteFieldNames.length>0,this._viewportChanged(this.editorModel.deviceContext.isMobile),this.renumber(),this.quoteHasNoLines(),this.ctx.params&&null!=this.ctx.params.cmd?(this._executeCmd(this.ctx.params.cmd),this.ctx.params.cmd=null):this.$.sbLineEditorRead.isLastReadQuoteUnopened&&this.editorModel.quoteModel.quoteVO.isCoTermPrompted?this._navigateToContractLookupPage():this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_ID_FIELD]?this._executeDefaultCustomAction():this._handleMissingPricebook(),this._loadProductRules()&&this._redirectToLineEditor()?this.executeProductRules():this.pageLoaded=!0,(this.editorModel.deviceContext.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&(this.quoteTotalDisplayed=!0),this.editorModel.largeQuoteExperienceEnabled){this.quoteDetailsIconClass="sf-icon-chevrondown";var n=this.returnGroupKeyAfterQuickSave?this.returnGroupKeyAfterQuickSave:this.ctx.params.groupKey,o=n&&this.editorModel.quoteModel.groupsByKey[n]?n:this.groupModels[0].groupKey}this.selectedGroupKey=this.editorModel.largeQuoteExperienceEnabled?o:null,this._isSubtitleCombined()}}},{key:"_cacheProductRuleFields",value:function(t){var e=this.$[t],n=function(e){var n={};return n[t]=e,Object(Xt.c)(n)};e.read({uid:t}).then((function(t){return n({fields:t})})).catch((function(t){return n({errors:t})}))}},{key:"_isSubtitleCombined",value:function(){this.subtitleCombined=this.editorModel.largeQuoteExperienceEnabled&&"doNotDisplay"!=this.data.settings.lineEditorTotalsField&&this.data.quote.lineItems.length>0}},{key:"_handleGroupCustomActions",value:function(t){if(this.editorModel){var e=this.viewport&&this.viewport.isDesktop()&&this.viewport.M.up;if(this.editorModel.groupCustomActions=e?this.editorModel.customActionsByLocation.Group:[this.editorModel.groupMobileMenuButtonAction],t||e||(this.editorModel.groupCustomActions[0].label=this.editorModel.customActionsByLocation.Group[0].label,this.editorModel.groupCustomActions[0].first=this.editorModel.customActionsByLocation.Group[0].first,this.editorModel.groupCustomActions[0].eventHandlerName=this.editorModel.customActionsByLocation.Group[0].eventHandlerName,this.editorModel.groupCustomActions[0].record=this.editorModel.customActionsByLocation.Group[0].record),t&&this.groupModels)for(var n=0,o=this.groupModels.length;n<o;n++)this.notifyPath("groupModels.".concat(n,".editorModel.groupCustomActions"))}}},{key:"_handleMissingPricebook",value:function(){if(this.addEventListener("pricebook-saved",function(t){this._executeDefaultCustomAction()}.bind(this)),window.location.href.indexOf("cp=1")>-1)document.location.assign(this.editorModel.communityPrefix+"/"+this.editorModel.quoteModel.quoteVO.record.Id);else{var t=this.data.userType;"Standard"==t||"PowerPartner"==t?this.$.pricebookDialog.open():this.errors=[Object(o.b)("msg_missing_pricebook_id")]}}},{key:"_updateFieldLabelsMap",value:function(){var t=this.editorModel.md.fieldLabelsMap,e=this.editorModel.data.quote.localizedMultiSegmentColumns,n=this.editorModel.data.quote.multiSegmentColumns;for(var r in n)for(var i=n[r],a=e[r],s=0,l=i.length;s<l;s++)t[i[s].replace(/\W/g,"")]=a[s];t.total=Object(o.b)("Total")}},{key:"_navigateToContractLookupPage",value:function(){this.nav("#",{qId:this.editorModel.quoteModel.quoteVO.record.Id},["contract","lookup"],!1)}},{key:"renumber",value:function(){this.editorModel.quoteModel.renumber(),Object(r.c)(r.a.ROWS_RENUMBERED)}},{key:"_updateFieldValidations",value:function(t){this.errors=t.detail&&t.detail.error?[t.detail.error]:null}},{key:"_calculateImmediately",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=void 0===t.detail.showSpinner||t.detail.showSpinner,r=void 0===t.detail.setPageLoaded||t.detail.setPageLoaded;this._calculateImmediatelyDebouncer=Fe.a.debounce(this._calculateImmediatelyDebouncer,Ne.d.after(n),(function(){e.$.customActionServices.onFlagCalculate(o,!1,function(e){r&&(this.pageLoaded=!0),t.detail.callback&&"function"==typeof t.detail.callback&&t.detail.callback(e)}.bind(e))}))}},{key:"_executeCmd",value:function(t){var e=this.editorModel.customActionsByLocation.Quote;if(e&&0!==e.length)for(var n=0,o=e.length;n<o;n++)e[n].eventHandlerName===t&&this._executeCustomAction({detail:{customAction:e[n],model:this.editorModel.quoteModel}})}},{key:"_getValidDefaultCustomAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||0===t.length||this.data.quote.lineItems.length>0||this.data.quote.lineItemGroups.length>1||this.editorModel.quoteModel.grouped)return[];var e=this.editorModel.quoteModel.isRenewal?"onRenewSubscriptions":"onAddProducts";return t.filter((function(t){return t._customActionsConditionsMet&&t.eventHandlerName===e}))}},{key:"_executeDefaultCustomAction",value:function(){var t=this;this._getValidDefaultCustomAction(this.editorModel.defaultCustomActions).forEach((function(e){t._executeCustomAction({detail:{customAction:e,model:t.editorModel.quoteModel}})}))}},{key:"viewportChanged",value:function(){this._handleGroupCustomActions(!0),this.viewport.isMobile()?this.isMobile=!0:this.isMobile=!1}},{key:"buildQuoteTabs",value:function(){if(this.editorModel){var t=[];if(this.editorModel.fieldsetMap.quoteFieldNames.length>0&&t.push("details"),this.editorModel.quoteModel.grouped)Object(st.m)("maxHeight",!0,this.shadowRoot.querySelector("#quoteTabs")),this.groupModels.length>0&&t.push("groups");else{if(!this.groupModels.length)return;Object(st.m)("maxHeight",!1,this.shadowRoot.querySelector("#quoteTabs")),this.groupModels[0]._groupHasSegmentedProducts()&&(this.buildUngroupedSegmentedTabs(),t.push("segmented")),this.groupModels[0]._groupHasStandardProducts()&&t.push("standard")}if(this._renderTabs(t)){this.shadowRoot.querySelector("#quoteTabs")&&this.shadowRoot.querySelector("#quoteTabs").destroyTabs();for(var e=[],n=0,o=t.length;n<o;n++){var r="t"+n,i=t[n],a=void 0;switch(i){case"details":a=["groupModels","editorModel"];break;case"groups":a=["groupModels","rightSideButton","editorModel"];break;case"standard":case"segmented":a=["groupModels"]}e.push({name:r,label:i,bind:a})}this.ungroupedMDQTabs=this.groupModels[0]?this.groupModels[0].quoteMDQTabs:null,this.selectedTabIndex=0,this.hideTabs=1==e.length,this.quoteLevelTabs=e}}}},{key:"_renderTabs",value:function(t){if(this.quoteLevelTabs.length!==t.length)return!0;if(this.groupModels[0]&&this.groupModels[0].quoteMDQTabs&&this.ungroupedMDQTabs.length!==this.groupModels[0].quoteMDQTabs.length)return!0;for(var e=0,n=this.quoteLevelTabs.length;e<n;e++)if(this.quoteLevelTabs[e].label!==t[e])return!0;return!1}},{key:"_onError",value:function(t){t&&t.detail&&t.detail.errorMessage&&(this.errors=[t.detail.errorMessage])}},{key:"_getGroupModels",value:function(){return this.editorModel.quoteModel.lineGroups}},{key:"quoteHasNoLines",value:function(){if(0==this.data.quote.lineItems.length){var t=this.editorModel.quoteModel;this.groupedQuoteHasNoGroups=t.grouped&&0==t.lineGroups.length,this.ungroupedQuoteHasNoLines=!t.grouped}}},{key:"updateQuote",value:function(t,e){if(null!=t){if(t.partialVO&&this.data.quote&&e&&((t=e(t,this.data.quote)).partialVO=!1),this.set("data.quote",t),this.data.settings.usesClientCalculator&&this.data.quote.calculationRequired)return void this.$.customActionServices.onFlagCalculate(!0,!0);this.editorModel||this._createEditorModel(this.data,this.md),this.editorModel.createQuoteModel(t),this.editorModel.styleQuoteAndGroupActionButtons();var n=this._getGroupModels();if(this._updateFieldLabelsMap(),this.set("groupModels",n),this.rightSideButton=this.viewport&&!this.viewport.isMobile()&&this.groupModels.length>1&&this.editorModel.quoteModel.grouped,this.notifyPath("editorModel.quoteModel.lineGroups.length",this.editorModel.quoteModel.lineGroups.length),this.set("editorModel.quoteModel",this.editorModel.quoteModel),this.renumber(),this.editorModel.largeQuoteExperienceEnabled){var o=this.editorModel.quoteModel,i=o.lineGroups;o.grouped&&1==i.length&&this.selectedGroupKey!=i[0].groupKey&&(this.selectedGroupKey=i[0].groupKey),this._isSubtitleCombined()}this.isMobile&&this.buildQuoteTabs()}this.quoteHasNoLines(),this.data.settings.multiLineDeleteEnabled&&Object(r.c)(r.a.DESELECT_CHECKBOX)}},{key:"updateAfterJSQC",value:function(t,e){var n=this;if(t){var i=function(o,r){for(var i in o){var a=t.originalPathValues[i],s=o[i].value,l=!e||"QuoteLineModel"!=o[i].root;(a!=s||i.endsWith(n.editorModel.constants.ADDITIONAL_DISCOUNT_FIELD))&&l&&(r(i,void 0),r(i,s))}};i(t.pathsToNotify,this.notifyPath.bind(this)),i(t.pathsToSet,this.set.bind(this)),o.a.isPricingGuidanceEnabled&&Object(r.c)(r.a.REFRESH_LINE_ACTIONS)}}},{key:"_initObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._init(t)}},{key:"_init",value:function(t){if(this.needsInit&&("undefined"!=typeof Visualforce&&t.settings.usesClientCalculator&&t.settings.orgUrl&&window.Worker&&new Zt(t).beginPrecaching(),this.needsInit=!1),t.settings.usesClientCalculator&&"undefined"!=typeof SB&&SB.JSQC&&!t.quote.calculationRequired){var e=new s.a(this.app.org.prefix),n=new SB.JSQC(t.settings,t.quote,null),o=[e.getConnection(),e.getConnection()];Promise.all(o).then(function(e){n.setConnection(e[0]),n.setCustomerOnlyConnection(e[1]),n.setLogger(it),t.settings.displayedLookupMap=this.$.customActionServices.getDisplayedLookupNames(t),n.onLoad().then(function(){this.data=t}.bind(this),this._setError.bind(this)).catch(this._setError.bind(this))}.bind(this),this._setError.bind(this))}else this.data=t}},{key:"_getNewQuoteRuleExecutor",value:function(){return new V(this.rawData.quote,this.rules,this.rawData.settings.developerPrefix,this.rawData.settings.jsprLabels)}},{key:"executeProductRules",value:function(){var t,e=this,n=this._getNewQuoteRuleExecutor();try{t=n.execute()}catch(t){var o;o="object"===$g(t)&&"info"===t.type?[t]:[{msg:t.toString(),type:"warning"}],Object(qe.a)(this,(function(){e.errors=o}))}t&&t.requiredProductIds.length>0?(this.handleLinesAddedByProductRules(),this.$.quoteLineAdder.quote=this.rawData.quote,this.$.quoteLineAdder.productIds=t.requiredProductIds):this.pageLoaded=!0}},{key:"_setError",value:function(t){this.error={message:t.message||t}}},{key:"_dataIsChanged",value:function(){var t=new CustomEvent("sf-qle-data-changed",{bubbles:!1,detail:this.data});document.dispatchEvent(t);var e=this.data.developerPrefix,n={};this._removeDuplicateLineFieldsInDrawer();for(var o=[],r=new Set,i=["lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone","standardLineItemDrawerFieldNames","multiSegmentLineFieldNames","multiSegmentLineSummaryFieldNames"],a=0,s=i.length;a<s;a++){var l=this.data[i[a]],c=l&&l.length;if(c)for(var u=0;u<c;u++){var d=l[u];r.has(d)||(r.add(d),o.push(d))}}for(var p=["".concat(e,"SubscriptionScope__c"),"".concat(e,"SegmentLabel__c"),"".concat(e,"StartDate__c"),"".concat(e,"EndDate__c"),"".concat(e,"PriceEditable__c")],h=0,f=p.length;h<f;h++){var b=p[h];r.has(b)||(r.add(b),o.push(b))}n[this.data.quoteLineObjectName]=[].concat(o);var y=this.data.settings.lineEditorSubtotalsField;y&&"Default"!=y&&"doNotDisplay"!=y?(n[this.data.quoteLineObjectName].push(y),r.add(y)):(n[this.data.quoteLineObjectName].push("".concat(e,"NetTotal__c")),r.add("".concat(e,"NetTotal__c"))),n[this.data.quoteObjectName]=[].concat(this.data.quoteFieldNames);for(var g=0,v=this.data.quoteFieldNames.length;g<v;g++)r.add(this.data.quoteFieldNames[g]);var m=this.data.settings.lineEditorTotalsField;m&&"Default"!=m?(n[this.data.quoteObjectName].push(m),r.add(m)):this.data.quote.applyAdditionalDiscountLast?(n[this.data.quoteObjectName].push("".concat(e,"CustomerAmount__c")),r.add("".concat(e,"CustomerAmount__c"))):(n[this.data.quoteObjectName].push("".concat(e,"NetAmount__c")),r.add("".concat(e,"NetAmount__c"))),n["".concat(e,"QuoteLineGroup__c")]=[].concat(this.data.groupFieldNames);for(var _=0,w=this.data.groupFieldNames.length;_<w;_++)r.add(this.data.groupFieldNames[_]);var O=this.data.settings.lineEditorGroupSubtotalsField;O&&"Default"!=O?(n["".concat(e,"QuoteLineGroup__c")].push(O),r.add(O)):(n["".concat(e,"QuoteLineGroup__c")].push("".concat(e,"NetTotal__c")),r.add("".concat(e,"NetTotal__c"))),n["".concat(e,"DiscountTier__c")]=this.data.discountScheduleModalFieldNames,n["".concat(e,"DiscountSchedule__c")]=["Name","".concat(e,"DiscountUnit__c")],this.fieldNameSet=r,this.$.md.data=n,this._logQLELoad()}},{key:"_removeDuplicateLineFieldsInDrawer",value:function(){var t=this.data.standardLineItemDrawerFieldNames;if(t&&0!=t.length){var e=this.data.developerPrefix,n=this.app.deviceContext,o=function(t,n){for(var o=new Set(t),r=0,i=n.length;r<i;r++)(o.has(n[r])||n[r]==e+"Number__c")&&(n.splice(r,1),r--)};this.data.lineFieldNamesPhone&&n.isPhone?o(this.data.lineFieldNamesPhone,t):this.data.lineFieldNamesTablet&&(n.isTablet||n.isPhone)?o(this.data.lineFieldNamesTablet,t):o(this.data.lineFieldNames,t)}}},{key:"_errorEventHandled",value:function(){this.error&&(this.error.validations?(this.errors=this.error.validations,this.$.customActionServices.updateUIAfterCalculate(this.editorModel.quoteModel.quoteVO)):this.errors=[this.error.message]),this.$.customActionServices.showSpinner=!1,Object(r.c)(r.a.TOGGLE_QUICKSAVE,{enable:!0}),this.$.sbLineEditorRead.restoreCache()}},{key:"_logQLELoad",value:function(){if(!this._isCmpLoaded&&this.data&&this.data.quote&&this.data.quote.record){var t=null;this.data.quote.record["".concat(this.data.developerPrefix,"HeaderFieldSetName__c")]&&(t={usingDynamicQuoteHeader:!0}),this._log(this.data.quote.record.Id,Ie,t),this._isCmpLoaded=!0}}},{key:"_log",value:function(t,e,n){(new De).log(t,e,n)}},{key:"_handleMobileCSE",value:function(t){this._openDialog({dialog:"cseDialog",groupModelKey:null})}},{key:"_handleCSE",value:function(t){this._openDialog(t.detail)}},{key:"_handleCSEResponse",value:function(t){this.updateQuote(t.detail.quoteVO),this.$.cseDialog.$.dialog.toggle()}},{key:"_openDialog",value:function(t){if("cseDialog"===t.dialog){var e=this.$.cseDialog,n=this.editorModel.quoteModel.groupsByKey[t.groupModelKey].segmentedLinesByDimension.Custom[0].segmentsByLabel,o=[];Object.keys(n).forEach((function(t){var e=n[t];e.lineVO.dimensionType==e.groupModel.editorModel.constants.CUSTOM_VALUE&&o.push(e)})),e.dataLineModels=o}this.$[t.dialog].$.dialog.toggle()}},{key:"toggleGroupPanel",value:function(){this.viewport.isMobile()&&Object(r.c)(r.a.TOGGLE_PANEL_CLICKED)}},{key:"resetColumnWidths",value:function(){var t=this.editorModel.fieldSetNames.lineFieldNames;Object(r.c)(r.a.RESET_COL_SIZES,{fieldSet:t}),this.$.actions.querySelector("paper-menu-button#cogDropdown").close()}},{key:"updateQuoteDetails",value:function(){this.quoteDetailsHidden=!this.quoteDetailsHidden,this.toggleQuoteDetails(!1)}},{key:"toggleQuoteDetails",value:function(t){this.set("quoteDetailsIconClass",this.quoteDetailsHidden?"sf-icon-chevronright":"sf-icon-chevrondown"),Object(r.c)(r.a.PAGE_RESIZED,{isFullScreenToggleEvent:t})}},{key:"toggleFullScreenMode",value:function(t){this._toggleFullscreen(t),this.quoteDetailsHidden=this.inFullScreenMode,this.toggleQuoteDetails(!0)}},{key:"_toggleFullscreen",value:function(t){this.inFullScreenMode?this.exitFullScreenMode():this.enterFullScreenMode(),t.stopPropagation()}},{key:"enterFullScreenMode",value:function(){var t=document.querySelector("sb-page-container");t.requestFullScreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(),this.inFullScreenMode=!0}},{key:"exitFullScreenMode",value:function(){var t=document.querySelector("sb-page-container");t.requestFullScreen?document.cancelFullScreen():t.msRequestFullscreen?document.msExitFullScreen():t.mozRequestFullScreen?document.mozCancelFullScreen():t.webkitRequestFullscreen&&document.webkitCancelFullScreen(),this.inFullScreenMode=!1}},{key:"_viewportChanged",value:function(t){if(this.editorModel){Object(st.m)("hidden",!t,this.shadowRoot.querySelector(".fixedActions"));var e=this.editorModel.standardPrimaryMobileCols.length;this.editorModel.standardPrimaryMobileCols=t?[this.editorModel.constants.PRODUCT_NAME_FIELD,this.editorModel.constants.NET_TOTAL_FIELD]:[];var n=this.editorModel.segmentedPrimaryMobileCols.length;if(this.editorModel.segmentedPrimaryMobileCols=t?[this.editorModel.constants.PRODUCT_NAME_FIELD,"total"]:[],this.editorModel.segmentedDetailsPrimaryMobileCols=t?[this.editorModel.constants.SEGMENT_LABEL_FIELD,this.editorModel.constants.NET_TOTAL_FIELD]:[],this.groupModels&&(e!==this.editorModel.standardPrimaryMobileCols.length||n!==this.editorModel.segmentedPrimaryMobileCols.length))for(var o=0;o<this.groupModels.length;o++)this.notifyPath("groupModels.".concat(o,".editorModel.standardPrimaryMobileCols")),this.notifyPath("groupModels.".concat(o,".editorModel.segmentedPrimaryMobileCols")),this.notifyPath("groupModels.".concat(o,".editorModel.segmentedDetailsPrimaryMobileCols"));t&&this.buildQuoteTabs(),this.isMobileRendered=t,this.isDesktopRendered=!t}}},{key:"buildUngroupedSegmentedTabs",value:function(){if(this.groupModels&&0!=this.groupModels.length){for(var t=[],e=this.groupModels[0].dimensions,n=0,o=e.length;n<o;n++){var r=e[n];if(this.groupModels[0].hasVisibleSegmentedLines[r]){var i="t"+n,a={name:i,key:r,label:this.groupModels[0].quoteModel.quoteVO.localizedDimensionNames[r],bind:["groupModel"]};"Custom"==r&&(a.iconId=i+"-"+this.groupModels[0].groupKey,a.iconClass="sb-icon-pencil",a.iconEvent="cseMobile"),t.push(a)}}this.groupModels[0].quoteMDQTabs=t,this.ungroupedMDQTabs||(this.ungroupedMDQTabs=t)}}},{key:"_openCSE",value:function(){event.currentTarget.attributes.dialog.value,this.$.cseDialog.$.dialog.toggle()}},{key:"_displayUpgradeQuantityToast",value:function(t){var e=t.detail.invalidQuantity,n=t.detail.validQuantity;if(this.errors=null,e>0){var o=this.i18n.l("Exceeded maximum quantity available. Value has been reduced to {0}",[n]);this.errors=[{type:"warning",msg:o}]}}},{key:"destampGroups",value:function(){this.isMobileRendered=!1,this.isDesktopRendered=!1}},{key:"handleProductRuleAlertModal",value:function(t,e){var n=this,o=e.guidedMessages;o&&0!==o.length&&("saveService"===t?(this.$.productAlertModal.cancelCB=function(){if(n.editorModel.data.settings.usesClientCalculator){for(var t=n.editorModel.data.quote,o=e.quote,r=t.lineItems.length,i=function(t,e){for(var n in e)t[n]=e[n]},a=0;a<r;a++){var s=t.lineItems[a],l=o.lineItems[a];s.record.Id=l.record.Id,delete l.record,i(s,l)}for(var c=t.lineItemGroups.length,u=0;u<c;u++){var d=t.lineItemGroups[u],p=o.lineItemGroups[u];d.record.Id=p.record.Id}t.record.Id=o.record.Id,delete o.lineItems,delete o.lineItemGroups,delete o.record,i(t,o),n.updateQuote(t),n.$.customActionServices.notifier&&n.updateAfterJSQC(n.$.customActionServices.notifier)}else n.updateQuote(e.quote)},this.$.productAlertModal.displayContinueButton=!0,this.$.productAlertModal.cancelText=_p.a.localize("lbl_close"),this.$.productAlertModal.continueCB=function(){n.$.customActionServices.navigateToReturnUrl(!0)}):(this.$.productAlertModal.cancelCB=null,this.$.productAlertModal.cancelText="Quick Save and Continue"),this.$.productAlertModal.alerts=o)}},{key:"_toggleEditors",value:function(t,e,n){n?(t.classList.remove("hidden"),e.classList.add("hidden")):(t.classList.add("hidden"),e.classList.remove("hidden"))}},{key:"_loadUbp",value:function(){return t=Object(vt.b)("UBPClientState",["quoteLineOrProdId"]),e=null==Object(vt.b)("ConsumptionRateMetadata"),n=Object(vt.b)("ubpLabels",["labels"]),o=null==n,ge(t,de(de({},me(0,"".concat(at.a.constants.UBP_FIELDS.ConsumptionSchedule,".Name"),"asc")),{},{loadCategories:!0,shouldLoadRateFieldsMd:e,shouldLoadLabels:o}),(function(t,e){return Se("ConsumptionServiceProvider.UBPLoader",t,e)}),Oe);var t,e,n,o}},{key:"_toggleUbpEditor",value:function(t){var e=this,n=t.detail.lineModel,o=t.detail.visible,r=this.$.qlEditorContainer,i=this.$.ubpEditorContainer,a=this.shadowRoot.querySelector("sf-ubp-editor");if(!o&&a)this._toggleEditors(i,r,o);else{this.$.customActionServices.showSpinner=!0;var s=n.lineVO.record,l=s.Id||s[this.editorModel.constants.SOURCE_FIELD]||s[this.editorModel.constants.PRODUCT],c=Math.trunc(window.innerHeight/30);Object(vt.d)("UBPClientState",[],new mt.b(l,n.lineVO.key,c)),Object(vt.d)("UnsavedUbpChanges",[],n.lineVO.ubpChanges||{}),Object(vt.d)("UbpInlineEditChanges",[],{rates:{},categories:[]}),Object(vt.d)(l,["record","CurrencyIsoCode"],s.CurrencyIsoCode),this._loadUbp().then((function(){a||(a=document.createElement("sf-ubp-editor"),i.appendChild(a));var t,c=Object(vt.b)(l,["related","ubpFields"]),u=c.map((function(t){return t.fieldPath})),d={},p={},h=Qg(c);try{for(h.s();!(t=h.n()).done;){var f=t.value;d[f.fieldPath]=f.label,p[f.fieldPath]=f}}catch(t){h.e(t)}finally{h.f()}a.lineRecord=s,a.uiData=re.prepareSingleLineData(n,0,u,p),a.templateHTML=new gt((function(t){return p[t]})).generate(u,d),e._toggleEditors(i,r,o),e.$.customActionServices.showSpinner=!1})).catch(this._setError.bind(this))}}},{key:"_togglePageLoaded",value:function(t){t&&t.detail&&(this.pageLoaded=!!t.detail.pageLoaded)}},{key:"_redirectToLineEditor",value:function(){if(!this.ctx.params||!this.ctx.params.jspr)return!1;var t=i.a.getPreviousRoute();return"product/pc"===t||"product/lookup"===t||"favorite/lookup"===t||"asset/lookup"===t||"subscription/lookup"===t||"recommend/lookup"===t}},{key:"handleLinesAddedByProductRules",value:function(){this.$.quoteLineAdder.addEventListener("lines-added-by-rules-changed",function(t){var e=JSON.parse(JSON.stringify(this.data));e.quote.lineItems=e.quote.lineItems.concat(t.detail.value),this.updateQuote(e.quote),this._calculateImmediately({detail:{showSpinner:!1,setPageLoaded:!0}})}.bind(this))}},{key:"toggleOptional",value:function(t){var e=t.detail.groupKey,n=t.detail.toggleOptionalBoolean;this.editorModel.quoteModel.toggleOptional(n,e)}},{key:"_setCalculateCached",value:function(t){this.pageLoaded&&this.calculateGetCacheArray.push(t.detail.cacheHit)}},{key:"test_isCalculateCached",value:function(){return this.calculateGetCacheArray.length>0&&-1==this.calculateGetCacheArray.indexOf(!1)}},{key:"_openDiagnosticTool",value:function(){var t="QLEDiagnosticToolApp",e="/c/".concat(t,".app"),n=window.open(e,t,"resizable=1,scrollbars=1"),o=new tt(window),r=new tt(n),i=new it(o,r);i.initPublisher(),it.setInstance(i)}}])&&Yg(e.prototype,n),l&&Yg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),u}(Object(Le.a)(Object(Ae.a)(Object(Re.a)(a.a))));customElements.define(rv.is,rv)},function(t,e,n){"use strict";n.r(e),n.d(e,"ProductConfig",(function(){return $n}));var o=n(2),r=(n(18),n(20)),i=n(27),a=n(11),s=(n(26),n(35),n(23)),l=n(97);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.idProperties=["optionId","index","tag"],this.buildSubtree(this.root)}var e,n,o;return e=t,(n=[{key:"buildSubtree",value:function(t){var e=this,n={};this._buildNode(t),t.getChildren(t).forEach((function(t){n[t.optionId]=n[t.optionId]||t.index||0,void 0!==t.index&&n[t.optionId]!==t.index||(t.index=n[t.optionId],n[t.optionId]++),e.buildSubtree(t)}))}},{key:"getFromPath",value:function(t){for(var e=this.root,n=0,o=t.length;n<o;n++){var r=this._buildId(t[n]);e=this._findOnLevel(r,e)}return e}},{key:"_buildNode",value:function(t){t.nodeId=this._buildId(t),t.getChildren=function(){return this.optionConfigurations}.bind(t)}},{key:"_buildId",value:function(t){var e,n="",o=c(this.idProperties);try{for(o.s();!(e=o.n()).done;){var r=e.value;("tag"!==r||"tag"===r&&null!=t[r])&&(n+="_"+t[r])}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"_findOnLevel",value:function(t,e){var n=t.constructor===String?t:this._buildId(t);return(e=e||this.root).getChildren().find((function(t){return t.nodeId===n}))}}])&&d(e.prototype,n),o&&d(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function b(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n)}var e,n,o;return e=t,(n=[{key:"init",value:function(t,e){this.path=[],this.descendLevel=!1,this.configTree=new p(t),this._setConfiguredOptionsObject(e),this.CONFIG_TAG="config",this.SAVE_TAG="save"}},{key:"configure",value:function(t){var e=this.getLastFromPath(),n=this._getParentConfiguration();t.index=t.index||e.index,t.optionId=t.optionId||e.optionId,void 0!==this.stagedOption&&(t.optionData=this.stagedOption.optionData||t.optionData,t.isDynamicOption=this.stagedOption.isDynamicOption||t.isDynamicOption||!1);var o=this._setAndReturnConfiguration(t,n,this.CONFIG_TAG);return o.configuredOptions=this.getConfiguredOptionsFromPath(),this.descendLevel=!1,o}},{key:"save",value:function(t,e){var n=this._setAndGetConfiguration(e),o=this._getTagForSave(e);return this._removeDeselectedOptions(t.removedOptions,o,null),this._addSelectedOptions(t.selectedOptions,o),this._sortOptionConfigurations(n,t.selectedOptions),e||this._setConfigured(n),n}},{key:"_getTagForSave",value:function(t){return 0===this.path.length?null:t?this.CONFIG_TAG:this.SAVE_TAG}},{key:"cancel",value:function(){var t=this.getCurrentConfiguration(),e=this._getParentConfiguration();this._removeSubtree(t,e,this.CONFIG_TAG,!0)}},{key:"remove",value:function(t,e,n){var o=this._getConfiguration(e);!o.getChildren||o.getChildren().length<1||(t.optionId=t.record?t.record.Id:t.optionId,t.index=t.index||0,this._removeSubtree(t,o,n))}},{key:"removeAddedOption",value:function(t){var e=0===this.path.length?null:this.CONFIG_TAG;this.remove(t,e,null)}},{key:"swapConfiguration",value:function(t){var e=this._getParentConfiguration(),n=this.getSaveConfiguration();t.index=n.index,this._removePreviousConfigurations(e),this._addToConfigTree(e,t),this._setConfigured(t),t.tag="saved"}},{key:"removeClonedConfiguration",value:function(){var t=this.getSaveConfiguration(),e=this._getParentConfiguration();this._removeSubtree(t,e,this.SAVE_TAG,!0)}},{key:"handleDescendantRules",value:function(t,e,n,o,r){var i,a=this,s=this.configTree.getFromPath(this.path.concat(t));if(s){s.changedByProductActions=r;var l={};i=s.getChildren(),e.forEach((function(t){l[t.optionId]=void 0===l[t.optionId]?0:l[t.optionId]+1,t.index=l[t.optionId],void 0===i.find((function(e){return a._buildId(t)===e.nodeId}))&&(a.configTree.buildSubtree(t),i.push(t))}));for(var c=function(t){var n=i[t];void 0===e.find((function(t){return n.nodeId===a._buildId(t)}))&&a._removeSubtree(n,s)},u=i.length-1;u>=0;u--)c(u);s.disabledOptionIds=o,s.hiddenOptionIds=n}}},{key:"getExistingConfiguration",value:function(){return this._getConfiguration()}},{key:"getCurrentConfiguration",value:function(){return this._getConfiguration(this.CONFIG_TAG)}},{key:"getSaveConfiguration",value:function(){return this._getConfiguration(this.SAVE_TAG)}},{key:"_getConfiguration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._createPath(t);return this.configTree.getFromPath(e)}},{key:"addToPath",value:function(t,e,n,o){this.path.push({optionId:t,optionalSKU:e,index:n,tabIndex:o}),this.descendLevel=!0}},{key:"popFromPathAndGetNextSKU",value:function(){this.path.pop(),this.descendLevel=!1;var t=this.getLastFromPath();return t?t.optionalSKU:t}},{key:"getLastFromPath",value:function(){return this.path[this.path.length-1]}},{key:"getConfiguredOptionsFromPath",value:function(){return this.configuredOptions[this._buildPathString(!0)]||{}}},{key:"_getParentConfiguration",value:function(){var t=this.path.length>0?this.CONFIG_TAG:null,e=this.path.slice(0,this.path.length-1),n=this._createPath(t,e);return this.configTree.getFromPath(n)}},{key:"_setConfiguredOptionsObject",value:function(t){this.configuredOptions={},t&&(this._addConfigsToConfigurationObject(this.configTree.root,[]),this.configTree.root.configuredOptions=this.getConfiguredOptionsFromPath())}},{key:"_addConfigsToConfigurationObject",value:function(t,e){var n=this;t.getChildren().forEach((function(t){var o={optionId:t.optionId,index:t.index};n._addConfigsToConfigurationObject(t,e.concat([o]))})),this._setConfigured(t,e)}},{key:"_setConfigured",value:function(t,e){var n=this._buildPathString(!1,e);t.configured=!0,t.configurationEntered=!0,n&&(this.configuredOptions[n]=this.configuredOptions[n]||{},this.configuredOptions[n][t.nodeId]=!0)}},{key:"_updateThenGetSubtree",value:function(t,e,n,o){var r=this._buildId(t),i=this._findInConfiguration(r,e);return i?(this._updateSubtree(i,t,n),i):(this._appendSubtree(t,e,o),t.staged=!0,t)}},{key:"_updateSubtree",value:function(t,e,n){n&&(delete t.staged,t.optionData=e.optionData,t.externalConfigurationData=e.externalConfigurationData),this._propagateRuleData(t,e.disabledOptionIds,e.hiddenOptionIds),this._propagateAttributes(t.configurationData,e.configurationData),this._mergeNestedConfigurations(e,t)}},{key:"_mergeNestedConfigurations",value:function(t,e){var n=this;if(t.optionConfigurations.length>0){var o={};t.optionConfigurations.forEach((function(t){o[t.optionId]=void 0===o[t.optionId]?0:o[t.optionId]+1,t.index=o[t.optionId],t.selected=!0,n._updateThenGetSubtree(t,e,!1)}))}}},{key:"_propagateRuleData",value:function(t,e,n){t.disabledOptionIds=t.disabledOptionIds||e,t.hiddenOptionIds=t.hiddenOptionIds||n}},{key:"_propagateAttributes",value:function(t,e){Object.keys(e).forEach((function(n){t[n]=t[n]||e[n]}))}},{key:"_setAndReturnConfiguration",value:function(t,e,n){var o=n===this.SAVE_TAG?this._cloneConfiguration(t,e):t;return o.tag=n,o.staged=!0,this._addToConfigTree(e,o)}},{key:"_cloneConfiguration",value:function(t,e){var n=this._buildId(t,this.CONFIG_TAG),o=this._findInConfiguration(n,e);return JSON.parse(JSON.stringify(o))}},{key:"_addToConfigTree",value:function(t,e){return this.configTree.buildSubtree(e),t.getChildren().push(e),e}},{key:"_appendSubtree",value:function(t,e,n){this._addIndexProperty(t,e),this.configTree.buildSubtree(t),null!=n?e.getChildren().splice(n,0,t):e.getChildren().push(t)}},{key:"_removeSubtree",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._getChildIndexAndAdjustIndices(t.optionId,t.index,e.getChildren(),n,o);r>=0&&this._removeConfiguration(e,r,this._buildId(t,n))}},{key:"_removeConfiguration",value:function(t,e,n){var o=this._buildPathString(!0);t.getChildren().splice(e,1),o&&this.configuredOptions[o]&&this.configuredOptions[o][n]&&!this._findInConfiguration(n,t)&&delete this.configuredOptions[o][n]}},{key:"_findInConfiguration",value:function(t,e){var n=t.constructor===String?t:this._buildId(t);return e.getChildren().find((function(t){return t.nodeId===n}))}},{key:"_addIndexProperty",value:function(t,e){for(var n=t.index||0;this._findInConfiguration(this._buildId({optionId:t.optionId,index:n}),e);)n++;t.index=n}},{key:"_getChildIndexAndAdjustIndices",value:function(t,e,n,o,r){var i,a=0,s=-1,l=this._buildId({optionId:t,index:e},o===this.SAVE_TAG?"":o),c=f(n);try{for(c.s();!(i=c.n()).done;){var u=i.value;u.nodeId===l||o===this.SAVE_TAG&&-1!==u.nodeId.indexOf(l)?s=a:!r&&u.optionId===t&&u.index>e&&this._alterIndexPropertyAndNodeId(u),a++}}catch(t){c.e(t)}finally{c.f()}return s}},{key:"_alterIndexPropertyAndNodeId",value:function(t){var e=t.nodeId;t.index--,t.nodeId=this._buildId(t);var n=this._buildPathString(!0);n&&this.configuredOptions[n]&&(this.configuredOptions[n][t.nodeId]=!0,delete this.configuredOptions[n][e])}},{key:"_buildId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"_"+t.optionId+"_"+t.index+(e?"_"+e:"")}},{key:"_buildPathString",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path,n=this.configTree.root.nodeId,o=t?0:1,r=0;r<e.length-o;r++)n+="-"+this._buildId(e[r]);return n}},{key:"_createPath",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path,o=[],r=f(n.entries());try{for(r.s();!(e=r.n()).done;){var i=h(e.value,2),a=i[0],s=i[1];a===n.length-1?s.tag=t:s.tag=this.CONFIG_TAG,o.push(s)}}catch(t){r.e(t)}finally{r.f()}return o}},{key:"_setAndGetConfiguration",value:function(t){return 0===this.path.length?this.getExistingConfiguration():t?this.getCurrentConfiguration():this._setAndReturnConfiguration(this.getCurrentConfiguration(),this._getParentConfiguration(),this.SAVE_TAG)}},{key:"_removeDeselectedOptions",value:function(t,e,n){var o,r=f(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;this.remove(i,e,n)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_addSelectedOptions",value:function(t,e){var n,o=this._getConfiguration(e),r=f(t.entries());try{for(r.s();!(n=r.n()).done;){var i=h(n.value,2),a=i[0],s=i[1];this._updateThenGetSubtree(s,o,!0,a)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_sortOptionConfigurations",value:function(t,e){if(e&&0!==e.length&&e.length===t.getChildren().length){var n,o=[],r=f(e.entries());try{for(r.s();!(n=r.n()).done;){var i=h(n.value,2),a=i[0],s=i[1];o[a]=this._findInConfiguration(s,t)}}catch(t){r.e(t)}finally{r.f()}t.optionConfigurations=o}}},{key:"_removePreviousConfigurations",value:function(t){var e=this.getExistingConfiguration();e&&this._removeSubtree(e,t,null,!0),this._removeSubtree(this.getCurrentConfiguration(),t,this.CONFIG_TAG,!0),this._removeSubtree(this.getSaveConfiguration(),t,this.SAVE_TAG,!0)}}])&&g(e.prototype,n),o&&g(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var O,k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"reconfigure",value:function(t,e){var n={};if(e?t.configuration=e:t.nestedOptionModel=t.nestedOptionModel||new v(t.configuration,!0),t.configuration.optionConfigurations.length){this.buildOptionConfiguration(t,t.configuration.optionConfigurations,n);var o,r=m(t.options);try{for(r.s();!(o=r.n()).done;){var i=o.value;this._addSelectedDataToOption(n[i.record.Id],i)}}catch(t){r.e(t)}finally{r.f()}}else{var a,s=m(t.options);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.configuration&&delete l.configuration}}catch(t){s.e(t)}finally{s.f()}}}},{key:"buildOptionConfiguration",value:function(t,e,n){for(var o={},r=0;r<e.length;r++){var i=e[r];!0!==o[i.optionId]&&(i.isSegmented&&(o[i.optionId]=!0),n[i.optionId]=this.buildStrippedOptionData(t,i,r))}}},{key:"buildStrippedOptionData",value:function(t,e,n){if(0===e.optionConfigurations.length){var o=this.newConfiguration(e.optionId,e.optionData,e.isDynamicOption,n);return o.configured=e.configured,"Amendment"===t.quoteType&&(o.upgradedAssetId=e.upgradedAssetId,o.priorBundledQuantity=e.priorBundledQuantity),o}var r=e.optionConfigurations.length>0;return{optionId:e.optionId,optionData:e.optionData,optionConfigurations:r,index:n}}},{key:"newConfiguration",value:function(t,e,n,o){return{optionId:t,optionData:e,isDynamicOption:n,index:o}}},{key:"_addSelectedDataToOption",value:function(t,e){t?(e.isDynamicOption=t.isDynamicOption,e.priorBundledQuantity=t.priorBundledQuantity,e.configured=e.configured||!0===t.configured||t.optionConfigurations):e.selected=!0===e.selected}}])&&w(e.prototype,n),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),x=n(139),S=n(38),C=n(64),E=n(4),P=n(5),T=n(3);var I,j,B=Object(T.b)(O||(I=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  --my-page-header-display: block;\n}\n.product-header {\n  font-weight: 300;\n  padding: 15px;\n  margin: 0;\n  font-size: 1.5em;\n}\n#pcNav[class*='--desktop'] {\n  display: none !important;\n}\n[class*='--desktop'] #pcNav {\n  display: none !important;\n}\npaper-tooltip[class*='--mobile'] {\n  display: none;\n}\n[class*='--mobile'] paper-tooltip {\n  display: none;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.actionsCollapsed {\n  display: flex;\n  flex-direction: column;\n}\n.actionsCollapsed #pcSave {\n  order: 1;\n}\n.actionsCollapsed #pcCancel {\n  order: 2;\n}\n.actionsCollapsed #customActions {\n  order: 3;\n}\n"],j||(j=I.slice(0)),O=Object.freeze(Object.defineProperties(I,{raw:{value:Object.freeze(j)}})))),M=(n(65),n(71),n(1)),D=n(6),A=n(54),R=n(90),L=n(77);function q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var z,H=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quote=e,this.product=n,this.prefix=o,this.currencyIsoCode=r,this.dynamicOptions=[],this.featureOptionIds=[],this.product&&!this.product.initialized&&this._initializeProduct(this.product),this.fieldSetHandler=new L.a(this.product.optionFieldSets,"OptionConfiguration","OptionConfigurationTablet","OptionConfigurationPhone"),this.defaultOptionPaths=["selected","record.".concat(this.prefix,"Quantity__c")],this.additionalOptionPaths=[]}var e,n,o;return e=t,(n=[{key:"getRequest",value:function(){var t={quote:this.quote.record};return this.product?(t.product={configuredProductId:this.product.configuration.configuredProductId,lineItemId:this.product.configuration.lineItemId,lineKey:this.product.configuration.lineItemKey,configurationAttributes:this._createConfigAttributesMap(),optionConfigurations:this._createFeatureOptionsMap(),configurationData:{}},t.products=[],this._appendReadOnlyProperties(t,this.product.configuration),t):t}},{key:"getResponse",value:function(t){if(t){var e=[];if(this.dynamicOptions=[],this.featureOptionIds=[],t.products)for(var n=0,o=t.products.length;n<o;n++)e.push(this._cloneProduct(n));this._extendResponseQuote(t.quote),this._extendResponseProduct(this.product,t.product);var r={quote:this.quote,product:this.product,products:this._extendResponseProducts(t.products,e),optionNotifications:this._getResponseOptionPaths()};return this.dynamicOptions.length>0&&this.featureOptionIds.length>0&&(r.dynamicOptions=this.dynamicOptions,r.featureOptionIds=this.featureOptionIds),r}}},{key:"_appendReadOnlyProperties",value:function(t,e){t.readOnly={};var n=this._getMatchingQuoteLine(e);n&&(t.readOnly.line=n.record)}},{key:"_getMatchingQuoteLine",value:function(t){if(null==t||null==t.lineItemKey)return null;var e=this.quote.lineItems.filter(function(e){return e.key===t.lineItemKey}.bind(this));return 1===e.length?e[0]:null}},{key:"_createConfigAttributesMap",value:function(){for(var t={},e=0,n=this.product.configurationAttributes.length;e<n;e++)t[this.product.configurationAttributes[e].targetFieldName]=null;return Object(M.e)(t,this.product.configuration.configurationData),t}},{key:"_createFeatureOptionsMap",value:function(){for(var t={},e=this.product.features,n=0,o=e.length;n<o;n++){var r=e[n].record.Name;t[r]=[];var i=e[n]._transient_.optionConfigurations;delete e[n]._transient_.changedExternally,"Add"===e[n].optionSelectionMethod?this._mixInUnselectedOptionsToAdd(t[r],e[n].record.Id,i):i&&this._pushOptionConfigurations(t[r],i,"Click"===e[n].optionSelectionMethod)}return t}},{key:"_pushOptionConfigurations",value:function(t,e,n){for(var o=0,r=e.length;o<r;o++){var i=n?void 0:e[o].index;t.push(this._createPseudoOptionConfiguration(e[o],i))}n||t.push({productId:null,Quantity:1,configurationData:{}})}},{key:"_createPseudoOptionConfiguration",value:function(t,e){var n={optionId:t.record.Id,selected:t.selected,ProductCode:t.record[this.prefix+"ProductCode__c"],ProductName:t.record[this.prefix+"ProductName__c"],Quantity:t.record[this.prefix+"Quantity__c"],configurationData:{}};return void 0!==e&&(n.index=e),this._appendReadOnlyProperties(n,t),n}},{key:"_mixInUnselectedOptionsToAdd",value:function(t,e,n){var o=this;this.product.options.forEach((function(r){if((r.record[o.prefix+"Feature__c"]||"Other")===e){var i=n.filter((function(t){return t.record.Id===r.record.Id}));if(i.length)for(var a=0;a<i.length;a++)t.push(o._createPseudoOptionConfiguration(i[a],i[a].index||a));else r.selected=!1,t.push(o._createPseudoOptionConfiguration(r,0))}}))}},{key:"_extendResponseQuote",value:function(t){null!=t&&Object(M.e)(this.quote.record,this._sanitizeObject(t))}},{key:"_extendResponseProduct",value:function(t,e,n){e&&(this._extendResponseConfigurationData(t,e.configurationData),this._extendResponseConfigurationAttributes(t,e.configurationAttributes),this._extendResponseOptionConfigurations(t,e.optionConfigurations,n))}},{key:"_extendResponseConfigurationData",value:function(t,e){null!=e&&Object(M.e)(t.configuration.externalConfigurationData,this._sanitizeObject(e))}},{key:"_extendResponseConfigurationAttributes",value:function(t,e){null!=e&&Object(M.e)(t.configuration.configurationData,this._sanitizeObject(e))}},{key:"_extendResponseOptionConfigurations",value:function(t,e,n){var o,r=this,i={};for(var a in e){var s,l=q(e[a]);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.optionId;u?(i[u]=i[u]||[],i[u].push(c)):c.productId&&this._createDynamicOption(c,a)}}catch(t){l.e(t)}finally{l.f()}}var d,p=q(t.options);try{var h=function(){var e=d.value,a=i[e.record.Id];if(!a)return"continue";a.forEach((function(i){o||null==i.configurationData||(o=r.fieldSetHandler.getByViewport(D.a.getViewport()).fields),r._extendResponseOptionConfiguration(t,e,i,o,n)}))};for(p.s();!(d=p.n()).done;)h()}catch(t){p.e(t)}finally{p.f()}}},{key:"_createDynamicOption",value:function(t,e){var n=this.product.features.find((function(t){return t.record.Name===e}));this.featureOptionIds.push(n.record.Id+":"+t.productId),this.dynamicOptions.push({productId:t.productId,featureId:n.record.Id,Quantity:isNaN(t.Quantity)?1:t.Quantity,configurationData:t.configurationData})}},{key:"_extendResponseOptionConfiguration",value:function(t,e,n,o,r){r&&(e.parentProductKey=r);var i=e.record[this.prefix+"Feature__c"]||"Other",a=t.features.find((function(t){return t.record.Id===i}));"Click"===a.optionSelectionMethod?this._setOptionDataForClickFeature(e,n,o):this._setOptionDataForNonClickFeature(e,n,o,a)}},{key:"_setOptionDataForClickFeature",value:function(t,e,n){null!=e.selected&&(t.selected=e.selected),this._extendQuantityAndConfigurationDataToOption(t,e,n)}},{key:"_setOptionDataForNonClickFeature",value:function(t,e,n,o){var r=o._transient_.optionConfigurations.find((function(t){return t.record.Id===e.optionId&&t.index===e.index}));if(e.selected)if(r)this._extendQuantityAndConfigurationDataToOption(r,e,n);else{var i=this._createOptionConfigurationFromOption(t,e.index);this._extendQuantityAndConfigurationDataToOption(i,e,n),o._transient_.optionConfigurations.push(i),o._transient_.changedExternally=!0}else!e.selected&&r&&(r.selected=!1,o._transient_.changedExternally=!0)}},{key:"_createOptionConfigurationFromOption",value:function(t,e){var n=JSON.parse(JSON.stringify(t));return n.index=e,n.addedManually=!0,n.selected=!0,n.configured=!1,n}},{key:"_extendQuantityAndConfigurationDataToOption",value:function(t,e,n){null!=e.Quantity&&t.selected&&(t.record[this.prefix+"Quantity__c"]=e.Quantity),null!=e.configurationData&&this._extendConfigurationDataToOption(t,e,n)}},{key:"_extendConfigurationDataToOption",value:function(t,e,n){var o=this._sanitizeObject(e.configurationData),r={};for(var i in o){var a=o[i];if(-1!==n.indexOf(i)){t.record[i]=a;var s="record.".concat(i);-1===this.additionalOptionPaths.indexOf(s)&&this.additionalOptionPaths.push(s)}else r[i]=a}t.externalConfigurationData=t.externalConfigurationData||{},Object(M.e)(t.externalConfigurationData,r)}},{key:"_extendResponseProducts",value:function(t,e){if(!t||0===t.length)return[];for(var n=[],o=0,r=t.length;o<r;o++){var i=e[o];this._extendResponseProduct(i,t[o],i.productKey),this._resetFeatureOptionConfiguration(i),n.push(i)}return n}},{key:"_cloneProduct",value:function(t){var e=JSON.parse(JSON.stringify(this.product));return e.productKey=this._buildProductKey(this.product.record.Id,t),this._enableSaveToLineEditor(e),e}},{key:"_buildProductKey",value:function(t,e){var n=(e<10?"00":e<100?"0":"")+e;return t.substring(0,15)+n}},{key:"_enableSaveToLineEditor",value:function(t){t.configuration.lineItemKey=null,delete t.configuration.lineItemId}},{key:"_resetFeatureOptionConfiguration",value:function(t){var e,n=q(t.features||[]);try{for(n.s();!(e=n.n()).done;)e.value._transient_.optionConfigurations=[]}catch(t){n.e(t)}finally{n.f()}this._initializeProduct(t)}},{key:"_initializeProduct",value:function(t){var e=this.prefix.endsWith("__")?this.prefix.substring(0,this.prefix.length-2):this.prefix;new R.a(this.quote.record.Id,t,e,this.quote.record.CurrencyIsoCode)}},{key:"_getResponseOptionPaths",value:function(){var t=this.defaultOptionPaths.concat(this.additionalOptionPaths);return this.additionalOptionPaths=[],t}},{key:"_sanitizeObject",value:function(t){return JSON.parse(JSON.stringify(t,(function(t,e){return t.endsWith("__c")&&e instanceof Object?JSON.stringify(e):e})))}}])&&N(e.prototype,n),o&&N(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),U=n(0),V=n(17);n(25),n(171);var W,Q=Object(T.b)(z||(z=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.container {\n  display: inline-block;\n}\npaper-button {\n  background-color: var(--sbConfiguratorCustomActionBgColor);\n  color: var(--sbConfiguratorCustomActionFontColor);\n  border-color: var(--sbConfiguratorCustomActionBorderColor);\n}\npaper-button:hover {\n  background-color: var(--sbConfiguratorCustomActionHoverBgColor);\n  font-color: var(--sbConfiguratorCustomActionHoverFontColor);\n}\n#menuButton > .sf-icon-down {\n  margin: -10px;\n  font-size: var(--sbIcon16);\n}\n#remainingItems {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 100;\n  display: none;\n}\n#remainingItems.open {\n  display: block;\n}\n#remainingItems > paper-button {\n  display: block;\n  white-space: nowrap;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n  border-radius: 0;\n}\n#remainingItems > paper-button:first-of-type {\n  border-top-left-radius: var(--sbDialogBorderRadius);\n  border-top-right-radius: var(--sbDialogBorderRadius);\n}\n#remainingItems > paper-button:last-of-type {\n  border-bottom-left-radius: var(--sbDialogBorderRadius);\n  border-bottom-right-radius: var(--sbDialogBorderRadius);\n}\n.collapsedActions paper-button {\n  display: block;\n  white-space: nowrap;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\n#firstItem,\n#menuButton {\n  border-radius: 0;\n}\n#firstItem:first-of-type,\n#menuButton:first-of-type {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\n#firstItem:last-of-type,\n#menuButton:last-of-type,\n#firstItem.end,\n#menuButton.end {\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\n.hide {\n  display: none;\n}\n'])));n(13),n(15);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Y(t,e){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Z(t);if(e){var r=Z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return J(this,n)}}function J(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt={"Product Code":"ProductCode"},et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(a,t);var e,n,r,i=X(a);function a(){return $(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-custom-actions"}},{key:"properties",get:function(){return{customActions:Array,products:Array,isClassic:Boolean,productIndex:Number,firstItem:Object,remainingItems:Array,customActionsExist:Boolean,moreThanOneCustomActionsExist:{type:Boolean,value:!1},menuClosed:{type:Boolean,value:!0},viewport:{type:Object,observer:"_viewportChanged",value:function(){return D.a.getViewport()}},buttonsCollapsed:{type:Boolean,notify:!0},messenger:{type:Object,computed:"_newMessenger(quote, products, productIndex)"},quote:{type:Object,notify:!0},popupResponse:{type:Object,notify:!0,observer:"_updateQuoteFromPopupResponse"}}}},{key:"observers",get:function(){return["_initObserver(customActions, products, productIndex, isClassic, menuClosed)"]}},{key:"template",get:function(){return Object(o.b)(W||(W=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div class="container" device>\n\t\t\t<template is="dom-if" if="[[customActionsExist]]">\n\t\t\t\t<template is="dom-if" if="[[buttonsCollapsed]]">\n\t\t\t\t\t<div class="collapsedActions">\n\t\t\t\t\t\t<paper-button id="firstItem" label$="[[firstItem.label]]" on-click="_itemSelected" data-target$="[[firstItem.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[firstItem.label]]</paper-button>\n\t\t\t\t\t\t<template is="dom-repeat" items="[[remainingItems]]" as="item">\n\t\t\t\t\t\t\t<paper-button id="[[index]]" label$="[[item.label]]" on-click="_itemSelected" data-target$="[[item.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[item.label]]</paper-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<template is="dom-if" if="[[!buttonsCollapsed]]">\n\t\t\t\t\t<paper-button id="firstItem" label$="[[firstItem.label]]" on-click="_itemSelected" data-target$="[[firstItem.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[firstItem.label]]</paper-button>\n\t\t\t\t\t<template is="dom-if" if="[[moreThanOneCustomActionsExist]]">\n\t\t\t\t\t\t<paper-button id="menuButton" on-click="_changeMenu" noink><i class="sf-icon-down"></i></paper-button>\n\t\t\t\t\t\t<div id="remainingItems">\n\t\t\t\t\t\t\t<template is="dom-repeat" items="[[remainingItems]]" as="item">\n\t\t\t\t\t\t\t\t<paper-button id="[[index]]" label$="[[item.label]]" on-click="_itemSelected" data-target$="[[item.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[item.label]]</paper-button>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<sb-popup id="popup" response-message="{{popupResponse}}"></sb-popup>\n\t\t</div>\n\t    '])),Q)}}],(n=[{key:"events",get:function(){var t={};return t[U.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"prefix",get:function(){return E.a.org.prefix?E.a.org.prefix+"__":""}},{key:"_initObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this.init(t,e,n,o,r)}},{key:"init",value:function(){var t=this;if(this.isClassic&&this.products.length>1)return this.classList.add("hide"),void(this.customActionsExist=!1);var e=this.prefix+"URL__c",n=this.prefix+"Label__c",o=this.prefix+"Page__c",r=this.prefix+"URLTarget__c",i=this.prefix+"Action__c",a=this.prefix+"BrandButton__c",s=[];if(this.customActions.forEach((function(l){if("Product Configurator"===l[o]&&t.checkCustomActionsConditionsMet(l)){var c="";!0===l[a]&&(c="primary"),s.push({label:l[n],url:l[e],target:l[r],action:l[i],brandButtonClass:c})}})),0===s.length)return this.classList.add("hide"),void(this.customActionsExist=!1);this.firstItem=s[0],s.length>1&&(this.remainingItems=s.slice(1),this.moreThanOneCustomActionsExist=!0),this.customActionsExist=!0,this.buttonsCollapsed=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up),this.classList.remove("hide")}},{key:"_itemSelected",value:function(t){var e=t.target.id,n="firstItem"===e?this.firstItem:this.remainingItems[e];void 0!==n.url?this.handleURLAction(n):"Apply Edit Rules"===n.action&&this.applyRules()}},{key:"handleURLAction",value:function(t){"Popup"===t.target?this.handlePopup(t.url):this.handleNav(t.url)}},{key:"handlePopup",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$.popup.url=t,this.$.popup.autoLaunched=e,this.$.popup.redirectOnCancelOrClose=n,this.$.popup.messenger=this.messenger,this.$.popup.open()}},{key:"handleNav",value:function(t){this._isLightningExperience()?sforce.one.navigateToURL(t):window.location.href=t}},{key:"applyRules",value:function(){this.dispatchEvent(Object(U.d)("sb-apply-edit-rules",{bundleId:this.products[this.productIndex].record.Id}))}},{key:"_isLightningExperience",value:function(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}},{key:"checkCustomActionsConditionsMet",value:function(t){var e=this,n=this.prefix+"Custom_Action_Conditions__r",o=this.prefix+"Field__c",r=this.prefix+"Operator__c",i=this.prefix+"FilterValue__c",a=this.prefix+"TargetObject__c";return!1!==this._checkPackagedCustomActionConditionMet(t)&&(void 0===t[n]||t[n].records.some((function(t){if(void 0===t[o]||void 0===t[i]||void 0===t[r])return!1;var n="Product";t[a]&&(n=t[a]);var s=tt[t[o]]||t[o],l="Quote"===n?e.quote.record:e.products[e.productIndex].record;return M.a.arithmeticOperatorConversion(l[s],t[i],t[r])})))}},{key:"_checkPackagedCustomActionConditionMet",value:function(t){return"Launch External"!==t.Name||void 0!==t[this.prefix+"URL__c"]&&!!this.products[this.productIndex].record[this.prefix+"ExternallyConfigurable__c"]}},{key:"_changeMenu",value:function(t){this.menuClosed=A.a.changeMenu(t,this.menuClosed,this.shadowRoot.querySelector("#remainingItems"),"open",this)}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"_viewportChanged",value:function(){this.buttonsCollapsed=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up)}},{key:"_newMessenger",value:function(){if(void 0!==this.quote&&void 0!==this.products&&void 0!==this.productIndex)return new H(this.quote,this.products[this.productIndex],this.prefix,this.currencyIsoCode)}},{key:"_updateQuoteFromPopupResponse",value:function(){this.quote=this.popupResponse.quote}}])&&K(e.prototype,n),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(P.a)(Object(V.a)(o.a)));function nt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}customElements.define(et.is,et);var it,at=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.searchFilters=e,this.prefix=n,this.fieldTypes=o}var e,n,o;return e=t,(n=[{key:"containsFeature",value:function(t){var e=this.searchFilters[this.prefix+"Feature__c"];return null==e||-1!==t.record.Name.toLowerCase().indexOf(e.toLowerCase())||void 0!==t.untranslatedRecord&&-1!==t.untranslatedRecord.Name.toLowerCase().indexOf(e.toLowerCase())}},{key:"hasVisibleOptions",value:function(t,e){if(t.length>0){for(var n=0,o=t.length;n<o;n++){if(!t[n].hidden)return!0;if(e&&e[t[n].record.Id])return!0}return!1}return!this.hasFilterValues()}},{key:"allOptionsHiddenByRule",value:function(t){var e,n=nt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(!1===o.hiddenByRule||null==o.hiddenByRule)return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"hasRequiredConfigAttributes",value:function(t,e){var n=e.configAttributesByFeatureId[t.record.Id];if(n){var o,r=nt(n);try{for(r.s();!(o=r.n()).done;)if(o.value.required)return!0}catch(t){r.e(t)}finally{r.f()}}return!1}},{key:"hasConfigAttributes",value:function(t,e){return!!e.configAttributesByFeatureId[t.record.Id]}},{key:"setOptionVisibility",value:function(t){var e=this;for(var n in this.searchFilters)""===this.searchFilters[n]&&(this.searchFilters[n]=null);for(var o=JSON.parse(JSON.stringify(t)),r=function(t,n){if(void 0===o[t].record[e.prefix+"UnitPrice__c"])return o[t].hidden=!0,"continue";if(o[t].isUpgrade)return"continue";var r=Object.keys(e.searchFilters).some((function(n){var r=e.searchFilters[n],i=o[t].record[n];return null!=r&&n!==e.prefix+"Feature__c"&&(null==i||("number"==typeof i?e.checkNumber(r,i):"multipicklist"===e.fieldTypes[n]?e.checkMultiPicklist(r,i):e.checkDefault(r,String(i),o[t].untranslatedRecord,n)))}));o[t].hidden=o[t].hiddenByRule||r},i=0,a=o.length;i<a;i++)r(i);return o}},{key:"hasFilterValues",value:function(){for(var t in this.searchFilters)if(null!==this.searchFilters[t])return!0;return!1}},{key:"checkDefault",value:function(t,e,n,o){return!(-1!==e.toLowerCase().indexOf(t.toLowerCase())||n&&n[o]&&-1!==n[o].toLowerCase().indexOf(t.toLowerCase()))}},{key:"checkNumber",value:function(t,e){var n=Number(t);return!(!Number.isNaN(n)&&""!==t)||e!==n}},{key:"checkMultiPicklist",value:function(t,e){var n=this,o=t.split(";"),r=e.split(";");return o.every((function(t){return r.every((function(e){return n.checkDefault(t,e)}))}))}}])&&rt(e.prototype,n),o&&rt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),st=n(48);var lt,ct=Object(T.b)(it||(it=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host paper-drawer-panel#drawer {\n  overflow: auto;\n  overflow-y: hidden;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n#drawer,\n#search {\n  position: relative;\n  top: inherit;\n  overflow-x: hidden !important;\n}\n#openPanel,\n#closePanel {\n  top: 50%;\n  position: fixed;\n  z-index: 3;\n  width: 16px;\n}\n#openPanel:hover,\n#closePanel:hover {\n  cursor: pointer;\n}\n#closePanel {\n  left: 295px;\n}\n.product-header {\n  background-color: var(--sbProductBundlesLayoutProductHeaderBgColor);\n  font-family: var(--sbProductBundlesLayoutProductHeaderFontFamily);\n  color: var(--sbProductBundlesLayoutProductHeaderColor);\n  font-size: var(--sbProductBundlesLayoutProductHeaderFontSize);\n  font-weight: var(--sbProductBundlesLayoutProductHeaderFontWeight);\n  font-style: var(--sbProductBundlesLayoutProductHeaderFontStyle);\n  text-decoration: var(--sbProductBundlesLayoutProductHeaderTextDecoration);\n  display: flex;\n  padding: 15px;\n  margin: 0;\n}\n.nav-item {\n  background-color: var(--sbNavigationDrawerRowColor);\n  border-bottom: 1px solid #d8dde6;\n  padding: 15px;\n  cursor: pointer;\n  text-transform: uppercase;\n}\n.nav-item[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1rem;\n}\n[class*='--mobile'] .nav-item {\n  font-weight: 400;\n  font-size: 1rem;\n}\n.nav-item:hover {\n  background-color: var(--sbNavigationDrawerRowHoverColor);\n}\n.mobile-panel {\n  font-weight: bold;\n}\n.hidden {\n  display: none;\n}\n.selected-tab {\n  background-color: var(--sbNavigationDrawerRowSelectedColor);\n}\n.back {\n  padding: 15px;\n}\n:host {\n  --paper-drawer-panel-scrim-width: 0px;\n}\n#bundleContainer[class*='--mobile'] {\n  left: 0 !important;\n  display: block;\n  margin-top: -1px;\n}\n[class*='--mobile'] #bundleContainer {\n  left: 0 !important;\n  display: block;\n  margin-top: -1px;\n}\n.title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n#bundleContainer {\n  position: relative;\n}\n#bundleContainer.transition {\n  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n  transition: transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n}\n.multiple-bundles {\n  float: right;\n}\n#bundleContainer[class*='--mobile'] {\n  float: none;\n}\n[class*='--mobile'] #bundleContainer {\n  float: none;\n}\n#bundleContainer.multiple-bundles.close[class*='--desktop'] {\n  width: calc(100% - 24px);\n}\n#bundleContainer.multiple-bundles.open[class*='--desktop'] {\n  width: calc(100% - 280px);\n}\n[class*='--desktop'] #bundleContainer.multiple-bundles.close {\n  width: calc(100% - 24px);\n}\n[class*='--desktop'] #bundleContainer.multiple-bundles.open {\n  width: calc(100% - 280px);\n}\n"])));n(99),n(24),n(34),n(72),n(185),n(70);var ut,dt=Object(T.b)(lt||(lt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\npaper-tooltip {\n  --paper-tooltip-padding: 5px;\n  --paper-tooltip-color: var(--sbFontColor);\n  --paper-tooltip-font-family: var(--sbFont);\n  --paper-tooltip-font-size: 14px;\n  --paper-tooltip-border-radius: 4px;\n  --paper-tooltip-z-index: 999;\n  --paper-tooltip-background-color: #fff;\n  --paper-tooltip-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  --paper-tooltip-border: var(--sbBtnBorder);\n  --paper-tooltip-opacity: 1;\n}\n:host {\n  --sbFieldWordWrap: break-word;\n}\n#feature-header {\n  background-color: var(--sbGroupHeaderBgColor);\n  border-bottom-color: var(--sbGroupHeaderBorderBottomColor);\n  border-bottom-style: solid;\n  border-bottom-width: var(--sbGroupHeaderBorderBottomWidth);\n  padding: 8px 15px 8px 15px;\n  margin: 0px;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n}\nh2 {\n  display: inline-block;\n  font-family: var(--sbGroupHeaderFontFamily);\n  font-size: var(--sbGroupHeaderFontSize);\n  color: var(--sbGroupHeaderFontColor);\n  font-weight: var(--sbGroupHeaderFontWeight);\n  font-style: var(--sbGroupHeaderFontStyle);\n  text-decoration: var(--sbGroupHeaderTextDecoration);\n}\n#tooltip-container {\n  float: right;\n  display: inline-block;\n}\n.sf-icon-info {\n  color: var(--sbBrandedButtonBackgroundColor);\n  font-size: 30px;\n  position: relative;\n  top: -7px;\n}\n#additional-information-tooltip {\n  min-width: 155px;\n  max-width: 320px;\n}\n#instructions {\n  display: flex;\n  justify-content: space-between;\n  color: var(--sbProductFeatureHeaderInstructionsColor);\n  font-family: var(--sbProductFeatureHeaderInstructionsFontFamily);\n  font-size: var(--sbProductFeatureHeaderInstructionsFontSize);\n  font-weight: var(--sbProductFeatureHeaderInstructionsFontWeight);\n  font-style: var(--sbProductFeatureHeaderInstructionsFontStyle);\n  text-decoration: var(--sbProductFeatureHeaderInstructionsTextDecoration);\n  padding-top: var(--sbProductFeatureHeaderInstructionsPaddingTop);\n  padding-right: var(--sbProductFeatureHeaderInstructionsPaddingRight);\n  padding-bottom: var(--sbProductFeatureHeaderInstructionsPaddingBottom);\n  padding-left: var(--sbProductFeatureHeaderInstructionsPaddingLeft);\n}\n.group {\n  margin: 15px;\n  border-color: var(--sbGroupBorderColor);\n  border-style: solid;\n  border-width: var(--sbGroupBorderWidth);\n  border-radius: 4px;\n}\n.footer-attributes {\n  background-color: var(--sbGroupHeaderBgColor);\n  padding: 4px 15px 8px 15px;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n#feature-header[class*='--mobile'] {\n  font-weight: 400;\n  color: #16325c;\n  min-height: 1.1rem;\n}\n#feature-sub-header[class*='--mobile'] {\n  padding: 15px;\n}\n#feature-sub-header[class*='--mobile'],\n#feature-tabs[class*='--mobile'],\n#feature-body[class*='--mobile'],\n.footer-attributes[class*='--mobile'] {\n  display: none;\n}\n#feature-sub-header.expanded[class*='--mobile'],\n#feature-tabs.expanded[class*='--mobile'],\n#feature-body.expanded[class*='--mobile'] {\n  display: block;\n}\n#feature-sub-header.expanded[class*='--mobile'] #instructions {\n  flex-flow: column;\n}\n.primary.first[class*='--mobile']:after {\n  margin-top: 0px !important;\n}\n.first-feature[class*='--mobile'] header {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n#feature-header.expanded[class*='--mobile'] {\n  border-bottom: 0;\n}\n#feature-sub-header.expanded[class*='--mobile'] {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n#feature-body.expanded[class*='--mobile'] {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.loadingSpinner[class*='--mobile'] {\n  position: absolute;\n  left: calc(100% - 20px);\n  margin-top: -28px;\n}\n[class*='--mobile'] #feature-header {\n  font-weight: 400;\n  color: #16325c;\n  min-height: 1.1rem;\n}\n[class*='--mobile'] #feature-sub-header {\n  padding: 15px;\n}\n[class*='--mobile'] #feature-sub-header,\n[class*='--mobile'] #feature-tabs,\n[class*='--mobile'] #feature-body,\n[class*='--mobile'] .footer-attributes {\n  display: none;\n}\n[class*='--mobile'] #feature-sub-header.expanded,\n[class*='--mobile'] #feature-tabs.expanded,\n[class*='--mobile'] #feature-body.expanded {\n  display: block;\n}\n[class*='--mobile'] #feature-sub-header.expanded #instructions {\n  flex-flow: column;\n}\n[class*='--mobile'] .primary.first:after {\n  margin-top: 0px !important;\n}\n[class*='--mobile'] .first-feature header {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] #feature-header.expanded {\n  border-bottom: 0;\n}\n[class*='--mobile'] #feature-sub-header.expanded {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] #feature-body.expanded {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] .loadingSpinner {\n  position: absolute;\n  left: calc(100% - 20px);\n  margin-top: -28px;\n}\n"])));n(36),n(81);var pt,ht=Object(T.b)(ut||(ut=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.tr {\n  text-align: center;\n  vertical-align: top;\n  display: flex;\n}\n.td {\n  width: 33%;\n}\n.td[class*='--mobile'] {\n  width: 100%;\n}\n[class*='--mobile'] .td {\n  width: 100%;\n}\n.header-attributes {\n  padding: 0 30px 8px;\n}\n.header-attributes[class*='--mobile'] {\n  padding: 0 0 0 25px;\n}\n[class*='--mobile'] .header-attributes {\n  padding: 0 0 0 25px;\n}\n.footer-attributes {\n  padding: 0 30px 15px 30px;\n}\n.footer-attributes[class*='--mobile'] {\n  padding: 0 0 0 25px;\n}\n[class*='--mobile'] .footer-attributes {\n  padding: 0 0 0 25px;\n}\n.tr[class*='--mobile'] {\n  flex-flow: column;\n}\n#table[class*='--mobile'] {\n  padding-left: 25px;\n  border-top: var(--sbAttributeTableBorderTop, 1px solid #d8dde6);\n}\n:host([class*='--mobile'][label='Attributes']) #table {\n  border-bottom: 1px solid #d8dde6;\n}\n:host([class*='--mobile'][label='Attributes']) {\n  --sbAttributeTableBorderTop: 0;\n}\n[class*='--mobile'] .tr {\n  flex-flow: column;\n}\n[class*='--mobile'] #table {\n  padding-left: 25px;\n  border-top: var(--sbAttributeTableBorderTop, 1px solid #d8dde6);\n}\n:host([class*='--mobile'][label='Attributes']) #table {\n  border-bottom: 1px solid #d8dde6;\n}\n:host([class*='--mobile'][label='Attributes']) {\n  --sbAttributeTableBorderTop: 0;\n}\n"]))),ft=n(22);var bt,yt=Object(T.b)(pt||(pt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.td {\n  display: flex;\n  padding-top: 4px;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n}\n.td > .label {\n  text-align: right;\n  padding-right: 10px;\n  width: 40%;\n  align-self: center;\n  white-space: normal;\n  color: var(--sbConfigAttrLabelColor);\n  font-size: 13px;\n}\n.td > .field {\n  text-align: left;\n  padding-left: 10px;\n  width: 60%;\n  border-left: transparent solid;\n  padding-left: 2px;\n}\n.td > .field[class*='--mobile'] {\n  width: 105%;\n}\n[class*='--mobile'] .td > .field {\n  width: 105%;\n}\n.td > .sb-icon-help-circled {\n  font-size: var(--sbFontSizeDefault);\n}\n.td > .mandatory-no-value {\n  border-left: #c23934 solid;\n  padding-left: 2px;\n}\n.td[class*='--mobile'] {\n  flex-direction: column;\n  padding: 18px 0 12px;\n  text-transform: uppercase;\n  max-width: 90%;\n}\n.td[class*='--mobile'] > .label {\n  text-align: left;\n  align-self: auto;\n  width: 100%;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] > .field {\n  padding-left: 0;\n  width: 100%;\n}\n.td.attributeItem[class*='--mobile'] {\n  max-width: 100%;\n}\n[class*='--mobile'] .td {\n  flex-direction: column;\n  padding: 18px 0 12px;\n  text-transform: uppercase;\n  max-width: 90%;\n}\n[class*='--mobile'] .td > .label {\n  text-align: left;\n  align-self: auto;\n  width: 100%;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: .95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td > .field {\n  padding-left: 0;\n  width: 100%;\n}\n[class*='--mobile'] .td.attributeItem {\n  max-width: 100%;\n}\n"])));function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ot(t,e){return(Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=St(t);if(e){var r=St(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xt(this,n)}}function xt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ct,Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}(a,t);var e,n,r,i=kt(a);function a(){return _t(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-attribute-item"}},{key:"properties",get:function(){return{value:{notify:!0,observer:"_notifyAttributeChanged"},item:String,model:Object,md:Object,data:{type:Object,notify:!0},label:{type:String,reflectToAttribute:!0}}}},{key:"observers",get:function(){return["_setAttributeMDObserver(item, model, targetField)","_setTargetFieldObserver(item, model)","_setRequiredObserver(value, model, attributeMD)","setLabel(md)"]}},{key:"template",get:function(){return Object(o.b)(bt||(bt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t\n\t\t<div device class="td attributeItem">\n\t\t\t<div class="label">[[label]]</div>\n\t\t\t<div class="field" id="attributeField">\n\t\t\t\t<sb-field\n\t\t\t\t\tid="field"\n\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\tmd="[[md]]"\n\t\t\t\t\tediting=true\n\t\t\t\t\tproperty="[[item]]"\n\t\t\t\t></sb-field>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),yt)}}],(n=[{key:"_setRequiredObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setRequired(t,e,n)}},{key:"setRequired",value:function(){!1!==this.attributeMD.required&&!0!==this.attributeMD.autoSelect&&Object(M.m)("mandatory-no-value",!1===this.isValidValue(),this.$.attributeField)}},{key:"isValidValue",value:function(){return!(void 0===this.value||null===this.value||""===this.value)}},{key:"_setAttributeMDObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setAttributeMD(t,e,n)}},{key:"setAttributeMD",value:function(){if(this.model.fields){this.attributeMD=this.model.attributeMD[this.item],this.$.field.disabled=this.attributeMD.autoSelect,this.hidden=this.attributeMD.hidden;var t=JSON.parse(JSON.stringify(this.model.fields[this.targetField]));"picklist"!==t.type&&"multipicklist"!==t.type||(t.picklistValues=this.getPicklistValues(t.picklistValues),t.required=this.attributeMD.required),this.md=t}}},{key:"_setTargetFieldObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setTargetField(t,e)}},{key:"setTargetField",value:function(){this.$.field.record=this,this.targetField=this.model.attributeMD[this.item].targetFieldName}},{key:"setLabel",value:function(){this.label=this.md.label}},{key:"getPicklistValues",value:function(t){if(void 0===this.attributeMD)return t;if(!this.attributeMD.shownValues&&!this.attributeMD.hiddenValues)return t;var e=this.attributeMD.shownValues||[];if(!this.attributeMD.shownValues){var n,o=vt(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;e.push(r.value)}}catch(t){o.e(t)}finally{o.f()}}var i=this.attributeMD.hiddenValues||[];return t.filter((function(t){return-1!==e.indexOf(t.value)&&-1===i.indexOf(t.value)}))}},{key:"_notifyAttributeChanged",value:function(t){this.model&&this.dispatchEvent(Object(U.d)("sb-config-attribute-changed",{Id:this.item,bundleId:this.model.attributeMD[this.item].bundleId,changed:!0,path:!0}))}},{key:"getValue",value:function(t){var e=this.model.attributeFieldMD[t];if(e&&e.length>0)return this.data[e[0]]}},{key:"setValue",value:function(t,e){this.set("data."+t,e)}},{key:"equals",value:function(t){return this.data===t.data}}])&&wt(e.prototype,n),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(ft.a)(Object(P.a)(o.a)));function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function It(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){if(t){if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,e):void 0}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function At(){return(At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Rt(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Rt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nt(t)););return t}function Lt(t,e){return(Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Nt(t);if(e){var r=Nt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Et.is,Et);var zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}(a,t);var e,n,r,i=qt(a);function a(){return Mt(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-attribute-table"}},{key:"properties",get:function(){return{featureId:String,position:String,model:Object,configAttributes:Object,addedClass:String,md:Object,showTable:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return D.a.getViewport()}},spinner:{type:Boolean,notify:!0}}}},{key:"observers",get:function(){return["_generateColumnsObserver(featureId, model, configAttributes, md)","_getMDObserver(configAttributes, model)","bindDataToModel(configAttributes.*)"]}},{key:"template",get:function(){return Object(o.b)(Ct||(Ct=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t\n\t\t<sb-field-md id="optionFieldMetadata" object="ProductOption__c" background="true"></sb-field-md>\n\t\t<div device id="table" class$="table [[addedClass]]" hidden$="[[!showTable]]">\n\t\t\t<div class="tr">\n\t\t\t\t<div class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="firstColumn"\n\t\t\t\t\t\t\titem="sb-attribute-item"\n\t\t\t\t\t\t\tdata="{{configAttributes}}"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="secondColumn"\n\t\t\t\t\t\t\titem="sb-attribute-item"\n\t\t\t\t\t\t\tdata="{{configAttributes}}"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="thirdColumn"\n\t\t\t\t\t\t\titem="sb-attribute-item"\n\t\t\t\t\t\t\tdata="{{configAttributes}}"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),ht)}}],(n=[{key:"ready",value:function(){At(Nt(a.prototype),"ready",this).call(this),this.$.optionFieldMetadata.addEventListener("md-changed",function(t){this.setMD(t),this.spinner=!1}.bind(this)),this.addEventListener("lookup-value-changed",this._setReferencedData.bind(this))}},{key:"_getMDObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.getMD(t,e)}},{key:"getMD",value:function(){this.spinner=!0;var t={},e=this.model.configurationAttributeModelMap;for(var n in e)t[e[n].targetFieldName]=null;this.$.optionFieldMetadata.fields=Object.keys(t)}},{key:"setMD",value:function(t){this.md={fields:t.detail.value.fieldsByObject[this.model.prefix+"ProductOption__c"],attributeMD:this.model.configurationAttributeModelMap,attributeFieldMD:this.model.configurationAttributeTargetFieldMap}}},{key:"_generateColumnsObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.generateColumns(t,e,n,o)}},{key:"prepareColumns",value:function(t,e){for(var n=[],o=[],r=[],i=t.length,a=0;a<i;a++){var s=t[a].myId;t[a].position!=e&&e||(1==t[a].columnOrder?n.push(s):2==t[a].columnOrder?o.push(s):r.push(s))}return[n,o,r]}},{key:"createFeatureAttributesByFieldName",value:function(t,e){for(var n={},o=t.length,r=0;r<o;r++){var i=t[r].myId;e.attributeMD[i].processed=!0;var a=t[r].targetFieldName,s=n[a]||[];s.push(i),n[a]=s}return n}},{key:"generateColumns",value:function(t,e,n,o){var r=(e.configAttributesByFeatureId[t]||[]).filter((function(t){return o.fields&&o.fields.hasOwnProperty(t.targetFieldName)})),i=It(this.prepareColumns(r,this.position),3),a=i[0],s=i[1],l=i[2];this.normalizeData(this.createFeatureAttributesByFieldName(r,o)),this.setColumns(a,s,l)}},{key:"normalizeData",value:function(t){for(var e in t){var n=t[e],o=this.md.attributeFieldMD[e];if(o.length<=n.length)return;var r,i=Tt(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(-1===n.indexOf(a)&&this.md.attributeMD[a].processed){var s,l=Tt(n);try{for(l.s();!(s=l.n()).done;){var c=s.value;this.configAttributes[c]=this.configAttributes[a]}}catch(t){l.e(t)}finally{l.f()}break}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"setColumns",value:function(t,e,n){t.length>0&&(this.showTable=!0,this.$.firstColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.firstColumn.setFromChildToParentExtension(this.captureCallBack),this.$.firstColumn.model=this.md,this.$.firstColumn.group||(this.$.firstColumn.group=t)),e.length>0&&(this.showTable=!0,this.$.secondColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.secondColumn.setFromChildToParentExtension(this.captureCallBack),this.$.secondColumn.model=this.md,this.$.secondColumn.group||(this.$.secondColumn.group=e)),n.length>0&&(this.showTable=!0,this.$.thirdColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.thirdColumn.setFromChildToParentExtension(this.captureCallBack),this.$.thirdColumn.model=this.md,this.$.thirdColumn.group||(this.$.thirdColumn.group=n))}},{key:"captureCallBack",value:function(t){var e=this.elements,n=t.path.split(".")[1];if(void 0!==n)for(var o=this.model.attributeMD[n].targetFieldName,r=0,i=e.length;r<i;r++)e[r].item.split(".")[0]!==n&&this.model.attributeMD[e[r].item].targetFieldName===o&&(e[r].value=t.value)}},{key:"bindDataToModel",value:function(t){if(void 0!==t.path&&"configAttributes"!==t.path){var e=this._getTargetFieldNameFromModel(t.path.split(".")[1]);this.model.product.configuration.configurationData[e]=t.value}}},{key:"_setReferencedData",value:function(t){if(t&&t.detail&&t.detail.obj&&t.detail.item){var e=this._getTargetFieldNameFromModel(t.detail.item),n=this.md.fields[e].relationshipName;if(null!==n){var o=null===t.detail.value?null:{attributes:t.detail.obj.attributes,Id:t.detail.obj.Id,Name:t.detail.obj.Name};this.model.product.configuration.configurationData[n]=o}}}},{key:"_getTargetFieldNameFromModel",value:function(t){return this.model.configurationAttributeModelMap[t].targetFieldName}},{key:"isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}}])&&Dt(e.prototype,n),r&&Dt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(P.a)(o.a));customElements.define(zt.is,zt);var Ht;n(168);function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||Wt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,e){if(t){if("string"==typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(t,e):void 0}}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kt(){return(Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=Yt(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function Yt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}function Xt(t,e){return(Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=te(t);if(e){var r=te(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Zt(this,n)}}function Zt(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(s,t);var e,n,r,i=Jt(s);function s(){return Gt(this,s),i.apply(this,arguments)}return e=s,r=[{key:"is",get:function(){return"sb-product-feature"}},{key:"properties",get:function(){return{featureId:String,model:Object,maxOptions:Object,feature:Object,fieldSetKey:String,fieldSetHandler:Object,tabNames:{type:Array,readOnly:!0,value:["options","attributes"]},tabs:{type:Array,value:[]},viewport:{type:Object,value:function(){return D.a.getViewport()}},configSearch:Object,isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(viewport)"},hasConfigAttributes:{type:Boolean,value:!1,computed:"_setHasConfigAttributes(model, featureId)"},hasTopConfigAttributes:{type:Boolean,computed:"_setHasTopConfigAttributes(model, featureId)"},hasBottomConfigAttributes:{type:Boolean,computed:"_setHasBottomConfigAttributes(model, featureId)"},mobileHasConfigAttributes:{type:Boolean,value:!1},hasOptions:{type:Boolean,computed:"_setHasOptions(model, featureId)"},mobileHasOptions:Boolean,hasOptionsAndConfigAttributes:{type:Boolean,value:!1,computed:"_setHasOptionsAndConfigAttributes(hasConfigAttributes, hasOptions)"},mobileHasOptionsAndConfigAttributes:Boolean,hasInstructions:{type:Boolean,computed:"_setHasInstructions(feature)"},mobileHasInstructions:Boolean,expanded:{type:Boolean,value:!1},selectedOptions:{type:Number,value:0},hasSelectedOptions:{type:Boolean,value:!1,computed:"_hasSelectedOptions(selectedOptions)"},featureIndex:Number,configAttributes:{type:Object,notify:!0},hasUpgradeOptions:{type:Boolean,computed:"_setHasUpgradedOptions(feature)"},mobileRendering:{type:Boolean,value:!1},mobileExpanded:{type:Boolean,value:!1},spinner:{type:Boolean,notify:!0},tabIndex:{type:Number,value:null}}}},{key:"observers",get:function(){return["_renderObserver(featureId, model)","_buildTabsObserver(viewport, model, featureId)","featureChanged(feature)","_initFieldSetObserver(model, fieldSetKey, fieldSetHandler)"]}},{key:"template",get:function(){return Object(o.b)(Ht||(Ht=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-icons-styles sb-tables-styles"></style>\n\n\t\t<div device id="feature">\n\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t<header id="feature-header" class="primary first" on-click="mobileExpand">\n\t\t\t\t\t<span id="feature-name">[[feature.record.Name]]</span>\n\t\t\t\t\t<span hidden$="[[hasSelectedOptions]]">&nbsp;([[selectedOptions]])</span>\n\t\t\t\t</header>\n\t\t\t\t<sf-loading-spinner class="loadingSpinner" invisible$="[[!mobileRendering]]" show="truthy" position="relative" size="small"></sf-loading-spinner>\n\n\t\t\t\t<template is="dom-if" if="[[mobileHasInstructions]]">\n\t\t\t\t\t\t<div id="feature-sub-header">\n\t\t\t\t\t\t\t<div id="instructions">\n\t\t\t\t\t\t\t\t<i class="sf-icon-warning" hidden$="[[!!feature.instructionsText]]"> <span id="instructions-text">[[feature.instructionsText]]</span></i>\n\t\t\t\t\t\t\t\t<p id="additional-instructions" hidden$="[[!feature.additionalInstructions]]">[[feature.additionalInstructions]]</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div id="feature-tabs">\n\t\t\t\t\t<template is="dom-if" if="[[mobileHasOptionsAndConfigAttributes]]">\n\t\t\t\t\t\t<sb-tabs secondary-tabs\n\t\t\t\t\t\t\t\ttabs="[[tabs]]"\n\t\t\t\t\t\t\t \tmodel="[[model]]"\n\t\t\t\t\t\t\t \tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t \tfield-set="[[fieldSet]]"\n\t\t\t\t\t\t\t \tfield-set-name="[[fieldSetName]]"\n\t\t\t\t\t\t\t \troute-source="[[routeSource]]"\n\t\t\t\t\t\t\t \tis-click-selection="[[isClickSelection]]"\n\t\t\t\t\t\t\t \tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<template is="dom-if" if="[[!mobileHasOptionsAndConfigAttributes]]">\n\t\t\t\t\t<div id="feature-body">\n\t\t\t\t\t\t<template is="dom-if" if="[[mobileHasConfigAttributes]]">\n\t\t\t\t\t\t\t<div class="attribute-table-wrapper">\n\t\t\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\t\t\tid="configAttributesTop"\n\t\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\t\tposition="Top"\n\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template is="dom-if" if="[[mobileHasOptions]]">\n\t\t\t\t\t\t\t<sb-product-option-table\n\t\t\t\t\t\t\t\t\tid="ot"\n\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\tfield-set="[[fieldSet]]"\n\t\t\t\t\t\t\t\t\tfield-set-name="[[fieldSetName]]"\n\t\t\t\t\t\t\t\t\troute-source="[[routeSource]]"\n\t\t\t\t\t\t\t\t\tis-click-selection="[[isClickSelection]]"\n\t\t\t\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t\t\t\t\t></sb-product-option-table>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template is="dom-if" if="[[mobileHasConfigAttributes]]">\n\t\t\t\t\t\t\t<div class="attribute-table-wrapper">\n\t\t\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\t\t\tid="configAttributesBottom"\n\t\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\t\tposition="Bottom"\n\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t<header id="feature-header" class="primary first" on-click="domExpand">\n\t\t\t\t\t<h2 id="feature-name">[[feature.record.Name]]</h2>\n\n\t\t\t\t\t<template is="dom-if" if="[[hasUpgradeOptions]]">\n\t\t\t\t\t\t<div id="tooltip-container">\n\t\t\t\t\t\t\t<div id="additional-instructions-icon" class="sf-icon-info"></div>\n\t\t\t\t\t\t\t<paper-tooltip for="additional-instructions-icon" fit-to-visible-bounds="true" position="left" offset="20" animation-delay="0" id="additional-information-tooltip">\n\t\t\t\t\t\t\t\t<sb-i18n key="showAvailableUpgrades">This feature has products available for upgrade, click the Show Available Upgrades button at the bottom of the feature to select upgrade options.</sb-i18n>\n\t\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div id="feature-sub-header">\n\t\t\t\t\t\t<template is="dom-if" if="[[hasInstructions]]">\n\t\t\t\t\t\t\t<div id="instructions">\n\t\t\t\t\t\t\t\t<p id="instructions-text">[[feature.instructionsText]]</p>\n\t\t\t\t\t\t\t\t<p id="additional-instructions">[[feature.additionalInstructions]]</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template is="dom-if" if="[[hasTopConfigAttributes]]">\n\t\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\t\tid="configAttributesTop"\n\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\tposition="Top"\n\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\n\t\t\t\t<template is="dom-if" if="[[hasOptions]]">\n\t\t\t\t\t<div id="feature-body">\n\t\t\t\t\t\t<sb-product-option-table\n\t\t\t\t\t\t\t\tid="ot" model="{{model}}"\n\t\t\t\t\t\t\t\ttab-index="[[tabIndex]]"\n\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\tfield-set="[[fieldSet]]"\n\t\t\t\t\t\t\t\tfield-set-name="[[fieldSetName]]"\n\t\t\t\t\t\t\t\troute-source="[[routeSource]]"\n\t\t\t\t\t\t\t\tis-click-selection="[[isClickSelection]]"\n\t\t\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t\t></sb-product-option-table>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div class="footer-attributes">\n\t\t\t\t\t<template is="dom-if" if="[[hasBottomConfigAttributes]]">\n\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\tid="configAttributesBottom"\n\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\tposition="Bottom"\n\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),dt)}}],(n=[{key:"ready",value:function(){var t=this;Object.entries({"selection-changed":"handleSelectionCounter"}).map((function(e){var n=Vt(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),Kt(te(s.prototype),"ready",this).call(this)}},{key:"events",get:function(){var t={};return t[U.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"_setHasUpgradedOptions",value:function(){return this.model.getHasUpgradeOptions(this.feature)}},{key:"_hasSelectedOptions",value:function(t){return!t}},{key:"_renderObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.render(t,e)}},{key:"render",value:function(){this.model.featureIdsWithOptionsOrConfigAttr[this.featureId]&&(this.setFeatureAndOptionSelectionMethod(),this.setOptionsDetails(),this.setFieldSetHandler(),this.renderFeatureInDesktopOrMobileView(),this.initSelectedOptions(),this.handleDeleteOptions(),this.handleOptionChangedByRule())}},{key:"_buildTabsObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.buildTabs(t,e,n)}},{key:"buildTabs",value:function(){if(this.isMobile){var t=E.a.properties.i18n.value(),e={name:"t1",label:t.l("Options"),pageComponent:"sb-product-option-table",attributes:[{name:"id",value:"ot"}],bind:["model","featureId","fieldSet","fieldSetName","routeSource","isClickSelection","disabledStateMap","configSearch","hasUpgradeOptions"]},n={name:"t2",label:t.l("Attributes"),pageComponent:"sb-attribute-table",attributes:[{name:"id",value:"configAttributesTop"},{name:"added-class",value:"header-attributes"}],bind:["featureId","model","configAttributes"]};this.tabs=[e,n]}}},{key:"setFieldSetHandler",value:function(){this.fieldSetHandler=new L.a(this.model.product.optionFieldSets,"OptionConfiguration","OptionConfigurationTablet","OptionConfigurationPhone")}},{key:"setFeatureAndOptionSelectionMethod",value:function(){this.feature=this.model.getFeature(this.featureId)}},{key:"setOptionsDetails",value:function(){this.isClickSelection="Click"===this.feature.optionSelectionMethod,this.routeSource="Configurator"}},{key:"featureChanged",value:function(){var t=this.feature.record[this.model.prefix+"ConfigurationFieldSet__c"];this.fieldSetKey=void 0===t?null:t}},{key:"setFieldSetFromViewport",value:function(){var t=this.fieldSetHandler.getByViewport(this.viewport);this.fieldSet=t.fields,this.fieldSetName=t.name}},{key:"_initFieldSetObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.initFieldSet(t,e,n)}},{key:"initFieldSet",value:function(){this.fieldSetKey?(this.fieldSet=this.model.product.optionFieldSets[this.fieldSetKey],this.fieldSetName=this.fieldSetKey):this.setFieldSetFromViewport()}},{key:"_setIsMobile",value:function(t){if(t)return t.isMobile()}},{key:"_setHasConfigAttributes",value:function(t,e){var n=this.model.configAttributesByFeatureId[e];if(!n)return!1;for(var o=0;o<n.length;o++)if(!n[o].hidden)return!0;return!1}},{key:"_setHasTopConfigAttributes",value:function(t,e){return this._hasTopOrBottomConfigAttributes("Top",e)}},{key:"_setHasBottomConfigAttributes",value:function(t,e){return this._hasTopOrBottomConfigAttributes("Bottom",e)}},{key:"_hasTopOrBottomConfigAttributes",value:function(t,e){if(!this.model.configAttributesByFeatureId[e])return!1;var n,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Wt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.model.configAttributesByFeatureId[e]);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.position===t&&!r.hidden)return!0}}catch(t){o.e(t)}finally{o.f()}return!1}},{key:"_setHasOptions",value:function(){return!!this.model.optionsByFeatureId[this.featureId]||this.model.featureIdsWIthSelectionMethodDynamic[this.featureId]}},{key:"_setHasOptionsAndConfigAttributes",value:function(t,e){return!(!t||!e)}},{key:"_setHasInstructions",value:function(){return!!this.feature.instructionsText||!!this.feature.additionalInstructions}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport,this.fieldSetKey||this.setFieldSetFromViewport()}},{key:"renderFeatureInDesktopOrMobileView",value:function(){Object(M.m)("group",!this.isMobile,this.$.feature)}},{key:"applyFilters",value:function(){var t=this.model.getOptionsByFeatureId(this.featureId),e=new ConfiguratorSearch(this.searchFilters,t,{});this.filtered=!e.hasOptions||!e.containsFeature(this.feature)}},{key:"mobileExpand",value:function(t){this.mobileExpanded?this.expand(t.composedPath()):this.mobileRendering||(this.mobileRendering=!0,Object(M.m)("first",!1,this.shadowRoot.querySelector("header")),Object(a.a)(this,function(t){this.mobileHasInstructions=this.hasInstructions,this.mobileHasOptionsAndConfigAttributes=this.hasOptionsAndConfigAttributes,this.mobileHasConfigAttributes=this.hasConfigAttributes,this.mobileHasOptions=this.hasOptions,this.observeNode(this.$.feature,function(){this.mobileExpanded=!0,this.mobileRendering=!1,Object(M.m)("first",!0,this.shadowRoot.querySelector("header")),this.expand(t)}.bind(this))}.bind(this,t.composedPath())))}},{key:"domExpand",value:function(t){this.expand(t.composedPath())}},{key:"expand",value:function(t){this.expanded=!this.expanded,this.dispatchEvent(Object(U.d)("feature-expanded",{expanded:this.expanded,path:t}))}},{key:"initSelectedOptions",value:function(){for(var t=""!==E.a.org.prefix?E.a.org.prefix+"__":"",e=this.model.getOptionsByFeatureId(this.featureId),n=0,o=e.length;n<o;n++)if(e[n].selected&&this.selectedOptions++,void 0===e[n].record[t+"UnitPrice__c"])return console.warn("Option is missing entry in selected pricebook => "+e[n].record[t+"ProductCode__c"]+": "+e[n].record[t+"ProductName__c"]),!0}},{key:"handleSelectionCounter",value:function(t){t.detail.changed&&("radio"!==t.detail.selectionType?(this.selectedOptions||t.detail.selected)&&(this.selectedOptions+=t.detail.selected?1:-1):this.selectedOptions=t.detail.selected?1:0)}},{key:"handleDeleteOptions",value:function(t){this.addEventListener("delete-tapped",(function(t){this.selectedOptions>0&&this.selectedOptions--}))}},{key:"handleOptionChangedByRule",value:function(t){this.addEventListener("option-changed-by-rule",(function(t){t.detail.added?this.selectedOptions++:this.selectedOptions--}))}}])&&$t(e.prototype,n),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(st.a)(Object(P.a)(Object(V.a)(o.a))));customElements.define(ee.is,ee);var ne,oe=n(138);var re,ie=Object(T.b)(ne||(ne=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-tabs[class*='--desktop']::shadow #paperTabContainer {\n  border: none;\n}\n[class*='--desktop'] sb-tabs::shadow #paperTabContainer {\n  border: none;\n}\n"])));n(50);var ae,se=Object(T.b)(re||(re=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\ndiv {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n.empty {\n  margin: 15px;\n  padding: 15px;\n  background: #f4f6f9;\n  border: 1px solid #d0d0d0;\n  border-radius: 4px;\n  overflow: auto;\n}\n"])));function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function de(t,e){return(de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=fe(t);if(e){var r=fe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return he(this,n)}}function he(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var be,ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(s,t);var e,n,r,i=pe(s);function s(){return ce(this,s),i.apply(this,arguments)}return e=s,r=[{key:"is",get:function(){return"sb-product-feature-list"}},{key:"properties",get:function(){return{features:Object,configSearch:Object,model:Object,label:String,spinner:{type:Boolean,value:!1},show:{type:Boolean,value:!1},tabIndex:{type:Number,value:null},viewport:{type:Object,value:function(){return D.a.getViewport()}}}}},{key:"observers",get:function(){return["_initFeaturesObserver(label, model)","_filterFeaturesObserver(configSearch, features, model)","filterFeaturesFromRules(model.productRulesActions)","handleFeatureExpandEvent(features)","_setFeatureOptionsAsRenderedObserver(show, features, model)","_initLazyTabRenderingObserver(tabIndex, viewport)"]}},{key:"template",get:function(){return Object(o.b)(ae||(ae=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<div id="featureList">\n\t\t\t<template is="dom-if" if="[[show]]">\n\t\t\t\t<template id="features" class="features" is="dom-repeat" items="{{features}}" as="feature">\n\t\t\t\t\t<sb-product-feature\n\t\t\t\t\t\t\tfeature-id="[[feature.record.Id]]"\n\t\t\t\t\t\t\tname$="[[feature.record.Name]]"\n\t\t\t\t\t\t\thidden$="[[feature.hidden]]"\n\t\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\t\ttab-index="[[tabIndex]]"\n\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t></sb-product-feature>\n\n\t\t\t\t\t<template is="dom-if" if="[[_showNoVisibleOptionsInFeatureMessage(feature.hidden)]]">\n\t\t\t\t\t\t<div class="empty"><sb-i18n key="No visible options in feature" value="[[feature.record.Name]]">No visible options in feature \'{0}\'</sb-i18n></div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),se)}}],(n=[{key:"_initLazyTabRenderingObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.initLazyTabRendering(t,e)}},{key:"initLazyTabRendering",value:function(t,e){this.show=!0===this.isMobile()||null===t,!1===this.show&&this.addEventListener("sb-tab-selected",this.handleTabSelected.bind(this))}},{key:"_initFeaturesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.initFeatures(t,e)}},{key:"initFeatures",value:function(){this.features=this.features||this.model.getTabFeaturesMap()[this.label]}},{key:"filterFeaturesFromRules",value:function(t){this.configSearch&&this.features&&t&&Object.keys(t).length>0&&this.filterFeatures(this.configSearch,this.features,this.model,t)}},{key:"_filterFeaturesObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.filterFeatures(t,e,n)}},{key:"filterFeatures",value:function(t,e,n,o){Object(M.d)(this)?this._filterFeatures(t,e,n,o):this._filterQueuedForNextRender||(Object(a.a)(this,this._filterFeatures.bind(this,t,e,n,o)),this._filterQueuedForNextRender=!0)}},{key:"_filterFeatures",value:function(t,e,n,o){for(var r=!0,i=0,a=this.features.length;i<a;i++)r=this._filterFeatureByIndex(t,e,n,o,i)&&r;this._parentHandleContentFiltered(!r),this._filterQueuedForNextRender=!1}},{key:"_parentHandleContentFiltered",value:function(t){if(null!=this.label){var e=Object(M.d)(this);e&&"function"==typeof e.contentFilteredHandler&&e.contentFilteredHandler(this.label,t)}}},{key:"_filterFeatureByIndex",value:function(t,e,n,o,r){var i=o?o.showOptions:null,a=n.optionsByFeatureId[e[r].record.Id]||[];a=t.setOptionVisibility(a);var s=this._hideFeature(t,e[r],n,a,i);return this.set("features."+r+".hidden",s),s}},{key:"_hideFeature",value:function(t,e,n,o,r){if(t.hasRequiredConfigAttributes(e,n))return!1;if(!t.containsFeature(e))return!0;if(t.hasVisibleOptions(o,r))return!1;var i=t.allOptionsHiddenByRule(o),a=t.hasConfigAttributes(e,n);if(i&&a)return!1;var s=e.optionSelectionMethod;return"Click"===s||!!n.maxOptionsMet(e)||"Dynamic"!==s&&!t.hasVisibleOptions(e._transient_.optionConfigurations,r)}},{key:"handleFeatureExpandEvent",value:function(){this.addEventListener("feature-expanded",function(t){t.detail.path.forEach(function(e){if("feature-header"===e.id)for(;e.nextElementSibling;)e.classList.toggle("expanded",t.detail.expanded),e=e.nextElementSibling}.bind(this))}.bind(this))}},{key:"handleTabSelected",value:function(){!0!==this.show&&(this.spinner=!0,setTimeout(this.renderComponent.bind(this),10))}},{key:"renderComponent",value:function(){this.renderingComponent||(this.renderingComponent=!0,Object(a.a)(this,function(){this.show=!0,this.spinner=!1,this.renderingComponent=!1}.bind(this)))}},{key:"prefix",get:function(){return E.a.org.prefix?E.a.org.prefix+"__":""}},{key:"isMobile",value:function(){return!(!this.viewport||!this.viewport.isMobile())}},{key:"_setFeatureOptionsAsRenderedObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setFeatureOptionsAsRendered(t,e,n)}},{key:"setFeatureOptionsAsRendered",value:function(){var t=this;!1!==this.show&&this.features.forEach((function(e){t.model.getOptionsByFeatureId(e.record.Id).forEach((function(n){"Add"==e.optionSelectionMethod&&(n=t.model.product.options.find((function(t){return t.record.Id===n.record.Id}))),n._transient_=n._transient_||{},n._transient_.rendered=!0}))}))}},{key:"_showNoVisibleOptionsInFeatureMessage",value:function(t){return!(!t||E.a.isHideFeatureNoOptionEnabled)}}])&&ue(e.prototype,n),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(ft.a)(o.a));customElements.define(ye.is,ye);var ge,ve=Object(T.b)(be||(be=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\nheader {\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 18px 13px 8px;\n  font-weight: 500;\n  color: #16325c;\n  text-align: center;\n  text-transform: uppercase;\n}\n"])));function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ke(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xe(t,e){return(xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ee(t);if(e){var r=Ee(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pe,Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xe(t,e)}(a,t);var e,n,r,i=Se(a);function a(){return Oe(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-product-feature-category-list"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){we(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({categoryNamesOrFeatures:Array,hasCategories:{type:Boolean,value:!1}},ye.properties)}},{key:"observers",get:function(){return["setHasCategories(model)","_setCategoryNamesOrFeaturesObserver(model, hasCategories)"]}},{key:"template",get:function(){return Object(o.b)(ge||(ge=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<template is="dom-if" if="[[hasCategories]]">\n\t\t\t<template id="categories" is="dom-repeat" items="[[categoryNamesOrFeatures]]" as="categoryName">\n\t\t\t\t<header>[[categoryName]]</header>\n\n\t\t\t\t<sb-product-feature-list\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tfeatures="[[getFeaturesByCategory(categoryName)]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t></sb-product-feature-list>\n\t\t\t</template>\n\t\t</template>\n\n\t\t<template is="dom-if" if="[[!hasCategories]]">\n\t\t\t<sb-product-feature-list\n\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\tfeatures="[[categoryNamesOrFeatures]]"\n\t\t\t\t\tmodel="[[model]]"\n\t\t\t></sb-product-feature-list>\n\t\t</template>\n\t\t'])),ve)}}],(n=[{key:"setHasCategories",value:function(t){this.hasCategories=t.checkAtLeastOneFeatureHasCategory()}},{key:"_setCategoryNamesOrFeaturesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setCategoryNamesOrFeatures(t,e)}},{key:"setCategoryNamesOrFeatures",value:function(t,e){this.categoryNamesOrFeatures=e?Object.keys(t.getTabFeaturesMap()):t.featuresWithOptionsOrConfigAttr}},{key:"getFeaturesByCategory",value:function(t){return this.model.getTabFeaturesMap()[t]}}])&&ke(e.prototype,n),r&&ke(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.a);function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return De(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Le(t,e){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ne(t);if(e){var r=Ne(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Fe(this,n)}}function Fe(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Te.is,Te);var ze,He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(a,t);var e,n,r,i=qe(a);function a(){return Ae(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-product-feature-layout"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){je(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({qId:String,product:Object,model:Object,configAttributes:{type:Object,notify:!0},features:{type:Object,value:{},computed:"_setFeatures(model)"},vp:{type:Object,value:function(){return D.a.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(vp)"},hasTopConfigAttributes:{type:Boolean,computed:"_setHasTopConfigAttributes(configAttributes)"},hasBottomConfigAttributes:{type:Boolean,computed:"_setHasBottomConfigAttributes(configAttributes)"},hasFeaturelessConfigAttributes:{type:Boolean,computed:"_setHasFeaturelessConfigAttributes(configAttributes)"},isMobileAndHasConfigAttributes:{type:Boolean,value:!1,computed:"_setIsMobileAndHasFeaturelessConfigAttributes(isMobile, hasFeaturelessConfigAttributes)"},isSectionLayout:{type:Boolean,value:!1},isPaginationRequired:{type:Boolean,value:!1},tabsForFeatureLayout:Object,tabsForTabsAndWizardLayout:Object,selectedTabIndex:{type:Number,notify:!0},optionConstraintsHandler:{type:Object,value:{},computed:"setOptionConstraintsHandler(model)"},disabledStateMap:{type:Object,value:{}},configSearch:Object,listenersAttached:{type:Boolean,value:!1},spinner:{type:Boolean}},s.a.properties)}},{key:"observers",get:function(){return["_setConfigAttributes(model)","_renderObserver(model, isSectionLayout)","_buildModelObserver(product, qId, currencyIsoCode)","_handleProductRulesResponseObserver(model, disabledStateMap, product.configuration.*)","_setOptionDataObserver(model, product.configuration.optionDataByOptionIdAndIndex)","_updateProductFromPopupResponseObserver(popupResponse, model)","_createConstraintsHoverMessagesObserver(model, optionConstraintsHandler)","_setSelectedForConstraintsObserver(optionConstraintsHandler.optionConstraints, disabledStateMap)"]}},{key:"template",get:function(){return Object(o.b)(Pe||(Pe=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t<template is="dom-if" if="[[hasFeaturelessConfigAttributes]]">\n\t\t\t\t<sb-tabs\n\t\t\t\t\t\ttabs="[[tabsForFeatureLayout]]"\n\t\t\t\t\t\tselected-tab-index="{{selectedTabIndex}}"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t></sb-tabs>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[!hasFeaturelessConfigAttributes]]">\n\t\t\t\t<sb-product-feature-category-list\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t></sb-product-feature-category-list>\n\t\t\t</template>\n\t\t</template>\n\n\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\x3c!--Featureless Config Attributes--\x3e\n\t\t\t<template is="dom-if" if="[[hasTopConfigAttributes]]">\n\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\tid="globalConfigAttributes"\n\t\t\t\t\t\tfeature-id="featureless"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tadded-class="header-attributes"\n\t\t\t\t\t\tposition="Top"\n\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t></sb-attribute-table>\n\t\t\t</template>\n\n\t\t\t\x3c!--Section layout--\x3e\n\t\t\t<template is="dom-if" if="[[isSectionLayout]]">\n\t\t\t\t<sb-product-feature-list\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tfeatures="[[features]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t></sb-product-feature-list>\n\t\t\t</template>\n\n\t\t\t\x3c!--Tab or Wizard layout--\x3e\n\t\t\t<template is="dom-if" if="[[!isSectionLayout]]">\n\t\t\t\t<sb-tabs\n\t\t\t\t\t\ttabs="[[tabsForTabsAndWizardLayout]]"\n\t\t\t\t\t\tpage-component="sb-product-feature-list"\n\t\t\t\t\t\tselected-tab-index="{{selectedTabIndex}}"\n\t\t\t\t\t\tuse-pagination="[[isPaginationRequired]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tbind=\'["model", "configAttributes", "disabledStateMap", "configSearch"]\'\n\t\t\t\t\t\tdevice\n\t\t\t\t></sb-tabs>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[hasBottomConfigAttributes]]">\n\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\tid="globalConfigAttributes"\n\t\t\t\t\t\tfeature-id="featureless"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tadded-class="footer-attributes"\n\t\t\t\t\t\tposition="Bottom"\n\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t></sb-attribute-table>\n\t\t\t</template>\n\t\t</template>\n\t\t'])),ie)}}],(n=[{key:"events",get:function(){var t={};return t[U.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"_buildModelObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.buildModel(t,e,n)}},{key:"buildModel",value:function(){this.model=new R.a(this.qId,this.product,this.app.org.prefix,this.currencyIsoCode)}},{key:"_setConfigAttributes",value:function(){this.configAttributes=this.model.configurationAttributeValueMap}},{key:"_setHasFeaturelessConfigAttributes",value:function(){var t=this.model.configAttributesByFeatureId.featureless;if(!t)return!1;for(var e=0;e<t.length;e++)if(!t[e].hidden)return!0;return!1}},{key:"_setFeatures",value:function(t){return t.featuresWithOptionsOrConfigAttr}},{key:"_setIsMobile",value:function(t){if(t)return t.isMobile()}},{key:"_setHasTopConfigAttributes",value:function(t){if(!this.model||!this.model.configAttributesByFeatureId.featureless)return!1;var e,n=Me(this.model.configAttributesByFeatureId.featureless);try{for(n.s();!(e=n.n()).done;){var o=e.value;if("Top"===o.position&&!o.hidden)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"_setHasBottomConfigAttributes",value:function(t){if(!this.model||!this.model.configAttributesByFeatureId.featureless)return!1;var e,n=Me(this.model.configAttributesByFeatureId.featureless);try{for(n.s();!(e=n.n()).done;){var o=e.value;if("Bottom"===o.position&&!o.hidden)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"_setIsMobileAndHasFeaturelessConfigAttributes",value:function(t,e){return t&&e}},{key:"viewportChanged",value:function(t){this.vp=t.detail.viewport}},{key:"_renderObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.render(t,e)}},{key:"render",value:function(){var t=this.model.getOptionLayout();if(this.isMobile&&(t="Sections",this.hasFeaturelessConfigAttributes))return this.buildFeatureLayoutTabs(),void this.handleOptionSelectionChanged();this.isSectionLayout&&(t="Sections"),this.isMobile||"Tabs"!==t&&!this.model.checkAtLeastOneFeatureHasCategory()?"Wizard"===t?(this.buildTabsAndWizardLayoutTabs(),this.isPaginationRequired=!0):"Sections"!==t&&"None"!==t||(this.isSectionLayout=!0):(this.buildTabsAndWizardLayoutTabs(),this.isPaginationRequired=!1),this.handleOptionSelectionChanged(),this.listenersAttached=!0}},{key:"buildFeatureLayoutTabs",value:function(){var t={name:"t1",label:this.i18n.l("Features"),pageComponent:"sb-product-feature-category-list",bind:["model","configAttributes","disabledStateMap","configSearch"]},e={name:"t2",label:this.i18n.l("Attributes"),pageComponent:"sb-attribute-table",attributes:[{name:"id",value:"globalConfigAttributes"},{name:"added-class",value:"header-attributes"},{name:"feature-id",value:"featureless"}],bind:["model","configAttributes"]};this.tabsForFeatureLayout=[t,e]}},{key:"buildTabsAndWizardLayoutTabs",value:function(){for(var t=this.model.getTabFeaturesMap(),e=Object.keys(t),n=[],o=0,r=e.length;o<r;o++){var i="t"+o;n.push({name:i,label:e[o]})}this.isSectionLayout=!1,this.tabsForTabsAndWizardLayout=n}},{key:"setOptionConstraintsHandler",value:function(){return new oe.a(this.model.product,this.model.prefix)}},{key:"handleOptionSelectionChanged",value:function(){this.listenersAttached||(this.addEventListener("selection-changed",(function(t){if(t&&t.detail){if(!1===t.detail.selected&&this.model.getOption(t.detail.Id).added){var e=this.model.getOption(t.detail.Id);e.added=!1,e.removed=!0}this.handleOptionConstraints(t.detail.Id,t.detail.selected)}})),this.addEventListener("delete-tapped",function(t){if(t&&t.detail&&!this.hasSameOptionAdded(t.detail.Id)){var e=this.model.getOption(t.detail.Id);e.added=!1,e.removed=!0,e._transient_&&(e._transient_.rendered=!1),this.handleOptionConstraints(t.detail.Id,!1)}}.bind(this)))}},{key:"hasSameOptionAdded",value:function(t){for(var e=this.model.getOption(t).record[this.model.prefix+"Feature__c"],n=this.model.getFeature(e),o=n?n._transient_.optionConfigurations:[],r=0,i=o.length;r<i;r++)if(o[r].record.Id===t)return!0;return!1}},{key:"handleOptionConstraints",value:function(t,e){var n=this,o=this.optionConstraintsHandler.handleOptionConstraints(t,e);o&&o.forEach((function(t){n.set("disabledStateMap.".concat(t.optionId),t.disabledState)}))}},{key:"_handleProductRulesResponseObserver",value:function(t,e){if(void 0!==t&&void 0!==e&&this.product&&this.product.configuration&&this.product.configuration.productRulesActions)return this._handleProductRulesResponse(t,e)}},{key:"_handleProductRulesResponse",value:function(){Object(M.d)(this)&&this.product.configuration.productRulesActions&&(this.setOptionsDisabledByRules(Object.keys(this.product.configuration.productRulesActions.enableOptions),!1),this.setOptionsDisabledByRules(Object.keys(this.product.configuration.productRulesActions.disableOptions),!0),this.setOptionsHiddenByRules(Object.keys(this.product.configuration.productRulesActions.hideOptions),!0),this.setOptionsHiddenByRules(Object.keys(this.product.configuration.productRulesActions.showOptions),!1),this.setOptionsSelectedByRules(Object.keys(this.product.configuration.productRulesActions.selectOptions),!0),this.setOptionsSelectedByRules(Object.keys(this.product.configuration.productRulesActions.deselectOptions),!1),this.set("model.productRulesActions",this.product.configuration.productRulesActions),delete this.product.configuration.productRulesActions)}},{key:"setOptionsDisabledByRules",value:function(t,e){var n,o=e?"disableOptions":"enableOptions",r=Me(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.model.optionSystemOrRequired(i))delete this.product.configuration.productRulesActions[o][i];else{var a=e?this.optionConstraintsHandler.optionShouldBeDisabled(i):!this.optionConstraintsHandler.optionShouldBeDisabled(i);this.product.configuration.productRulesActions[o][i]=a;var s=!!(e&&a||!e&&!a);this.model.getOption(i).disabledData={disabled:e,constrained:s}}}}catch(t){r.e(t)}finally{r.f()}}},{key:"setOptionsHiddenByRules",value:function(t,e){var n,o=Me(t);try{for(o.s();!(n=o.n()).done;){var r=n.value,i=this.model.getOption(r);i.hidden=e,i.hiddenByRule=e,this.handleFeatureVisibility(this.model.featureIdByOptionId[r])}}catch(t){o.e(t)}finally{o.f()}}},{key:"setOptionsSelectedByRules",value:function(t,e){var n,o=Me(t);try{for(o.s();!(n=o.n()).done;){var r=n.value,i=this.model.getOption(r);i.selected=e,i.selectedByRule=e}}catch(t){o.e(t)}finally{o.f()}}},{key:"_setOptionSelections",value:function(t,e,n){e&&Object.keys(e).forEach((function(e){var o=t.getOption(e);o&&o.selected!==n&&(o.selected=n)}))}},{key:"handleFeatureVisibility",value:function(t){var e=this.checkFeatureHasVisibleOptions(t),n=this.features.findIndex((function(e){return e.record.Id===t}));this.set(["features",n,"hidden"],e)}},{key:"checkFeatureHasVisibleOptions",value:function(t){var e,n=Me(this.model.optionsByFeatureId[t]);try{for(n.s();!(e=n.n()).done;)if(!e.value.hidden)return!1}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"_setOptionDataObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._setOptionData(t,e)}},{key:"_setOptionData",value:function(){Object(M.d)(this)&&(this.set("model.optionDataByOptionIdAndIndex",this.product.configuration.optionDataByOptionIdAndIndex),delete this.product.configuration.optionDataByOptionIdAndIndex)}},{key:"_updateProductFromPopupResponseObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._updateProductFromPopupResponse(t,e)}},{key:"_updateProductFromPopupResponse",value:function(){this.popupResponse.dynamicOptions&&this.popupResponse.dynamicOptions.length>0||this._bindResponseChangesToUI()}},{key:"_bindResponseChangesToUI",value:function(){this.model.init(this.popupResponse.product),this._setConfigAttributes(),this.set("model.optionNotifications",this.popupResponse.optionNotifications)}},{key:"handleDynamicOptionsAdded",value:function(t){for(var e in t){var n=this._getDynamicOption(e,t[e].record[this.model.prefix+"Feature__c"]),o=this._extendDataToOption(t[e],n),r=this.model.getFeature(n.featureId);this.popupResponse.product.options.push(o),r._transient_.optionConfigurations.push(o),r._transient_.changedExternally=!0}this.syncConfigurationAttributesToProduct(o),this._bindResponseChangesToUI()}},{key:"_getDynamicOption",value:function(t,e){return this.popupResponse.dynamicOptions.find((function(n){return n.productId.substring(0,15)===t.substring(0,15)&&n.featureId.substring(0,15)===e.substring(0,15)}))}},{key:"_extendDataToOption",value:function(t,e){if(e.configurationData&&"object"===Be(e.configurationData))for(var n in e.configurationData)t.record[n]=e.configurationData[n];return t.record[this.model.prefix+"Quantity__c"]=e.Quantity,t.index=e.index,t.isDynamicOption=!0,t.selected=!0,t.added=!0,void 0===t.record[this.model.prefix+"UnitPrice__c"]&&(t.record[this.model.prefix+"UnitPrice__c"]=0),t}},{key:"syncConfigurationAttributesToProduct",value:function(t){if(void 0===this.autoSelectAttributes){this.autoSelectAttributes={};var e,n=Me(this.popupResponse.product.configurationAttributes);try{for(n.s();!(e=n.n()).done;){var o=e.value;!0===o.autoSelect&&void 0===this.autoSelectAttributes[o.targetFieldName]&&(this.autoSelectAttributes[o.targetFieldName]=!0)}}catch(t){n.e(t)}finally{n.f()}}for(var r in this.autoSelectAttributes)this.popupResponse.product.configuration.configurationData[r]=t.record[r]}},{key:"_createConstraintsHoverMessagesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._createConstraintsHoverMessages(t,e)}},{key:"_createConstraintsHoverMessages",value:function(){this.model.optionConstraintsByConstrained||this.model.createConstraintsHoverMessages(this.optionConstraintsHandler.optionConstraints.byConstrained)}},{key:"_setSelectedForConstraintsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setSelectedForConstraints(t,e)}},{key:"setSelectedForConstraints",value:function(){var t,e=Me(this.optionConstraintsHandler.getConstrainingByConstrained());try{for(e.s();!(t=e.n()).done;){var n,o=Me(t.value);try{for(o.s();!(n=o.n()).done;){var r=n.value,i=r.selected&&!this.disabledStateMap[r.record.Id];this.handleOptionConstraints(r.record.Id,i)}}catch(t){o.e(t)}finally{o.f()}}}catch(t){e.e(t)}finally{e.f()}}}])&&Re(e.prototype,n),r&&Re(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(ft.a)(Object(P.a)(Object(V.a)(s.a))));customElements.define(He.is,He);var Ue,Ve=Object(T.b)(ze||(ze=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.header {\n  margin: 20px 20px;\n}\n.header[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .header {\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n"])));function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ge(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $e(t,e){return($e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Xe(t);if(e){var r=Xe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ye(this,n)}}function Ye(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je,Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(a,t);var e,n,r,i=Ke(a);function a(){return Qe(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-product-bundles-filter-item"}},{key:"properties",get:function(){return{value:{notify:!0},item:String,model:Object,label:String}}},{key:"observers",get:function(){return["setFieldData(model)"]}},{key:"template",get:function(){return Object(o.b)(Ue||(Ue=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t    <style>",'</style>\n\t\t<div device class="header">\n\t\t\t<div>[[label]]</div>\n\t\t\t<div>\n\t\t\t\t<sb-field id="field" value="{{value}}" record="[[data]]"></sb-field>\n\t\t\t</div>\n\t\t</div>\n\t    '])),Ve)}}],(n=[{key:"events",get:function(){var t={};return t[U.a.CLEAR_PRODUCT_FILTER]=this.clear,t}},{key:"setFieldData",value:function(){for(var t,e=0,n=this.model.length;e<n;e++)if(this.model[e].name===this.item){this.label=this.model[e].label,t="picklist"===this.model[e].type||"multipicklist"===this.model[e].type?this.model[e]:{type:"string"};break}this.$.field.editing=!0,this.$.field.property=this.item,this.$.field.md=t}},{key:"clear",value:function(){this.value=null}}])&&Ge(e.prototype,n),r&&Ge(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(P.a)(Object(V.a)(o.a)));function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function an(){return(an="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=sn(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function sn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dn(t)););return t}function ln(t,e){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=dn(t);if(e){var r=dn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return un(this,n)}}function un(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(Ze.is,Ze);var pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(a,t);var e,n,r,i=cn(a);function a(){return on(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-product-bundles-layout"}},{key:"properties",get:function(){return{productIndex:{type:Number,notify:!0},selectedTabIndex:{type:Number,value:0},configuredProducts:Array,setToSections:{type:Boolean,value:!0},isClassic:Boolean,noHeader:{type:Boolean,value:!1},hasSelected:{type:Boolean,value:!1},hasMultipleBundles:{type:Boolean,value:!1,observer:"formatBundlesLayout"},drawerState:String,qId:String,searchFilters:Array,searchValuesByFilter:Object,searchFieldMD:Object,searchFilterTypeMap:Object,configSearch:Object,viewport:{type:Object,value:function(){return D.a.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(viewport)"}}}},{key:"observers",get:function(){return["setMD(searchFilters)","initSearchFilter(searchFieldMD)","_updateProductFromPopupResponseObserver(popupResponse, configuredProducts)","_resize(configuredProducts.*)","_selectBundleObserver(isMobile, configuredProducts, isClassic, hasMultipleBundles, productIndex)"]}},{key:"template",get:function(){return Object(o.b)(Je||(Je=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-field-md id="md"></sb-field-md>\n\t\t\x3c!--Search Wrapper Component--\x3e\n\t\t<paper-drawer-panel device id="search" right-drawer force-narrow="true" disable-swipe="true" style="position:relative">\n\t\t\t<div slot="main">\n\t\t\t\t\x3c!--Bundle List Wrapper Component--\x3e\n\t\t\t\t<paper-drawer-panel id="drawer" force-narrow="true" disable-swipe="true">\n\t\t\t\t\t<div slot="main" style="overflow-x: hidden; overflow-y: scroll">\n\t\t\t\t\t\t<div id="bundleContainer">\n\t\t\t\t\t\t\t<template is="dom-repeat" id="bundles" items="[[configuredProducts]]" as="configuredProduct">\n\t\t\t\t\t\t\t\t\x3c!--Each Bundle in this repeat--\x3e\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[classicOrSelectedIndex(configuredProduct,index)]]">\n\t\t\t\t\t\t\t\t\t<div id$="Bundle[[configuredProduct.record.Id]]">\n\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class="product-header">[[configuredProduct.record.Name]]</h1>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<sb-product-feature-layout id="features"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   product="[[configuredProduct]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   selected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   is-section-layout="[[isClassic]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   q-id="[[qId]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   currency-iso-code="[[currencyIsoCode]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   config-search="[[configSearch]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   popup-response="[[popupResponse]]"\n\t\t\t\t\t\t\t\t\t\t></sb-product-feature-layout>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div slot="drawer">\n\t\t\t\t\t\t\x3c!--Bundle List side panel--\x3e\n\t\t\t\t\t\t<sb-side-panel id="panel" render-header="[[noHeader]]" is-open="[[drawerState]]" side-text="Bundles">\n\t\t\t\t\t\t\t<div class="panel-actions" slot="panel-actions">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="[[configuredProducts]]">\n\t\t\t\t\t\t\t\t\t<div on-click="navTo" class="nav-item" label$="[[item.record.Name]]" id$="[[getProductId(index, \'true\')]]">[[item.record.Name]]</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</sb-side-panel>\n\t\t\t\t\t</div>\n\t\t\t\t</paper-drawer-panel>\n\t\t\t</div>\n\t\t\t\x3c!--Search Filters side panel--\x3e\n\t\t\t<div slot="drawer">\n\t\t\t\t<sb-side-panel id="searchPanel">\n\t\t\t\t\t<h3 class="title" slot="title"><sb-i18n>Filter</sb-i18n></h3>\n\t\t\t\t\t<div class="panel-actions" slot="panel-actions" tabindex="0" on-focus="refocus">\n\t\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\t\t\t\t\t\t<sb-group id="group" item="sb-product-bundles-filter-item"></sb-group>\n\t\t\t\t\t\t<div class="filter-buttons">\n\t\t\t\t\t\t\t<paper-button noink on-click="applyFilters" class="primary"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t\t\t<text id="clear" class="click" on-click="clearFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-side-panel>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t\t'])),ct)}}],(n=[{key:"events",get:function(){var t={};return t[U.a.VIEWPORT_CHANGED]=this.viewportChanged,t}},{key:"prefix",get:function(){return E.a.org.prefix?E.a.org.prefix+"__":""}},{key:"_resize",value:function(){this.resize()}},{key:"initSearchFilter",value:function(){this.$.group.group=this.searchFilters,this.$.group.model=this.searchFieldMD,this.$.group.data=this.searchValuesByFilter;var t,e={},n=en(this.searchFieldMD);try{for(n.s();!(t=n.n()).done;){var o=t.value;e[o.name]=o.type}}catch(t){n.e(t)}finally{n.f()}this.searchFilterTypeMap=e,this.configSearch=new at(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}},{key:"connectedCallback",value:function(){an(dn(a.prototype),"connectedCallback",this).call(this),this.handleResize(),this.handlePanelSlide(),this.handlePanelEvents(),this.handleMD()}},{key:"handlePanelEvents",value:function(){this.addEventListener("side-toggle-clicked",function(){this.toggle()}.bind(this)),this.addEventListener("iron-select",function(){"drawer"==this.$.drawer.selected?this.drawerState="open":this.drawerState="closed"}.bind(this)),this.addEventListener("x-clicked",function(){this.$.search.closeDrawer()}.bind(this)),this.addEventListener("enter-keypress",function(){this.searchFilters&&this.applyFilters()}.bind(this))}},{key:"handleMD",value:function(){this.$.md.addEventListener("md-changed",function(t){this.searchFieldMD=t.detail.value.fields}.bind(this))}},{key:"navTo",value:function(t){for(var e=t.composedPath()[0].id.split("_")[1],n=this.configuredProducts.length,o=this.productIndex,r=0;r<n;r++)this.getProductId(r)===e&&(o=r);this.setSelected(e),!this.isMobile&&this.isClassic?this.shadowRoot.querySelector("#Bundle"+e).scrollIntoView():this.dispatchEvent(Object(U.d)("bundle-panel-clicked",o))}},{key:"toggle",value:function(){this.toggleTransition(!0),this.$.drawer.togglePanel()}},{key:"classicOrSelectedIndex",value:function(t,e){return this.isClassic&&!this.isMobile||this.configuredProducts[this.productIndex]===t||!this.productIndex&&0===e||this.productIndex>=this.configuredProducts.length&&0===e}},{key:"handleResize",value:function(){var t=document.querySelector("#sidebarCell");t&&t.addEventListener("click",this.resize.bind(this)),window.addEventListener("resize",this.resize.bind(this))}},{key:"resize",value:function(){this.toggleTransition(!1),"drawer"===this.$.drawer.selected?this._setBundleContainerWidth(!1):this._setBundleContainerWidth(!0)}},{key:"handlePanelSlide",value:function(){this.isMobile||this.addEventListener("iron-select",function(){"drawer"===this.$.drawer.selected?this._setBundleContainerWidth(!1):this._setBundleContainerWidth(!0)}.bind(this)),this.isMobile&&this.addEventListener("iron-deselect",function(t){"drawer"===t.detail.item.id&&document.activeElement.blur()}.bind(this))}},{key:"_selectBundleObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this.selectBundle(t,e,n,o,r)}},{key:"selectBundle",value:function(){if(this.$.search.shadowRoot.querySelector("#scrim").style.width="100%",this.isMobile&&(this.navWidth=0,this.$.drawer.shadowRoot.querySelector("#scrim").style.width="100%"),1===this.configuredProducts.length&&(this.navWidth=0),this.buildPanelIfMultipleBundesAndNotMobile(),!this.isClassic||this.isMobile){var t=this.getProductId(this.productIndex);this.dispatchEvent(Object(U.d)("bundle-name-changed",{name:this.configuredProducts[this.productIndex].record.Name})),this.observeNode(this.$.panel,function(){this.setSelected(t)}.bind(this))}this.resize()}},{key:"buildPanelIfMultipleBundesAndNotMobile",value:function(){1===this.configuredProducts.length||this.isMobile||(this.panelWidth=256,this.navWidth=24,this.$.panel.rightSideButton=!0,this.toggleTransition(!1),"1"===this.isOpen?(this.$.drawer.selected="drawer",this.drawerState="open",this._setBundleContainerWidth(!1)):(this.$.drawer.selected="main",this.drawerState="closed",this._setBundleContainerWidth(!0)))}},{key:"_setBundleContainerWidth",value:function(t){this.configuredProducts&&this.configuredProducts.length<2||(Object(M.m)("open",!t,this.$.bundleContainer),Object(M.m)("close",t,this.$.bundleContainer))}},{key:"toggleTransition",value:function(t){this.$.drawer._transition=t,Object(M.m)("transition",t,this.$.bundleContainer)}},{key:"defaultState",value:function(){return"1"===this.isOpen?"drawer":"main"}},{key:"toggleSearch",value:function(){this.$.search.togglePanel()}},{key:"refocus",value:function(){this.$.search.querySelector("#searchPanel").querySelector("sb-group").shadowRoot.querySelector("sb-product-bundles-filter-item").shadowRoot.querySelector("sb-field").shadowRoot.querySelector("div#f").firstChild.focus()}},{key:"reverseFocus",value:function(){this.$.clear.focus()}},{key:"setMD",value:function(){this.$.md.object="ProductOption__c",this.$.md.fields=this.searchFilters}},{key:"applyFilters",value:function(){this.$.clear.focus(),this.$.search.closeDrawer(),this.configSearch=new at(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}},{key:"clearFields",value:function(){Object(U.c)(U.a.CLEAR_PRODUCT_FILTER),this.blur(),this.configSearch=new at(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}},{key:"viewportChanged",value:function(t){this.viewport=t.detail.viewport}},{key:"getProductId",value:function(t,e){var n=this.configuredProducts[t];return(e?"_":"")+(n.productKey||n.record.Id)}},{key:"setSelected",value:function(t){this.removeAllSelected(),Object(M.m)("selected-tab",!0,this.shadowRoot.querySelector("#_"+t))}},{key:"removeAllSelected",value:function(){var t,e=en(this.shadowRoot.querySelectorAll("div.nav-item"));try{for(e.s();!(t=e.n()).done;){var n=t.value;Object(M.m)("selected-tab",!1,n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"_setIsMobile",value:function(t){if(t)return t.isMobile()}},{key:"_updateProductFromPopupResponseObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._updateProductFromPopupResponse(t,e)}},{key:"_updateProductFromPopupResponse",value:function(){var t=this.popupResponse.products;if(t&&0!==t.length){var e,n=this.configuredProducts.length,o=en(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;this.push("configuredProducts",r)}}catch(t){o.e(t)}finally{o.f()}1===n&&this.buildPanelIfMultipleBundesAndNotMobile()}}},{key:"formatBundlesLayout",value:function(){Object(M.m)("multiple-bundles",this.hasMultipleBundles,this.$.bundleContainer)}}])&&rn(e.prototype,n),r&&rn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(st.a)(Object(P.a)(Object(V.a)(o.a))));customElements.define(pn.is,pn);n(148),n(179),n(149);var hn,fn=n(30),bn=n(58),yn=n(51);n(127);function gn(t){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _n(){return(_n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=wn(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function wn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sn(t)););return t}function On(t,e){return(On=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Sn(t);if(e){var r=Sn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xn(this,n)}}function xn(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&On(t,e)}(a,t);var e,n,r,i=kn(a);function a(){return vn(this,a),i.apply(this,arguments)}return e=a,r=[{key:"is",get:function(){return"sb-product-rules-invoke"}},{key:"properties",get:function(){return{quote:Object,product:Object,upgradeAssetId:{type:String,value:null},error:{type:Array,notify:!0},configResponse:{type:String,notify:!0}}}},{key:"observers",get:function(){return["_updateObserver(quote, product)"]}},{key:"template",get:function(){return Object(o.b)(hn||(hn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<sb-async-service id="service" saver="ProductConfigurationServiceProvider.ProductRulesInvoker" background="[[background]]"></sb-async-service>\n\t\t'])))}}],(n=[{key:"ready",value:function(){_n(Sn(a.prototype),"ready",this).call(this),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(t){this.configResponse=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}},{key:"setSpinnerMessage",value:function(){Object(yn.d)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}},{key:"_updateObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.update(t,e)}},{key:"update",value:function(){this.product.configuration.configuredProductKey=this.product.productKey||this.product.configuration.configuredProductId,this.quote.priorBundledQuantityByLineKey=new bn.a(this.quote).mapPriorBundledQuantityByLineKey();var t=this.quote.lineItems;this.quote.lineItems=null,this.$.service.model=this._getRequestModel(this.quote,this.product.configuration,this.upgradeAssetId),this.quote.lineItems=t,delete this.quote.priorBundledQuantityByLineKey}},{key:"_getRequestModel",value:function(t,e,n){return(new fn.a).addQuote("quote",t,!0).addObject("configuration",e).add("upgradedAssetId",n).build()}}])&&mn(e.prototype,n),r&&mn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.a);customElements.define(Cn.is,Cn);var En;n(151),n(46);function Pn(t){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tn(t){var e="function"==typeof Map?new Map:void 0;return(Tn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return In(t,arguments,Gn(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Un(o,t)})(t)}function In(t,e,n){return(In=Qn()?Reflect.construct.bind():function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&Un(r,n.prototype),r}).apply(null,arguments)}function jn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=An(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Dn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||An(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(t,e){if(t){if("string"==typeof t)return Rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(t,e):void 0}}function Rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fn(t,e,n){return e&&qn(t.prototype,e),n&&qn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nn(){return(Nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=zn(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function zn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gn(t)););return t}function Hn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}function Un(t,e){return(Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vn(t){var e=Qn();return function(){var n,o=Gn(t);if(e){var r=Gn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Wn(this,n)}}function Wn(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $n=function(t){Hn(n,t);var e=Vn(n);function n(){return Ln(this,n),e.apply(this,arguments)}return Fn(n,[{key:"ready",value:function(){var t=this;Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=Dn(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),Nn(Gn(n.prototype),"ready",this).call(this),this.handleLineEditorModelResponse(),this.handleProductLoadResponse(),this.handleOptionSaveResponse(),this.handleProductRulesInvokerResponse(),this.handleCustomActionsCollapsed(),this.handleOnAddOptionClick(),this.handleBundlePanelClick(),this.handleChangeEvents(),this.handleApplyEditRulesAction(),this.handleBundleNameChange(),this.handleExternalConfiguration(),this.handleConfigureOptionEvent(),this.handleOptionConfiguratorResponse()}},{key:"connectedCallback",value:function(){Nn(Gn(n.prototype),"connectedCallback",this).call(this),this.preventPreLoadObjects||this.preLoadObjects()}},{key:"handleLineEditorModelResponse",value:function(){this.$.lineEditorRead.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.isoCode=this.lineEditorModel.quote.record.CurrencyIsoCode||null,this.$.optionSave.stripLinesThreshold=this.lineEditorModel.settings.largeQuoteThreshold,this.$.optionSave.stripLinesMessage=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines,this.$.productLoad.quote=this.$.optionSave.quote=this.$.productRulesInvoke.quote=this.$.optionConfigure.quote=t.detail.value.quote,this.headerSubtitle=t.detail.value.headerSubtitle}.bind(this))}},{key:"handleProductLoadResponse",value:function(){this.$.productLoad.addEventListener("product-load-model-changed",function(t){if(!t.detail.value||t.detail.value.returnToQuote||void 0!==t.detail.value.configuredProducts){var e=this.handleProductConfigurationInitializer(t.detail.value);if(e.returnToQuote)return this.$.productAlerts.displayContinueButton=!1,this.$.productAlerts.cancelCB=function(){return this.nav("#",{qId:this.lineEditorModel.quote.record.Id},["quote","le"],!1)}.bind(this),this.$.productAlerts.alerts=[e.returnToQuote];if(""!==this.optionId)return this.setOptionConfigurationDetails(e);if(this.loadedModelIsReconfigure(e)){var n=e.configuredProducts[0];n.quoteType=this.lineEditorModel.quote.record[this.prefix+"Type__c"],(new k).reconfigure(n),this.addAttributeSetFromServerProductVO(e.configuredProducts[0])}var o,r=Mn(e.configuredProducts);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(!i.rulesProcessed)new l.a(i.configuration,i).initProductRulesActions(!0);null!=e.attributeSet&&Object.keys(e.attributeSet.attributeItemIdsByOptionId).length>0&&(i._transient_=i._transient_||{},i._transient_.attributeSet=e.attributeSet),null!=i.configuration&&null==i.nestedOptionModel&&(i.nestedOptionModel=new v(i.configuration)),i.configuration.configuredOptions=i.nestedOptionModel.getConfiguredOptionsFromPath()}}catch(t){r.e(t)}finally{r.f()}this.productSelectionModel=void 0,this.productSelectionModel=e,this.hasMultipleBundles=this.productSelectionModel.configuredProducts.length>1,this.isClassic=this.hasMultipleBundles&&"Classic"===this.lineEditorModel.settings.multipleBundlesView,this.currentTarget=this.productSelectionModel;for(var a=0;a<this.productSelectionModel.configuredProducts.length;a++)this.productIndex=a;this.productIndex=this.getProductIndex(),this.searchFilters=this.productSelectionModel.configuredProducts[0].optionFieldSets.SearchFilters;var s={};if(this.searchFilters&&!this.productSelectionModel.searchValuesByFilter){for(var c=0,u=this.searchFilters.length;c<u;c++)s[this.searchFilters[c]]=null;this.productSelectionModel.searchValuesByFilter=s}this.$.bundles.searchValuesByFilter=this.productSelectionModel.searchValuesByFilter,this.$.bundles.searchFilters=this.searchFilters,this.checkForExternalConfiguration()}else this._handleExternalDynamicOptionsResponse(t.detail.value)}.bind(this))}},{key:"handleOptionSaveResponse",value:function(){this.$.optionSave.addEventListener("psm-response-changed",function(t){var e=this;this.validationMessages=null;var n=t.detail.value,o=new l.a(n,this.topLevelBundle);return o.initValidationMessages(),this.validationMessages=o.getValidationMessages(),this.validationMessages.length>0?(this.spinner=!1,void(""!==this.optionId&&this.topLevelBundle.nestedOptionModel.removeClonedConfiguration())):n.guidedMessages&&n.guidedMessages.length>0?(this.$.productAlerts.cancelCB=function(){""!==e.optionId&&e.topLevelBundle.nestedOptionModel.removeClonedConfiguration()},this.$.productAlerts.displayContinueButton=!0,this.$.productAlerts.continueCB=function(){""!==e.optionId&&e.topLevelBundle.nestedOptionModel.swapConfiguration(n),e.afterSaveNavigate(n,o)},this.spinner=!1,void(this.$.productAlerts.alerts=n.guidedMessages)):(""!==this.optionId&&this.topLevelBundle.nestedOptionModel.swapConfiguration(n),void this.afterSaveNavigate(n,o))}.bind(this))}},{key:"afterSaveNavigate",value:function(t,e){var n,o="none";""!==this.optionId&&(n=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,o=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU()||"none",e.initDescendantTree());var r,i=this.ctx.params?this.ctx.params.redirectUrl:null,a=this.createPathParams(i);""!==this.optionId?r=this.createQueryParams({oId:o,ignoreCache:!1,jspr:!0},n):(r={qId:t.quote.record.Id},null!=this.ctx.params.groupKey&&(r.groupKey=this.ctx.params.groupKey),this.ctx.params.aId&&"quote"!==a[0]&&(r.aId=this.ctx.params.aId)),t.quote&&(this.lineEditorModel.quote=t.quote),this.nav("#",r,a,!1)}},{key:"handleProductRulesInvokerResponse",value:function(){this.$.productRulesInvoke.addEventListener("config-response-changed",this._processProductRulesInvokerResponse.bind(this))}},{key:"_processProductRulesInvokerResponse",value:function(t){var e=t.detail.value,n=this.currentTarget.configuredProducts.findIndex((function(t){return(t.productKey||t.record.Id)===e.configuredProductKey})),o=this.currentTarget.configuredProducts[n],r=new l.a(e,o);r.init(void 0!==this.topLevelBundle?this.topLevelBundle.nestedOptionModel:o.nestedOptionModel),this.validationMessages=r.getValidationMessages(),void 0!==o.configuration&&void 0!==o.configuration.configurationData&&(e.configurationData=o.configuration.configurationData),o.configuration=this._setHiddenAndDisabledOptionIds(o.configuration,e.hiddenOptionIds,e.disabledOptionIds),this.$.bundles.set("configuredProducts.".concat(n,".configuration.productRulesActions"),r.getProductRulesActions()),this.$.bundles.set("configuredProducts.".concat(n,".configuration.optionDataByOptionIdAndIndex"),r.getOptionDataByOptionIdAndIndex()),Object(a.a)(this,(function(){this.spinner=!1}))}},{key:"_setHiddenAndDisabledOptionIds",value:function(t,e,n){return t.hiddenOptionIds=e,t.disabledOptionIds=n,t}},{key:"handleCustomActionsCollapsed",value:function(){this.changeAllActions(this.$.customActions.buttonsCollapsed),this.$.customActions.addEventListener("buttons-collapsed-changed",function(t){var e=t.detail.value;this.changeAllActions(e)}.bind(this))}},{key:"handleOnAddOptionClick",value:function(){var t;this.addEventListener("selected-page-changed",function(e){t=e.detail}.bind(this)),this.addEventListener("add-option-clicked",function(e){var n,o=""===this.optionId?e.detail:Object.assign({},e.detail,{oId:this.optionId});""===this.optionId&&(n=this.getProductIndex(e.detail.pId));var r=this.createQueryParams(o,t),i=null!=o.path?o.path:["product","ol"];void 0!==n&&(r.productIdx=n),this.nav("#",r,i,!1)}.bind(this))}},{key:"handleBundlePanelClick",value:function(){this.addEventListener("bundle-panel-clicked",this.navToBundle)}},{key:"navToBundle",value:function(t){var e=this.createQueryParams(this.ctx.params);e.productIdx=t.detail,e.open=1,e.tab&&delete e.tab,this.nav("#",e,["product","pc"],!1)}},{key:"handleChangeEvents",value:function(){this.addEventListener("selection-changed",function(t){this.handleChangeEvent(t,"On Selection")}.bind(this)),this.addEventListener("sb-quantity-changed",function(t){this.handleChangeEvent(t,"On Quantity Change")}.bind(this)),this.addEventListener("sb-config-attribute-changed",function(t){this.handleChangeEvent(t,"On Attribute Change")}.bind(this)),this.addEventListener("sb-option-deleted",function(t){var e=this.topLevelBundle||this.productSelectionModel.configuredProducts[this.productIndex];e.nestedOptionModel&&e.nestedOptionModel.removeAddedOption(t.detail)}.bind(this))}},{key:"handleApplyEditRulesAction",value:function(){this.addEventListener("sb-apply-edit-rules",(function(t){var e=this.getProductById(t.detail.bundleId);this.handleApplyImmediatelyProductRules(e,t.detail,"On Apply Rules")}))}},{key:"handleBundleNameChange",value:function(){this.isMobileViewport()?this.addEventListener("bundle-name-changed",function(t){this.headerTitle=t.detail.name}.bind(this)):this.headerTitle=this.i18n.l("Configure Products")}},{key:"handleExternalConfiguration",value:function(){this.addEventListener("sb-close-popup",(function(t){if(t.detail.dynamicOptions&&t.detail.dynamicOptions.length>0&&t.detail.featureOptionIds)this._handleExternalDynamicOptions(t.detail);else{if(!t.detail.redirect)return null;if(1===this.productSelectionModel.configuredProducts.length){if(!t.detail.redirect.auto)return null;t.detail.redirect.save?this.save():this.cancel()}else{var e=this.lineEditorModel.settings.thirdPartyConfigurator;if(e&&t.detail.redirect.save)this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1});else{if(!e)return null;this.cancel()}}}}))}},{key:"handleProductConfigurationInitializer",value:function(t){if(this.isReconfigure(t))return t;if(t.hasInitializedProductConfiguration)return t;var e,n=Mn(t.configuredProducts);try{for(n.s();!(e=n.n()).done;){var o,r=e.value,i=Mn(r.configuration.optionConfigurations);try{for(i.s();!(o=i.n()).done;){var a,s=o.value,l=s.optionData.Id,c=Mn(r.options);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.record.Id===l)for(var d in s.optionData)void 0!==u.record[d]&&u.record[d]!=s.optionData[d]&&(u.record[d]=s.optionData[d])}}catch(t){c.e(t)}finally{c.f()}}}catch(t){i.e(t)}finally{i.f()}}}catch(t){n.e(t)}finally{n.f()}return t.hasInitializedProductConfiguration=!0,t}},{key:"save",value:function(){if(!1!==this.configurationAttributesValid()){if(this.validationMessages=null,""!==this.optionId){var t=this.prepareProductForServer(this.currentTarget.configuredProducts[0]);if(this.validationMessages)return;return this.spinner=!0,this.$.optionSave.configuration=void 0,this.$.optionSave.configuration=t.configuration}var e=this.isReconfigure(this.productSelectionModel)?this.getConfiguredProductsToSave():this.getSelectedProductsToSave();this.validationMessages||(this.spinner=!0,this.$.optionSave.products=void 0,this.$.optionSave.products=e)}else this.validationMessages=[this.i18n.l(this.lineEditorModel.customLabels.Configuration_Attribute_Error)+this.getConfigurationAttributeMissingFeaturesMessage()]}},{key:"cancel",value:function(){if(this.spinner=!0,""===this.optionId){var t={qId:this.lineEditorModel.quote.record.Id};return null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),C.a.back(this,t,["quote","le"])}this.topLevelBundle.nestedOptionModel.cancel();var e=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,n=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU(),o=n?this.createQueryParams({oId:n,ignoreCache:!1},e):this.createQueryParams({qId:this.lineEditorModel.quote.record.Id},e);this.nav("#",o,["product","pc"],!1)}},{key:"getConfiguredProductsToSave",value:function(){var t=this,e=[];return this.productSelectionModel.configuredProducts.forEach((function(n){e.push(t.prepareProductForServer(n))})),e}},{key:"getSelectedProductsToSave",value:function(){var t,e={},n=Mn(this.productSelectionModel.configuredProducts);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=this.prepareProductForServer(o),i=o.record.Id,a=e[i];a||(a=[]),a.push(r),e[i]=a}}catch(t){n.e(t)}finally{n.f()}var s,l=this.productSelectionModel.selectedProducts,c=[],u=Mn(Object.keys(l).sort((function(t,e){return l[t].index-l[e].index})));try{for(u.s();!(s=u.n()).done;){var d=s.value,p=l[d],h=e[d];h?c=c.concat(h):p.invalid||c.push(p)}}catch(t){u.e(t)}finally{u.f()}return c}},{key:"checkForExternalConfiguration",value:function(){var t=this.productSelectionModel.configuredProducts[this.productIndex],e=this.prefix+"ExternallyConfigurable__c",n=this.lineEditorModel.settings.externalConfiguratorUrl,o=this.lineEditorModel.settings.thirdPartyConfigurator;!t.record[e]||t.visitedExternal&&!o||this.isClassic||null===n||(t.visitedExternal=!0,this.$.customActions.handlePopup(n,!0,o))}},{key:"_handleExternalDynamicOptions",value:function(t){this.$.productLoad.featureOptionIds=t.featureOptionIds,this.$.productLoad.ignoreCache=void 0,this.$.productLoad.ignoreCache=!0,t.redirect&&t.redirect.auto&&(t.redirect.save?this.redirectAfterOptionsAdded="save":this.redirectAfterOptionsAdded="cancel")}},{key:"_handleExternalDynamicOptionsResponse",value:function(t){this.$.bundles.shadowRoot.querySelector("#features").handleDynamicOptionsAdded(t),void 0!==this.redirectAfterOptionsAdded&&("save"===this.redirectAfterOptionsAdded?this.save():this.cancel())}},{key:"handleChangeEvent",value:function(t,e){if(t&&t.detail&&t.detail.bundleId&&t.detail.changed&&t.detail.path){var n=this.getProductById(t.detail.bundleId);this.handleApplyImmediatelyProductRules(n,t.detail,e)}if("On Quantity Change"===e&&(this.validationMessages=null,t.detail.invalidQuantity>0)){var o=this.i18n.l(this.lineEditorModel.customLabels.Maximum_Quantity_Error,[t.detail.validQuantity]);this.validationMessages=[{type:"warning",msg:o}]}}},{key:"handleApplyImmediatelyProductRules",value:function(t,e,n){var o=this;t&&this.isAppliedImmediately(t,e,n)&&(this.spinner=!0,this._applyImmediatelyProductRulesDebouncer=i.a.debounce(this._applyImmediatelyProductRulesDebouncer,r.d.after(250),(function(){o.$.productRulesInvoke.product=void 0,t=o.prepareProductForServer(t,!0),o.$.productRulesInvoke.upgradeAssetId=t.upgradedAssetId||null,o.$.productRulesInvoke.product=t})))}},{key:"isAppliedImmediately",value:function(t,e,n){var o,r,i=this.prefix+"AppliedImmediately__c",a=this.prefix+"AppliedImmediatelyContext__c";return"On Apply Rules"===n||("On Attribute Change"===n?(o=t.configurationAttributes.find((function(t){return t.myId===e.Id}))).appliedImmediately:("Always"===(r=(o=t.options.find((function(t){return t.record.Id===e.Id}))).record[a])||r===n||void 0===r&&"On Selection"===n)&&o.record[i])}},{key:"handleConfigureOptionEvent",value:function(){this.addEventListener("configure-option-tapped",function(t){var e=this.prepareProductForNestedConfigure(t.detail),n=this.createQueryParams({oId:e.nestedOptionModel.getLastFromPath().optionalSKU,ignoreCache:!1},0);this.nav("#",n,["product","pc"],!1)}.bind(this))}},{key:"prepareProductForNestedConfigure",value:function(t){var e;if(""===this.optionId){var n=this.productSelectionModel.currentIndex=this.getProductIndex(t.productId);e=this.productSelectionModel.configuredProducts[n]}else e=this.topLevelBundle;return e.nestedOptionModel=e.nestedOptionModel||new v,e.nestedOptionModel.addToPath(t.optionId,t.optionalSKU,t.addedIndex,t.tabIndex),e.nestedOptionModel.stagedOption={optionData:t.optionData,isDynamicOption:t.isDynamicOption},e}},{key:"handleOptionConfiguratorResponse",value:function(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(t){this.currentTarget=t.detail.value;var e=this.currentTarget.configuredProducts[0];if(this.ctx.params.oId&&0==e.options.length&&0==e.configurationAttributes.length&&!this.hasDynamicFeature(e)){var n=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,o=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU(),r=o?this.createQueryParams({oId:o,ignoreCache:!1},n):this.createQueryParams({qId:this.lineEditorModel.quote.record.Id},n);return this.$.productAlerts.displayContinueButton=!1,this.$.productAlerts.cancelCB=function(){return this.nav("#",r,["product","pc"],!1)}.bind(this),this.$.productAlerts.alerts=[this.i18n.l(this.lineEditorModel.customLabels.msg_has_no_options_config)]}this.topLevelBundle.nestedOptionModel&&(this.topLevelBundle.nestedOptionModel.descendLevel?(e.configuration=this.topLevelBundle.nestedOptionModel.configure(e.configuration),e.quoteType=this.lineEditorModel.quote.record[this.prefix+"Type__c"],(new k).reconfigure(e,e.configuration),this.ctx.params.tab&&(this.ctx.params.tab=0)):(e.configuration=this.topLevelBundle.nestedOptionModel.getCurrentConfiguration(),e.configuration.configuredOptions=this.topLevelBundle.nestedOptionModel.getConfiguredOptionsFromPath())),e.rulesProcessed||new l.a(e.configuration,e).initProductRulesActions(!0),this.addAttributeSetFromServerProductVO(e);var i,a=this.topLevelBundle.optionFieldSets.SearchFilters,s={},c=Mn(a);try{for(c.s();!(i=c.n()).done;){s[i.value]=null}}catch(t){c.e(t)}finally{c.f()}this.productIndex=0,this.$.bundles.searchValuesByFilter=s,this.$.bundles.searchFilters=a,this.$.bundles.set("configuredProducts",this.currentTarget.configuredProducts)}.bind(this))}},{key:"getProductById",value:function(t){return this.currentTarget.configuredProducts.find((function(e){return(e.productKey||e.record.Id)===t}))}},{key:"getProductIndex",value:function(t){if(""===this.optionId){if(t)for(var e=0;e<this.productSelectionModel.configuredProducts.length;e++)if(this.productSelectionModel.configuredProducts[e].record.Id===t)return e;if(!this.ctx.params||!this.ctx.params.productIdx)return 0;var n=+this.ctx.params.productIdx;return Number.isNaN(n)||n<0||n>=this.currentTarget.configuredProducts.length?0:n}}},{key:"hasDynamicFeature",value:function(t){var e,n=Mn(t.features);try{for(n.s();!(e=n.n()).done;){if("Dynamic"===e.value.record[this.prefix+"OptionSelectionMethod__c"])return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"addAttributeSetFromServerProductVO",value:function(t){t.attributeSet&&0===Object.keys(t.attributeSet.attributeItemIdsByOptionId).length||(t._transient_=t._transient_||{},t._transient_.attributeSet=t.attributeSet)}},{key:"changeAllActions",value:function(t){t?this.shadowRoot.querySelector("#allActions").classList.add("actionsCollapsed"):this.shadowRoot.querySelector("#allActions").classList.remove("actionsCollapsed")}},{key:"prepareProductForServer",value:function(t,e){var n,o={record:{}},r=this.topLevelBundle?this.topLevelBundle.nestedOptionModel:t.nestedOptionModel;o.upgradedAssetId=t.upgradedAssetId;try{n=this.getSelectedAndRemovedOptions(t,e)}catch(t){if("ConfigurationError"===t.name)return void(this.validationMessages=[t.message]);throw t}return o.configuration=r.save(n,e),o.configuration.configurationData=t.configuration.configurationData,o.configuration.configuredProductId=o.record.Id=t.record.Id,o}},{key:"getSelectedAndRemovedOptions",value:function(t,e){var n,o={selectedOptions:[],removedOptions:[]},r=Mn(t.features);try{for(r.s();!(n=r.n()).done;){var i,a=Mn(n.value._transient_.optionConfigurations);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.selected){if(!e&&s.configurationRequired&&!0!==s.configured){var l=this.i18n.l(this.lineEditorModel.customLabels.msg_options_missing_config);throw new Kn(l)}if(s.isUpgrade)new x.a(this.prefix,t.options,s).setUpgradedAssetId();var c=JSON.parse(JSON.stringify(s));this.buildOptionForLineEditor(c,o.selectedOptions)}else o.removedOptions.push(s)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}return o}},{key:"buildOptionForLineEditor",value:function(t,e){t.optionConfigurations=t.optionConfigurations||[],t.optionId=t.record.Id,t.optionData=t.record,void 0===t.configurationData&&(t.configurationData={}),t.isDynamicOption=t.isDynamicOption||t.isUpgrade,delete t.record,e.push(t)}},{key:"createQueryParams",value:function(t,e){var n=this.ctx.params;return n?(n.pId?t.pId=n.pId:t.pId=this.getAllProductIds(),n.redirectUrl&&(t.redirectUrl=n.redirectUrl),t.oId&&(t.qId=n.qId,"none"===t.oId&&delete t.oId),n.productIdx?t.productIdx=n.productIdx:null!=n.pId&&"string"!=typeof n.pId&&n.pId.length>1&&(t.productIdx=0),n.lineKey&&(t.lineKey=n.lineKey),null==t.ignoreCache&&n.ignoreCache&&(t.ignoreCache=!1),e||0==e?t.tab=e:n.tab&&(t.tab=n.tab),n.groupKey&&(t.groupKey=n.groupKey),n.aId&&(t.aId=n.aId),t):t}},{key:"getAllProductIds",value:function(){var t,e=[],n=Mn(this.currentTarget.configuredProducts);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.push(o.record.Id)}}catch(t){n.e(t)}finally{n.f()}return e.join()}},{key:"createPathParams",value:function(t){return""!==this.optionId?["product","pc"]:"ProductLookup"===t?["product","lookup"]:"RecommendationLookup"===t?["recommend","lookup"]:["quote","le"]}},{key:"toggle",value:function(){this.viewport.isMobile()&&this.hasMultipleBundles&&this.$.bundles.toggle()}},{key:"isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"_setIsMobileAndHasMultipleBundles",value:function(t,e){return t.isMobile()&&e}},{key:"getRequiredConfigurationAttributes",value:function(){if(this.requiredConfigAttributes)return this.requiredConfigAttributes;for(var t=this.currentTarget.configuredProducts,e={},n=0,o=t.length;n<o;n++){for(var r=t[n].configurationAttributes,i={},a=0,s=r.length;a<s;a++){var l=r[a];!0===l.required&&-1===Object.keys(i).indexOf(l.targetFieldName)&&(i[l.targetFieldName]=l)}e[n]=i}return this.requiredConfigAttributes=e,this.requiredConfigAttributes}},{key:"configurationAttributesValid",value:function(){for(var t=this.getRequiredConfigurationAttributes(),e={},n=this.currentTarget.configuredProducts,o=0,r=n.length;o<r;o++){var i=n[o].configuration.configurationData,a=t[o];for(var s in a)this.requiredConfigurationAttributeValid(i[s])||(e[s]=!0)}return this.requiredAttributeMissingValue=e,0===Object.keys(e).length}},{key:"getConfigurationAttributeMissingFeaturesMessage",value:function(){var t={};for(var e in void 0===this.requiredAttributeMissingValue&&this.getRequiredConfigurationAttributes(),this.requiredConfigAttributes)for(var n in this.requiredConfigAttributes[e])if(!0===this.requiredAttributeMissingValue[n]){var o=this.getFeatureNameFromId(this.requiredConfigAttributes[e][n].featureId);void 0!==o&&(t[o]=void 0)}var r=Object.keys(t);return 0===r.length?"":" in the following features: "+r}},{key:"getFeatureNameFromId",value:function(t){if(void 0!==t){var e,n=Mn(this.currentTarget.configuredProducts);try{for(n.s();!(e=n.n()).done;){var o,r=Mn(e.value.features);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(i.record.Id===t)return i.record.Name}}catch(t){r.e(t)}finally{r.f()}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"requiredConfigurationAttributeValid",value:function(t){return!this.isNil(t)}},{key:"search",value:function(){this.$.bundles.toggleSearch()}},{key:"setOptionConfigurationDetails",value:function(t){if(this.topLevelBundle=t.currentIndex?t.configuredProducts[t.currentIndex]:t.configuredProducts[0],null==this.topLevelBundle.nestedOptionModel)return delete this.ctx.params.oId,this.nav("#",this.ctx.params,["product","pc"],!1);var e=this.topLevelBundle.nestedOptionModel.getExistingConfiguration();this.topLevelBundle.nestedOptionModel&&e&&(e.configured||e.changedByProductActions||e.optionConfigurations.length)&&(this.$.optionConfigure.featureOptionalSKUs=this.buildDynamicConfigurations(e),this.$.optionConfigure.configuration=e),this.topLevelBundle.nestedOptionModel?this.$.optionConfigure.ignoreCache="ol"!==this.ctx.params.origin&&this.topLevelBundle.nestedOptionModel.descendLevel:this.$.optionConfigure.ignoreCache=!0,this.$.optionConfigure.product=void 0,this.$.optionConfigure.product=this.topLevelBundle}},{key:"buildDynamicConfigurations",value:function(t){var e,n=[],o=Mn(t.optionConfigurations);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(r.isDynamicOption){var i=r.optionData;i.Id&&i[this.prefix+"Feature__c"]&&i[this.prefix+"OptionalSKU__c"]&&n.push(i[this.prefix+"Feature__c"]+":"+i[this.prefix+"OptionalSKU__c"]+":"+i.Id)}}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"preLoadObjects",value:function(){this.configuratorObjects=[this.prefix+"DiscountSchedule__c",this.prefix+"ProductOption__c",this.prefix+"QuoteLine__c"]}},{key:"getProductIds",value:function(){return this.ctx.params&&this.ctx.params.pId||""}},{key:"getLineKey",value:function(){return this.ctx.params?parseInt(this.ctx.params.lineKey||-1):-1}},{key:"getGroupKey",value:function(){return this.ctx.params?parseInt(this.ctx.params.groupKey||-1):-1}},{key:"getIgnoreCache",value:function(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}},{key:"prefix",get:function(){return E.a.org.prefix?E.a.org.prefix+"__":""}},{key:"getOptionId",value:function(){return this.ctx.params&&this.ctx.params.oId||""}},{key:"isNil",value:function(t){return null==t||""===t}},{key:"loadedModelIsReconfigure",value:function(t){return!t.quote&&1==t.configuredProducts.length}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.validationMessages=Object(S.a)(this.errors),this.spinner=!1)}},{key:"isReconfigure",value:function(t){return!t.selectedProducts}}],[{key:"is",get:function(){return"sb-product-config"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jn(Object(n),!0).forEach((function(e){Bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({lineEditorModel:Object,productSelectionModel:Object,topLevelBundle:Object,currentTarget:Object,productIndex:Number,headerSubtitle:String,hasMultipleBundles:Boolean,isClassic:Boolean,searchValuesByFilter:Object,searchFilters:Array,validationMessages:Array,headerTitle:String,isMobileAndHasMultipleBundles:{type:Boolean,value:!1,computed:"_setIsMobileAndHasMultipleBundles(viewport, hasMultipleBundles)"},productIds:{type:String,computed:"getProductIds(ctx)"},lineKey:{type:Number,computed:"getLineKey(ctx)"},groupKey:{type:Number,computed:"getGroupKey(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},optionId:{type:String,computed:"getOptionId(ctx)"},spinner:{type:Boolean,value:!1},errors:{type:Array,value:[],notify:!0},preventPreLoadObjects:{type:Boolean,value:!1}},s.a.properties)}},{key:"template",get:function(){return Object(o.b)(En||(En=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t\n\t\t<sb-describe objects="[[configuratorObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t</div>\n\t\t<sb-product-alert id="productAlerts"></sb-product-alert>\n\n\t\t<sb-line-editor-read id="lineEditorRead" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-pc-product-load id="productLoad" product-ids="[[productIds]]" line-key="[[lineKey]]"\n\t\t\t\t\t\t\tgroup-key="[[groupKey]]" ignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>\n\t\t<sb-pc-option-save id="optionSave" group-key="[[groupKey]]" error="{{errors}}"></sb-pc-option-save>\n\t\t<sb-product-rules-invoke id="productRulesInvoke" error="{{errors}}" background="true"></sb-product-rules-invoke>\n\t\t<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>\n\n\t\t<sb-page-header device>\n\t\t\t<i id="headerIcon" class="icon sf-icon-custom_apps resize" slot="icon"></i>\n\t\t\t<h1 id="headerTitle" slot="h1">[[headerTitle]]</h1>\n\t\t\t<h2 slot="h2">[[headerSubtitle]]</h2>\n\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<template is="dom-if" if="[[isMobileAndHasMultipleBundles]]">\n\t\t\t\t\t<paper-button noink on-click="toggle" class="icon sf-icon-rows">\n\t\t\t\t\t\t<span class="badge icon-badge-upper-left">[[productSelectionModel.configuredProducts.length]]</span>\n\t\t\t\t\t</paper-button>\n\t\t\t\t</template>\n\t\t\t\t<paper-button noink on-click="search" id="fb" class="sf-icon-filterlist"></paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\n\t\t\t<div class="actions" id="allActions" slot="actions">\n\t\t\t\t<sb-custom-actions id="customActions"\n\t\t\t\t\t\t\t\t\tclass="end"\n\t\t\t\t\t\t\t\t\tproducts="[[productSelectionModel.configuredProducts]]"\n\t\t\t\t\t\t\t\t\tcustom-actions="[[lineEditorModel.customActions]]"\n\t\t\t\t\t\t\t\t\tproduct-index="[[productIndex]]"\n\t\t\t\t\t\t\t\t\tis-classic="[[isClassic]]"\n\t\t\t\t\t\t\t\t\tquote="{{lineEditorModel.quote}}"\n\t\t\t\t\t\t\t\t\tpopup-response="{{popupResponse}}"\n\t\t\t\t></sb-custom-actions>\n\t\t\t\t<paper-button noink id="pcCancel" on-click="cancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t\t<paper-button class="primary" noink id="pcSave" on-click="save"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<sb-product-bundles-layout id="bundles"\n\t\t\t\t\t\t\t\t\tproduct-index="[[productIndex]]"\n\t\t\t\t\t\t\t\t\tis-mobile="[[ctx.params.m]]"\n\t\t\t\t\t\t\t\t\tconfigured-products="[[productSelectionModel.configuredProducts]]"\n\t\t\t\t\t\t\t\t\tis-classic="[[isClassic]]"\n\t\t\t\t\t\t\t\t\tis-open="[[ctx.params.open]]"\n\t\t\t\t\t\t\t\t\tselected-tab-index="[[ctx.params.tab]]"\n\t\t\t\t\t\t\t\t\tq-id="[[ctx.params.qId]]"\n\t\t\t\t\t\t\t\t\tcurrency-iso-code="[[isoCode]]"\n\t\t\t\t\t\t\t\t\tpopup-response="[[popupResponse]]"\n\t\t\t\t\t\t\t\t\thas-multiple-bundles="[[hasMultipleBundles]]"\n\t\t\t\t\t\t\t\t\tdevice\n\t\t></sb-product-bundles-layout>\n\t\t'])),B)}}]),n}(Object(P.a)(s.a)),Kn=function(t){Hn(n,t);var e=Vn(n);function n(t){var o;return Ln(this,n),(o=e.call(this)).name="ConfigurationError",o.message=t,o}return Fn(n)}(Tn(Error));customElements.define($n.is,$n)},function(t,e,n){"use strict";n.r(e),n.d(e,"FavoriteLookup",(function(){return at}));var o,r=n(1),i=n(58),a=n(64),s=n(23),l=n(30),c=n(38),u=n(59),d=n(3);var p,h,f,b=Object(d.b)(o||(p=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  --my-page-header-display: block;\n  --my-page-header-width: 160px;\n  --sbTableInnerTdPadding: 16px 10px 8px 55px;\n  --sbFieldWordWrap: break-word;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .left {\n  margin-right: 20px;\n}\n:host .left[class*=\'--mobile\'] {\n  margin-right: 0;\n}\n:host [class*=\'--mobile\'] .left {\n  margin-right: 0;\n}\n'],h||(h=p.slice(0)),o=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(h)}})))),y=(n(13),n(5)),g=n(2),v=(n(18),n(25),n(26),n(35),n(45),n(82),n(83),n(70),n(71),n(6)),m=n(22),_=n(0);var w,O=Object(d.b)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host .mobile {\n  --sbDialogContentPadding: 0;\n  --sbDialogContentHeight: none;\n}\n:host .footer paper-button.share {\n  background-color: #0070d2;\n  color: #ffffff;\n}\n"])));n(74),n(15),n(28),n(93),n(47);var k,x=Object(d.b)(w||(w=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host #multilookup {\n  padding: 10px 0;\n  width: 400px;\n  margin: 0 auto;\n}\n:host #multilookup.mobile {\n  background-color: #f0f1f2;\n  padding: 0;\n  width: 100%;\n}\n:host #selectedContainer {\n  max-width: 400px;\n  height: 85px;\n  border: 1px solid lightgrey;\n  border-top-left-radius: 0px;\n  border-top-right-radius: 0px;\n  margin: -1px auto -2px auto;\n  padding: 6px 4px 4px 4px;\n  overflow-y: scroll;\n  text-align: left;\n}\n:host #selectedContainer.mobile {\n  max-width: none;\n  background-color: white;\n  border-radius: 0;\n  border-left: none;\n  border-right: none;\n  margin: -1px 0 0 0;\n}\n:host #selectedContainer.mobile .pill {\n  font-size: 18px;\n  margin-left: 2%;\n  margin-top: 4px;\n  width: 96%;\n  padding: 10px;\n}\n:host #selectedContainer.mobile .pill .sf-icon-close {\n  float: right;\n}\n:host #selectedContainer .pill {\n  background-color: #d8edff;\n  border-radius: 8px;\n  display: inline-block;\n  margin-bottom: 4px;\n  padding: 4px 4px 4px 6px;\n  position: relative;\n}\n:host #selectedContainer .pill .item-label {\n  padding: 0 4px;\n}\n:host #selectedContainer .pill .sf-icon-close {\n  padding-right: 4px;\n  cursor: pointer;\n}\n:host #selectedContainer .pill.invalid-selection {\n  animation: shake 1s;\n}\n@keyframes shake {\n  10%,\n  90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%,\n  80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%,\n  60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n:host #lookupContainer {\n  text-align: center;\n  width: 100%;\n}\n:host #lookupContainer sb-lookup {\n  --sbTypeaheadSelectorTop: 204px;\n  --sbTypeaheadSelectorLeft: 50px;\n  --sbTypeaheadSelectorMinWidth: 80%;\n  --sbTypeaheadSelectorBorderRadius: 0;\n  --sidePanelInputWidth: 100%;\n  --sidePanelInputHeight: 36px;\n  --sbTypeaheadInputFontSize: 14px;\n  --sbTypeaheadInputBorderRadius: 0;\n  --ironInputWidth: 100%;\n}\n:host #lookupContainer.mobile sb-lookup {\n  --sbTypeaheadIronInputWidthMobile: 100%;\n  --sbTypeaheadInputWidthMobile: calc(100% - 14px);\n  --sbTypeaheadInputMarginMobile: 7px;\n  --sbTypeaheadInputHeightMobile: 44px;\n  --sbTypeaheadInputFontSizeMobile: 18px;\n  --sbTypeaheadInputPlaceholderFontSizeMobile: 16px;\n}\n:host #resultsTable.mobile .thead {\n  padding: 13px 14px 13px 14px;\n  border-bottom: 1px solid #d8dde6;\n  font-size: 18px;\n  font-weight: bold;\n  background-color: #f4f6f9;\n}\n:host #resultsTable.mobile .tbody .trow {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  padding: 14px;\n  width: 100%;\n  font-size: 1rem;\n}\n"])));function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=T(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function T(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}function I(t,e){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=M(t);if(e){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return B(this,n)}}function B(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,o,i=j(a);function a(){return C(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-multi-lookup"}},{key:"properties",get:function(){return{tableName:String,objectName:String,hideCancel:Boolean,iconName:String,iconMap:Object,results:Array,selectedItems:{type:Array,value:[]},selectedIdsByItems:{type:Object,value:{}},customCallBack:Function,viewport:{type:Object,value:function(){return v.a.getViewport()}},inDialog:Boolean,menuItemLabels:Array,isMobile:Boolean}}},{key:"template",get:function(){return Object(g.b)(k||(k=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t    <style include="sb-icons-styles"></style>\n\t    <style include="sb-common-styles"></style>\n\t    <style include="sb-forms-styles"></style>\n\t    <style>','</style>\n\t\t<div device id="multilookup">\n\t\t\t<div id="lookupContainer">\n\t\t\t\t<sb-lookup id="lookup"\n\t\t\t\t\t\t   table-name="[[tableName]]"\n\t\t\t\t\t\t   in-dialog="[[inDialog]]"\n\t\t\t\t\t\t   hide-cancel-icon="true"\n\t\t\t\t\t\t   clear-after-selection="true"\n\t\t\t\t\t\t   placeholder="Enter a name or group"\n\t\t\t\t\t\t   custom-callback="[[customCallback]]"\n\t\t\t\t\t\t   menu-item-labels="[[menuItemLabels]]"\n\t\t\t\t\t\t   label=""\n\t\t\t\t></sb-lookup>\n\t\t\t</div>\n\t\t\t<div id="selectedContainer">\n\t\t\t\t<template is="dom-repeat" items="[[selectedItems]]" as="item">\n\t\t\t\t\t<div class="pill" data-value="[[item.Id]]" data-index="[[index]]">\n\t\t\t\t\t\t<span class$="pill-icon [[_iconClass(item)]]"></span>\n\t\t\t\t\t\t<span class="item-label">[[item.label]]</span>\n\t\t\t\t\t\t<span class="sf-icon-close" on-click="removeItem"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div id="resultsTable">\n\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t<div class="thead">[[objectName]]</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[results]]" as="row">\n\t\t\t\t\t\t\t<div class="trow" index="[[index]]" on-click="selectRow">[[row.label]]</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t    '])),x)}}],(n=[{key:"updateTable",value:function(t){this.results=t}},{key:"ready",value:function(){P(M(a.prototype),"ready",this).call(this),this.$.lookup.addEventListener("lookup-value-changed",function(t){var e=t.detail.obj;this.selectedIdsByItems[e.Id]?this._animateDuplicate(e):this._addItem(e)}.bind(this)),this.viewport&&this.viewport.isMobile()&&this._appendMobileClasses()}},{key:"_addItem",value:function(t){this.selectedIdsByItems[t.Id]=t,this.unshift("selectedItems",t)}},{key:"_iconClass",value:function(t){return this.iconName&&this.iconMap?this.iconMap[t[this.iconName]]:""}},{key:"_animateDuplicate",value:function(t){for(var e=this,n=this.$.selectedContainer.querySelectorAll(".pill"),o=function(o){if(n[o].dataValue==t.Id)return n[o].addEventListener("webkitAnimationEnd",function(){Object(r.m)("invalid-selection",!1,n[o])}.bind(e),!1),Object(r.m)("invalid-selection",!0,n[o]),{v:void 0}},i=0;i<n.length;i++){var a=o(i);if("object"===S(a))return a.v}}},{key:"_appendMobileClasses",value:function(){this.isMobile=!0,Object(r.m)("mobile",!0,this.$.multilookup),Object(r.m)("mobile",!0,this.$.selectedContainer),Object(r.m)("mobile",!0,this.$.lookupContainer),Object(r.m)("mobile",!0,this.$.resultsTable)}},{key:"removeItem",value:function(t){this.splice("selectedItems",t.target.parentNode.dataIndex,1),delete this.selectedIdsByItems[t.target.parentNode.dataValue]}},{key:"selectRow",value:function(t){var e=this.results[t.currentTarget.index];this.selectedIdsByItems[e.Id]?this._animateDuplicate(e):this._addItem(e)}},{key:"clear",value:function(){this.selectedItems=[],this.selectedIdsByItems={}}}])&&E(e.prototype,n),o&&E(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(y.a)(g.a));customElements.define(D.is,D);var A;n(52),n(24);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=N(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function N(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}function z(t,e){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=V(t);if(e){var r=V(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return U(this,n)}}function U(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(a,t);var e,n,o,i=H(a);function a(){return L(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-favorite-share-dialog"}},{key:"properties",get:function(){return{favdUsers:{type:Array,value:[]},favdGroups:{type:Array,value:[]},favoriteCallback:{type:Function,value:function(){return this._favoriteCallbackFunction.bind(this)}},iconMap:{type:Object,value:{User:"sf-icon-user",Group:"sf-icon-groups"}},viewport:{type:Object,value:function(){return v.a.getViewport()}}}}},{key:"template",get:function(){return Object(g.b)(A||(A=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-dialog device id="dialog" modal="true" close-dialog="sb-cancel-share-fav" appended-class="share-fav">\n\t\t\t\t<i slot="icon" class="sb-icon-star icon"></i>\n\t\t\t\t<div slot="title" class="title"><sb-i18n>Share Favorites</sb-i18n></div>\n\t\t\t\t<paper-button slot="paper-button" class="primary" on-click="onShare"><sb-i18n>Share</sb-i18n></paper-button>\n\n\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t<sb-multi-lookup id="multilookup" custom-callback="[[favoriteCallback]]" table-name="" in-dialog="true" icon-name="type" icon-map="[[iconMap]]" object-name="Users & Groups"></sb-multi-lookup>\n\t\t\t\t</div>\n\t\t\t</sb-dialog>\n\t\t\t<sb-service id="service" loader="FavoriteLookupServiceProvider.UserGroupModel" background="true"></sb-service>\n\t\t'])),O)}}],(n=[{key:"ready",value:function(){F(V(a.prototype),"ready",this).call(this),this.addEventListener("sb-cancel-share-fav",this.onCancel),this.viewport&&this.viewport.isMobile()&&Object(r.m)("mobile",!0,this.$.dialog)}},{key:"_favoriteCallbackFunction",value:function(t){return new Promise(function(e,n){null==t||t.length<2?this.viewport.isMobile()?this.$.multilookup.updateTable([]):e([]):(this.$.service.uid="",this.$.service.context=t,this.$.multilookup.menuItemLabels=["label"],this.$.service.addEventListener("response-changed",function(t){var n=this._parseResults(t.detail.value);this.viewport.isMobile()?this.$.multilookup.updateTable(n):e(n)}.bind(this)),this.$.service.addEventListener("error-changed",function(t){n(t.detail.value)}.bind(this)))}.bind(this))}},{key:"_parseResults",value:function(t){for(var e=t.groups,n=e.length,o=t.users,r=o.length,i=0;i<n;i++)e[i].type="Group",e[i].label="Group - ".concat(e[i].Name);for(var a=0;a<r;a++)o[a].type="User",o[a].label="User - ".concat(o[a].Name);return o.concat(e)}},{key:"onShare",value:function(){for(var t=this.$.multilookup.selectedIdsByItems,e=Object.keys(t).map((function(e){return t[e]})),n=e.length,o=0;o<n;o++){var r="Group"===e[o].type?"favdGroups":"favdUsers";this.push(r,e[o].Id)}this.dispatchEvent(Object(_.d)("favorite-shared",{groups:this.favdGroups,users:this.favdUsers})),this.$.dialog.toggle(),this._clearFavdLists()}},{key:"onCancel",value:function(){this.$.dialog.toggle()}},{key:"_clearFavdLists",value:function(){this.set("favdUsers",[]),this.set("favdGroups",[]),this.$.multilookup.clear()}}])&&q(e.prototype,n),o&&q(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(m.a)(Object(y.a)(g.a)));customElements.define(W.is,W);var Q;n(54),n(46);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||Y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=et(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function et(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}function nt(t,e){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=it(t);if(e){var r=it(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(p,t);var e,n,o,d=ot(p);function p(){return J(this,p),d.apply(this,arguments)}return e=p,o=[{key:"is",get:function(){return"sb-favorite-lookup"}},{key:"properties",get:function(){return Object(r.e)({lineEditorModel:Object,favoriteModel:Object,selectedFavorites:{type:Object,value:{}},actions:{type:Array,value:[]},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},qId:String,aId:String,groupKey:Number,isMobile:Boolean},s.a.properties)}},{key:"template",get:function(){return Object(g.b)(Q||(Q=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-line-editor-read id="le" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t\t<sb-service id="fm" saver="FavoriteLookupServiceProvider.FavoriteModel" model=[[le.quote.favoriteIds]] response={{favoriteModel}} error="{{errors}}"></sb-service>\n\t\t\t<sb-field-md id="md" object="Favorite__c" fields="[[favoriteModel.resultFieldNames]]" error="{{errors}}"></sb-field-md>\n\n\t\t\t\x3c!--Favorite services--\x3e\n\t\t\t<sb-service id="deleteFavorite" saver="FavoriteLookupServiceProvider.FavoriteDeleter" response={{favoriteModel}} error="{{errors}}"></sb-service>\n\t\t\t<sb-service id="addFavorite" saver="FavoriteLookupServiceProvider.FavoriteAdder" error="{{errors}}"></sb-service>\n\t\t\t<sb-service id="shareFavorites" saver="FavoriteLookupServiceProvider.FavoriteSharer" error="{{errors}}"></sb-service>\n\n\t\t\t<sb-page-header device>\n\t\t\t\t<div slot="messages" id="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t\t<i slot="icon" class="icon sf-icon-favorite"></i>\n\t\t\t\t<h1 slot="h1" id="headerTitle"><sb-i18n>Favorite Lookup</sb-i18n></h1>\n\t\t\t\t<h2 slot="h2" id="headerSubtitle">[[le.headerSubtitle]]</h2>\n\t\t\t\t<div class="actions left" slot="actions">\n\t\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t\t<paper-button id="addProdFavBtn" noink on-click="toggleAddProducts"><sb-i18n>Add Products</sb-i18n></paper-button>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t<paper-button id="addProdFavBtn" noink on-click="toggleAddProducts" class="sf-icon-search"></paper-button>\n\t\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\t\tfor="addProdFavBtn"\n\t\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\t\tfit-to-visible-bounds="true">\n\t\t\t\t\t\t\t<sb-i18n>Visit Product Search Page</sb-i18n>\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t\t<paper-button id="shareFavBtn" noink on-click="onShareFavorite"><sb-i18n>Share</sb-i18n></paper-button>\n\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\tfor="shareFavBtn"\n\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\tfit-to-visible-bounds="true">\n\t\t\t\t\t\t<sb-i18n>Share favorites with other users</sb-i18n>\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t<paper-button id="deleteFavBtn" noink on-click="onDeleteFavorite"><sb-i18n>Delete</sb-i18n></paper-button>\n\t\t\t\t</div>\n\t\t\t\t<div class="actions" slot="actions">\n\t\t\t\t\t<paper-button id="selectFavBtn" noink on-click="onSelect"><sb-i18n>Select</sb-i18n></paper-button>\n\t\t\t\t\t<paper-button id="selectMoreFavBtn" noink on-click="onSelectMore"><sb-i18n>Select & Add More</sb-i18n></paper-button>\n\t\t\t\t\t<paper-button id="cancelFavBtn" noink on-click="onCancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t\t</div>\n\t\t\t</sb-page-header>\n\n\t\t\t<div id="pageBody">\n\t\t\t\t<div device class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" selectable="[[fieldLabels]]" cols="[[fieldLabels]]" last-column-content-class="favoriteAction">\n\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{favoriteModel.favorites}}" as="favorite">\n\t\t\t\t\t\t\t<sb-table-row cell="sb-table-cell"\n\t\t\t\t\t\t\t\t\t\t  cols="[[cols]]"\n\t\t\t\t\t\t\t\t\t\t  cols-display="[[colsDisplay]]"\n\t\t\t\t\t\t\t\t\t\t  primary-mobile-cols="[[primaryMobileCols]]"\n\t\t\t\t\t\t\t\t\t\t  row-data="[[favorite.record]]"\n\t\t\t\t\t\t\t\t\t\t  model="[[model]]"\n\t\t\t\t\t\t\t\t\t\t  selectable="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\t  selection-id-data-path="Id"\n\t\t\t\t\t\t\t\t\t\t  selected="[[favorite.selected]]"\n\t\t\t\t\t\t\t\t\t\t  route-source="FavoriteLookup"\n\t\t\t\t\t\t\t\t\t\t  row-actions="[[actions]]"\n\t\t\t\t\t\t\t></sb-table-row>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t\x3c!--Share Modal--\x3e\n\t\t\t<sb-favorite-share-dialog device id="shareFavorite"></sb-favorite-share-dialog>\n\t\t'])),b)}}],(n=[{key:"connectedCallback",value:function(){var t=this;tt(it(p.prototype),"connectedCallback",this).call(this),this.$.le.addEventListener("line-editor-model-changed",(function(e){t.lineEditorModel=e.detail.value,t._setMetaData(t.mdFields,t.lineEditorModel)})),this.$.md.addEventListener("md-changed",(function(e){t.mdFields=e.detail.value.fields,t._setMetaData(t.mdFields,t.lineEditorModel)})),this.$.fm.addEventListener("response-changed",(function(){t._setSelected()})),this.$.addFavorite.addEventListener("response-changed",(function(e){var n=e.detail.value;if(n.partialVO&&(n=t._recombinePartialQuoteWithFullQuote(n)),t.lineEditorModel.quote=n,t._toggleSelected(),!t.addMore){var o={qId:t.qId};Object.keys(t.selectedFavorites).length>0&&(o.jspr=!0),null!=t.ctx.params.groupKey&&(o.groupKey=t.ctx.params.groupKey),a.a.nav("#",o,["quote","le"],!1,t)}t.$.header.selected=!1,t.addMore=!1})),this.addEventListener("favorite-shared",(function(e){t.$.shareFavorites.addEventListener("response-changed",function(){this._toggleSelected()}.bind(t));var n=(new l.a).add("favIds",Object.keys(t.selectedFavorites)).add("groupIds",e.detail.groups).add("userIds",e.detail.users).build();t.$.shareFavorites.model=n})),this._handleOneFavoriteSelected(),this._handleAllFavoritesSelected()}},{key:"ready",value:function(){var t=this;Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=K(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),tt(it(p.prototype),"ready",this).call(this),this.qId=this.qId||this.ctx.params.qId,this.aId=this.aId||this.ctx.params.aId,this.groupKey=parseInt(this.groupKey||this.ctx.params.groupKey)||null,this.isMobile=this._isMobileViewport()}},{key:"_recombinePartialQuoteWithFullQuote",value:function(t){var e=this.le.quote.lineItems;return t.lineItems=e.concat(t.lineItems),delete t.segmentTemplatesByDimensionTypeByGroupKey,delete t.emptyGroupKeys,t.partialVO=!1,t}},{key:"_setMetaData",value:function(t,e){if(void 0===t||void 0===e)return!1;this.cols=t.map((function(t){return t.name}));var n,o={},r={},i=$(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;o[a.name]={type:a.type},r[a.name]=a.label}}catch(t){i.e(t)}finally{i.f()}this.model=o;var s=e.developerPrefix+"Description__c";this.primaryMobileCols=["Name",s],this.colsDisplay=r,this.fieldLabels=t.map((function(t){return t.label}))}},{key:"_setSelected",value:function(){this.favoriteModel.favorites.forEach((function(t){return t.selected=!1}))}},{key:"_handleOneFavoriteSelected",value:function(){var t=this;this.addEventListener("selection-changed",(function(e){var n=e.detail,o=n.selected,r=n.Id;o?t.selectedFavorites[r]=n:delete t.selectedFavorites[r]}))}},{key:"_handleAllFavoritesSelected",value:function(){var t=this;this.addEventListener("header-selection-changed",(function(e){e.detail.selected?(t._toggleSelected(!0),t.favoriteModel.favorites.forEach(function(t){this.selectedFavorites[t.record.Id]=t.record}.bind(t))):(t._toggleSelected(!1),t.selectedFavorites={})}))}},{key:"_toggleSelected",value:function(t){var e=t||!1;this.$.header.selected=e;var n=this.$.tbody.querySelectorAll("sb-table-row");if(n&&n.length>0){var o,r=$(n);try{for(r.s();!(o=r.n()).done;)o.value.selected=e}catch(t){r.e(t)}finally{r.f()}}}},{key:"_removeSelections",value:function(){this.selectedFavorites={},this._setSelected()}},{key:"_isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"onDeleteFavorite",value:function(){var t=this,e=Object.keys(this.selectedFavorites),n=(new l.a).add("quoteFavIds",this.le.quote.favoriteIds||[]).add("favIdsToRemove",e).build();this.$.deleteFavorite.save({model:n}).then((function(){var n=new u.a(t.le.developerPrefix).FAVORITE_ID_FIELD;Object(r.b)(e,n,t.le.quote.lineItems)}))}},{key:"toggleAddProducts",value:function(){this._toggleSelected();var t={qId:this.qId};null!=this.groupKey&&(t.groupKey=this.groupKey),this.aId&&(t.aId=this.aId),a.a.nav("#",t,["product","lookup"],!1,this)}},{key:"onShareFavorite",value:function(){0!==Object.keys(this.selectedFavorites).length?this.$.shareFavorite.$.dialog.toggle():this.error=["Please select at least one favorite to share."]}},{key:"onSelect",value:function(){var t=this.le.settings.largeQuoteThreshold,e=this.le.customLabels.msg_large_quote_sent_without_lines,n=this.le.quote;t&&n.lineItems.length>t&&(n=this._minimizeQuoteVO(n),console.log(e.replace("{0}",n.record.Id).replace("{1}",t)));var o=(new l.a).addQuote("quote",n).add("groupKey",this.groupKey).add("favIds",Object.keys(this.selectedFavorites)).build();this.$.addFavorite.model=o}},{key:"_minimizeQuoteVO",value:function(t){var e=JSON.parse(JSON.stringify(t)),n=new i.a(t),o=n.getSegmentTemplatesByDimensionTypeForGroupKey(this.groupKey);return e.segmentTemplatesByDimensionTypeByGroupKey={},e.segmentTemplatesByDimensionTypeByGroupKey[(this.groupKey||-1)+""]=o,e.emptyGroupKeys=n.getKeysOfEmptyGroups(),e.lineItems=[],e.partialVO=!0,e}},{key:"onSelectMore",value:function(){this.addMore=!0,this.onSelect()}},{key:"onCancel",value:function(){var t={qId:this.qId};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),a.a.nav("#",t,["quote","le"],!1,this)}},{key:"clearStackTrace",value:function(){this.errors.validations&&this.errors.validations.length>0?this.error=this.errors.validations:this.errors[0]&&(this.error=Object(c.a)(this.errors))}}])&&Z(e.prototype,n),o&&Z(e,o),Object.defineProperty(e,"prototype",{writable:!1}),p}(Object(y.a)(s.a));customElements.define(at.is,at)},function(t,e,n){"use strict";var o,r=n(2),i=(n(18),n(25),n(20)),a=n(27),s=(n(26),n(85)),l=n(42),c=n(6),u=n(139),d=n(140),p=n(0),h=n(5),f=n(22),b=n(17),y=n(48),g=n(1),v=(n(24),n(34),n(82),n(83),n(70),n(4)),m=n(33),_=(n(35),n(3));var w,O,k,x=Object(_.b)(o||(w=["\n:host #fieldLabel {\n  padding-top: 5px;\n}\n"],O||(O=w.slice(0)),o=Object.freeze(Object.defineProperties(w,{raw:{value:Object.freeze(O)}}))));n(15),n(13);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B,M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(a,t);var e,n,o,i=T(a);function a(){return C(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-option-cell"}},{key:"properties",get:function(){return{item:String,itemLabel:String,value:{notify:!0},model:Object,data:Object,editable:Boolean,prefix:{type:String,value:function(){return v.a.org.prefix?v.a.org.prefix+"__":""}},selected:{type:Boolean,value:!1},index:Number,display:String,viewport:{type:Object,value:function(){return c.a.getViewport()}},optionDrawer:{type:Boolean,value:function(){return this.classList.contains("drawerCell")}},renderReadOnly:{type:Boolean,computed:"getRenderReadOnly(optionDrawer)"},isDisabled:{type:Boolean,computed:"getDisabled(optionDrawer, selected)"}}}},{key:"observers",get:function(){return["_buildCellObserver(itemLabel, model, data, prefix)","setItemLabel(item)","_displayChangedObserver(value, display, item, data, field)"]}},{key:"template",get:function(){return Object(r.b)(k||(k=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<template is="dom-if" if="[[mdqWarningIcon]]">\n\t\t\t<span id="warningIcon" class="sf-icon-warning"></span>\n\t\t\t<paper-tooltip for="warningIcon" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t[[data.reconfigureDimensionWarning]]\n\t\t\t</paper-tooltip>\n\t\t</template>\n\t\t<template is="dom-if" if="[[optionDrawer]]">\n\t\t\t<div id="fieldLabel">[[field.label]]</div>\n\t\t</template>\n\t\t<sb-field id="field"\n\t\t\t\t  property="[[item]]"\n\t\t\t\t  disabled="[[!isDisabled]]"\n\t\t\t\t  value="{{value}}"\n\t\t\t\t  editing="[[editable]]"\n\t\t\t\t  ref-display="{{display}}"\n\t\t\t\t  index="[[index]]"\n\t\t\t\t  signaler="[[signaler]]"\n\t\t\t\t  render-read-only="[[renderReadOnly]]"></sb-field>\n\t\t'])),x)}}],(n=[{key:"_buildCellObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.buildCell(t,e,n,o)}},{key:"buildCell",value:function(){this.field=this.getField(),this.itemLabel===this.prefix+"Quantity__c"?this.initQuantityCell():this.itemLabel===this.prefix+"UnitPrice__c"?this.initUnitPriceCell():this.initCell()}},{key:"getQuantityEditable",value:function(){return this.getFieldRecordValue("QuantityEditable__c")||!1===this.data.recordHasQuantity}},{key:"getPriceEditable",value:function(){return"Yes"===this.getFieldRecordValue("PriceEditable__c")&&!1===this.getFieldRecordValue("Bundled__c")}},{key:"getField",value:function(){return this.model.fieldDetails[this.item]}},{key:"initQuantityCell",value:function(){if(!0===this.data.hasDimension&&!0===this.data.isSegmented&&!0===this.data.configured)return this.mdqWarningIcon=!0;this.editable=this.getQuantityEditable(),null!=this.getFieldRecordValue("ProductQuantityScale__c")?(this.field=JSON.parse(JSON.stringify(this.field)),this.field.scale=this.getFieldRecordValue("ProductQuantityScale__c")):void 0!==v.a.org.quantityScale&&(this.field.scale=v.a.org.quantityScale),this.$.field.preventNumericAlignment=!0,this.attachQuantityChangeCallback(),this.initCell()}},{key:"initUnitPriceCell",value:function(){this.editable=this.getPriceEditable(),null!=v.a.org.currencyDecimalScale&&(this.field.scale=v.a.org.currencyDecimalScale),this.initCell()}},{key:"initCell",value:function(){0===this.index&&this.viewport&&this.viewport.isMobile()&&(this.editable=!1),void 0===this.editable&&this.optionDrawer&&(this.editable=!0),void 0===this.editable&&(this.editable=this.field.updateable&&this.quoteLineHasField(this.itemLabel)),this.setDisplayIfRelationshipItem(),this.attachValueChangedCallback(),this.handleOriginalValues(),this.$.field.record=this,this.$.field.md=this.field}},{key:"attachQuantityChangeCallback",value:function(){this.addEventListener("value-changed",function(t){this.dispatchEvent(Object(p.d)("sb-quantity-changed",{Id:this.data.record.Id,bundleId:this.getBundleId(),changed:!0,invalidQuantity:this.data.invalidQuantity,validQuantity:this.data.validQuantity,path:t.composedPath?t.composedPath():[t.target.parentNode]}))}.bind(this))}},{key:"attachValueChangedCallback",value:function(){this.addEventListener("value-changed",this.syncValueChangeWithOptionConfiguration.bind(this))}},{key:"getBundleId",value:function(){return this.data.parentProductKey||this.getFieldRecordValue("ConfiguredSKU__c")}},{key:"getFieldRecordValue",value:function(t){return this.data.record[this.prefix+t]}},{key:"quoteLineHasField",value:function(t){return!!this.model.quoteLineFields[t]}},{key:"setItemLabel",value:function(){this.item.startsWith("record.")?this.itemLabel=this.item.split(".")[1]:this.itemLabel=this.item}},{key:"syncValueChangeWithOptionConfiguration",value:function(){if(this.data.configuration&&0!=this.data.configuration.length&&!(this.data.configuration.length>1)){var t=this.data.configuration[0].optionData;if(t){var e=this.item.split("."),n=e[e.length-1];void 0!==t[n]&&(t[n]=this.value)}}}},{key:"handleOriginalValues",value:function(){!this.data._transient_.original&&this.data.record&&(this.data._transient_.original={},this.data._transient_.original.record=JSON.parse(JSON.stringify(this.data.record))),this.data._transient_.original&&(this.data._transient_.original.record.hasOwnProperty(this.item.split(".")[1])||this.set("data._transient_.original."+this.item,this.value),this.$.field.originalValue=this.get("data._transient_.original."+this.item))}},{key:"setDisplayIfRelationshipItem",value:function(){var t=this,e=new m.a(this.item,null,(function(e){return t.get("data."+e)}),this.setValue.bind(this));e.hasRelationship()&&(this.display=e.getRelationshipName())}},{key:"_displayChangedObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this._displayChanged(t,e,n,o,r)}},{key:"_displayChanged",value:function(){var t=this;new m.a(this.item,null,(function(e){return t.get("data."+e)}),this.setValue.bind(this)).addRelationshipName(this.value,this.display,this.field.referenceTo[0])}},{key:"getValue",value:function(t){return this.data.record[t]}},{key:"setValue",value:function(t,e){this.set("data."+t,e)}},{key:"equals",value:function(t){return this.data===t.data}},{key:"getRenderReadOnly",value:function(){return!this.optionDrawer}},{key:"getDisabled",value:function(){return!!this.optionDrawer||this.selected}}])&&E(e.prototype,n),o&&E(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(f.a)(r.a));customElements.define(M.is,M);var D,A=Object(_.b)(B||(B=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n#drawerTable {\n  border-bottom: 1px solid #D8DDE6;\n}\n"])));n(186);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(t,e){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=H(t);if(e){var r=H(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return z(this,n)}}function z(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U,V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(a,t);var e,n,o,i=N(a);function a(){return L(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-option-drawer"}},{key:"properties",get:function(){return{option:Object,md:Object,fieldNames:Array,richTextFields:Array}}},{key:"observers",get:function(){return["_setFieldNamesAndRichTextFieldsObserver(option, md)"]}},{key:"template",get:function(){return Object(r.b)(D||(D=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<div id="drawerTable">\n\t\t\t<sb-row-drawer\n\t\t\t\titem="sb-option-cell"\n\t\t\t\tmodel="[[md]]"\n\t\t\t\tdata="{{option}}"\n\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\trich-text-fields="[[richTextFields]]"\n\t\t\t\thighlight-on-focus="true"\n\t\t\t></sb-row-drawer>\n\t\t</div>\n\n\t\t'])),A)}}],(n=[{key:"_setFieldNamesAndRichTextFieldsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setFieldNamesAndRichTextFields(t,e)}},{key:"setFieldNamesAndRichTextFields",value:function(){var t=[],e=[];for(var n in this.option._transient_.attributeItems)t.push("record."+n),this.md.fieldDetails["record."+n]&&"richtextarea"===this.md.fieldDetails["record."+n].extraTypeInfo&&e.push("record."+n);this.fieldNames=t,this.richTextFields=e}}])&&q(e.prototype,n),o&&q(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(h.a)(r.a));customElements.define(V.is,V);var W,Q=Object(_.b)(U||(U=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sf-icon-padding: 0;\n}\n:host .drawer {\n  background-color: var(--sbPageHeaderBgColor);\n  border-bottom: 1px solid #d0d0d0;\n  display: table-row;\n}\n[hidden] {\n  display: none;\n}\n#optiontable {\n  padding: 0px;\n}\n.datatable > .featureless {\n  display: none;\n}\na {\n  display: inline-block;\n  cursor: pointer;\n  padding: 8px 12px;\n  margin: 4px 0;\n}\n:host([label='Options']) {\n  --sbOptionCellBorderTop: 0;\n  --sbOptionCellBorderBottom: 1px solid #d8dde6;\n}\n#upgradeOptionsButton {\n  margin: 10px;\n}\n#upgradeOptionsButton[class*='--mobile'] {\n  margin: 0;\n  width: 100%;\n  height: 53px;\n  border-radius: 0;\n}\n#optiontable[class*='--mobile'] {\n  border-bottom: var(--option-table-border-bottom, none);\n  overflow-x: hidden;\n}\n[class*='--mobile'] #upgradeOptionsButton {\n  margin: 0;\n  width: 100%;\n  height: 53px;\n  border-radius: 0;\n}\n[class*='--mobile'] #optiontable {\n  border-bottom: var(--option-table-border-bottom, none);\n  overflow-x: hidden;\n}\n.upgradeOption {\n  --upgrade-option-color: #aaaaaa;\n  color: #aaaaaa;\n}\nsb-table-row[class*='--desktop']::shadow #swipe-header.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] sb-table-row::shadow #swipe-header.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n"])));n(36);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||Y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Y(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=et(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function et(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}function nt(t,e){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=it(t);if(e){var r=it(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(f,t);var e,n,o,h=ot(f);function f(){return J(this,f),h.apply(this,arguments)}return e=f,o=[{key:"is",get:function(){return"sb-product-option-table"}},{key:"properties",get:function(){return{featureId:String,model:Object,isClickSelection:Boolean,index:String,routeSource:String,options:Array,showAddOptionsButton:Boolean,md:Object,fieldSet:Array,featureless:Boolean,prefix:{type:String,computed:"getPrefix(model)"},primaryMobileCol:{type:Array,computed:"_getPrimaryMobileColumns(prefix, fieldSet, fieldSetName)"},parentIdDataPath:{type:String,computed:"setParentIdDataPath(model, prefix)"},disabledStateMap:Object,disableAllFields:Boolean,configSearch:Object,viewport:{type:Object,value:function(){return c.a.getViewport()}},showUpgradeOptions:{type:Boolean,value:!1},upgradeOptionButtonText:{type:String,value:"Show Available Upgrades"},hasUpgradeOptions:Boolean,headerActions:{type:Array,value:[]},spinner:{type:Boolean,notify:!0},attributeItemFields:{type:Array,value:[]},productHasAttributeSet:Boolean,tabIndex:{type:Number,value:null}}}},{key:"observers",get:function(){return["_setMetadataRequestObserver(model, fieldSet, prefix, options)","_initOptionsObserver(model, featureId, isClickSelection, fieldSet)","disabledStateMapChanged(disabledStateMap.*)","_setOptionsDisabledDataObserver(disabledStateMap, options)","setUpgradeOptionClass(options)","_filterOptionsObserver(configSearch, options)","setProductRulesActions(options, model.productRulesActions.*)","_firePriceRules(options, model.optionDataByOptionIdAndIndex.*)","_notifyObserver(model.optionNotifications, options)","_showOrHideAddOptionsButtonObserver(model, featureId, isClickSelection)","_setHasUpgradeOptionsObserver(hasUpgradeOptions, showAddOptionsButton)","_setHeaderActions(options)","_showUpgradeOptionIfSelectionMethodAddObserver(options, isClickSelection)","setOptionIndex(options)","isFeatureOptionless(options.splices)"]}},{key:"template",get:function(){return Object(r.b)(W||(W=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-field-md id="fieldMetaData" background="true"></sb-field-md>\n\t\t<div device class="datatable" id="optiontable">\n\t\t\t<div class$="thead [[featureless]]">\n\t\t\t\t<sb-table-header\n\t\t\t\t\t\tid="header"\n\t\t\t\t\t\tcols="[[md.fieldLabels]]"\n\t\t\t\t\t\theader-class-map="[[md.headerClassMap]]"\n\t\t\t\t\t\theader-actions="[[headerActions]]"\n\t\t\t\t\t\thas-placeholder="[[productHasAttributeSet]]"\n\t\t\t\t></sb-table-header>\n\t\t\t</div>\n\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t<template is="dom-repeat" items="{{options}}" as="option">\n\n\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\tid="row"\n\t\t\t\t\t\t\tcell="sb-option-cell"\n\t\t\t\t\t\t\tcols="[[md.recordKeys]]"\n\t\t\t\t\t\t\tcols-display="[[md.fieldLabelMap]]"\n\t\t\t\t\t\t\trow-data="{{option}}"\n\t\t\t\t\t\t\tselectable="[[md]]"\n\t\t\t\t\t\t\tselection-type="[[option.selectionType]]"\n\t\t\t\t\t\t\tselected="{{option.selected}}"\n\t\t\t\t\t\t\tdisabled-data="[[option.disabledData]]"\n\t\t\t\t\t\t\tdisable-all-fields="[[disableAllFields]]"\n\t\t\t\t\t\t\tmodel="[[md]]"\n\t\t\t\t\t\t\trequires-model="true"\n\t\t\t\t\t\t\trow-actions="[[option._transient_.rowActions]]"\n\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\troute-source="[[routeSource]]"\n\t\t\t\t\t\t\tselection-id-data-path="record.Id"\n\t\t\t\t\t\t\tparent-id-data-path="[[parentIdDataPath]]"\n\t\t\t\t\t\t\thidden$="[[option.hidden]]"\n\t\t\t\t\t\t\tprimary-mobile-cols="[[primaryMobileCol]]"\n\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\tpath-prefix="record."\n\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\tedit-first-when-selected="[[editFirstWhenSelected]]"\n\t\t\t\t\t\t\toption-selected="[[option.selected]]"\n\t\t\t\t\t\t\thighlight-row-on-focus="[[!_isMobile()]]"\n\t\t\t\t\t\t\tselection-on-load="true"\n\t\t\t\t\t\t\tname$="[[option.name]]"\n\t\t\t\t\t\t\thas-toggle="[[hasAttributeItems(option)]]"\n\t\t\t\t\t\t\thas-toggle-placeholder="[[productHasAttributeSet]]"\n\t\t\t\t\t\t\tstyle$="display:[[_getDisplayStyle(productHasAttributeSet, option.hidden)]]"\n\t\t\t\t\t></sb-table-row>\n\n\t\t\t\t\t<template is="dom-if" if="[[hasAttributeItems(option)]]">\n\t\t\t\t\t\t<template is="dom-if" if="[[option._transient_.optionDrawerExpanded]]">\n\t\t\t\t\t\t\t<div class="drawer">\n\t\t\t\t\t\t\t\t<sb-option-drawer\n\t\t\t\t\t\t\t\t\tid="drawerRow"\n\t\t\t\t\t\t\t\t\toption="{{option}}"\n\t\t\t\t\t\t\t\t\tmd="[[attributeItemMd]]"\n\t\t\t\t\t\t\t\t\tname$="[[option.name]]"\n\t\t\t\t\t\t\t\t></sb-option-drawer>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[hasUpgradeOptions]]">\n\t\t\t\t\t<paper-button noink id="upgradeOptionsButton" on-click="toggleUpgradeOptions">[[upgradeOptionButtonText]]</paper-button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<template is="dom-if" if="[[showAddOptionsButton]]">\n\t\t\t<a on-click="routeToLookup"><sb-i18n>Add Options</sb-i18n></a>\n\t\t</template>\n\t\t'])),Q)}}],(n=[{key:"events",get:function(){var t={};return t[p.a.NAVIGATION_CHANGED]=this.navigationChanged,t}},{key:"ready",value:function(){tt(it(f.prototype),"ready",this).call(this),this.$.header.selectable=!1,this.handleSelectionChanged(),this.handleMetadataChanged(),this.handleDeleteOption(),this.handleConfigureOption(),this.viewport&&this.viewport.isMobile()||(this.editFirstWhenSelected="sb-field")}},{key:"handleSelectionChanged",value:function(){this.addEventListener("selection-changed",this._selectionChanged.bind(this)),this.addEventListener("sb-quantity-changed",this._handleOptionUpgrades.bind(this))}},{key:"_selectionChanged",value:function(t){this.model.setOptionSelected(t.detail.Id,t.detail.selected),this.ifRadioSelectedClearOtherRadioSelections(t);var e=null!=t.detail.index?t.detail.index:this.getOptionIndex(t.detail.Id);e<0||(!0===t.detail.selected&&"Configurator"===this.routeSource?(this._displayAvailableRowActions(e,!1),this.set(["options",e,"selected"],t.detail.selected)):this._displayAvailableRowActions(e,!0),"Configurator"===this.routeSource&&t.detail.path&&this.options.length>e&&(this.options[e].upgradedAssetId||this.options[e].sourceProductIds)&&this._handleOptionUpgrades(t,e))}},{key:"_displayAvailableRowActions",value:function(t,e){if(!(this.options.length<=t))for(var n=0;n<this.options[t]._transient_.rowActions.length;n++)this.set(["options",t,"_transient_.rowActions",n,"invisible"],e),"OptionLookup"===this.routeSource&&this.set(["options",t,"_transient_.rowActions",n,"hidden"],e),"Configure"===this.options[t]._transient_.rowActions[n].title&&!0!==this.options[t].configurable&&this.set(["options",t,"_transient_.rowActions",n,"invisible"],!0)}},{key:"handleMetadataChanged",value:function(){this.$.fieldMetaData.addEventListener("md-changed",function(t){var e=this.initFieldMetadata(t.detail.value.fieldsByObject);this.rowClassMap=e.fieldSetMd.rowClassMap,this.md=e.fieldSetMd,this.attributeItemMd=e.attributeItemMd,this.spinner=!1}.bind(this))}},{key:"_handleOptionUpgrades",value:function(t,e){var n=this;if("Amendment"===this.model.product.quoteType){var o=this.options[e||this.getOptionIndex(t.detail.Id)],r=new u.a(this.prefix,this.options,o);if(new d.a(r).setQuantitiesByRatio(),r.getSourceOption()||r.getUpgradeOption()){var s=this.getOptionIndex(r.getSourceOption().record.Id),l=this.getOptionIndex(r.getUpgradeOption().record.Id);this._handleOptionUpgradesDebouncer=a.a.debounce(this._handleOptionUpgradesDebouncer,i.d.after(10),(function(){var t=r.getSourceOption(),e=r.getUpgradeOption();t.invalidQuantity?n._notifyQuantityChange(s,l,t,!0):e.invalidQuantity?n._notifyQuantityChange(l,s,e,!0):n._notifyQuantityChange(s,l),t.invalidQuantity=null,e.invalidQuantity=null}))}}}},{key:"_notifyQuantityChange",value:function(t,e,n,o){o&&(n.record[this.prefix+"Quantity__c"]=n.invalidQuantity,this.notifyPath(["options",t,"record",this.prefix+"Quantity__c"]),n.record[this.prefix+"Quantity__c"]=n.validQuantity),this.notifyPath(["options",e,"record",this.prefix+"Quantity__c"]),this.notifyPath(["options",t,"record",this.prefix+"Quantity__c"])}},{key:"_getPrimaryMobileColumns",value:function(){var t=["record."+this.prefix+"ProductName__c"];return t&&t.length>0&&this.fieldSetName&&this.fieldSetName.endsWith("Phone")&&(t=["record."+this.fieldSet[0]]),t}},{key:"_setMetadataRequestObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.setMetadataRequest(t,e,n,o)}},{key:"setMetadataRequest",value:function(){this.spinner=!0;var t,e=new Set,n=[],o=K(this.fieldSet);try{for(o.s();!(t=o.n()).done;){var r=t.value;e.add(r)}}catch(t){o.e(t)}finally{o.f()}var i,a=K((e=this.setAttributeItemMetaData(e)).values());try{for(a.s();!(i=a.n()).done;){var s=i.value;n.push("ProductOption__c."+s),n.push("QuoteLine__c."+s)}}catch(t){a.e(t)}finally{a.f()}JSON.stringify(this.$.fieldMetaData.fields)!==JSON.stringify(n)&&(this.$.fieldMetaData.fields=n)}},{key:"setAttributeItemMetaData",value:function(t){var e,n=new Set,o=K(this.options);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(this.hasAttributeItems(r))for(var i in r._transient_.attributeItems)t.add(i),n.add(i)}}catch(t){o.e(t)}finally{o.f()}var a,s=K(n.values());try{for(s.s();!(a=s.n()).done;){var l=a.value;this.attributeItemFields.push(l)}}catch(t){s.e(t)}finally{s.f()}return t}},{key:"initFieldMetadata",value:function(t){var e={fieldLabelMap:{},recordKeys:[],fieldLabels:[],fieldDetails:{},labelTypeMap:{},itemTypeMap:{},fields:this.fieldSet},n={fieldLabelMap:{},recordKeys:[],fieldLabels:[],fieldDetails:{},labelTypeMap:{},itemTypeMap:{},fields:this.attributeItemFields};for(var o in t[this.prefix+"ProductOption__c"]){var r=t[this.prefix+"ProductOption__c"][o];"currency"===r.type.toLowerCase()&&(r.CurrencyIsoCode=this.model.currencyIsoCode),this.addMetaDataProperties(e,r),this.attributeItemFields.length>0&&this.addMetaDataProperties(n,r)}return this.addAdditionalMetaDataProperties(e,t),this.addAdditionalMetaDataProperties(n,t),{fieldSetMd:e,attributeItemMd:n}}},{key:"addMetaDataProperties",value:function(t,e){var n=e.name;if(-1!=t.fields.indexOf(n)){t.fieldLabels.push(e.label),t.recordKeys.push("record."+n),t.fieldLabelMap[n]=e.label,t.fieldDetails["record."+n]=e;var o=e.type;if(!this._isMobile()){n===this.prefix+"Quantity__c"&&(o="string");var r=new s.c(e).getImageWidth(20);r&&(o+=":"+r)}t.labelTypeMap[e.label.replace(/\W/g,"")]=o,t.itemTypeMap["record."+n]=o}}},{key:"addAdditionalMetaDataProperties",value:function(t,e){t.quoteLineFields=e[this.prefix+"QuoteLine__c"],t.headerClassMap=new l.a(Object.keys(t.labelTypeMap),"Th",t.labelTypeMap,null,!0).build(),t.rowClassMap=new l.a(t.recordKeys,"Td",t.itemTypeMap,["initial"]).build(),delete t.fields}},{key:"_initOptionsObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.initOptions(t,e,n,o)}},{key:"initOptions",value:function(){this.productHasAttributeSet=!this._isMobile()&&this.model.product._transient_&&this.model.product._transient_.hasAttributeItems,this.options=this.model.getOptionsByFeatureId(this.featureId)}},{key:"_notifyObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.notify(t,e)}},{key:"notify",value:function(t){if(this.isClickSelection)for(var e=0,n=this.options.length;e<n;e++){var o,r=K(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;this.notifyPath("options.".concat(e,".").concat(i))}}catch(t){r.e(t)}finally{r.f()}}else{this.model.getFeature(this.featureId)._transient_.changedExternally&&this._optionsExternallyChanged();var a=this.$.tbody.querySelectorAll("sb-table-row");a.length&&a.forEach((function(e){e.notify(t)}))}}},{key:"_optionsExternallyChanged",value:function(){this.$.tbody.querySelector("dom-repeat").render(),this._renderChangedRows(),this.isFeatureOptionless(),this._setHeaderActions()}},{key:"_renderChangedRows",value:function(){for(var t=this.$.tbody.querySelectorAll("sb-table-row"),e=this.options.length-1;e>=0;e--)this.options[e].selected?this._addSelectedOption(this.options[e],t[e],e):this.deleteOption(this.options[e].record.Id,e)}},{key:"_addSelectedOption",value:function(t,e,n){e.rowData||(t._transient_.rowActions=this.model.getOption(t.record.Id)._transient_.rowActions,e.rowData=t,e.$.row.selected=!0,this._displayAvailableRowActions(n,!1))}},{key:"deselectOptionsOnOptionLookup",value:function(){var t,e=K(this.options.entries());try{for(e.s();!(t=e.n()).done;){var n=$(t.value,2),o=n[0];n[1],this.set("options.".concat(o,".selected"),!1)}}catch(t){e.e(t)}finally{e.f()}}},{key:"getOptionIndex",value:function(t){for(var e=-1,n=0,o=this.options.length;e<0&&n<o;)this.options[n].record.Id===t&&(e=n),n++;return e}},{key:"ifRadioSelectedClearOtherRadioSelections",value:function(t){if("radio"===t.detail.selectionType&&t.detail.selected){var e=this.$.tbody.querySelectorAll("sb-table-row");if(e&&0!=e.length){var n,o=t.composedPath()[0],r=K(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;"radio"==i.selectionType&&i!==o&&(this.dispatchEvent(Object(p.d)("group-selected",{selected:!1})),i.selected=!1)}}catch(t){r.e(t)}finally{r.f()}}}}},{key:"setParentIdDataPath",value:function(){return"record."+this.prefix+"ConfiguredSKU__c"}},{key:"navigationChanged",value:function(){this.model.getFeature(this.featureId)._transient_.changedExternally||this.reset()}},{key:"_setOptionsDisabledDataObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setOptionsDisabledData(t,e)}},{key:"setOptionsDisabledData",value:function(){this.options.length&&this.disabledStateMap&&Object.keys(this.disabledStateMap).length&&this.options.forEach(function(t,e){this.optionShouldChange(t)&&this.changeOptionDisabled(t,e)}.bind(this))}},{key:"disabledStateMapChanged",value:function(t){if(this.options&&this.options.length&&Object.keys(this.disabledStateMap).length){var e=t.path.split(".")[1],n=this.model.optionsById[e],o=this.options.findIndex((function(t){return t.record.Id===e}));o>=0&&this.optionShouldChange(n)&&this.changeOptionDisabled(n,o)}}},{key:"optionShouldChange",value:function(t){return t.disabledData&&this.disabledStateMap[t.record.Id]!==t.disabledData.constrained}},{key:"changeOptionDisabled",value:function(t,e){var n=!!this.disabledStateMap[t.record.Id],o=t.disabledData.disabled;this.set("options.".concat(e,".disabledData"),{disabled:o,constrained:n}),this.isClickSelection||1!=this.disabledStateMap[t.record.Id]||this.deleteOption(t.record.Id,e,!0)}},{key:"reset",value:function(){}},{key:"routeToLookup",value:function(){var t={qId:this.model.qId,pId:this.model.product.record.Id,fId:this.featureId};"Dynamic"===this.model.getFeature(this.featureId).optionSelectionMethod&&(t.path=["product","dl"]),this.dispatchEvent(Object(p.d)("add-option-clicked",t))}},{key:"isFeatureOptionless",value:function(){this.options&&(this.featureless=0===this.options.length?"featureless":null)}},{key:"isOptionSelected",value:function(t){return"OptionLookup"!==this.routeSource&&!!t.selected}},{key:"handleDeleteOption",value:function(){this.addEventListener("delete-tapped",function(t){this.deleteOption(t.detail.Id,t.detail.index)}.bind(this))}},{key:"deleteOption",value:function(t,e,n){var o=this.sameOptionAdded(t,this.options[e].index,!0);o||(this.model.optionsById[t].selected=!1),this.dispatchEvent(Object(p.d)("sb-option-deleted",this.options[e])),this.splice("options",e,1),this.showOrHideAddOptionsButton(),n&&o&&this.deleteOption(o.id,o.index,!0)}},{key:"sameOptionAdded",value:function(t,e){var n,o=null,r=K(this.options.entries());try{for(r.s();!(n=r.n()).done;){var i=$(n.value,2),a=i[0],s=i[1];if(s.record.Id===t){if(s.index===e)continue;o={id:t,index:a},s.index>e&&s.index--}}}catch(t){r.e(t)}finally{r.f()}return o}},{key:"handleConfigureOption",value:function(){this.addEventListener("configure-tapped",function(t){var e=this.isClickSelection?null:t.detail.index,n=this.isClickSelection?this.model.optionsById[t.detail.Id]:this.model.getFeature(this.featureId)._transient_.optionConfigurations[t.detail.index];this.dispatchEvent(Object(p.d)("configure-option-tapped",{addedIndex:n.index||0,index:e,optionId:n.record.Id,optionalSKU:n.record[this.prefix+"OptionalSKU__c"],productId:this.model.product.record.Id,tabIndex:this.tabIndex,optionData:n.record,isDynamicOption:n.isDynamicOption}))}.bind(this))}},{key:"_filterOptionsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.filterOptions(t,e)}},{key:"filterOptions",value:function(){for(var t=this.configSearch.setOptionVisibility(this.options),e=0;e<this.options.length;e++)this.options[e].hiddenByRule||this.set("options."+e+".hidden",t[e].hidden)}},{key:"setOptionIndex",value:function(){for(var t={},e=0;e<this.options.length;e++){t[this.options[e].record.Id]||(t[this.options[e].record.Id]=0),void 0===this.options[e].index&&this.set("options."+e+".index",t[this.options[e].record.Id]);var n="_"+this.options[e].record.Id+"_"+this.options[e].index,o=this.model.product.configuration.configuredOptions&&this.model.product.configuration.configuredOptions[n];this.set("options."+e+".configured",o),t[this.options[e].record.Id]++}}},{key:"setProductRulesActions",value:function(){0!=Object.keys(this.model.productRulesActions).length&&this.model.optionsByFeatureId[this.featureId]&&(0==this.isClickSelection&&this.setUnaddedOptionsRulesActions(),void 0!==this.options[0]&&this.setDisplayedOptionsRulesActions())}},{key:"setUnaddedOptionsRulesActions",value:function(){for(var t=this.model.optionsByFeatureId[this.featureId],e=0;e<t.length;e++){var n=t[e];this.model.productRulesActions.selectOptions[n.record.Id]&&!this.sameOptionAdded(n.record.Id,e)&&(n.selected=!0,n.added=!0,this.push("options",n),this.showOrHideAddOptionsButton(),this.fireOptionChangedByRule(!0)),this.model.productRulesActions.showOptions[n.record.Id]&&(n.hidden=!1,n.hiddenByRule=!1),this.model.productRulesActions.hideOptions[n.record.Id]&&(n.hidden=!0,n.hiddenByRule=!0),!0===this.model.productRulesActions.disableOptions[n.record.Id]&&(n.disabledData={disabled:!0,constrained:!0}),!1===this.model.productRulesActions.disableOptions[n.record.Id]&&(n.disabledData={disabled:!0,constrained:!1}),!0===this.model.productRulesActions.enableOptions[n.record.Id]&&(n.disabledData={disabled:!1,constrained:!1}),!1===this.model.productRulesActions.enableOptions[n.record.Id]&&(n.disabledData={disabled:!1,constrained:!0})}}},{key:"setDisplayedOptionsRulesActions",value:function(){for(var t=0;t<this.options.length;t++)if(this.model.productRulesActions.hideOptions[this.options[t].record.Id]&&(this.set("options.".concat(t,".hidden"),!0),this.options[t].hiddenByRule=!0),this.model.productRulesActions.showOptions[this.options[t].record.Id]&&(this.set("options.".concat(t,".hidden"),!1),this.options[t].hiddenByRule=!1),!0===this.model.productRulesActions.disableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!0,constrained:!0}),!1===this.model.productRulesActions.disableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!0,constrained:!1}),!0===this.model.productRulesActions.enableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!1,constrained:!1}),!1===this.model.productRulesActions.enableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!1,constrained:!0}),this.isClickSelection&&this.model.productRulesActions.selectOptions[this.options[t].record.Id]&&(this.set("options.".concat(t,".selected"),!0),this.fireOptionChangedByRule(!0)),this.model.productRulesActions.deselectOptions[this.options[t].record.Id])if(this.isClickSelection)this.set("options.".concat(t,".selected"),!1),this.fireOptionChangedByRule(!1);else{if(this.deleteOption(this.options[t].record.Id,t),void 0===this.options[t])return;t--}}},{key:"fireOptionChangedByRule",value:function(t){this.viewport&&!this.viewport.isMobile()||this.dispatchEvent(Object(p.d)("option-changed-by-rule",{added:t}))}},{key:"_firePriceRules",value:function(){var t=this.model.optionDataByOptionIdAndIndex,e=this.options;if(null!=e&&void 0!==t)for(var n=0;n<e.length;n++){var o=e[n].optionId||e[n].record.Id,r=e[n].index;if(t[o]&&null!=t[o][r]){var i=this._getPriceActions(e[n],o,r);for(var a in i)i.hasOwnProperty(a)&&this.set(["options",n,"record",a],i[a])}}}},{key:"_getPriceActions",value:function(t,e,n){var o={},r=this.model.optionDataByOptionIdAndIndex[e][n].optionData;for(var i in r)r.hasOwnProperty(i)&&"attributes"!=i&&t.record[i]!=r[i]&&(o[i]=r[i]);return this._calculateUnitPrice(o,r),o}},{key:"_calculateUnitPrice",value:function(t,e){var n=this.getPrefix()+"UnitPrice__c";if(void 0!==e[n])return t[n]=e[n]}},{key:"setUpgradeOptionClass",value:function(){this.observeNode(this.$.tbody,function(){for(var t=this.$.tbody.querySelectorAll("#row[hidden]"),e=0;e<t.length;e++)t[e].rowData.isUpgrade&&Object(g.m)("upgradeOption",!0,t[e])}.bind(this))}},{key:"toggleUpgradeOptions",value:function(){var t=this.options;this.showUpgradeOptions=!this.showUpgradeOptions,this.showUpgradeOptions?this.upgradeOptionButtonText="Hide Available Upgrades":this.upgradeOptionButtonText="Show Available Upgrades";for(var e=0;e<t.length;e++)!0===t[e].isUpgrade&&(this.showUpgradeOptions?this.set("options."+e+".hidden",!1):this.set("options."+e+".hidden",!0))}},{key:"_showOrHideAddOptionsButtonObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.showOrHideAddOptionsButton(t,e,n)}},{key:"showOrHideAddOptionsButton",value:function(){this.showAddOptionsButton=!this.isClickSelection&&!this.model.maxOptionsMet(this.model.getFeature(this.featureId))}},{key:"getPrefix",value:function(){return this.model.prefix}},{key:"_setHasUpgradeOptionsObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setHasUpgradeOptions(t,e)}},{key:"setHasUpgradeOptions",value:function(t,e){this.hasUpgradeOptions=t&&!e}},{key:"_setHeaderActions",value:function(){if("OptionLookup"!==this.routeSource&&0!==this.options.length&&this.options[0]._transient_.rowActions){this.headerActions=JSON.parse(JSON.stringify(this.options[0]._transient_.rowActions));for(var t=this.headerActions.length-1;t>=0;t--)this.headerActions[t].invisible=!0;this.isClickSelection||(this.headerActions[0].hidden=!0)}}},{key:"_getDisplayStyle",value:function(t,e){return e?"none":t?"table-row":"table-row-group"}},{key:"_showUpgradeOptionIfSelectionMethodAddObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._showUpgradeOptionIfSelectionMethodAdd(t,e)}},{key:"_showUpgradeOptionIfSelectionMethodAdd",value:function(){if(!this.isClickSelection)for(var t=0;t<this.options.length;t++)this.options[t].isUpgrade&&this.set("options.".concat(t,".hidden"),!1)}},{key:"_isMobile",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"hasAttributeItems",value:function(t){return!this._isMobile()&&"Add"!==this.model.getFeature(this.featureId).optionSelectionMethod&&t&&t._transient_&&t._transient_.attributeItems&&Object.keys(t._transient_.attributeItems).length>0||!1}}])&&Z(e.prototype,n),o&&Z(e,o),Object.defineProperty(e,"prototype",{writable:!1}),f}(Object(y.a)(Object(f.a)(Object(h.a)(Object(b.a)(r.a)))));customElements.define(at.is,at)},function(t,e,n){"use strict";n.r(e),n.d(e,"ContractLookup",(function(){return W}));var o,r=n(23),i=n(4),a=n(30),s=n(1),l=n(5),c=n(2),u=n(3);var d,p,h,f=Object(u.b)(o||(d=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host .title {\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n.skipActionAddOn {\n  display: var(--sbSelectContractHideSkipActionOnAddOnDisplay);\n}\n.skipActionAmend {\n  display: var(--sbSelectContractHideSkipActionOnAmendDisplay);\n}\n.selectContractText {\n  padding-top: 30px;\n  padding-left: 10px;\n}\n.selectContractText[class*='--mobile'] {\n  padding-bottom: 25px;\n}\n[class*='--mobile'] .selectContractText {\n  padding-bottom: 25px;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.scrollContent[class*='--desktop'] {\n  overflow: auto;\n}\n[class*='--desktop'] .scrollContent {\n  overflow: auto;\n}\n"],p||(p=d.slice(0)),o=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(p)}})))),b=(n(13),n(15),n(36),n(26),n(65),n(45),n(50),n(24),n(54),n(46),n(81),n(70),n(71),n(42)),y=n(0);var g,v=Object(u.b)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  color: #3c3d3e;\n}\n.datatable {\n  position: relative;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.scrollContent[class*='--desktop'] {\n  overflow: auto;\n}\n[class*='--desktop'] .scrollContent {\n  overflow: auto;\n}\n"])));n(25),n(82),n(83);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=S(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function S(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=T(t);if(e){var r=T(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return P(this,n)}}function P(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I,j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(a,t);var e,n,o,r=E(a);function a(){return O(this,a),r.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sf-contract-lookup-table"}},{key:"observers",get:function(){return["_handleContractLoadResponseObserver(contractsByType, name)"]}},{key:"properties",get:function(){return{name:String,contractsByType:Object}}},{key:"template",get:function(){return Object(c.b)(g||(g=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t <style include="sb-tables-styles"></style>\n\t\t <style include="sb-common-styles"></style>\n\t\t <style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<sb-field-md id="md" error="{{errors}}"></sb-field-md>\n\t\t<div id="contractLookupTable">\n\t\t\t<div class="scrollContent" device>\n\t\t\t\t<div class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header"\n \t\t\t\t\t\t\tcols="[[fieldLabels]]"\n \t\t\t\t\t\t\theader-class-map="[[headerClassMap]]"\n \t\t\t\t\t\t\tselection-type="radio">\n\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{contracts}}" as="row">\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\trow-data="[[row.record]]"\n\t\t\t\t\t\t\t\tmodel="[[mdMap]]"\n\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\tprimary-mobile-cols=\'["Contract.Status", "Contract.ContractNumber"]\'\n\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\tselection-type="radio"\n\t\t\t\t\t\t\t\troute-source="ContractSelect"\n\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),v)}}],(n=[{key:"contractObject",get:function(){return i.a.org.isServiceCloudEnabled?"ServiceContract":"Contract"}},{key:"connectedCallback",value:function(){x(T(a.prototype),"connectedCallback",this).call(this),this.handleMetaDataResponse()}},{key:"ready",value:function(){x(T(a.prototype),"ready",this).call(this),this.addEventListener("selection-changed",this.handleContractSelected.bind(this)),this.$.header.selectable=!1}},{key:"handleMetaDataResponse",value:function(){this.$.md.addEventListener("md-changed",function(t){var e=[],n=[],o={},r={},i={},a={};t.detail.value.fields.forEach(function(t){var s=t.name;e.push(s),n.push(t.label),o[s]=t.label,r[s]=t,i[t.label.replace(/\W/g,"")]=t.type,a[s]=t.type}.bind(this)),this.headerClassMap=new b.a(Object.keys(i),"Th",i,null,!0).build(),this.rowClassMap=new b.a(e,"Td",a).build(),this.mdMap=r,this.recordKeys=e,this.fieldLabels=n,this.fieldLabelMap=o}.bind(this))}},{key:"setFieldSet",value:function(){var t,e=[],n=_(this.contracts[0].activeContractFieldSets);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.push(this.contractObject+"."+o)}}catch(t){n.e(t)}finally{n.f()}this.$.md.fields=e}},{key:"_handleContractLoadResponseObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.handleContractLoadResponse(t,e)}},{key:"handleContractLoadResponse",value:function(){this.contracts=this.contractsByType[this.name],this.contracts.length>0&&this.setFieldSet()}},{key:"handleContractSelected",value:function(t){t.detail.selected?this.selectedId=t.detail.Id:this.selectedId=null;var e={contractType:this.name,selectedContractId:this.selectedId};t.detail.selected&&this.ifRadioSelectedClearOtherRadioSelections(t),this.dispatchEvent(Object(y.d)("contract-selected",e))}},{key:"ifRadioSelectedClearOtherRadioSelections",value:function(t){if(!1!==t.detail.selected&&void 0!==t.detail.selected){var e,n=t.composedPath()[0],o=_(n.parentElement.querySelectorAll("sb-table-row"));try{for(o.s();!(e=o.n()).done;){var r=e.value;r!==n&&(r.selected=!1)}}catch(t){o.e(t)}finally{o.f()}}}}])&&k(e.prototype,n),o&&k(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(l.a)(c.a));function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=A(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||A(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=N(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function N(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}function z(t,e){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=V(t);if(e){var r=V(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return U(this,n)}}function U(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define(j.is,j);var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(u,t);var e,n,o,l=H(u);function u(){return L(this,u),l.apply(this,arguments)}return e=u,o=[{key:"is",get:function(){return"sb-contract-lookup"}},{key:"properties",get:function(){return Object(s.e)({prefix:{type:String,computed:"getPrefix(app.org)"},contractsByType:{type:Object,value:{}},contractLookupObjects:Array,contracts:Array,contractTabs:Array,lineEditorModel:Object,selectedContractId:String,selectedEvergreenContractId:String,action:String,accountId:String,selectedAssetIds:String,validationMessages:{type:Array,value:[]}},r.a.properties)}},{key:"template",get:function(){return Object(c.b)(I||(I=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t <style include="sb-icons-styles"></style>\n\t\t<sb-describe objects="[[contractLookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-field-md id="md" error="{{errors}}"></sb-field-md>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-service id="contractModelLoadService" loader="ContractLookupServiceProvider.ContractModelLoader" error="{{errors}}"></sb-service>\n\t\t<sb-service id="contractModelSaveService" saver="ContractLookupServiceProvider.ContractModelSaver" error="{{errors}}"></sb-service>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div slot="messages" id="messages"><sb-toast type="error" messages="[[validationMessages]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-contract-1" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Contract Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="select">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onSkip" id="skip">\n\t\t\t\t\t<sb-i18n>Skip</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="cancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<div class="scrollContent" device>\n\t\t\t<sb-tabs\n         \t\ttabs="[[contractTabs]]"\n         \t\tpage-component="sf-contract-lookup-table"\n         \t\tcontracts-by-type="[[contractsByType]]"\n         \t\tbind=\'["contractsByType"]\'\n\t\t\t/>\n\t\t</div>\n\t\t'])),f)}}],(n=[{key:"connectedCallback",value:function(){F(V(u.prototype),"connectedCallback",this).call(this),this.handleLineEditorModelResponse(),this.handleContractModelLoadResponse(),this.handleContractModelSaveResponse()}},{key:"ready",value:function(){var t=this;F(V(u.prototype),"ready",this).call(this),Object.entries({"contract-selected":"handleContractSelected"}).map((function(e){var n=D(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.setAndPrefetchObject(),this.setPropertyFromUrl(),this.setSkipActionClass(),this.action&&this.handleContractModelLoadRequest({uid:this.accountId,action:this.action})}},{key:"setAndPrefetchObject",value:function(){this.contractLookupObjects=this.isServiceCloudEnabled()?["ServiceContract"]:["Contract"]}},{key:"isServiceCloudEnabled",value:function(){return this.app.org.isServiceCloudEnabled}},{key:"getPrefix",value:function(){return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"scPrefix",get:function(){return this.app.org.scPrefix?this.app.org.scPrefix:""}},{key:"setPropertyFromUrl",value:function(){this.action=this.ctx.params.action,this.accountId=this.ctx.params.accId,this.selectedAssetIds=this.ctx.params.selectedAssetIds}},{key:"setSkipActionClass",value:function(){var t,e=this.$.skip;this.action?"Amend"===this.action&&(t="skipActionAmend"):t="skipActionAddOn",Object(s.m)(t,!0,e)}},{key:"handleLineEditorModelResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.handleContractModelLoadRequest({uid:this.lineEditorModel.quote.record.Id})}.bind(this))}},{key:"handleContractModelLoadRequest",value:function(t){this.$.contractModelLoadService.uid=null,this.$.contractModelLoadService.context=t}},{key:"handleContractModelLoadResponse",value:function(){this.$.contractModelLoadService.addEventListener("response-changed",function(t){if(this.contracts=t.detail.value,0!=this.contracts.length){this.contractsByType.evergreen=[],this.contractsByType.nonevergreen=[];var e,n=(this.isServiceCloudEnabled()?this.scPrefix:this.prefix)+"Evergreen__c",o=M(this.contracts);try{for(o.s();!(e=o.n()).done;){var r=e.value;r.record[n]?this.contractsByType.evergreen.push(r):this.contractsByType.nonevergreen.push(r)}}catch(t){o.e(t)}finally{o.f()}this.buildContractsTabs()}}.bind(this))}},{key:"handleContractSelected",value:function(t){"nonevergreen"==t.detail.contractType?this.selectedContractId=t.detail.selectedContractId:this.selectedEvergreenContractId=t.detail.selectedContractId}},{key:"handleContractModelSaveResponse",value:function(){this.$.contractModelSaveService.addEventListener("response-changed",function(t){t.detail.value&&(t.detail.value.Id?this.quoteId=t.detail.value.Id:t.detail.value.quote&&t.detail.value.quote.record&&(this.quoteId=t.detail.value.quote.record.Id,this.lineEditorModel=t.detail.value,this.$.qo.cache(this.quoteId,this.lineEditorModel))),this.navigateToLineEditor()}.bind(this))}},{key:"buildContractsTabs",value:function(){for(var t=[],e=0,n=[["nonevergreen",i.a.i18n.l("Active Contracts")],["evergreen",i.a.i18n.l("Evergreen Contracts")]];e<n.length;e++){var o=D(n[e],2),r=o[0],a=o[1];if(this.contractsByType[r].length>0){var s={name:r,label:a};t.push(s)}}this.contractTabs=t}},{key:"navigateToLineEditor",value:function(){var t=this.lineEditorModel?this.lineEditorModel.quote.record.Id:this.quoteId;this.nav("#",{qId:t},["quote","le"],!1)}},{key:"onSkip",value:function(){this.action?this.$.contractModelSaveService.model=this.buildModel(null,null,null):this.navigateToLineEditor()}},{key:"onSelect",value:function(){if(this.validationMessages=[],this.selectedContractId||this.selectedEvergreenContractId){if(this.selectedContractId){var t,e=M(this.contractsByType.nonevergreen);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.selectedContractId==n.record.Id){if(this.lineEditorModel.quote.record[this.prefix+"StartDate__c"]>n.record.EndDate)return void(this.validationMessages=[i.a.i18n.l("Can't select the contract because its end date is before the quote's start date")]);break}}}catch(t){e.e(t)}finally{e.f()}}var o;if(this.action)o=this.buildModel(null,this.selectedContractId,this.selectedEvergreenContractId);else{var r=(new a.a).addObject("quote",this.lineEditorModel.quote.record);r.add("selectedContractId",this.selectedContractId),r.add("selectedEvergreenContractId",this.selectedEvergreenContractId),o=r.build()}this.$.contractModelSaveService.model=o}else this.validationMessages=[i.a.i18n.l("Select a record or Skip to continue")]}},{key:"buildModel",value:function(t,e,n){return{quote:t||null,selectedContractId:e,selectedEvergreenContractId:n,action:this.action,accountId:this.accountId,selectedAssetIds:this.selectedAssetIds}}},{key:"onCancel",value:function(){this.showSpinner=!0,this.navigateToDetailPage()}},{key:"navigateToDetailPage",value:function(){var t;if(t=this.action?this.accountId:this.lineEditorModel.quote.record.Id,this.isLightningExperience())!0===PageContainer.getViewport().isMobile()?this.navigateToURL("#/sObject/"+this.prefix+"Quote__c/home"):sforce.one.navigateToSObject(t);else{var e="/"+t;window.parent?window.parent.location.href=e:window.location.href=e}}},{key:"isLightningExperience",value:function(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}},{key:"navigateToURL",value:function(t){sforce.one.navigateToURL(t)}}])&&q(e.prototype,n),o&&q(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(Object(l.a)(r.a));customElements.define(W.is,W)},function(t,e,n){"use strict";n.r(e),n.d(e,"ProductLookup",(function(){return U}));var o=n(23),r=n(89),i=n(1),a=n(63),s=n(60);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var d,p=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=e,this.searchModel=n,this.searchFilterData={},this.filterContext=o}var e,n,o;return e=t,(n=[{key:"buildFields",value:function(t){var e,n=[],o=l(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(r.replace("Product2","ProcessInput__c"))}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"getSearchTable",value:function(){return this.prefix+"ProcessInput__c"}},{key:"getGroupKey",value:function(t){return t.record.Id}},{key:"setDefaultFilterValues",value:function(t,e){var n,o={},r=[],i=l(t);try{for(i.s();!(n=i.n()).done;){var a,c=n.value,u=l(this.searchModel.quoteProcess.inputs);try{for(u.s();!(a=u.n()).done;){var d=a.value;if(d.record.Id===c){this.searchModel.processInputValues[c]&&e&&this.isLookupType(e[c].model.type)&&this.searchModel.processInputValues[c][this.prefix+"Value__c"]&&r.push(this.queryLookupFilterName(this.searchModel.processInputValues[c][this.prefix+"Value__c"],e[c].model.referenceTo[0]));var p=null;p=this.searchModel.processInputValues[c]?this.searchModel.processInputValues[c][this.prefix+"Value__c"]||null:d.record[d.record[this.prefix+"InputField__c"]]||null,o[c]={value:p,hidden:!1,field:d.targetFieldName};break}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){i.e(t)}finally{i.f()}return new Promise(function(t){0===r.length?(this.searchFilterData=o,t(o)):Promise.all(r).then(function(e){var n,r=l(e);try{for(r.s();!(n=r.n()).done;){var i=n.value.records[0];if(i){var a=new s.a(i.attributes.type).getNameField();for(var c in o){var u=o[c];if(u.value&&u.value.substring(0,15)===i.Id.substring(0,15)){u.label=i[a];break}}}}}catch(t){r.e(t)}finally{r.f()}this.searchFilterData=o,this.evaluateProcessInputConditions(),t(o)}.bind(this))}.bind(this))}},{key:"getFilterContext",value:function(){var t,e=JSON.parse(JSON.stringify(this.filterContext)),n=l(e.inputs);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.searchFilterData[o.record.Id].hidden?(o.record[o.targetFieldName]=null,o.hidden=!0):this.searchFilterData[o.record.Id]&&(""===this.searchFilterData[o.record.Id].value?o.record[o.targetFieldName]=null:o.record[o.targetFieldName]=this.searchFilterData[o.record.Id].value)}}catch(t){n.e(t)}finally{n.f()}for(var r=e.inputs.length,i=0;i<r;i++)e.inputs[i].hidden&&(e.inputs.splice(i,1),r--,i--);return e}},{key:"getAdditionalProperties",value:function(){return null}},{key:"evaluateProcessInputConditions",value:function(){var t,e=JSON.parse(JSON.stringify(this.searchFilterData)),n=l(this.filterContext.inputs);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=0;if(0!==o.conditions.length){var a,s=l(o.conditions);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=e[c[this.prefix+"MasterProcessInput__c"]].value;i.a.arithmeticOperatorConversion(u,c[this.prefix+"Value__c"],c[this.prefix+"Operator__c"])&&r++}}catch(t){s.e(t)}finally{s.f()}"All"===o.record[this.prefix+"ConditionsMet__c"]?e[o.record.Id].hidden=!(r===o.conditions.length):e[o.record.Id].hidden=!(r>0)}else e[o.record.Id].hidden=!1}}catch(t){n.e(t)}finally{n.f()}return this.searchFilterData=e,e}},{key:"runOnLoad",value:function(){var t,e=[],n=l(this.searchModel.quoteProcess.inputs);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.push(o.record.Id)}}catch(t){n.e(t)}finally{n.f()}this.setDefaultFilterValues(e)}},{key:"isLookupType",value:function(t){return"reference"===t||"id"===t}},{key:"queryLookupFilterName",value:function(t,e){var n=new s.a(e).getNameField(),o=t?"'".concat(t,"'"):null;return(new a.a).query("SELECT Id, ".concat(n," FROM ").concat(e," WHERE Id = ").concat(o))}}])&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),h=n(6),f=n(76),b=n(38),y=n(58),g=n(51),v=n(0),m=n(5),_=n(75),w=n(2),O=(n(18),n(26),n(35),n(99),n(24),n(50),n(54),n(46),n(65),n(45),n(93),n(180),n(150),n(52),n(125),n(115),n(71),n(114),n(126),n(13),n(36),n(15),n(3));var k,x,S,C=Object(O.b)(d||(k=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primaryButton {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primaryButton:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host #headersearch {\n  position: relative;\n}\n:host #drawer {\n  position: relative;\n}\n:host .visible-panel {\n  display: inline;\n}\n:host .hidden-panel {\n  display: none;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host sb-dialog[class*='--mobile'] {\n  position: fixed;\n  z-index: 1;\n}\n:host sb-dialog .sb-icon-compass[class*='--mobile'] {\n  display: none;\n}\n:host sb-dialog .mobile[class*='--mobile'] {\n  padding: 6px 3px;\n}\n:host [class*='--mobile'] sb-dialog {\n  position: fixed;\n  z-index: 1;\n}\n:host [class*='--mobile'] sb-dialog .sb-icon-compass {\n  display: none;\n}\n:host [class*='--mobile'] sb-dialog .mobile {\n  padding: 6px 3px;\n}\n:host sb-dialog #suggest {\n  float: right;\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host .dialog {\n  margin-left: 0px;\n}\n.datatable {\n  position: relative;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer #pflayout,\n.drawer #gslayout {\n  outline: none;\n}\nsb-pagination {\n  width: 100%;\n  -webkit-transform: translate3d(0, 0, 0);\n  -ms-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-transition: -webkit-transform 0.3s, visibility 0.3s;\n  transition: transform .3s,visibility .3s;\n  visibility: visible;\n  display: block;\n  --pagination-bar-background-color: #f4f6f9;\n  --pagination-bar-padding-bottom: 5px;\n  --pagination-bar-padding-top: 5px;\n  --pagination-bar-text-align: center;\n  --pagination-bar-box-shadow: 0px 2px 6px #111;\n}\nsb-pagination[class*='--mobile'] {\n  position: fixed;\n  bottom: 0;\n  --pagination-bar-background-color: #fff;\n  --pagination-bar-padding-bottom: 10px;\n  --pagination-bar-padding-top: 10px;\n  --pagination-bar-text-align: center;\n  --pagination-bar-display: table;\n  --pagination-bar-width: 100%;\n  --pagination-parts-display: table-cell;\n  --pagination-previous-text-align: left;\n  --pagination-pages-text-align: center;\n  --pagination-next-text-align: right;\n}\n[class*='--mobile'] sb-pagination {\n  position: fixed;\n  bottom: 0;\n  --pagination-bar-background-color: #fff;\n  --pagination-bar-padding-bottom: 10px;\n  --pagination-bar-padding-top: 10px;\n  --pagination-bar-text-align: center;\n  --pagination-bar-display: table;\n  --pagination-bar-width: 100%;\n  --pagination-parts-display: table-cell;\n  --pagination-previous-text-align: left;\n  --pagination-pages-text-align: center;\n  --pagination-next-text-align: right;\n}\nsb-pagination.hide[class*='--mobile'] {\n  -webkit-transform: translate3d(0, 3.75rem, 0);\n  -ms-transform: translate3d(0, 3.75rem, 0);\n  transform: translate3d(0, 3.75rem, 0);\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\npaper-tooltip[class*='--mobile'] {\n  display: none;\n}\n[class*='--mobile'] sb-pagination.hide {\n  -webkit-transform: translate3d(0, 3.75rem, 0);\n  -ms-transform: translate3d(0, 3.75rem, 0);\n  transform: translate3d(0, 3.75rem, 0);\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n[class*='--mobile'] paper-tooltip {\n  display: none;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],x||(x=k.slice(0)),d=Object.freeze(Object.defineProperties(k,{raw:{value:Object.freeze(x)}}))));function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=B(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||B(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=L(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=z(t);if(e){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return N(this,n)}}function N(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=["#gslayout","#pflayout"],U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(l,t);var e,n,a,s=F(l);function l(){return D(this,l),s.apply(this,arguments)}return e=l,a=[{key:"is",get:function(){return"sb-product-lookup"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,redirectUrl:String,totalCount:String,hasTotalCount:Boolean,quote:Object,internal:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return h.a.getViewport()}},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},isMobile:{type:Boolean,computed:"_setIsMobile(viewport)"},searchContext:String,searchedValue:String,filterContext:Object,searcher:Object},o.a.properties)}},{key:"observers",get:function(){return["handleAutoSelect(searchModel)","_modalObserver(quote, modalActive)","handleValueChanged(searchFilterData.*)"]}},{key:"template",get:function(){return Object(w.b)(S||(S=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<css-style><style include="sb-tables-styles sb-common-styles"></style></css-style>\n\t\t<style>','</style>\n\t\t<css-style><style include="sb-icons-styles"></style></css-style>\n\t\t\n\t\t<sb-describe objects="[[lookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-service id="selectionReader" reader="LastSelectionReader" transient="true" cache="LastSelectionCache" error="{{errors}}"></sb-service>\n\t\t<sb-service id="selectionSaver" saver="LastSelectionSaver" transient="true" cache="LastSelectionCache" error="{{errors}}"></sb-service>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="ProductLookupServiceProvider.SearchModelLoader" send-quote-record="true" error="{{errors}}"></sb-search-model-load>\n\t\t<sb-search-model-select id="smSelectService" target-group-key="[[ctx.params.groupKey]]"\n\t\t\t\t\t\t\t\tsaver="ProductLookupServiceProvider.SearchModelSelector" error="{{errors}}"\n\t\t\t\t\t\t\t\tuses-client-calculator="[[le.settings.usesClientCalculator]]"></sb-search-model-select>\n\n\t\t<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device searchbar="true">\n\t\t\t<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Product Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\n\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t<sb-search-bar id="headersearch" slot="headersearch"\n\t\t\t\t\t\t\t   value="{{searchContext}}"\n\t\t\t\t\t\t\t   searched-value="{{searchedValue}}"\n\t\t\t\t\t\t\t   quote="[[quote]]"\n\t\t\t\t\t\t\t   search-service="ProductLookupServiceProvider.SearchModelSearcher"\n\t\t\t\t\t\t\t   action-id="[[ctx.params.aId]]" is-mobile="[[isMobile]]"\n\t\t\t\t\t\t\t   reposition="true"\n\t\t\t\t\t\t\t   searcher = "[[searcher]]"\n\t\t\t\t></sb-search-bar>\n\t\t\t</template>\n\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" hidden$="[[hideFilters(guidedOnly, searchModel.searchFilters)]]" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">\n\t\t\t\t\t\t[[totalCount]]\n\t\t\t\t\t</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10"\n\t\t\t\t\t\t\t   fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t\t<template is="dom-if" if="[[hasQuoteProcess]]">\n\t\t\t\t\t<paper-button noink on-click="toggleGuidedSelling" id="gs" class="sb-icon-compass">\n\t\t\t\t\t</paper-button>\n\t\t\t\t\t<paper-tooltip for="gs" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t<sb-i18n>Guided Selling</sb-i18n>\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</template>\n\t\t\t\t<paper-button noink on-click="navToFavorites" id="fav" class="sb-icon-star"></paper-button>\n\t\t\t\t<paper-tooltip for="fav" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Favorites</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onSelectMore" id="plSelectMore">\n\t\t\t\t\t<sb-i18n>Select & Add More</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "UnitPrice"]\'\n\t\t\t\t\tselection-id-data-path="[[searchModel.targetObjectName]].Id"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tcurrency-iso-code="[[quote.record.CurrencyIsoCode]]"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\n\t\t\t<div drawer class="panel" slot="drawer">\n\n\t\t\t\t<div id="pflayout">\n\t\t\t\t\t<header class="title"><sb-i18n>Product Filter</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\n\t\t\t\t\t\x3c!--this is the filter panel--\x3e\n\t\t\t\t\t<sb-filter-layout id="pf"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="searchFilters"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{searcher}}"\n\t\t\t\t\t\t\t\t\t  service-loader="ProductLookupServiceProvider.SearchModelSearcher"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{filterData}}"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t\t  action-id="[[ctx.params.aId]]"\n\t\t\t\t\t\t\t\t\t  search-context="[[searchedValue]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" tabindex="0" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t<text id="clearfilter" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t</div>\n\t\t\t\t<div id="gslayout">\n\t\t\t\t\t<header class="title"><sb-i18n>Guided Selling</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\n\t\t\t\t\t\x3c!--this is the guided selling panel--\x3e\n\t\t\t\t\t<sb-filter-layout id="gs"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="quoteProcess.inputs"\n\t\t\t\t\t\t\t\t\t  filter-key="Id"\n\t\t\t\t\t\t\t\t\t  filter-context="[[quoteProcess]]"\n\t\t\t\t\t\t\t\t\t  target-field-name="[[inputField]]"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{panelSuggester}}"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{searchFilterData}}"\n\t\t\t\t\t\t\t\t\t  search-filter-model="{{searchFilterModel}}"\n\t\t\t\t\t\t\t\t\t  group-items="{{panelGroupItems}}"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  service-loader="ProductLookupServiceProvider.SearchModelSuggester"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" noink on-click="suggestClicked" class="primaryButton panelbutton"><sb-i18n>Suggest</sb-i18n></paper-button>\n\t\t\t\t\t<text id="cleargs" class="click" on-click="clearGSFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\n\t\t<sb-dialog device id="modal" modal="true" close-dialog="sb-gs-modal-close" hide-cancel-button="true">\n\t\t\t<i slot="icon" class="icon sb-icon-compass"></i>\n\t\t\t<sb-i18n slot="title" class="title dialog">Guided Selling</sb-i18n>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\t\t\t\t\x3c!--this is the guided selling model content--\x3e\n\t\t\t\t<sb-filter-layout id="modalGroup"\n\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t  filter-path="quoteProcess.inputs"\n\t\t\t\t\t\t\t\t  filter-key="Id"\n\t\t\t\t\t\t\t\t  target-field-name="[[inputField]]"\n\t\t\t\t\t\t\t\t  filter-delegator="{{suggester}}"\n\t\t\t\t\t\t\t\t  search-filter-data="{{searchFilterData}}"\n\t\t\t\t\t\t\t\t  search-filter-model="{{searchFilterModel}}"\n\t\t\t\t\t\t\t\t  group-items="{{groupItems}}"\n\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t  service-loader="ProductLookupServiceProvider.SearchModelSuggester"\n\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t></sb-filter-layout>\n\t\t\t</div>\n\n\t\t\t<paper-button slot="paper-button" id="suggest" class="primaryButton modal" noink on-click="suggestClicked">\n\t\t\t\t<sb-i18n>Suggest</sb-i18n>\n\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t</paper-button>\n\t\t</sb-dialog>\n\n\t\t<span device>\n\t\t\t<template is="dom-if" if="[[usePagination]]">\n\t\t\t\t<sb-pagination page-size="[[resultLimit]]" page-index="[[pageIndex]]" num-items="[[totalCount]]"></sb-pagination>\n\t\t\t</template>\n\t\t</span>\n\t\t'])),C)}}],(n=[{key:"_modalObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.modal(t,e)}},{key:"modal",value:function(){!this.modalActive&&this.hasQuoteProcess?(this.$.selectionSaver.save({uid:this.quote.record.Id,model:{modalActive:!0}}),Object(i.m)("modaloverflow",!0,this),this.$.modal.show=!0,this.refocus()):(this.hasQuoteProcess||this.setPanelDisplay("#pflayout"),!0===this.lineEditorModel.settings.openSearchFilterByDefault&&this.toggleFilter(),this.panelSuggester=this.suggester,this.panelGroupItems=this.groupItems)}},{key:"ready",value:function(){var t=this;Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=j(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),R(z(l.prototype),"ready",this).call(this),this.setSpinnerMessage(),this.preLoadObjects(),this.handleClearSelected(),this.handleSelectButtonClickedServerResponseAndNavigation(),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"],this.$.modal.addEventListener("sb-gs-modal-close",this.closeDialog.bind(this)),this.$.drawer.addEventListener("transitionend",this.refocus.bind(this)),this.$.modal.addEventListener("filter-item-value-changed",this.handleLabelChanged.bind(this)),this.addEventListener("iron-deselect",this.handleDrawerClosed.bind(this)),this.addEventListener("clear-filters",this.clearFilterFields),this.addEventListener("sb-type-clear",this.resetSearchBar),this.attachSearchBarEventListeners()}},{key:"setSpinnerMessage",value:function(){Object(g.d)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}},{key:"handleTransientCache",value:function(){this.$.selectionReader.read({uid:this.quote.record.Id}).then(function(t){this.lastSubmit=t?t.lastSubmit:null,this.modalActive=!!t&&t.modalActive,"gs"===this.lastSubmit?(this.suggester.runOnLoad(),this.runSuggester()):"pf"===this.lastSubmit&&(this.searcher.runOnLoad(t.filterValues),this.runSearcher())}.bind(this))}},{key:"handleProductsLoadServerResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.quote=t.detail.value.quote,this.inputField=this.prefix+"InputField__c",this.localizer=new f.a(this.prefix);var e=parseInt(this.ctx.params.groupKey),n=this.getQuoteProcessId(this.quote,e);this.hasQuoteProcess=null!==n,!0===this.hasQuoteProcess?this.setPanelDisplay("#gslayout"):this.setPanelDisplay("#pflayout"),this.ctx.params.aId&&(this.$.smLoadService.actionId=this.ctx.params.aId),this.$.smLoadService.processId=n,this.$.smLoadService.quote=this.$.smSelectService.quote=this.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){var e=this.localizer.localizeSearchModel(t.detail.value);void 0!==this.guidedOnly&&null!==this.guidedOnly||null==e.searchFiltersTabShown||(this.guidedOnly=!e.searchFiltersTabShown),this.onLoadSearchModel||(this.onLoadSearchModel=Object.assign({},e)),this.$.lookupLayout.groupByField=e.productResultsGroupFieldName,this.$.lookupLayout.fieldPrefix=e.targetObjectName+".",e=this._removeInactiveQuoteProcessInputs(e),this.quoteProcess=e.quoteProcess,this.searchModel=e,this.buildDelegator(),this.handleTransientCache()}.bind(this))}},{key:"getQuoteProcessId",value:function(t,e){var n,o,r=I(t.lineItemGroups);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(i.key===e){n=i.record[this.prefix+"QuoteProcess__c"];break}}}catch(t){r.e(t)}finally{r.f()}return n||t.record[this.prefix+"QuoteProcessId__c"]||null}},{key:"attachSearchBarEventListeners",value:function(){this.addEventListener("sb-search-invoked",this.searchBarResultsChanged.bind(this)),this.addEventListener("sb-search-item-selected",this.searchBarItemSelected.bind(this)),this.addEventListener("sb-search-reset-clicked",this.searchBarResetClicked.bind(this)),this.addEventListener("sb-search-nil-search-invoked",this.searchBarNilSearchInvoked.bind(this))}},{key:"handleSelectButtonClickedServerResponseAndNavigation",value:function(){this.$.smSelectService.addEventListener("result-changed",function(t){this._updateQuote(t.detail.value.quote),0==t.detail.value.configuredProducts.length&&this.handleNonConfigurableProducts(t),t.detail.value.configuredProducts.length>0&&this.handleConfigurableProducts(t)}.bind(this))}},{key:"handleNonConfigurableProducts",value:function(t){"LineEditor"===this.redirectUrl?this.navigateToLineEditor():"ProductLookup"===this.redirectUrl&&(this.$.smSelectService.quote=t.detail.value.quote,this.$.lookupLayout.deSelectAll(),this.navigateToSelf(),this.spinner=!1)}},{key:"handleConfigurableProducts",value:function(t){var e={};t.detail.value.selectedProducts=this.selectedProducts;var n=this.getConfigProductIds(t);e.qId=t.detail.value.quote.record.Id,void 0!==this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),void 0!==this.ctx.params.aId&&(e.aId=this.ctx.params.aId),e.pId=n,e.redirectUrl=this.redirectUrl,e.open=0,this.nav("#",e,["product","pc"],!1)}},{key:"_updateQuote",value:function(t){if(t.partialVO){var e=this.lineEditorModel.quote.lineItems;t.lineItems=e.concat(t.lineItems),delete t.existingProductIds,delete t.segmentTemplatesByDimensionTypeByGroupKey,delete t.emptyGroupKeys,t.partialVO=!1}this.lineEditorModel.quote=t}},{key:"handleLabelChanged",value:function(t){this.searchFilterData&&(this.searchFilterData[t.detail.item].label=t.detail.value)}},{key:"buildDelegator",value:function(){this.hasQuoteProcess&&(this.suggester=new p(this.prefix,this.searchModel,this.quoteProcess)),this.searcher||(this.searcher=new r.a(this.searchModel))}},{key:"_removeInactiveQuoteProcessInputs",value:function(t){if(!this.hasQuoteProcess)return t;var e=t.quoteProcess.inputs;if(void 0===e||0===e.length)return t;var n,o=[],r=I(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;!1!==i.record[this.prefix+"Active__c"]&&o.push(i)}}catch(t){r.e(t)}finally{r.f()}return t.quoteProcess.inputs=o,t}},{key:"handleValueChanged",value:function(){this.internal||(this.internal=!0,this.updateSearchFilterData(),this.internal=!1)}},{key:"updateSearchFilterData",value:function(){this.suggester.searchFilterData=this.searchFilterData;var t=this.suggester.evaluateProcessInputConditions();this.searchFilterData=t}},{key:"setPanelDisplay",value:function(t){var e=this;H.forEach((function(n){var o=t===n;Object(i.m)("hidden-panel",!o,e.shadowRoot.querySelector(n)),Object(i.m)("visible-panel",o,e.shadowRoot.querySelector(n))}))}},{key:"toggleFilter",value:function(){this.togglePanel("pflayout")}},{key:"toggleGuidedSelling",value:function(){this.togglePanel("gslayout")}},{key:"togglePanel",value:function(t){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.shadowRoot.querySelector(".visible-panel").id!==t&&"main"!==this.$.drawer.selected||this.$.drawer.togglePanel(),this.setPanelDisplay("#"+t),this.refocus()}},{key:"closeDrawer",value:function(){this.refocus(),this.$.drawer.closeDrawer()}},{key:"refocus",value:function(t){t&&"transitionend"===t.type||this.shadowRoot.querySelector(".visible-panel")&&(this.$.modal.show?this.$.modalGroup.focusFirstField():"gslayout"===this.shadowRoot.querySelector(".visible-panel").id?this.$.gs.focusFirstField():"pflayout"===this.shadowRoot.querySelector(".visible-panel").id&&this.$.pf.focusFirstField())}},{key:"reverseFocus",value:function(){this.shadowRoot.querySelector(".visible-panel")&&(this.$.modal.show?this.$.suggest.focus():"gslayout"===this.shadowRoot.querySelector(".visible-panel").id?this.$.cleargs.focus():"pflayout"===this.shadowRoot.querySelector(".visible-panel").id&&this.$.clearfilter.focus())}},{key:"closeDialog",value:function(){Object(i.m)("modaloverflow",!1,this),this.suggester.skipDefaults=!0,this.panelSuggester=this.suggester,this.panelGroupItems||(this.panelGroupItems=this.groupItems),this.$.modal.show=!1}},{key:"suggestClicked",value:function(){this.suggest=!0,this.runSuggester()}},{key:"runSuggester",value:function(){this.searchContext=this.searchedValue,this.saveCache(),this.lastSubmit="gs",this.closeDialog(),this.$.gs.runService(),this.closeDrawer()}},{key:"runSearcher",value:function(t){this.shadowRoot.querySelector("#submit").focus(),this.searchContext=this.searchedValue,this.saveCache(),this.lastSubmit="pf",this.$.pf.actionId=this.ctx.params.aId,this.searchContext=this.searchedValue,this.filterContext=this.$.pf.filterDelegator.getFilterContext(),this.$.pf.runService(),this.closeDrawer()}},{key:"saveCache",value:function(){this.$.selectionSaver.save({uid:this.quote.record.Id,model:{modalActive:!0,lastSubmit:this.shadowRoot.querySelector(".visible-panel").id.substring(0,2),filterValues:this.searcher.searchFilterData}})}},{key:"getConfigProductIds",value:function(t){var e,n=[],o=I(t.detail.value.configuredProducts);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(r.record.Id)}}catch(t){o.e(t)}finally{o.f()}return n.join(",")}},{key:"onSelect",value:function(){this.redirectUrl="LineEditor",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this._addAggregateDataIfThresholdExceeded(),this.spinner=!0,this.quoteProcess&&(this.$.smSelectService.quoteProcess=this.suggester.getFilterContext()),this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToLineEditor()}},{key:"onSelectMore",value:function(){this.redirectUrl="ProductLookup",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this._addAggregateDataIfThresholdExceeded(),this.spinner=!0,this.quoteProcess&&(this.$.smSelectService.quoteProcess=this.suggester.getFilterContext()),this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToSelf()}},{key:"_addAggregateDataIfThresholdExceeded",value:function(){var t=this.lineEditorModel.settings.largeQuoteThreshold;if(null!=t&&this.quote.lineItems.length>t){this.$.smSelectService.stripQuoteLines=!0;var e=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines;e=e.replace("{0}",this.lineEditorModel.quote.record.Id).replace("{1}",t),console.log(e);var n=new y.a(this.quote);this.quote.existingProductIds=n.getExistingProductIdsFromLines();var o=this.ctx.params.groupKey,r=n.getSegmentTemplatesByDimensionTypeForGroupKey(o);this.quote.segmentTemplatesByDimensionTypeByGroupKey={},this.quote.segmentTemplatesByDimensionTypeByGroupKey[(o||-1)+""]=r,this.quote.emptyGroupKeys=n.getKeysOfEmptyGroups()}}},{key:"getOrderedSelectedProducts",value:function(){var t,e=[],n=I(Object.keys(this.selectedProducts).sort(function(t,e){return this.selectedProducts[t].index-this.selectedProducts[e].index}.bind(this)));try{for(n.s();!(t=n.n()).done;){var o=t.value,r=this.selectedProducts[o];r.invalid||(delete r.record.UnitPrice,e.push(r))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"onCancel",value:function(){this.spinner=!0;var t={qId:this.quote.record.Id};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}},{key:"navigateToLineEditor",value:function(){var t={qId:this.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}},{key:"navigateToSelf",value:function(){var t=this.ctx.params.aId?"&aId="+this.ctx.params.aId:"";Object(v.c)(v.a.NAVIGATION_CHANGED,{url:"#",location:"#/product/lookup?qId="+this.quote.record.Id+t}),this.$.plSelectMore.blur()}},{key:"navToFavorites",value:function(){var t={qId:this.quote.record.Id};void 0!==this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),void 0!==this.ctx.params.aId&&(t.aId=this.ctx.params.aId),this.nav("#",t,["favorite","lookup"],!1)}},{key:"handleAutoSelect",value:function(){if(this.suggest&&this.quoteProcess&&this.quoteProcess.record[this.prefix+"ProductAutoSelected__c"]&&1===this.searchModel.results.length){var t=this.searchModel.results[0];this.selectedProducts[t.record.Product2Id]={record:{Id:t.record.Product2Id,attributes:t.record.attributes,UnitPrice:t.record.UnitPrice},invalid:!1},this.suggest=!1,this.onSelect()}}},{key:"handleClearSelected",value:function(){this.addEventListener("suggestion-loaded",function(){this.$.lookupLayout.deSelectAll()}.bind(this))}},{key:"handleDrawerClosed",value:function(){"main"===this.$.drawer.selected&&Object(v.c)(v.a.PANEL_CLOSED)}},{key:"clearFilterFields",value:function(){this.filterData=this.searcher.clearFields()}},{key:"clearGSFields",value:function(){var t=JSON.parse(JSON.stringify(this.suggester.searchFilterData));for(var e in t)t[e].value=null;this.suggester.searchFilterData=t,this.searchFilterData=this.suggester.evaluateProcessInputConditions()}},{key:"bindFilterEnterCallBacks",value:function(){this.$.pf.enterCallback=this.runSearcher.bind(this),this.$.gs.enterCallback=this.runSuggester.bind(this),this.$.modalGroup.enterCallback=this.runSuggester.bind(this)}},{key:"searchBarResultsChanged",value:function(t){var e=t.detail.searchModel,n=t.detail.searchValue;this.searchContext=n,this.searchedValue=n,this.shadowRoot.querySelector("#headersearch").toggleResetButton(!0),void 0!==e&&(this.searchModel=e)}},{key:"searchBarItemSelected",value:function(t){var e=t.detail.item,n=Object.assign({},this.searchModel),o=t.detail.searchValue;this.searchContext=o,this.searchedValue=o,void 0!==e&&(this.shadowRoot.querySelector("#headersearch").toggleResetButton(!0),n.results=[e],n.totalCount=1,this.searchModel=n)}},{key:"searchBarResetClicked",value:function(){this.searchContext="",this.searchedValue="",this.shadowRoot.querySelector("#headersearch").toggleResetButton(!1),this.searchModel=Object.assign({},this.onLoadSearchModel)}},{key:"searchBarNilSearchInvoked",value:function(){this.searcher.hasSearchFilterValues()?this.runSearcher():this.searchBarResetClicked()}},{key:"resetSearchBar",value:function(){this.searchContext="",this.searchedValue=""}},{key:"preLoadObjects",value:function(){this.lookupObjects=["Product2","PricebookEntry",this.prefix+"ProcessInput__c"]}},{key:"prefix",get:function(){return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"hideFilters",value:function(t,e){return t||e&&e.every((function(t){return t.hidden}))}},{key:"isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.error=Object(b.a)(this.errors),this.spinner=!1)}},{key:"_setIsMobile",value:function(t){if(t)return t.isMobile()}}])&&A(e.prototype,n),a&&A(e,a),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(m.a)(Object(_.a)(o.a)));customElements.define(U.is,U)},function(t,e,n){"use strict";var o,r=n(2),i=n(20),a=n(27),s=n(11),l=n(0),c=n(1),u=n(3);var d,p,h=Object(u.b)(o||(d=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  z-index: 10000;\n}\nsb-dialog {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerLeft: 0;\n  --sbDialogContainerRight: 0;\n  --sbDialogContainerTop: 60px;\n  --sbDialogContainerWidth: 90%;\n  --sbDialogContainerHeight: 85%;\n  --sbDialogContainerTransform: translate(0, 0);\n  --sbDialogContentHeight: inherit;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentPadding: 0;\n  --sbDialogFooterDisplay: none;\n  --sbDialogTitleDisplay: none;\n  --sbDialogTitleMobileVisibility: hidden;\n}\nsb-dialog[class*='--desktop'] {\n  --sbDialogHeaderBorderWidth: 0;\n  --sbDialogHeaderBorderStyle: none;\n  --sbDialogHeaderPaddingTop: 0;\n  --sbDialogHeaderPaddingRight: 0;\n  --sbDialogHeaderPaddingBottom: 0;\n  --sbDialogHeaderPaddingLeft: 0;\n}\n[class*='--desktop'] sb-dialog {\n  --sbDialogHeaderBorderWidth: 0;\n  --sbDialogHeaderBorderStyle: none;\n  --sbDialogHeaderPaddingTop: 0;\n  --sbDialogHeaderPaddingRight: 0;\n  --sbDialogHeaderPaddingBottom: 0;\n  --sbDialogHeaderPaddingLeft: 0;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogHeaderBorderWidth: inherit;\n  --sbDialogHeaderBorderStyle: inherit;\n  --sbDialogHeaderBorderColor: inherit;\n  --sbDialogHeaderPaddingTop: inherit;\n  --sbDialogHeaderPaddingRight: inherit;\n  --sbDialogHeaderPaddingBottom: inherit;\n  --sbDialogHeaderPaddingLeft: inherit;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogHeaderBorderWidth: inherit;\n  --sbDialogHeaderBorderStyle: inherit;\n  --sbDialogHeaderBorderColor: inherit;\n  --sbDialogHeaderPaddingTop: inherit;\n  --sbDialogHeaderPaddingRight: inherit;\n  --sbDialogHeaderPaddingBottom: inherit;\n  --sbDialogHeaderPaddingLeft: inherit;\n}\nsb-dialog::shadow #easyXDM_sbQQ_provider {\n  width: 100%;\n  height: 100%;\n}\n"],p||(p=d.slice(0)),o=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(p)}}))));n(24),n(52);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b,y=function(t,e,n,o,r,i){var a,s,l,c,u,d=this,p=Math.floor(1e4*Math.random()),h=Function.prototype,b=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,y=/[\-\w]+\/\.\.\//,g=/([^:])\/\//g,v="",m={},_=t.easyXDM,w="easyXDM_",O=!1;function k(t,e){var n=f(t[e]);return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function x(){var t,e="Shockwave Flash",n="application/x-shockwave-flash";if(!A(navigator.plugins)&&"object"==f(navigator.plugins[e])){var o=navigator.plugins[e].description;o&&!A(navigator.mimeTypes)&&navigator.mimeTypes[n]&&navigator.mimeTypes[n].enabledPlugin&&(s=o.match(/\d+/g))}if(!s)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),s=Array.prototype.slice.call(t.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),t=null}catch(t){}if(!s)return!1;var r=parseInt(s[0],10),i=parseInt(s[1],10);return l=r>9&&i>0,!0}if(k(t,"addEventListener"))c=function(t,e,n){t.addEventListener(e,n,!1)},u=function(t,e,n){t.removeEventListener(e,n,!1)};else{if(!k(t,"attachEvent"))throw new Error("Browser not supported");c=function(t,e,n){t.attachEvent("on"+e,n)},u=function(t,e,n){t.detachEvent("on"+e,n)}}var S,C=!1,E=[];function P(){if(!C){C=!0;for(var t=0;t<E.length;t++)E[t]();E.length=0}}if("readyState"in e?(S=e.readyState,C="complete"==S||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==S||"interactive"==S)):C=!!e.body,!C){if(k(t,"addEventListener"))c(e,"DOMContentLoaded",P);else if(c(e,"readystatechange",(function(){"complete"==e.readyState&&P()})),e.documentElement.doScroll&&t===top){!function t(){if(!C){try{e.documentElement.doScroll("left")}catch(e){return void o(t,1)}P()}}()}c(t,"load",P)}function T(t,e){C?t.call(e):E.push((function(){t.call(e)}))}function I(t){return t.match(b)[3]}function j(t){var e=t.toLowerCase().match(b);if(!e)return"";var n=e[2],o=e[3],r=e[4]||"";return("http:"==n&&":80"==r||"https:"==n&&":443"==r)&&(r=""),n+"//"+o+r}function B(t){if(!(t=t.replace(g,"$1/")).match(/^(http||https):\/\//)){var e="/"===t.substring(0,1)?"":n.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1)),t=n.protocol+"//"+n.host+e+t}for(;y.test(t);)t=t.replace(y,"");return t}function M(t,e){var n="",o=t.indexOf("#");-1!==o&&(n=t.substring(o),t=t.substring(0,o));var r=[];for(var a in e)e.hasOwnProperty(a)&&r.push(a+"="+i(e[a]));return t+(O?"#":-1==t.indexOf("?")?"?":"&")+r.join("&")+n}var D=function(t){for(var e,n={},o=(t=t.substring(1).split("&")).length;o--;)n[(e=t[o].split("="))[0]]=r(e[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash);function A(t){return void 0===t}var R,L=function(){var t={},e={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(e).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(e).replace(/\s/g,"")===n&&(t.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(e=n.evalJSON()).a&&3===e.a.length&&3===e.a[2]&&(t.parse=function(t){return t.evalJSON()}),t.stringify&&t.parse?(L=function(){return t},t):null)};function q(t,e,n){var o;for(var r in e)e.hasOwnProperty(r)&&(r in t?"object"===f(o=e[r])?q(t[r],o,n):n||(t[r]=e[r]):t[r]=e[r]);return t}function F(t){var n;A(a)&&function(){var t=e.body.appendChild(e.createElement("form")),n=t.appendChild(e.createElement("input"));n.name=w+"TEST"+p,a=n!==t.elements[n.name],e.body.removeChild(t)}(),a?n=e.createElement('<iframe name="'+t.props.name+'"/>'):(n=e.createElement("IFRAME")).name=t.props.name,n.id=n.name=t.props.name,delete t.props.name,"string"==typeof t.container&&(t.container=e.getElementById(t.container)),t.container||(q(n.style,{position:"absolute",top:"-2000px",left:"0px"}),t.container=e.body);var o=t.props.src;if(t.props.src="javascript:false",q(n,t.props),n.border=n.frameBorder=0,n.allowTransparency=!0,t.container.appendChild(n),t.onLoad&&c(n,"load",t.onLoad),t.usePost){var r,i=t.container.appendChild(e.createElement("form"));if(i.target=n.name,i.action=o,i.method="POST","object"===f(t.usePost))for(var s in t.usePost)t.usePost.hasOwnProperty(s)&&(a?r=e.createElement('<input name="'+s+'"/>'):(r=e.createElement("INPUT")).name=s,r.value=t.usePost[s],i.appendChild(r));i.submit(),i.parentNode.removeChild(i)}else n.src=o;return t.props.src=o,n}function N(o){var r,i=o.protocol;if(o.isHost=o.isHost||A(D.xdm_p),O=o.hash||!1,o.props||(o.props={}),o.isHost)o.remote=B(o.remote),o.channel=o.channel||"default"+p++,o.secret=Math.random().toString(16).substring(2),A(i)&&(i=j(n.href)==j(o.remote)?"4":k(t,"postMessage")||k(e,"postMessage")?"1":o.swf&&k(t,"ActiveXObject")&&x()?"6":"Gecko"===navigator.product&&"frameElement"in t&&-1==navigator.userAgent.indexOf("WebKit")?"5":o.remoteHelper?"2":"0");else if(o.channel=D.xdm_c.replace(/["'<>\\]/g,""),o.secret=D.xdm_s,o.remote=D.xdm_e.replace(/["'<>\\]/g,""),i=D.xdm_p,o.acl&&!function(t,e){"string"==typeof t&&(t=[t]);for(var n,o=t.length;o--;){if(n="^"===t[o].substr(0,1)&&"$"===t[o].substr(t[o].length-1,1)?t[o]:"^"+(t[o].replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),(n=new RegExp(n)).test(e))return!0}return!1}(o.acl,o.remote))throw new Error("Access denied for "+o.remote);switch(o.protocol=i,i){case"0":if(q(o,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),o.isHost){if(!o.local){for(var a,l=n.protocol+"//"+n.host,c=e.body.getElementsByTagName("img"),u=c.length;u--;)if((a=c[u]).src.substring(0,l.length)===l){o.local=a.src;break}o.local||(o.local=t)}var d={xdm_c:o.channel,xdm_p:0};o.local===t?(o.usePolling=!0,o.useParent=!0,o.local=n.protocol+"//"+n.host+n.pathname+n.search,d.xdm_e=o.local,d.xdm_pa=1):d.xdm_e=B(o.local),o.container&&(o.useResize=!1,d.xdm_po=1),o.remote=M(o.remote,d)}else q(o,{useParent:!A(D.xdm_pa),usePolling:!A(D.xdm_po),useResize:!o.useParent&&o.useResize});r=[new m.stack.HashTransport(o),new m.stack.ReliableBehavior({}),new m.stack.QueueBehavior({encode:!0,maxLength:4e3-o.remote.length}),new m.stack.VerifyBehavior({initiate:o.isHost})];break;case"1":r=[new m.stack.PostMessageTransport(o)];break;case"2":o.isHost&&(o.remoteHelper=B(o.remoteHelper)),r=[new m.stack.NameTransport(o),new m.stack.QueueBehavior,new m.stack.VerifyBehavior({initiate:o.isHost})];break;case"3":r=[new m.stack.NixTransport(o)];break;case"4":r=[new m.stack.SameOriginTransport(o)];break;case"5":r=[new m.stack.FrameElementTransport(o)];break;case"6":s||x(),r=[new m.stack.FlashTransport(o)]}return r.push(new m.stack.QueueBehavior({lazy:o.lazy,remove:!0})),r}function z(t){for(var e,n={incoming:function(t,e){this.up.incoming(t,e)},outgoing:function(t,e){this.down.outgoing(t,e)},callback:function(t){this.up.callback(t)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,r=t.length;o<r;o++)q(e=t[o],n,!0),0!==o&&(e.down=t[o-1]),o!==r-1&&(e.up=t[o+1]);return e}return q(m,{version:"2.5.00.0",query:D,stack:{},apply:q,getJSONObject:L,whenReady:T,noConflict:function(e){return t.easyXDM=_,(v=e)&&(w="easyXDM_"+v.replace(".","_")+"_"),m}}),m.DomHelper={on:c,un:u,requiresJSON:function(n){var o,r;"object"==f((o=t)[r="JSON"])&&o[r]||e.write('<script type="text/javascript" src="'+n+'"><\/script>')}},R={},m.Fn={set:function(t,e){R[t]=e},get:function(t,e){if(R.hasOwnProperty(t)){var n=R[t];return e&&delete R[t],n}}},m.Socket=function(t){var e=z(N(t).concat([{incoming:function(e,n){t.onMessage(e,n)},callback:function(e){t.onReady&&t.onReady(e)}}])),n=j(t.remote);this.origin=j(t.remote),this.destroy=function(){e.destroy()},this.postMessage=function(t){e.outgoing(t,n)},e.init()},m.Rpc=function(t,e){if(e.local)for(var n in e.local)if(e.local.hasOwnProperty(n)){var o=e.local[n];"function"==typeof o&&(e.local[n]={method:o})}var r=z(N(t).concat([new m.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=j(t.remote),this.context=t.context||null,this.destroy=function(){r.destroy()},r.init()},m.stack.SameOriginTransport=function(t){var e,r,i,a;return e={outgoing:function(t,e,n){i(t),n&&n()},destroy:function(){r&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){a=j(t.remote),t.isHost?(q(t.props,{src:M(t.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:t.channel,xdm_p:4}),name:w+t.channel+"_provider"}),r=F(t),m.Fn.set(t.channel,(function(t){return i=t,o((function(){e.up.callback(!0)}),0),function(t){e.up.incoming(t,a)}}))):(i=function(){var t=parent;if(""!==v)for(var e=0,n=v.split(".");e<n.length;e++)t=t[n[e]];return t.easyXDM}().Fn.get(t.channel,!0)((function(t){e.up.incoming(t,a)})),o((function(){e.up.callback(!0)}),0))},init:function(){T(e.onDOMReady,e)}}},m.stack.FlashTransport=function(t){var r,a,s,c,u;function p(t,e){o((function(){r.up.incoming(t,s)}),0)}function h(n){var o=t.swf+"?host="+t.isHost,r="easyXDM_swf_"+Math.floor(1e4*Math.random());m.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),(function(){m.stack.FlashTransport[n].swf=c=u.firstChild;for(var t=m.stack.FlashTransport[n].queue,e=0;e<t.length;e++)t[e]();t.length=0})),t.swfContainer?u="string"==typeof t.swfContainer?e.getElementById(t.swfContainer):t.swfContainer:(q((u=e.createElement("div")).style,l&&t.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),e.body.appendChild(u));var a="callback=flash_loaded"+i(n.replace(/[\-.]/g,"_"))+"&proto="+d.location.protocol+"&domain="+i(I(d.location.href))+"&port="+i(function(t){return t.match(b)[4]||""}(d.location.href))+"&ns="+i(v);u.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+r+"' data='"+o+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+o+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+o+"' height='1' width='1'></embed></object>"}return r={outgoing:function(e,n,o){c.postMessage(t.channel,e.toString()),o&&o()},destroy:function(){try{c.destroyChannel(t.channel)}catch(t){}c=null,a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){s=t.remote,m.Fn.set("flash_"+t.channel+"_init",(function(){o((function(){r.up.callback(!0)}))})),m.Fn.set("flash_"+t.channel+"_onMessage",p),t.swf=B(t.swf);var e=I(t.swf),i=function(){m.stack.FlashTransport[e].init=!0,(c=m.stack.FlashTransport[e].swf).createChannel(t.channel,t.secret,j(t.remote),t.isHost),t.isHost&&(l&&t.swfNoThrottle&&q(t.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),q(t.props,{src:M(t.remote,{xdm_e:j(n.href),xdm_c:t.channel,xdm_p:6,xdm_s:t.secret}),name:w+t.channel+"_provider"}),a=F(t))};m.stack.FlashTransport[e]&&m.stack.FlashTransport[e].init?i():m.stack.FlashTransport[e]?m.stack.FlashTransport[e].queue.push(i):(m.stack.FlashTransport[e]={queue:[i]},h(e))},init:function(){T(r.onDOMReady,r)}}},m.stack.PostMessageTransport=function(e){var r,i,a,s;function l(t){if("string"==typeof t.data){var o=function(t){if(t.origin)return j(t.origin);if(t.uri)return j(t.uri);if(t.domain)return n.protocol+"//"+t.domain;throw"Unable to retrieve the origin of the event"}(t);o==s&&"string"==typeof t.data&&t.data.substring(0,e.channel.length+1)==e.channel+" "&&r.up.incoming(t.data.substring(e.channel.length+1),o)}}function d(n){n.data==e.channel+"-ready"&&(a="postMessage"in i.contentWindow?i.contentWindow:i.contentWindow.document,u(t,"message",d),c(t,"message",l),o((function(){r.up.callback(!0)}),0))}return r={outgoing:function(t,n,o){a.postMessage(e.channel+" "+t,n||s),o&&o()},destroy:function(){u(t,"message",d),u(t,"message",l),i&&(a=null,i.parentNode.removeChild(i),i=null)},onDOMReady:function(){s=j(e.remote),e.isHost?(c(t,"message",d),q(e.props,{src:M(e.remote,{xdm_e:j(n.href),xdm_c:e.channel,xdm_p:1}),name:w+e.channel+"_provider"}),i=F(e)):(c(t,"message",l),(a="postMessage"in t.parent?t.parent:t.parent.document).postMessage(e.channel+"-ready",s),o((function(){r.up.callback(!0)}),0))},init:function(){T(r.onDOMReady,r)}}},m.stack.FrameElementTransport=function(r){var i,a,s,l;return i={outgoing:function(t,e,n){s.call(this,t),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){l=j(r.remote),r.isHost?(q(r.props,{src:M(r.remote,{xdm_e:j(n.href),xdm_c:r.channel,xdm_p:5}),name:w+r.channel+"_provider"}),(a=F(r)).fn=function(t){return delete a.fn,s=t,o((function(){i.up.callback(!0)}),0),function(t){i.up.incoming(t,l)}}):(e.referrer&&j(e.referrer)!=D.xdm_e&&(t.top.location=D.xdm_e),s=t.frameElement.fn((function(t){i.up.incoming(t,l)})),i.up.callback(!0))},init:function(){T(i.onDOMReady,i)}}},m.stack.NameTransport=function(t){var e,n,r,i,a,s,l,c;function d(e){var o=t.remoteHelper+(n?"#_3":"#_2")+t.channel;r.contentWindow.sendMessage(e,o)}function p(){n?2!=++a&&n||e.up.callback(!0):(d("ready"),e.up.callback(!0))}function h(t){e.up.incoming(t,l)}function f(){s&&o((function(){s(!0)}),0)}return e={outgoing:function(t,e,n){s=n,d(t)},destroy:function(){r.parentNode.removeChild(r),r=null,n&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){n=t.isHost,a=0,l=j(t.remote),t.local=B(t.local),n?(m.Fn.set(t.channel,(function(e){n&&"ready"===e&&(m.Fn.set(t.channel,h),p())})),c=M(t.remote,{xdm_e:t.local,xdm_c:t.channel,xdm_p:2}),q(t.props,{src:c+"#"+t.channel,name:w+t.channel+"_provider"}),i=F(t)):(t.remoteHelper=t.remote,m.Fn.set(t.channel,h));r=F({props:{src:t.local+"#_4"+t.channel},onLoad:function e(){var n=r||this;u(n,"load",e),m.Fn.set(t.channel+"_load",f),function t(){"function"==typeof n.contentWindow.sendMessage?p():o(t,50)}()}})},init:function(){T(e.onDOMReady,e)}}},m.stack.HashTransport=function(e){var n,r,i,a,s,l,c,u,d,p;function h(){if(c){var t=c.location.href,e="",o=t.indexOf("#");-1!=o&&(e=t.substring(o)),e&&e!=s&&function(t){s=t,n.up.incoming(s.substring(s.indexOf("_")+1),p)}(e)}}function f(){i=setInterval(h,a)}return n={outgoing:function(t,n){!function(t){if(u){var n=e.remote+"#"+l+++"_"+t;(r||!d?u.contentWindow:u).location=n}}(t)},destroy:function(){t.clearInterval(i),!r&&d||u.parentNode.removeChild(u),u=null},onDOMReady:function(){if(r=e.isHost,a=e.interval,s="#"+e.channel,l=0,d=e.useParent,p=j(e.remote),r){if(q(e.props,{src:e.remote,name:w+e.channel+"_provider"}),d)e.onLoad=function(){c=t,f(),n.up.callback(!0)};else{var i=0,h=e.delay/50;!function t(){if(++i>h)throw new Error("Unable to reference listenerwindow");try{c=u.contentWindow.frames[w+e.channel+"_consumer"]}catch(t){}c?(f(),n.up.callback(!0)):o(t,50)}()}u=F(e)}else c=t,f(),d?(u=parent,n.up.callback(!0)):(q(e,{props:{src:e.remote+"#"+e.channel+new Date,name:w+e.channel+"_consumer"},onLoad:function(){n.up.callback(!0)}}),u=F(e))},init:function(){T(n.onDOMReady,n)}}},m.stack.ReliableBehavior=function(t){var e,n,o=0,r=0,i="";return e={incoming:function(t,a){var s=t.indexOf("_"),l=t.substring(0,s).split(",");t=t.substring(s+1),l[0]==o&&(i="",n&&n(!0)),t.length>0&&(e.down.outgoing(l[1]+","+o+"_"+i,a),r!=l[1]&&(r=l[1],e.up.incoming(t,a)))},outgoing:function(t,a,s){i=t,n=s,e.down.outgoing(r+","+ ++o+"_"+t,a)}}},m.stack.QueueBehavior=function(t){var e,n,a=[],s=!0,l="",c=0,u=!1,d=!1;function p(){if(t.remove&&0===a.length)return(r=e).up.down=r.down,r.down.up=r.up,void(r.up=r.down=null);var r;if(!s&&0!==a.length&&!n){s=!0;var i=a.shift();e.down.outgoing(i.data,i.origin,(function(t){s=!1,i.callback&&o((function(){i.callback(t)}),0),p()}))}}return e={init:function(){A(t)&&(t={}),t.maxLength&&(c=t.maxLength,d=!0),t.lazy?u=!0:e.down.init()},callback:function(t){s=!1;var n=e.up;p(),n.callback(t)},incoming:function(n,o){if(d){var i=n.indexOf("_"),a=parseInt(n.substring(0,i),10);l+=n.substring(i+1),0===a&&(t.encode&&(l=r(l)),e.up.incoming(l,o),l="")}else e.up.incoming(n,o)},outgoing:function(n,o,r){t.encode&&(n=i(n));var s,l=[];if(d){for(;0!==n.length;)s=n.substring(0,c),n=n.substring(s.length),l.push(s);for(;s=l.shift();)a.push({data:l.length+"_"+s,origin:o,callback:0===l.length?r:null})}else a.push({data:n,origin:o,callback:r});u?e.down.init():p()},destroy:function(){n=!0,e.down.destroy()}}},m.stack.VerifyBehavior=function(t){var e,n,o;function r(){n=Math.random().toString(16).substring(2),e.down.outgoing(n)}return e={incoming:function(i,a){var s=i.indexOf("_");-1===s?i===n?e.up.callback(!0):o||(o=i,t.initiate||r(),e.down.outgoing(i)):i.substring(0,s)===o&&e.up.incoming(i.substring(s+1),a)},outgoing:function(t,o,r){e.down.outgoing(n+"_"+t,o,r)},callback:function(e){t.initiate&&r()}}},m.stack.RpcBehavior=function(t,e){var n,o=e.serializer||L(),r=0,i={};function a(t){t.jsonrpc="2.0",n.down.outgoing(o.stringify(t))}function s(t,e){var n=Array.prototype.slice;return function(){var o,s=arguments.length,l={method:e};s>0&&"function"==typeof arguments[s-1]?(s>1&&"function"==typeof arguments[s-2]?(o={success:arguments[s-2],error:arguments[s-1]},l.params=n.call(arguments,0,s-2)):(o={success:arguments[s-1]},l.params=n.call(arguments,0,s-1)),i[""+ ++r]=o,l.id=r):l.params=n.call(arguments,0),t.namedParams&&1===l.params.length&&(l.params=l.params[0]),a(l)}}function l(e,n,o,r){if(o){var i,s,l;n?(i=function(t){i=h,a({id:n,result:t})},s=function(t,e){s=h;var o={id:n,error:{code:-32099,message:t}};e&&(o.error.data=e),a(o)}):i=s=h,l=r,"[object Array]"!==Object.prototype.toString.call(l)&&(r=[r]);try{var c=t.context||o.scope,u=o.method.apply(c,r.concat([i,s]));A(u)||i(u)}catch(t){s(t.message)}}else n&&a({id:n,error:{code:-32601,message:"Procedure not found."}})}return n={incoming:function(t,n){var r=o.parse(t);if(r.method)e.handle?e.handle(r,a):l(r.method,r.id,e.local[r.method],r.params);else{var s=i[r.id];r.error?s.error&&s.error(r.error):s.success&&s.success(r.result),delete i[r.id]}},init:function(){if(e.remote)for(var o in e.remote)e.remote.hasOwnProperty(o)&&(t[o]=s(e.remote[o],o));n.down.init()},destroy:function(){for(var o in e.remote)e.remote.hasOwnProperty(o)&&t.hasOwnProperty(o)&&delete t[o];n.down.destroy()}}},m}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=w(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function O(t,e){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=S(t);if(e){var r=S(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(d,t);var e,n,o,u=k(d);function d(){return v(this,d),u.apply(this,arguments)}return e=d,o=[{key:"is",get:function(){return"sb-popup"}},{key:"properties",get:function(){return{url:String,messenger:Object,channel:{type:String,value:"sbQQ"},responseMessage:{type:Object,notify:!0},closePopup:{type:String,value:"sb-close-popup"},autoLaunched:{type:Boolean,value:!1},redirectOnCancelOrClose:{type:Boolean,value:!1,observer:"_appendLargeClass"}}}},{key:"template",get:function(){return Object(r.b)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\n\t\t<sb-dialog id="dialog" modal="true" hide-cancel-button="true" large-view-enabled="[[redirectOnCancelOrClose]]">\n\t\t\t<div slot="title" class="title"><sb-i18n>Popup</sb-i18n></div>\n\t\t\t<div slot="content" class="content"></div>\n\t\t</sb-dialog>\n\t\t'])),h)}}],(n=[{key:"ready",value:function(){_(S(d.prototype),"ready",this).call(this),window.easyXDM=y,this.addEventListener("sb-close-dialog",this.close.bind(this))}},{key:"open",value:function(){Object(s.a)(this,this._open)}},{key:"_open",value:function(){this._initRpc(),this._sendMessage(),this._handleAutoLaunch(),this.$.dialog.toggle()}},{key:"close",value:function(){this._close(this._getRedirectDetails(!1))}},{key:"_close",value:function(t){this.rpc&&this.rpc.destroy(),this.$.dialog.toggle();var e=this.$.dialog.shadowRoot.querySelector("#content").querySelector("#easyXDM_".concat(this.channel,"_provider")),n={redirect:t};e&&e.remove(),this.responseMessage&&(n.featureOptionIds=this.responseMessage.featureOptionIds,n.dynamicOptions=this.responseMessage.dynamicOptions),Object(l.c)(l.a.NAVIGATION_CHANGED),this.dispatchEvent(Object(l.d)(this.closePopup,n))}},{key:"_initRpc",value:function(){this.url&&(this.rpc=new y.Rpc({remote:this.url,container:this.$.dialog.shadowRoot.querySelector("#content"),channel:this.channel},{remote:{postMessage:{}},local:{postMessage:this._receiveMessage.bind(this)}}))}},{key:"_sendMessage",value:function(){var t={};this.messenger&&"function"==typeof this.messenger.getRequest&&(t=this.messenger.getRequest()),t.redirect=this._getRedirectDetails(this.autoLaunched),this.rpc.postMessage(JSON.stringify(t))}},{key:"_handleAutoLaunch",value:function(){this.autoLaunched&&Object(l.c)(l.a.AUTO_LAUNCH_POPUP)}},{key:"_receiveMessage",value:function(t){var e=this;this._receiveMessageDebouncer=a.a.debounce(this._receiveMessageDebouncer,i.d.after(100),(function(){if(e.messenger&&"function"==typeof e.messenger.getResponse)if(t){var n=JSON.parse(t);e._logReceivedMessage(n),e.responseMessage=e.messenger.getResponse(n);var o=n.redirect?n.redirect:e._getRedirectDetails(e.autoLaunched);e._close(o)}else e.close();else e.close()}))}},{key:"_logReceivedMessage",value:function(t){console.log("RPC Received Message:"),console.log(t)}},{key:"_getRedirectDetails",value:function(t){return{auto:this.redirectOnCancelOrClose||!!t,save:!!t}}},{key:"_appendLargeClass",value:function(){Object(c.m)("largeView",this.redirectOnCancelOrClose,this.$.dialog.shadowRoot.querySelector(".sbDialog"))}}])&&m(e.prototype,n),o&&m(e,o),Object.defineProperty(e,"prototype",{writable:!1}),d}(r.a);customElements.define(C.is,C)},function(t,e,n){"use strict";n.r(e),n.d(e,"AssetLookup",(function(){return E}));var o,r=n(2),i=(n(26),n(99),n(35),n(1)),a=n(5),s=n(75),l=n(23),c=(n(24),n(50),n(54),n(46),n(38)),u=(n(65),n(89)),d=(n(93),n(125),n(115),n(71),n(114),n(13),n(15),n(36),n(3));var p,h,f,b=Object(d.b)(o||(p=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primaryButton {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primaryButton:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host #drawer {\n  position: relative;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host sb-dialog .sb-icon-compass[class*='--mobile'] {\n  display: none;\n}\n:host sb-dialog .mobile[class*='--mobile'] {\n  padding: 6px 3px;\n}\n:host [class*='--mobile'] sb-dialog .sb-icon-compass {\n  display: none;\n}\n:host [class*='--mobile'] sb-dialog .mobile {\n  padding: 6px 3px;\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host .dialog {\n  margin-left: 0px;\n}\n.datatable {\n  position: relative;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer sb-lookup-layout {\n  overflow: auto;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],h||(h=p.slice(0)),o=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(h)}}))));function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=O(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function O(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}function k(t,e){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=C(t);if(e){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(s,t);var e,n,o,a=x(s);function s(){return m(this,s),a.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-asset-lookup"}},{key:"properties",get:function(){return Object(i.e)({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,totalCount:String,hasTotalCount:Boolean,quote:Object,errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},groupKey:{type:String,computed:"getGroupKey(ctx.params)"}},l.a.properties)}},{key:"template",get:function(){return Object(r.b)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t <style include="sb-icons-styles"></style>\n\t\t<sb-describe objects="[[assetLookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="AssetLookupServiceProvider.SearchModelLoader" action-id="[[ctx.params.aId]]" error="{{errors}}" send-quote-record="true" line-aggregation-method="getUpgradedAssetIdsAsArray"></sb-search-model-load>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Asset Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t\x3c!--This is the list of records to be upgraded--\x3e\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tclass="main"\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols="[[primaryMobileColumn]]"\n\t\t\t\t\tselection-id-data-path="Id"\n\t\t\t\t\tparent-attributes-path="attributes"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\t\t\t<div drawer slot="drawer" class="panel">\n\t\t\t\t<header class="title"><sb-i18n>Filter</sb-i18n>\n\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t</header>\n\n                \x3c!--this is the filter panel--\x3e\n                <sb-filter-layout id="af"\n                                  send-quote-record="true"\n                                  search-model="{{searchModel}}"\n                                  filter-path="searchFilters"\n                                  filter-delegator="{{searcher}}"\n                                  service-loader="AssetLookupServiceProvider.SearchModelSearcher"\n                                  quote="[[quote]]"\n                                  search-filter-data="{{filterData}}"\n                                  spinner="{{spinner}}"\n                                  action-id="[[ctx.params.aId]]"\n\t\t\t\t\t\t\t\t  error="{{errors}}"\n                ></sb-filter-layout>\n                <paper-button id="submit" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n                <text id="clear" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n            </div>\n\t\t</paper-drawer-panel>\n\t\t'])),b)}}],(n=[{key:"ready",value:function(){var t=this;w(C(s.prototype),"ready",this).call(this),Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=g(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.preLoadObjects()}},{key:"handleProductsLoadServerResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.$.smLoadService.quote=this.quote=t.detail.value.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){this.searchModel=t.detail.value,this.primaryMobileColumn=this.searchModel.resultFieldNames[0],this.searcher=new u.a(this.searchModel),this.hasTotalCount=this.searchModel.totalCount>0,this.totalCount=this.searchModel.totalCount}.bind(this))}},{key:"toggleFilter",value:function(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.$.drawer.togglePanel()}},{key:"closeDrawer",value:function(){this.refocus(),this.$.drawer.closeDrawer()}},{key:"refocus",value:function(){this.$.af.focusFirstField()}},{key:"removeFilter",value:function(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}},{key:"deSelectAll",value:function(){this.$.lookupLayout.deSelectAll()}},{key:"onSelect",value:function(){if(this.selectedProducts&&Object.keys(this.selectedProducts).length>0)return this.navigateToAssetUpgradeRoute();this.onCancel()}},{key:"navigateToAssetUpgradeRoute",value:function(){var t={qId:this.lineEditorModel.quote.record.Id,pIds:Object.keys(this.selectedProducts)};return Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),void 0!==this.groupKey&&(t.groupKey=this.groupKey),this.nav("#",t,["asset","upgrade"],!1)}},{key:"onCancel",value:function(){this.spinner=!0;var t={qId:this.lineEditorModel.quote.record.Id};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}},{key:"runSearcher",value:function(){this.shadowRoot.querySelector("#submit").focus(),this.$.af.runService(),this.closeDrawer()}},{key:"bindFilterEnterCallBacks",value:function(){this.$.af.enterCallback=this.runSearcher.bind(this)}},{key:"clearFilterFields",value:function(){this.filterData=this.searcher.clearFields()}},{key:"preLoadObjects",value:function(){this.assetLookupObjects=["Asset"]}},{key:"getGroupKey",value:function(){if(void 0!==this.ctx.params)return this.ctx.params.groupKey}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.error=Object(c.a)(this.errors))}}])&&_(e.prototype,n),o&&_(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(a.a)(Object(s.a)(l.a)));customElements.define(E.is,E)},function(t,e,n){"use strict";n.r(e),n.d(e,"AssetUpgrade",(function(){return P}));var o,r=n(42),i=n(23),a=n(1),s=n(38),l=n(5),c=n(2),u=n(3);var d,p,h,f=Object(u.b)(o||(d=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  --sbFieldWordWrap: break-word;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host .title {\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n.datatable {\n  position: relative;\n}\n.scrollContent {\n  overflow: auto;\n}\n.upgradeSourceName {\n  padding-top: 30px;\n  padding-left: 20px;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n"],p||(p=d.slice(0)),o=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(p)}}))));n(13),n(15),n(36),n(25),n(26),n(65),n(82),n(83),n(70),n(71),n(126),n(179),n(24),n(54),n(46);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=v(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=k(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function k(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=E(t);if(e){var r=E(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return C(this,n)}}function C(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,o,l=S(u);function u(){return _(this,u),l.apply(this,arguments)}return e=u,o=[{key:"is",get:function(){return"sb-asset-upgrade"}},{key:"properties",get:function(){return Object(a.e)({upgrades:Array,upgradeSourceMap:Object,upgradeTargetMap:Object,errors:{type:Array,value:[],notify:!0},validationMessages:{type:Array,value:[]},assetHeaderSelectable:{type:Boolean,value:!1}},i.a.properties)}},{key:"observers",get:function(){return["_renderUpgradesObserver(upgrades, recordKeys)","getUpgrades(ctx.params.pIds)"]}},{key:"template",get:function(){return Object(c.b)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t</div>\n\t\t<sb-describe objects="[[assetUpgradeObjects]]" error="{{errors}}"></sb-describe>\n\t\t\x3c!--field set is static.  doesn\'t have to be, but it was previously built that way--\x3e\n\t\t<sb-field-md id="md" fields=\'["Product2.Name", "Product2.ProductCode", "Product2.Description"]\' error="{{errors}}"></sb-field-md>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-select id="smSelectService" send-quote-record="true" target-group-key="[[ctx.params.groupKey]]" saver="AssetLookupServiceProvider.SearchModelSelector" error="{{errors}}"></sb-search-model-select>\n\t\t\x3c!--TODO: make this common?--\x3e\n\t\t<sb-pc-option-save id="addProducts" cache="searchModel" group-key="[[ctx.params.groupKey]]"></sb-pc-option-save>\n\n\t\t<sb-page-header device>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Asset Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="navigateToLineEditor" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<div class="scrollContent" device>\n\t\t\t\x3c!--first we repeat over each upgrade that was picked from the selection page--\x3e\n\t\t\t<template is="dom-repeat" items="{{upgradeResults}}" as="upgrade">\n\t\t\t\t\x3c!--the name of the record selected to be upgraded--\x3e\n\t\t\t\t<h3 class="upgradeSourceName">[[upgrade.record.Name]]</h3>\n\t\t\t\t<div class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" cols="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\t header-class-map="[[headerClassMap]]" selection-type="radio" selectable="[[assetHeaderSelectable]]"></sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t\x3c!--we repeat over the available upgrades for the asset that was selected to upgrade--\x3e\n\t\t\t\t\t\t<template is="dom-repeat" items="[[buildRowDataArray(upgrade)]]" as="row">\n\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\t\trow-data="[[row.record]]"\n\t\t\t\t\t\t\t\t\tmodel="[[mdMap]]"\n\t\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "Product2.Description"]\'\n\t\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\tselection-type="radio"\n\t\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\t\troute-source="AssetUpgrade"\n\t\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t\t\tindex="[[row.record._transient_.sourceProductIndex]]"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),f)}}],(n=[{key:"connectedCallback",value:function(){O(E(u.prototype),"connectedCallback",this).call(this),this.handleAddProductResponse(),this.handleLineEditorModelResponse(),this.handleSelectionResponse(),this.handleMetaDataResponse()}},{key:"ready",value:function(){var t=this;O(E(u.prototype),"ready",this).call(this),Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=g(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.initializeServiceSpinners(),this.initializeProperties(),this.preLoadObjects(),this.handleUpgradeSelected()}},{key:"initializeProperties",value:function(){this.upgradeSourceMap={},this.upgradeTargetMap={}}},{key:"initializeServiceSpinners",value:function(){this.$.addProducts.background=!1,this.$.smSelectService.background=!1}},{key:"onSelect",value:function(){var t=this.getSelectedUpgrades();!1!==t&&(this.$.addProducts.products=t)}},{key:"navigateToLineEditor",value:function(){var t=this.lineEditorModel?this.lineEditorModel.quote.record.Id:this.ctx.params.qId;this.nav("#",{qId:t},["quote","le"],!1)}},{key:"_renderUpgradesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.renderUpgrades(t,e)}},{key:"renderUpgrades",value:function(){var t,e=y(this.upgrades);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.upgradeSourceMap[n.record.Product2Id]=this.upgradeSourceMap[n.record.Product2Id]||[],this.upgradeSourceMap[n.record.Product2Id].push({upgradeSelected:!1,Id:n.record.Id,name:n.record.Name}),n._transient_=n._transient_||{},n._transient_.index=this.upgradeSourceMap[n.record.Product2Id].length-1;var o,r=y(n.availableUpgrades);try{for(r.s();!(o=r.n()).done;){var i=o.value;this.setUpgradeTargetMap(n,i)}}catch(t){r.e(t)}finally{r.f()}}}catch(t){e.e(t)}finally{e.f()}this.upgradeResults=this.upgrades}},{key:"setUpgradeTargetMap",value:function(t,e){var n=t.record.Product2Id;this.upgradeTargetMap[e.record.Id]=this.upgradeTargetMap[e.record.Id]||{},this.upgradeTargetMap[e.record.Id][n]=this.upgradeTargetMap[e.record.Id][n]||[],this.upgradeTargetMap[e.record.Id][n].push({upgradeSelected:!1})}},{key:"getUpgrades",value:function(){void 0===this.ctx.params.pIds&&this.navigateToLineEditor(),this.$.smSelectService.selectedProducts=this.ctx.params.pIds.split(",")}},{key:"getSelectedProducts",value:function(){var t,e={},n=y(this.getSelectedUpgrades()||[]);try{for(n.s();!(t=n.n()).done;){var o=t.value;e[o.record.Id]={record:o.record,upgradedAssetId:o.upgradedAssetId}}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"applyUpgrades",value:function(){var t=this.$.upgrades.getUpgrades();!1!==t&&(this.$.addProducts.products=t)}},{key:"getSelectedUpgrades",value:function(){var t,e=[],n=[],o=y(this.upgrades);try{for(o.s();!(t=o.n()).done;){var r,i=t.value,a=i._transient_.index,s=y(i.availableUpgrades);try{for(s.s();!(r=s.n()).done;){var l=r.value.record.Id,c=i.record.Product2Id,u=this.upgradeTargetMap[l][c][a],d=this.upgradeSourceMap[c][a];!0!==d.upgradeSelected&&(d.upgradeSelected=u.upgradeSelected,d.upgrade=u.rowData,d.index=a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){o.e(t)}finally{o.f()}for(var p in this.upgradeSourceMap){var h,f=y(this.upgradeSourceMap[p]);try{for(f.s();!(h=f.n()).done;){var b=h.value;!1!==b.upgradeSelected?e.push({record:b.upgrade,upgradedAssetId:b.Id,index:b.index}):n.push("You must select an upgrade for "+b.name)}}catch(t){f.e(t)}finally{f.f()}}if(this.validationMessages=n,!(n.length>0))return e}},{key:"handleUpgradeSelected",value:function(){this.addEventListener("selection-changed",function(t){this.ifRadioSelectedClearOtherRadioSelections(t);var e=t.detail.selected,n=t.detail.rowData._transient_.sourceProduct,o=this.upgradeTargetMap[t.detail.rowData.Id][n][t.detail.index];o.upgradeSelected=e,o.rowData=!0===e?t.detail.rowData:void 0}.bind(this))}},{key:"handleMetaDataResponse",value:function(){this.$.md.addEventListener("md-changed",function(t){var e=[],n=[],o={},i={},a={},s={};t.detail.value.fields.forEach(function(t){var r=t.name;e.push(r),n.push(t.label),o[r]=t.label,i[r]=t,a[t.label.replace(/\W/g,"")]=t.type,s[r]=t.type}.bind(this)),this.headerClassMap=new r.a(Object.keys(a),"Th",a,null,!0).build(),this.rowClassMap=new r.a(e,"Td",s).build(),this.mdMap=i,this.recordKeys=e,this.fieldLabels=n,this.fieldLabelMap=o}.bind(this))}},{key:"handleAddProductResponse",value:function(){this.$.addProducts.addEventListener("psm-response-changed",function(t){void 0!==t.detail.value.quote&&(this.lineEditorModel.quote=t.detail.value.quote,void 0!==t.detail.value.configuredProducts&&t.detail.value.configuredProducts.length>0?this.handleConfigurableProducts(t):this.navigateToLineEditor())}.bind(this))}},{key:"handleConfigurableProducts",value:function(t){var e=t.detail.value,n={},o=this.getConfigProductIds(e);n.qId=t.detail.value.quote.record.Id,void 0!==this.ctx.params.groupKey&&(n.groupKey=this.ctx.params.groupKey),n.pId=o,e.selectedProducts=this.getSelectedProducts(),this.nav("#",n,["product","pc"],!1)}},{key:"getConfigProductIds",value:function(t){var e,n=[],o=y(t.configuredProducts);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(r.record.Id)}}catch(t){o.e(t)}finally{o.f()}return n.join(",")}},{key:"handleLineEditorModelResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.$.addProducts.stripLinesThreshold=this.lineEditorModel.settings.largeQuoteThreshold,this.$.addProducts.stripLinesMessage=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines,this.$.addProducts.quote=this.$.smSelectService.quote=this.quote=t.detail.value.quote}.bind(this))}},{key:"handleSelectionResponse",value:function(){this.$.smSelectService.useCache=!1,this.$.smSelectService.addEventListener("result-changed",function(t){if(void 0===t.detail.value[0]||!1===Array.isArray(t.detail.value[0].availableUpgrades))return this.navigateToLineEditor();this.upgrades=t.detail.value}.bind(this))}},{key:"preLoadObjects",value:function(){this.assetUpgradeObjects=["Product2"]}},{key:"fieldPrefix",get:function(){return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"ifRadioSelectedClearOtherRadioSelections",value:function(t){if(!1!==t.detail.selected&&void 0!==t.detail.selected){var e,n=t.composedPath()[0],o=y(n.parentElement.querySelectorAll("sb-table-row"));try{for(o.s();!(e=o.n()).done;){var r=e.value;"radio"===r.selectionType&&r!==n&&(r.selected=!1)}}catch(t){o.e(t)}finally{o.f()}}}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.validationMessages=Object(s.a)(this.errors))}},{key:"buildRowDataArray",value:function(t){var e,n=[],o=y(t.availableUpgrades||[]);try{for(o.s();!(e=o.n()).done;){var r=e.value;r.record._transient_=r.record._transient_||{},Object.assign(r.record._transient_,{sourceProduct:t.record.Product2Id,sourceProductIndex:t._transient_.index}),n.push(r)}}catch(t){o.e(t)}finally{o.f()}return n}}])&&w(e.prototype,n),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(Object(l.a)(i.a));customElements.define(P.is,P)},function(t,e,n){"use strict";n.r(e),n.d(e,"DocgenPreview",(function(){return w}));var o,r=n(2),i=(n(25),n(26),n(23)),a=(n(54),n(3));var s,l,c,u=Object(a.b)(o||(s=['\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host #sbDocGenOptions,\n:host .sbPageBlockSection {\n  margin-left: 20px;\n  margin-top: 20px;\n}\n:host #sbDocGenOptions {\n  width: auto;\n}\n:host #sbDocGenOptions td:first-of-type {\n  width: 120px;\n}\n'],l||(l=s.slice(0)),o=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))));function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=m(t);if(e){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=[{name:"t1",title:"My Favorite Template"},{name:"t2",title:"Okay Template"},{name:"t3",title:"Super Template"},{name:"t4",title:"Nasty Template"},{name:"t5",title:"Don't Go Here"}],w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(s,t);var e,n,o,a=g(s);function s(){return f(this,s),a.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-docgen-preview"}},{key:"properties",get:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({obj:{type:Object,value:function(){return{}}},templates:{type:Array,value:function(){return _}}},i.a.properties)}},{key:"template",get:function(){return Object(r.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-page-header>\n\t\t\t<i slot="icon" class="icon sf-icon-custom93"></i>\n\t\t\t<h1 slot="h1">Preview Document</h1>\n\t\t\t<h2 slot="h2">[[obj.Name]]</h2>\n\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button id="preview" on-click="save">Preview</paper-button>\n\t\t\t\t<paper-button id="cancel" on-click="cancel">Cancel</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<div>\n\t\t\t<header>\n\t\t\t\t<h3>Document Options</h3>\n\t\t\t</header>\n\n\t\t\t<table id="sbDocGenOptions">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<label>Template</label>\n\t\t\t\t\t\t\t<i class="sb-icon-help-circled" title="The Quote Template used to generate your quote"></i>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<select size="1">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{templates}}">\n\t\t\t\t\t\t\t\t\t<option value="[[index]]">[[item.title]]</option>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td><input id="foo"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t\t'])),u)}}],(n=[{key:"cancel",value:function(){this.nav("/entities/quote/detail?id="+this.ctx.params.id)}},{key:"preview",value:function(){this.nav("/docgen/preview?id="+this.ctx.params.id)}}])&&b(e.prototype,n),o&&b(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.a);customElements.define(w.is,w)},function(t,e,n){"use strict";n.r(e),n.d(e,"DynamicLookup",(function(){return B}));var o,r=n(23),i=n(89),a=n(76),s=n(90),l=n(38),c=n(0),u=n(5),d=n(75),p=n(2),h=n(1),f=(n(71),n(114),n(148),n(149),n(50),n(46),n(26),n(35),n(24),n(54),n(18),n(99),n(125),n(115),n(36),n(13),n(15),n(3));var b,y,g,v=Object(f.b)(o||(b=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host #drawer {\n  position: relative;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .panelbutton[class*='--mobile'] {\n  border-bottom: inherit;\n  background-color: #0070d2;\n  width: initial;\n  font-size: inherit;\n}\n:host [class*='--mobile'] .panelbutton {\n  border-bottom: inherit;\n  background-color: #0070d2;\n  width: initial;\n  font-size: inherit;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n.datatable {\n  position: relative;\n}\n.dynamic-header {\n  padding: 15px 15px 30px 15px;\n  font-size: 18px;\n}\n.dynamic-header .header-container {\n  display: inline-block;\n}\n.dynamic-header .header-container .instructions-text {\n  display: flex;\n  font-size: 14px;\n}\n.dynamic-header .additional-instructions {\n  display: inline-block;\n  font-size: 14px;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer sb-lookup-layout {\n  overflow: auto;\n}\n.additional-instructions[class*='--desktop'] {\n  float: right;\n}\n[class*='--desktop'] .additional-instructions {\n  float: right;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],y||(y=b.slice(0)),o=Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(y)}}))));function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=O(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=E(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function E(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(d,t);var e,n,o,u=T(d);function d(){return x(this,d),u.apply(this,arguments)}return e=d,o=[{key:"is",get:function(){return"sb-dynamic-lookup"}},{key:"properties",get:function(){return Object(h.e)({quote:Object,model:Object,feature:Object,selectedProducts:{type:Object,value:{}},lineEditorModel:Object,redirectUrl:String,defaultFilters:{type:Object,value:{}},internal:{type:Boolean,value:!1},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},productIds:{type:String,computed:"getProductIds(ctx)"},optionId:{type:String,computed:"getOptionId(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},hasInstructions:{type:Boolean,computed:"setHasInstructions(feature)"},validationMessages:Array},r.a.properties)}},{key:"observers",get:function(){return["searchModelChanged(searchModel)"]}},{key:"template",get:function(){return Object(p.b)(g||(g=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-pc-product-load id="productLoader" product-ids="[[productIds]]" line-key="[[lineKey]]"\n\t\t\t\t\t\t\tignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>\n\t\t<sb-search-model-load id="smLoadService" loader="ProductConfigurationServiceProvider.DynamicOptionsLoader" send-quote-record="true" error="{{errors}}"></sb-search-model-load>\n\t\t<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>\n\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t\t<sb-toast type="error" messages="[[error]]"></sb-toast>\n\t\t</div>\n\n\t\t<sb-page-header>\n\t\t\t<i class="icon sf-icon-custom_apps resize" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Configure Products</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button on-click="add" noink>\n\t\t\t\t\t<sb-i18n>Add</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button on-click="cancel" noink>\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tclass="main"\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "UnitPrice"]\'\n\t\t\t\t\tselection-id-data-path="[[searchModel.targetObjectName]].Id"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\tcurrency-iso-code="[[quote.record.CurrencyIsoCode]]"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t>\n\t\t\t\t\t<header device class="dynamic-header" slot="dynamic-header">\n\t\t\t\t\t\t<div class="header-container">\n\t\t\t\t\t\t\t<span>[[feature.record.Name]]</span>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[hasInstructions]]">\n\t\t\t\t\t\t\t\t<div class="instructions-text">[[feature.instructionsText]]</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<template is="dom-if" if="[[hasInstructions]]">\n\t\t\t\t\t\t\t<div class="additional-instructions">[[feature.additionalInstructions]]</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</header>\n\t\t\t\t</sb-lookup-layout>\n\t\t\t</div>\n\t\t\t<div drawer class="panel" slot="drawer">\n\t\t\t\t<div device id="pflayout" class="panel-actions">\n\t\t\t\t\t<header class="title"><sb-i18n>Filter</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\n\t\t\t\t\t<sb-filter-layout id="pf"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="searchFilters"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{searcher}}"\n\t\t\t\t\t\t\t\t\t  service-loader="ProductConfigurationServiceProvider.DynamicOptionsSearcher"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{filterData}}"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" noink on-click="runSearcher" class="primary panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t<text id="clearfilter" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t    '])),v)}}],(n=[{key:"searchModelChanged",value:function(){this.deSelectAll()}},{key:"ready",value:function(){var t=this;C(j(d.prototype),"ready",this).call(this),Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=w(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"],this.$.drawer.addEventListener("transitionend",this.refocus.bind(this)),this.addEventListener("iron-deselect",this.handleDrawerClosed.bind(this)),this.handleOptionConfiguratorResponse()}},{key:"cancel",value:function(){this.spinner=!0;var t=this._createQueryParams();this.nav("#",t,["product","pc"],!1)}},{key:"add",value:function(){if(0!==Object.keys(this.selectedProducts).length){var t=[];for(var e in this.selectedProducts)t.push(this.ctx.params.fId+":"+e);var n=this.validateMaximumOptionsNotExceeded(t.length);this.validationMessages=[],n>0?this.validationMessages=[this.i18n.l("Please deselect at least {0} option(s). The max number of options allowed for this feature is {1}.",[n,this.feature.record[this.prefix+"MaxOptionCount__c"]])]:(this.$.productLoader.featureOptionIds=t,this.$.productLoader.ignoreCache=!0)}else this.cancel()}},{key:"convertProductsToOptions",value:function(t){for(var e in t){var n=t[e];n.record[this.prefix+"UnitPrice__c"]=this.selectedProducts[e].record.UnitPrice,n.isDynamicOption=!0,this.push("product.options",n),this.push("feature._transient_.optionConfigurations",n)}this.syncConfigurationAttributesToProduct(n);var o=this._createQueryParams();this.nav("#",o,["product","pc"],!1)}},{key:"syncConfigurationAttributesToProduct",value:function(t){if(void 0===this.autoSelectAttributes){this.autoSelectAttributes={};var e,n=_(this.product.configurationAttributes);try{for(n.s();!(e=n.n()).done;){var o=e.value;!0===o.autoSelect&&void 0===this.autoSelectAttributes[o.targetFieldName]&&t.record["".concat(this.prefix,"Feature__c")]===o.featureId&&(this.autoSelectAttributes[o.targetFieldName]=!0)}}catch(t){n.e(t)}finally{n.f()}}for(var r in this.autoSelectAttributes)this.product.configuration.configurationData[r]=t.record[r]}},{key:"_createQueryParams",value:function(){var t={qId:this.model.qId},e=this.ctx.params;return e?(e.pId&&(t.pId=e.pId),e.oId&&(t.oId=e.oId,t.origin="dl"),e.lineKey&&(t.lineKey=e.lineKey),e.redirectUrl&&(t.redirectUrl=e.redirectUrl),e.productIdx&&(t.productIdx=e.productIdx),e.tab&&(t.tab=e.tab),e.groupKey&&(t.groupKey=e.groupKey),e.aId&&(t.aId=e.aId),t):t}},{key:"handleProductsLoadServerResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.isoCode=this.lineEditorModel.quote.record.CurrencyIsoCode||null,this.quote=t.detail.value.quote,this.$.productLoader.productIds=this.productIds,this.$.productLoader.quote=this.$.optionConfigure.quote=this.quote,this.headerSubtitle=t.detail.value.headerSubtitle}.bind(this)),this.$.productLoader.addEventListener("product-load-model-changed",function(t){if(Object.keys(this.selectedProducts).length>0)return this.convertProductsToOptions(t.detail.value);var e=this.ctx.params.productIdx?t.detail.value.configuredProducts[this.ctx.params.productIdx]:t.detail.value.configuredProducts[0];if(this.localizer=new a.a(this.prefix),""!==this.optionId)return this.$.optionConfigure.product=e;this.setCurrentProductModel(e)}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){var e=this.localizer.localizeSearchModel(t.detail.value),n=this.product.productFieldSets[this.feature.record[this.prefix+"DynamicProductLookupFieldSet__c"]];n&&(e.resultFieldNames=n),this.$.lookupLayout.fieldPrefix=e.targetObjectName+".",this.searchModel=e,this.buildDelegator()}.bind(this))}},{key:"handleOptionConfiguratorResponse",value:function(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(t){this.setCurrentProductModel(t.detail.value.configuredProducts[0])}.bind(this))}},{key:"setCurrentProductModel",value:function(t){if(this.product=t,this.model=new s.a(this.quote.record.Id,t,this.app.org.prefix,this.isoCode,this.ctx.params.fId),this.feature=this.model.getFeature(this.ctx.params.fId),void 0!==this.feature){var e=[],n=!1;if(this.feature.searchFilters){null!=this.defaultFilters[this.feature.record.Id]?n=!0:this.defaultFilters[this.feature.record.Id]=[];var o,r=_(this.feature.searchFilters);try{for(r.s();!(o=r.n()).done;){var i=o.value;null!=i.valueObject&&(i.stringValue=this.getStringValue(i)),e.push(JSON.stringify(i)),n||this.defaultFilters[this.feature.record.Id].push(i)}}catch(t){r.e(t)}finally{r.f()}}this.$.smLoadService.filters=e,this.$.smLoadService.fieldSet=this.feature.record[this.prefix+"DynamicProductFilterFieldSet__c"],this.$.smLoadService.quote=this.quote}else this.validationMessages=[this.i18n.l("Attempted to access a feature not associated with this bundle.")]}},{key:"buildDelegator",value:function(){var t=new i.a(this.searchModel);t.dynamicSearchFilters=this.defaultFilters[this.feature.record.Id]?this.defaultFilters[this.feature.record.Id]:[],t.fieldSet=this.feature.record[this.prefix+"DynamicProductLookupFieldSet__c"],this.searcher=t}},{key:"toggleFilter",value:function(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.panelHeader="Product Filter",this.$.drawer.togglePanel(),this.refocus()}},{key:"closeDrawer",value:function(){this.refocus(),this.$.drawer.closeDrawer()}},{key:"refocus",value:function(){this.$.pf.focusFirstField()}},{key:"reverseFocus",value:function(){this.$.clearfilter.focus()}},{key:"runSearcher",value:function(){this.shadowRoot.querySelector("#submit").focus(),this.lastSubmit="pf",this.$.pf.runService(),this.closeDrawer()}},{key:"removeFilter",value:function(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}},{key:"getConfigProductIds",value:function(t){var e,n=[],o=_(t.detail.value.configuredProducts);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(r.record.Id)}}catch(t){o.e(t)}finally{o.f()}return n.join(",")}},{key:"deSelectAll",value:function(){this.$.lookupLayout.deSelectAll()}},{key:"getOrderedSelectedProducts",value:function(){var t,e=[],n=_(Object.keys(this.selectedProducts).sort(function(t,e){return this.selectedProducts[t].index-this.selectedProducts[e].index}.bind(this)));try{for(n.s();!(t=n.n()).done;){var o=t.value;e.push(this.selectedProducts[o])}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"handleDrawerClosed",value:function(){"main"===this.$.drawer.selected&&Object(c.c)(c.a.PANEL_CLOSED)}},{key:"clearFilterFields",value:function(){this.filterData=this.searcher.clearFields()}},{key:"getStringValue",value:function(t){return"Product"===t.valueObject?this.product.record[t.valueField]:"Quote"===t.valueObject?this.quote.record[t.valueField]:"Configuration Attributes"===t.valueObject?this.product.configuration.configurationData[t.valueField]:void 0}},{key:"bindFilterEnterCallBacks",value:function(){this.$.pf.enterCallback=this.runSearcher.bind(this)}},{key:"getProductIds",value:function(){return this.ctx.params&&this.ctx.params.pId||""}},{key:"getOptionId",value:function(){return this.ctx.params&&this.ctx.params.oId||""}},{key:"getIgnoreCache",value:function(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}},{key:"prefix",get:function(){return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.validationMessages=Object(l.a)(this.errors),this.spinner=!1)}},{key:"setHasInstructions",value:function(){return!!this.feature.instructionsText||!!this.feature.additionalInstructions}},{key:"validateMaximumOptionsNotExceeded",value:function(t){return this.feature._transient_.optionConfigurations.length+t-this.feature.record[this.prefix+"MaxOptionCount__c"]}}])&&S(e.prototype,n),o&&S(e,o),Object.defineProperty(e,"prototype",{writable:!1}),d}(Object(u.a)(Object(d.a)(r.a)));customElements.define(B.is,B)},function(t,e,n){"use strict";n.r(e),n.d(e,"OptionLookup",(function(){return j}));var o,r=n(23),i=n(97),a=n(90),s=n(138),l=n(38),c=n(5),u=n(22),d=n(2),p=n(1),h=(n(26),n(65),n(71),n(168),n(148),n(149),n(24),n(54),n(46),n(13),n(15),n(3));var f,b,y,g=Object(h.b)(o||(f=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n#feature-name {\n  font-weight: 300;\n  padding: 15px;\n  margin: 0;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  --sbFieldWordWrap: break-word;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host([class*=\'--mobile\']) {\n  --option-table-border-bottom: 1px solid #d8dde6;\n}\n:host([class*=\'--mobile\']) {\n  --option-table-border-bottom: 1px solid #d8dde6;\n}\n'],b||(b=f.slice(0)),o=Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(b)}}))));function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=C(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function C(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=I(t);if(e){var r=I(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(u,t);var e,n,o,c=P(u);function u(){return k(this,u),c.apply(this,arguments)}return e=u,o=[{key:"is",get:function(){return"sb-option-lookup"}},{key:"properties",get:function(){return Object(p.e)({topLevelBundle:Object,currentProductModel:Object,feature:Object,disabledStateMap:{type:Object,value:{}},optionConstraintsHandler:Object,headerSubtitle:String,selectedOptions:Object,productIds:{type:String,computed:"getProductIds(ctx)"},lineKey:{type:Number,computed:"getLineKey(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},hasUpgradeOptions:{type:Boolean,computed:"setHasUpgradeOptions(feature)"},optionId:{type:String,computed:"getOptionId(ctx)"},validationMessages:Array,errors:{type:Array,value:[],notify:!0}},r.a.properties)}},{key:"template",get:function(){return Object(d.b)(y||(y=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t\n\t\t<sb-describe objects="[[optionLookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-line-editor-read id="lineEditorRead" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-pc-product-load id="productLoad" product-ids="[[productIds]]" line-key="[[lineKey]]"\n\t\t\t\t\t\t\tignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>\n\t\t<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>\n\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t</div>\n\n\t\t<sb-page-header device>\n\t\t\t<i class="icon sf-icon-custom_apps resize" slot="icon"></i>\n\t\t\t<h1 slot="h1">Configure Products</h1>\n\t\t\t<h2 slot="h2">[[headerSubtitle]]</h2>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button on-click="addMore" noink id="addMoreBtn">\n\t\t\t\t\t<sb-i18n>Select & Add More</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button on-click="add" noink>\n\t\t\t\t\t<sb-i18n>Add</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button on-click="cancel" noink>\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<div device id="pageBody">\n\t\t\t<h1 id="feature-name">[[feature.record.Name]]</h1>\n\t\t\t<sb-product-option-table\n\t\t\t\t\tid="optionTable"\n\t\t\t\t\tmodel="{{currentProductModel}}"\n\t\t\t\t\tfeature-id="[[ctx.params.fId]]"\n\t\t\t\t\tis-click-selection="false"\n\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\tdisable-all-fields="true"\n\t\t\t\t\troute-source="OptionLookup"\n\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t></sb-product-option-table>\n\t\t</div>\n\t    '])),g)}}],(n=[{key:"ready",value:function(){var t=this;S(I(u.prototype),"ready",this).call(this),Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=_(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.preLoadObjects(),this._handleLineEditorModelResponse(),this._handleProductLoadResponse(),this.handleOptionConfiguratorResponse(),this.addEventListener("selection-changed",this._handleOptionSelection)}},{key:"_selectAndAdd",value:function(){this.validationMessages=[];var t=this._validateMaximumOptionsNotExceeded();t>0?this.validationMessages=[this.i18n.l("Please deselect at least {0} option(s). The max number of options allowed for this feature is {1}.",[t,this.feature.record[this.prefix+"MaxOptionCount__c"]])]:this._addSelected()}},{key:"add",value:function(){this._selectAndAdd(!1),this._routeToConfig()}},{key:"addMore",value:function(){this._selectAndAdd(),this._resetPage()}},{key:"cancel",value:function(){for(var t in this.selectedOptions)this.currentProductModel.optionsById[t].added=!1,this.currentProductModel.optionsById[t].selected=!1;this._routeToConfig()}},{key:"_handleLineEditorModelResponse",value:function(){this.$.lineEditorRead.addEventListener("line-editor-model-changed",function(t){this.$.productLoad.quote=this.$.optionConfigure.quote=t.detail.value.quote,this.headerSubtitle=t.detail.value.headerSubtitle}.bind(this))}},{key:"_handleProductLoadResponse",value:function(){this.$.productLoad.addEventListener("product-load-model-changed",function(t){var e=t.detail&&t.detail.value?t.detail.value.configuredProducts:null,n=this.ctx.params&&this.ctx.params.productIdx?this.ctx.params.productIdx:0,o=e?e[n]:t.detail.value;if(o.rulesProcessed||new i.a(o.configuration,o).initProductRulesActions(""===this.optionId?"load":"reconfigure"),this.topLevelBundle=o,""!==this.optionId)return this.$.optionConfigure.product=o;this.setCurrentProductModel(o)}.bind(this))}},{key:"handleOptionConfiguratorResponse",value:function(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(t){this.setCurrentProductModel(t.detail.value.configuredProducts[0])}.bind(this))}},{key:"setCurrentProductModel",value:function(t){var e=t.currencyCode||null;this.currentProductModel=new a.a(this.$.productLoad.quote.record.Id,t,this.app.org.prefix,e,this.ctx.params.fId),this.feature=this.currentProductModel.getFeature(this.ctx.params.fId),void 0!==this.feature?(this.selectedOptions={},this.optionConstraintsHandler=new s.a(this.currentProductModel.product,this.currentProductModel.prefix),this.$.optionTable.fieldSetName="OptionLookup",this.$.optionTable.fieldSet=this.currentProductModel.product.optionFieldSets[this.$.optionTable.fieldSetName],this.$.optionTable.displayDelete=!1,this._createConstraintsHoverMessages(),this._fireSelectionStatesForOtherFeatures()):this.validationMessages=[this.i18n.l("Attempted to access a feature not associated with this bundle.")]}},{key:"_handleOptionSelection",value:function(t){t&&t.detail&&(this._toggleOptionSelection(t.detail.Id,t.detail.selected),this._handleOptionConstraints(t.detail.Id,t.detail.selected))}},{key:"_fireSelectionStatesForOtherFeatures",value:function(){for(var t=0,e=Object.keys(this.currentProductModel.featureIdsWithSelectionMethodClick);t<e.length;t++){var n,o=e[t],r=m(this.currentProductModel.optionsByFeatureId[o]);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._handleOptionConstraints(i.record.Id,i.selected)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"_resetPage",value:function(){this.selectedOptions={},this.$.optionTable.deselectOptionsOnOptionLookup(),this._fireSelectionStatesForOtherFeatures()}},{key:"_toggleOptionSelection",value:function(t,e){!e&&this.selectedOptions[t]?delete this.selectedOptions[t]:e&&!this.selectedOptions[t]&&(this.selectedOptions[t]=this.currentProductModel.getOption(t))}},{key:"_handleOptionConstraints",value:function(t,e){var n=this,o=this.feature._transient_.optionConfigurations.find((function(e){return e.record.Id===t})),r=o&&o.selected,i=this.optionConstraintsHandler.handleOptionConstraints(t,e||r);i&&i.forEach((function(t){n.set("disabledStateMap.".concat(t.optionId),t.disabledState)}))}},{key:"_addSelected",value:function(){var t=this,e=function(e){var n=JSON.parse(JSON.stringify(t.currentProductModel.optionsById[e]));t.currentProductModel.initOptionActions(n,!0),n.addedManually=!0,n.index=t.feature._transient_.optionConfigurations.filter((function(t){return t.record.Id===e})).length,n.configured=!1,t.currentProductModel.setOptionDisabledData(n),t.push("feature._transient_.optionConfigurations",n),t.currentProductModel.optionsById[e].added=!0,t.currentProductModel.optionsById[e].selected=!0};for(var n in this.selectedOptions)e(n)}},{key:"_validateMaximumOptionsNotExceeded",value:function(){return this.feature._transient_.optionConfigurations.length+Object.keys(this.selectedOptions).length-this.feature.record[this.prefix+"MaxOptionCount__c"]}},{key:"_routeToConfig",value:function(){this.selectedOptions={};var t=this._createQueryParams();this.nav("#",t,["product","pc"],!1)}},{key:"_createQueryParams",value:function(){var t={qId:this.currentProductModel?this.currentProductModel.qId:this.ctx.params.qId},e=this.ctx.params;return e?(e.pId&&(t.pId=e.pId),e.oId&&(t.oId=e.oId,t.origin="ol"),e.lineKey&&(t.lineKey=e.lineKey),e.redirectUrl&&(t.redirectUrl=e.redirectUrl),e.productIdx&&(t.productIdx=e.productIdx),e.tab&&(t.tab=e.tab),e.groupKey&&(t.groupKey=e.groupKey),e.aId&&(t.aId=e.aId),t):t}},{key:"preLoadObjects",value:function(){this.optionLookupObjects=[this.prefix+"ProductOption__c",this.prefix+"QuoteLine__c"]}},{key:"prefix",get:function(){return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"getProductIds",value:function(){return this.ctx.params&&this.ctx.params.pId||""}},{key:"getLineKey",value:function(){return this.ctx.params?parseInt(this.ctx.params.lineKey||-1):-1}},{key:"getIgnoreCache",value:function(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}},{key:"setHasUpgradeOptions",value:function(){return this.currentProductModel.getHasUpgradeOptions(this.feature)}},{key:"_createConstraintsHoverMessages",value:function(){this.currentProductModel.createConstraintsHoverMessages(this.optionConstraintsHandler.optionConstraints.byConstrained)}},{key:"getOptionId",value:function(){return this.ctx.params&&this.ctx.params.oId||""}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.validationMessages=Object(l.a)(this.errors),this.spinner=!1)}}])&&x(e.prototype,n),o&&x(e,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(Object(u.a)(Object(c.a)(r.a)));customElements.define(j.is,j)},function(t,e,n){"use strict";n.r(e),n.d(e,"RecommendationLookup",(function(){return T}));var o,r=n(23),i=n(38),a=n(76),s=n(5),l=n(75),c=n(1),u=n(3);var d,p,h,f=Object(u.b)(o||(d=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host #drawer {\n  position: relative;\n}\n'],p||(p=d.slice(0)),o=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(p)}})))),b=n(2);n(26),n(99),n(115),n(71),n(114),n(126),n(24),n(50),n(54),n(46);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=x(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(l,t);var e,n,o,s=C(l);function l(){return w(this,l),s.apply(this,arguments)}return e=l,o=[{key:"is",get:function(){return"sb-recommendation-lookup"}},{key:"properties",get:function(){return Object(c.e)({lineEditorModel:Object,selectedProducts:{type:Object,value:{}},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},qId:String,redirectUrl:String},r.a.properties)}},{key:"template",get:function(){return Object(b.b)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t    <style include="sb-icons-styles"></style>\n\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="RecommendationLookupServiceProvider.RecommendationLoader" error="{{errors}}"></sb-search-model-load>\n\t\t<sb-search-model-select id="smSelectService" saver="RecommendationLookupServiceProvider.RecommendationSelector"\n\t\t\terror="{{errors}}" uses-client-calculator="[[le.settings.usesClientCalculator]]"\n\t\t></sb-search-model-select>\n\n\t\t<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div slot="messages" id="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1"><sb-i18n>Recommended Products</sb-i18n></h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="rlSelect"><sb-i18n>Select</sb-i18n></paper-button>\n\t\t\t\t<paper-button noink on-click="onSelectMore" id="rlSelectMore"><sb-i18n>Select & Add More</sb-i18n></paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="rlCancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<paper-drawer-panel device id="drawer" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t<sb-lookup-layout\n\t\t\t\tid="lookupLayout"\n\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "UnitPrice"]\'\n\t\t\t\tselection-id-data-path="[[searchModel.targetObjectName]].Id"\n\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\tcurrency-iso-code="[[quote.record.CurrencyIsoCode]]"\n\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t\t'])),f)}}],(n=[{key:"ready",value:function(){var t=this;Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=v(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),k(P(l.prototype),"ready",this).call(this),this.handleSelectButtonClickedServerResponseAndNavigation(),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"]}},{key:"handleProductsLoadServerResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.quote=t.detail.value.quote,this.localizer=new a.a(this.app.org.prefix?this.app.org.prefix+"__":""),this.$.smLoadService.quote=this.$.smSelectService.quote=this.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){this.searchModel=this.localizer.localizeSearchModel(t.detail.value),this.$.lookupLayout.fieldPrefix=this.searchModel.targetObjectName+"."}.bind(this))}},{key:"bindFilterEnterCallBacks",value:function(){}},{key:"handleSelectButtonClickedServerResponseAndNavigation",value:function(){this.$.smSelectService.addEventListener("result-changed",function(t){this.lineEditorModel.quote=t.detail.value.quote,0==t.detail.value.configuredProducts.length&&this.handleNonConfigurableProducts(t),t.detail.value.configuredProducts.length>0&&this.handleConfigurableProducts(t)}.bind(this))}},{key:"handleNonConfigurableProducts",value:function(t){"LineEditor"===this.redirectUrl?this.navigateToLineEditor():"RecommendationLookup"===this.redirectUrl&&(this.$.smSelectService.quote=t.detail.value.quote,this.$.lookupLayout.deSelectAll(),this.spinner=!1)}},{key:"handleConfigurableProducts",value:function(t){var e={};t.detail.value.selectedProducts=this.selectedProducts;var n=this.getConfigProductIds(t);e.qId=t.detail.value.quote.record.Id,e.pId=n,e.redirectUrl=this.redirectUrl,e.open=0,this.nav("#",e,["product","pc"],!1)}},{key:"getConfigProductIds",value:function(t){var e,n=[],o=g(t.detail.value.configuredProducts);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(r.record.Id)}}catch(t){o.e(t)}finally{o.f()}return n.join(",")}},{key:"onSelect",value:function(){this.redirectUrl="LineEditor",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this.spinner=!0,this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToLineEditor()}},{key:"onSelectMore",value:function(){this.redirectUrl="RecommendationLookup",this.selectedProducts&&Object.keys(this.selectedProducts).length>0&&(this.spinner=!0,this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts())}},{key:"getOrderedSelectedProducts",value:function(){var t,e=[],n=g(Object.keys(this.selectedProducts).sort(function(t,e){return this.selectedProducts[t].index-this.selectedProducts[e].index}.bind(this)));try{for(n.s();!(t=n.n()).done;){var o=t.value,r=this.selectedProducts[o];r.invalid||e.push(r)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"navigateToLineEditor",value:function(){var t={qId:this.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),this.nav("#",t,["quote","le"],!1)}},{key:"onCancel",value:function(){var t={qId:this.quote.record.Id};this.nav("#",t,["quote","le"],!1)}},{key:"clearStackTrace",value:function(){this.errors.validations&&this.errors.validations.length>0?this.error=this.errors.validations:this.errors[0]&&(this.error=Object(i.a)(this.errors))}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(s.a)(Object(l.a)(r.a)));customElements.define(T.is,T)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscriptionLookup",(function(){return T}));var o,r=n(23),i=n(89),a=n(38),s=n(53),l=n(5),c=n(75),u=n(2),d=(n(18),n(26),n(35),n(99),n(65),n(125),n(115),n(71),n(114),n(126),n(24),n(50),n(54),n(46),n(1)),p=n(3);var h,f,b,y=Object(p.b)(o||(h=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primaryButton {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primaryButton:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host sb-dialog .sb-icon-compass[class*='--mobile'] {\n  display: none;\n}\n:host sb-dialog .mobile[class*='--mobile'] {\n  padding: 6px 3px;\n}\n:host [class*='--mobile'] sb-dialog .sb-icon-compass {\n  display: none;\n}\n:host [class*='--mobile'] sb-dialog .mobile {\n  padding: 6px 3px;\n}\n:host #drawer {\n  position: relative;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host .dialog {\n  margin-left: 0px;\n}\n.datatable {\n  position: relative;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer sb-lookup-layout {\n  overflow: auto;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],f||(f=h.slice(0)),o=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(f)}}))));n(13),n(15),n(36);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=x(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(c,t);var e,n,o,l=C(c);function c(){return w(this,c),l.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-subscription-lookup"}},{key:"properties",get:function(){return Object(d.e)({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,totalCount:String,hasTotalCount:String,errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]}},r.a.properties)}},{key:"template",get:function(){return Object(u.b)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t    <style include="sb-tables-styles"></style>\n\t    <style include="sb-common-styles"></style>\n\t    <style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<sb-describe objects="[[subscriptionLookupObjects]]"></sb-describe>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="SubscriptionLookupServiceProvider.SearchModelLoader" send-quote-record="true" error="{{errors}}" action-id="[[ctx.params.aId]]"></sb-search-model-load>\n\t\t<sb-search-model-select id="smSelectService" target-group-key="[[ctx.params.groupKey]]" saver="SubscriptionLookupServiceProvider.SearchModelSelector" uses-client-calculator="{{le.settings.usesClientCalculator}}" strip-quote-lines="true" error="{{errors}}"></sb-search-model-select>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-recent" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Subscription Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t\t<template is="dom-if" if="[[hasQuoteProcess]]">\n\t\t\t\t\t<paper-button noink on-click="toggleGuidedSelling" id="gs" class="sb-icon-compass">\n\t\t\t\t\t</paper-button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t\x3c!--This is the list of subscriptions--\x3e\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols="[[primaryMobileColumn]]"\n\t\t\t\t\tselection-id-data-path="Id"\n\t\t\t\t\tparent-attributes-path="attributes"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tmax-select-all="[[maxSelectAll]]"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\t\t\t<div drawer slot="drawer" class="panel">\n\t\t\t\t<div id="aflayout" class="panel-actions" style="outline: none;">\n\t\t\t\t\t<header class="title"><sb-i18n>Filter</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t\x3c!--this is the filter panel--\x3e\n\t\t\t\t\t<sb-filter-layout id="sf"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="searchFilters"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{searcher}}"\n\t\t\t\t\t\t\t\t\t  service-loader="SubscriptionLookupServiceProvider.SearchModelSearcher"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  result-limit="1000"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{filterData}}"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  action-id="[[ctx.params.aId]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t<text id="clear" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t    '])),y)}}],(n=[{key:"connectedCallback",value:function(){k(P(c.prototype),"connectedCallback",this).call(this),this.handleSelectButtonClickedServerResponseAndNavigation()}},{key:"ready",value:function(){var t=this;k(P(c.prototype),"ready",this).call(this),Object.entries({"errors-changed":"clearStackTrace"}).map((function(e){var n=v(e,2),o=n[0],r=n[1];t.addEventListener(o,t[r])})),this.preLoadObjects()}},{key:"handleProductsLoadServerResponse",value:function(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.quote=this.$.smLoadService.quote=this.$.smSelectService.quote=t.detail.value.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){this.searchModel=t.detail.value,this.primaryMobileColumn=this.searchModel.resultFieldNames[0],this.searcher=new i.a(this.searchModel),this.hasTotalCount=this.searchModel.totalCount>0,this.totalCount=this.searchModel.totalCount,this.maxSelectAll=this.lineEditorModel.settings.usesClientAmendRenew?500:100}.bind(this))}},{key:"handleSelectButtonClickedServerResponseAndNavigation",value:function(){this.$.smSelectService.addEventListener("result-changed",function(t){var e=this.lineEditorModel.quote.lineItems;this.lineEditorModel.quote=t.detail.value,this.lineEditorModel.settings.usesClientCalculator&&(this.lineEditorModel.quote.lineItems=e.concat(this.lineEditorModel.quote.lineItems)),this.navigateToLineEditor()}.bind(this))}},{key:"refocus",value:function(){this.$.sf.focusFirstField()}},{key:"toggleFilter",value:function(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.$.drawer.togglePanel()}},{key:"removeFilter",value:function(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}},{key:"closeDrawer",value:function(){this.refocus(),this.$.drawer.closeDrawer()}},{key:"getConfigProductIds",value:function(t){var e,n=[],o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.detail.value.configuredProducts);try{for(o.s();!(e=o.n()).done;){var r=e.value;n.push(r.record.Id)}}catch(t){o.e(t)}finally{o.f()}return n.join(",")}},{key:"deSelectAll",value:function(){this.$.lookupLayout.deSelectAll()}},{key:"onSelect",value:function(){this.spinner=!0,this.selectedProducts&&Object.keys(this.selectedProducts).length>0?this.lineEditorModel.settings.usesClientAmendRenew?this._clientAmendRenew():this.$.smSelectService.selectedProducts=this.selectedProducts:this.navigateToLineEditor()}},{key:"onCancel",value:function(){this.spinner=!0;var t={qId:this.lineEditorModel.quote.record.Id};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}},{key:"navigateToLineEditor",value:function(){var t={qId:this.lineEditorModel.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}},{key:"runSearcher",value:function(){this.shadowRoot.querySelector("#submit").focus(),this.$.sf.runService(),this.closeDrawer()}},{key:"preLoadObjects",value:function(){this.subscriptionLookupObjects=[this.prefix+"Subscription__c","Contract"]}},{key:"prefix",get:function(){return this.app.org.prefix?this.app.org.prefix+"__":""}},{key:"bindFilterEnterCallBacks",value:function(){this.$.sf.enterCallback=this.runSearcher.bind(this)}},{key:"clearFilterFields",value:function(){this.filterData=this.searcher.clearFields()}},{key:"clearStackTrace",value:function(){this.errors[0]&&(this.error=Object(a.a)(this.errors),this.spinner=!1)}},{key:"_clientAmendRenew",value:function(){var t=this;new Promise((function(e,n){if(SB&&SB.JSARSettings&&SB.JSARServices&&SB.JSARLineGenManager){var o=new SB.JSARSettings(t.app.orgPrefix,t.lineEditorModel.amendRenewSettings);new s.a(t.app.orgPrefix).getConnection().then((function(r){var i=SB.JSARServices.constructFromJsarSettings(r,o),a=new SB.JSARLineGenManager(r,o,i),s=t.lineEditorModel.quote,l="Renewal"===s.record[t.prefix+"Type__c"],c=Object.keys(t.selectedProducts);(l?a.renewSubscriptionsToQuote(c,s,t.ctx.params.groupKey):a.amendSubscriptionsToQuote(c,s,t.ctx.params.groupKey)).then((function(t){e(t)}),(function(t){n(t.message||t)}))}),(function(t){n(t.message||t)}))}else n("ERROR: Could not find Client-Side Amend/Renew")})).then((function(e){e.calculationRequired=!0,t.lineEditorModel.quote=e,t.navigateToLineEditor()}),(function(e){t.errors=[e]}))}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(l.a)(Object(c.a)(r.a)));customElements.define(T.is,T)},function(t,e,n){"use strict";var o=n(30),r=n(58),i=n(137);function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s,l=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clientQuote=e,this.serverQuote=n,this.requiredKeys=o}var e,n,o;return e=t,(n=[{key:"reconcileServerQuoteWithUIQuote",value:function(){for(var t,e=this,n=new Map,o=[],r=this.serverQuote.lineItems.length,i=0;i<r;i++){var a=this.serverQuote.lineItems[i];this.requiredKeys&&this.requiredKeys.has(a.key)?(n.set(a.key,[a]),t=a.key):t&&a.parentItemKey?n.get(t).push(a):(t=null,o.push(a))}var s=[];return this.clientQuote.lineItems.forEach((function(t){e.requiredKeys&&!e.requiredKeys.has(t.key)?s.push(t):n.has(t.key)&&(s=s.concat(n.get(t.key)))})),s=s.concat(o),this.serverQuote.lineItems=s,this.serverQuote}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),c=n(51),u=n(2);n(127);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=b(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=m(t);if(e){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(b,t);var e,n,a,d=g(b);function b(){return p(this,b),d.apply(this,arguments)}return e=b,a=[{key:"is",get:function(){return"sb-pc-option-save"}},{key:"properties",get:function(){return{quote:Object,products:Array,configuration:Object,upgradeAssetId:String,groupKey:{type:Number,value:-1},error:{type:Array,notify:!0},psmResponse:{type:String,notify:!0},background:{type:Boolean,value:!0},stripLinesThreshold:Number,stripLinesMessage:String,cache:String}}},{key:"observers",get:function(){return["_topLevelSaveObserver(quote, products)","_nestedConfigurationSaveObserver(quote, configuration)"]}},{key:"template",get:function(){return Object(u.b)(s||(t=['\n\t        <sb-async-service cache="[[cache]]" id="service" saver="ProductConfigurationServiceProvider.OptionSaver" background="[[background]]"></sb-async-service>\n\t    '],e||(e=t.slice(0)),s=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],(n=[{key:"ready",value:function(){f(m(b.prototype),"ready",this).call(this),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(t){var e=t.detail.value.quote;if(e&&e.partialVO){var n=new l(this.quote,e,this.requiredKeys);t.detail.value.quote=n.reconcileServerQuoteWithUIQuote()}this.psmResponse=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message])}.bind(this))}},{key:"setSpinnerMessage",value:function(){Object(c.d)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}},{key:"_topLevelSaveObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.topLevelSave(t,e)}},{key:"topLevelSave",value:function(){void 0!==this.cache&&(this.$.service.uid=this.quote.record.Id.substring(0,15)),this.$.service.warningCallback=function(t){var e=t.detail.value.validationMessages;console.log(e)};var t=new o.a;if(t.addObject("products",this.products),null!=this.groupKey&&this.groupKey>=0&&t.add("groupKey",this.groupKey),null==this.stripLinesThreshold||this.quote.lineItems.length<=this.stripLinesThreshold)t.addQuote("quote",this.quote),this.$.service.model=t.build();else{var e=new i.a(this.quote,this.products,this.groupkey,this.stripLinesThreshold,this.stripLinesMessage);this.quote=e.reduceQuote(),this.requiredKeys=e.getRequiredKeys(),t.addQuote("quote",this.quote),this.$.service.model=t.build(),this.quote=e.revertQuote()}}},{key:"_nestedConfigurationSaveObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.nestedConfigurationSave(t,e)}},{key:"nestedConfigurationSave",value:function(){void 0!==this.cache&&(this.$.service.uid=this.quote.record.Id.substring(0,15)),this.$.service.warningCallback=function(t){var e=t.detail.value.validationMessages;console.log(e)},this.quote.priorBundledQuantityByLineKey=new r.a(this.quote).mapPriorBundledQuantityByLineKey();var t=this.quote.lineItems;this.quote.lineItems=null;var e=(new o.a).addQuote("quote",this.quote).addObject("configuration",this.configuration);this.quote.lineItems=t,delete this.quote.priorBundledQuantityByLineKey,this.$.service.model=e.build()}}])&&h(e.prototype,n),a&&h(e,a),Object.defineProperty(e,"prototype",{writable:!1}),b}(u.a);customElements.define(_.is,_)},function(t,e,n){"use strict";var o,r=n(2),i=(n(13),n(15),n(3));var a,s,l,c=Object(i.b)(o||(a=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  min-height: 46px;\n}\n:host([class*='--mobile']) {\n  min-height: 55px;\n}\n:host([class*='--mobile']) {\n  min-height: 55px;\n}\n.paginationBar {\n  background-color: var(--pagination-bar-background-color);\n  padding-bottom: var(--pagination-bar-padding-bottom);\n  padding-top: var(--pagination-bar-padding-top);\n  text-align: var(--pagination-bar-text-align);\n  box-shadow: var(--pagination-bar-box-shadow);\n  display: var(--pagination-bar-display);\n  width: var(--pagination-bar-width);\n}\n.pages {\n  color: #4F6892;\n  display: var(--pagination-parts-display);\n  text-align: var(--pagination-pages-text-align);\n}\n.prevButton {\n  padding: 0px 20px 0px 20px;\n  display: var(--pagination-parts-display);\n  text-align: var(--pagination-previous-text-align);\n}\n.nextButton {\n  padding: 0px 20px 0px 20px;\n  display: var(--pagination-parts-display);\n  text-align: var(--pagination-next-text-align);\n}\n"],s||(s=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(s)}})))),u=n(5),d=n(0);n(26);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,n,o,i=y(a);function a(){return h(this,a),i.apply(this,arguments)}return e=a,o=[{key:"is",get:function(){return"sb-pagination"}},{key:"properties",get:function(){return{pageIndex:{type:Number,value:0},pageSize:Number,numItems:Number}}},{key:"observers",get:function(){return["_setNumberOfPagesObserver(pageSize, numItems)","_setPageWindowObserver(pageIndex, pageSize, numItems)","_setNextDisabledObserver(pageIndex, numPages)","setPreviousDisabled(pageIndex)","setPageNum(pageIndex)"]}},{key:"template",get:function(){return Object(r.b)(l||(l=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div device class="paginationBar">\n\t\t\t<span class="prevButton">\n\t\t\t\t<paper-button id="prevButton" noink on-click="previous" disabled="{{previousDisabled}}"><i class="sf-icon-left"></i></paper-button>\n\t\t\t</span>\n\t\t\t<span class="pages">[[pageNum]] / [[numPages]]</span>\n\t\t\t<span class="nextButton">\n\t\t\t\t<paper-button id="nextButton" noink on-click="next" disabled="{{nextDisabled}}"><i class="sf-icon-right"></i></paper-button>\n\t\t\t</span>\n\t\t</div>\n\t\t'])),c)}}],(n=[{key:"next",value:function(){this.pageIndex++,this.firePageEvent("next")}},{key:"previous",value:function(){this.pageIndex--,this.firePageEvent("previous")}},{key:"_setNumberOfPagesObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setNumberOfPages(t,e)}},{key:"setNumberOfPages",value:function(){this.numPages=Math.ceil(this.numItems/this.pageSize)}},{key:"_setPageWindowObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setPageWindow(t,e,n)}},{key:"setPageWindow",value:function(){var t=this.pageIndex*this.pageSize,e=t+this.pageSize;e>=this.numItems&&(e=this.numItems),this.pageWindow=[t,e]}},{key:"_setNextDisabledObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setNextDisabled(t,e)}},{key:"setNextDisabled",value:function(){this.nextDisabled=this.pageIndex===this.numPages-1}},{key:"setPreviousDisabled",value:function(){this.previousDisabled=0===this.pageIndex}},{key:"setPageNum",value:function(){this.pageNum=this.pageIndex+1}},{key:"firePageEvent",value:function(t){this.dispatchEvent(Object(d.d)("pagination-changed",{direction:t,page:this.pageNum,index:this.pageIndex,window:this.pageWindow}))}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Object(u.a)(r.a));customElements.define(m.is,m)},function(t,e,n){"use strict";var o,r=n(4),i=n(6),a=n(5),s=n(1),l=n(2),c=(n(25),n(18),n(35),n(13),n(15),n(36),n(3));var u,d,p,h=Object(c.b)(o||(u=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: block;\n}\n:host .visibilityHidden {\n  visibility: hidden;\n}\n:host .sb-action-icon {\n  color: var(--sbIconColor);\n  cursor: pointer;\n  border-bottom: none;\n  display: inline;\n}\n:host .sb-action-icon:hover {\n  color: var(--sbIconHoverColor);\n}\n:host .sb-action-icon.disabled {\n  color: var(--sbIconDisabledColor);\n  cursor: default;\n  opacity: 0.5;\n}\n:host .sf-icon-custom_apps {\n  padding-left: var(--sf-icon-padding);\n  padding-right: var(--sf-icon-padding);\n}\n:host paper-tooltip[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] paper-tooltip {\n  display: none;\n}\n.sb-action-icon[class*='--mobile'] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  color: #FFF;\n}\n.sb-icon-plus[class*='--mobile'] {\n  background-color: lightgreen;\n}\n.sf-icon-delete[class*='--mobile'] {\n  background-color: lightcoral;\n}\n.sf-icon-custom_apps[class*='--mobile'] {\n  background-color: #8c5e8c;\n}\n.configurationRequired[class*='--mobile'] {\n  border-left: solid thick #C00;\n}\n[class*='--mobile'] .sb-action-icon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  color: #FFF;\n}\n[class*='--mobile'] .sb-icon-plus {\n  background-color: lightgreen;\n}\n[class*='--mobile'] .sf-icon-delete {\n  background-color: lightcoral;\n}\n[class*='--mobile'] .sf-icon-custom_apps {\n  background-color: #8c5e8c;\n}\n[class*='--mobile'] .configurationRequired {\n  border-left: solid thick #C00;\n}\n"],d||(d=u.slice(0)),o=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(d)}}))));function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=v(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=O(t);if(e){var r=O(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(c,t);var e,n,o,a=_(c);function c(){return b(this,c),a.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-actions"}},{key:"properties",get:function(){return{rowActions:Array,position:{type:String,value:"left"},data:{type:Object,notify:!0},viewport:{type:Object,value:function(){return i.a.getViewport()}},i18n:{type:Object,value:function(){return r.a.properties.i18n.value()}},index:Number}}},{key:"observers",get:function(){return["disableActions(data.disabledData.disabled)"]}},{key:"template",get:function(){return Object(l.b)(p||(p=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style>','</style>\n\t\t\n\t    <template is="dom-repeat" items="[[rowActions]]" as="action">\n\t\t\t<template is="dom-if" if="[[!action.hidden]]">\n\t\t\t\t<span id="_[[index]]" class$="td sb-action-icon [[action.icon]] [[_isVisible(action.invisible)]] [[_isDisabled(index)]] [[deviceClasses]] [[_configurationRequired(action.title, rowActions, data)]]" on-click="tapEvent" data-index="[[index]]"></span>\n\t\t\t\t<paper-tooltip for="_[[index]]" animation-delay="250" fit-to-visible-bounds="false" offset="0">[[displayTitle(action, index)]]</paper-tooltip>\n\t\t\t</template>\n\t\t</template>\n\t    '])),h)}}],(n=[{key:"ready",value:function(){g(O(c.prototype),"ready",this).call(this),this.isMobile=this._isMobileViewport()}},{key:"shouldDisable",value:function(t){if(this.data&&this.rowActions&&this.rowActions[t])return"Delete"==this.rowActions[t].title&&(this.data.required&&!this.data.addedManually||!!this.data.disabledData&&this.data.disabledData.disabled)}},{key:"_isMobileViewport",value:function(){return this.viewport&&this.viewport.isMobile()}},{key:"tapEvent",value:function(t){this.rowActions[t.currentTarget.dataIndex].onTapFunction&&!this.shouldDisable(t.currentTarget.dataIndex)&&this.rowActions[t.currentTarget.dataIndex].onTapFunction.bind(this)()}},{key:"_isVisible",value:function(t){return t?"visibilityHidden":""}},{key:"displayTitle",value:function(t,e){return this.shouldDisable(e)?"Disabled":this.i18n.l(t.title)}},{key:"_isDisabled",value:function(t){return this.shouldDisable(t)?"disabled":""}},{key:"disableActions",value:function(){if(this.shadowRoot.querySelector(".sb-action-icon")&&this.rowActions)for(var t=0;t<this.rowActions.length;t++)Object(s.m)("disabled",this.shouldDisable(t),this.shadowRoot.querySelector("#_"+t))}},{key:"_configurationRequired",value:function(t){if(!this.isMobile||this.data.configured)return"";for(var e=0;e<this.rowActions.length;e++)if("Configure"===t&&this.rowActions[e].configurationRequired)return"configurationRequired"}}])&&y(e.prototype,n),o&&y(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(a.a)(l.a));customElements.define(k.is,k)},function(t,e,n){"use strict";var o,r,i,a=n(73),s=n(5),l=n(48),c=n(2),u=(n(18),n(146),n(10),n(160),n(111),n(142)),d=n(14),p=n(3),h=n(11);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Object(d.a)({_template:Object(p.a)(o||(r=['\x3c!--css-build:shadow--\x3e<style scope="paper-radio-button">:host {\n  display: inline-block;\n    line-height: 0;\n    white-space: nowrap;\n    cursor: pointer;\n    font-family: var(--paper-font-common-base_-_font-family);\n -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n    --calculated-paper-radio-button-size: var(--paper-radio-button-size, 16px);\n    --calculated-paper-radio-button-ink-size: var(--paper-radio-button-ink-size, -1px);\n}\n\n:host(:focus) {\n  outline: none;\n}\n\n#radioContainer {\n  display: var(--layout-inline_-_display);\n    -ms-flex-align: var(--layout-center-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center-center_-_-webkit-align-items);\n align-items: var(--layout-center-center_-_align-items);\n -ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);\n justify-content: var(--layout-center-center_-_justify-content);\n    position: relative;\n    width: var(--calculated-paper-radio-button-size);\n    height: var(--calculated-paper-radio-button-size);\n    vertical-align: middle;\n\n    ;\n}\n\n#ink {\n  position: absolute;\n    top: 50%;\n    left: 50%;\n    right: auto;\n    width: var(--calculated-paper-radio-button-ink-size);\n    height: var(--calculated-paper-radio-button-ink-size);\n    color: var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n    -webkit-transform: translate(-50%, -50%);\n    transform: translate(-50%, -50%);\n}\n\n#ink[checked] {\n  color: var(--paper-radio-button-checked-ink-color, var(--primary-color));\n}\n\n#offRadio, #onRadio {\n  position: absolute;\n    box-sizing: border-box;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n}\n\n#offRadio {\n  border: 2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));\n    background-color: var(--paper-radio-button-unchecked-background-color, transparent);\n    transition: border-color 0.28s;\n}\n\n#onRadio {\n  background-color: var(--paper-radio-button-checked-color, var(--primary-color));\n    -webkit-transform: scale(0);\n    transform: scale(0);\n    transition: -webkit-transform ease 0.28s;\n    transition: transform ease 0.28s;\n    will-change: transform;\n}\n\n:host([checked]) #offRadio {\n  border-color: var(--paper-radio-button-checked-color, var(--primary-color));\n}\n\n:host([checked]) #onRadio {\n  -webkit-transform: scale(0.5);\n    transform: scale(0.5);\n}\n\n#radioLabel {\n  line-height: normal;\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: var(--paper-radio-button-label-spacing, 10px);\n    white-space: normal;\n    color: var(--paper-radio-button-label-color, var(--primary-text-color));\n\n    ;\n}\n\n:host([checked]) #radioLabel {\n  ;\n}\n\n#radioLabel:dir(rtl), :host([dir="rtl"]) #radioLabel {\n  margin-left: 0;\n    margin-right: var(--paper-radio-button-label-spacing, 10px);\n}\n\n#radioLabel[hidden] {\n  display: none;\n}\n\n:host([disabled]) #offRadio {\n  border-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));\n    opacity: 0.5;\n}\n\n:host([disabled][checked]) #onRadio {\n  background-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));\n    opacity: 0.5;\n}\n\n:host([disabled]) #radioLabel {\n  opacity: 0.65;\n}\n\n</style>\n\n<div id="radioContainer">\n  <div id="offRadio"></div>\n  <div id="onRadio"></div>\n</div>\n\n<div id="radioLabel"><slot></slot></div>'],i||(i=r.slice(0)),o=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),is:"paper-radio-button",behaviors:[u.a],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Object(h.a)(this,(function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var t=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),e=Math.floor(3*t);e%2!=t%2&&e++,this.updateStyles({"--paper-radio-button-ink-size":e+"px"})}}))}});var f;n(13),n(47);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=w(t);if(e){var r=w(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(i,t);var e,n,o,r=m(i);function i(){return y(this,i),r.apply(this,arguments)}return e=i,o=[{key:"is",get:function(){return"sb-table-cell-select"}},{key:"properties",get:function(){return{item:String,isRadio:{type:Boolean,computed:"_isRadio(item)"},value:{notify:!0},data:{type:Object,observer:"init"}}}},{key:"template",get:function(){return Object(c.b)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles"></style>\n\t\t<div id="s">\n\t\t\t<template is="dom-if" if="[[isRadio]]">\n\t\t\t\t<paper-radio-button device noink id="radio" checked="{{value}}" disabled="[[disabled]]"></paper-radio-button>\n\t\t\t</template>\n\t\t\t<template is="dom-if" if="[[!isRadio]]">\n\t\t\t\t<paper-checkbox device noink id="checkbox" checked="{{value}}" disabled="[[disabled]]"></paper-checkbox>\n\t\t\t</template>\n\t\t</div>\n\t\t'])))}}],(n=[{key:"init",value:function(){if(this._attached)return this._setDisabled(),void this._setHidden();this.observeNode(this.$.s,function(){this._setDisabled(),this._setHidden(),this._attached=!0}.bind(this))}},{key:"_isRadio",value:function(){return"radio"===this.item}},{key:"_setDisabled",value:function(){this.disabled=!(!this.data||!this.data.disabled)}},{key:"_setHidden",value:function(){var t=!!this.data&&this.data.hidden,e=new a.a(t),n=this.shadowRoot.querySelector("#"+this.item);n&&e.applyTo(n)}}])&&g(e.prototype,n),o&&g(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(Object(l.a)(Object(s.a)(c.a)));customElements.define(O.is,O)},function(t,e,n){"use strict";var o,r=n(2),i=n(37),a=n(41),s=n(28),l=n(5),c=n(48),u=n(3);var d,p,h,f=Object(u.b)(o||(d=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile']) {\n  display: flex;\n  min-width: 200%;\n  -webkit-tap-highlight-color: transparent;\n  transform: translate3d(0, 0, 0);\n}\n:host([class*='--mobile']) {\n  display: flex;\n  min-width: 200%;\n  -webkit-tap-highlight-color: transparent;\n  transform: translate3d(0, 0, 0);\n}\n"],p||(p=d.slice(0)),o=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(p)}})))),b=n(1),y=n(6),g=n(0);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=x(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(l,t);var e,n,o,i=C(l);function l(){return w(this,l),i.apply(this,arguments)}return e=l,o=[{key:"is",get:function(){return"sb-swipe-container"}},{key:"properties",get:function(){return{disableSwipe:{type:Boolean,value:!1},preventSwipe:{type:Boolean,value:!1},isRequiredRowNotSelected:{type:Boolean,value:!1},groupExpanded:{type:Boolean,value:!1,observer:"_expansionChanged"},swipeHeader:Object,swipeMenu:Object,swipeItems:{type:Array,value:[]},swipeItemWidth:{type:Number,value:58},viewport:{type:Object,value:function(){return y.a.getViewport()}},variant:String}}},{key:"observers",get:function(){return["_preventSwipe(isRequiredRowNotSelected)"]}},{key:"template",get:function(){return Object(r.b)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\n\t\t<slot device id="content"></slot>\n\t\t'])),f)}}],(n=[{key:"_preventSwipe",value:function(){this.preventSwipe=this.isRequiredRowNotSelected||this.groupExpanded}},{key:"onGroupExpanded",value:function(t){this.groupExpanded=t.detail.expanded,this._preventSwipe()}},{key:"connectedCallback",value:function(){var t=this;if(k(P(l.prototype),"connectedCallback",this).call(this),this.addEventListener("expanded-changed",this.onGroupExpanded),this.listenedTrackEventNodes=[],!this.viewport||!this.viewport.isMobile()||this.disableSwipe)return this.style.minWidth="100%",void(this.style.position="static");this.observeNode(this.$.content,(function(e){for(var n=0;n<e.addedNodes.length;n++)t._findSwipeHeaderAndMenu(e.addedNodes[n])}))}},{key:"disconnectedCallback",value:function(){if(k(P(l.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("expanded-changed",this.onGroupExpanded),this.listenedOnTrackHandler&&this.listenedTrackEventNodes){var t,e=m(this.listenedTrackEventNodes);try{for(e.s();!(t=e.n()).done;){var n=t.value;Object(a.d)(n,"track",this.listenedOnTrackHandler)}}catch(t){e.e(t)}finally{e.f()}}}},{key:"_expansionChanged",value:function(t){"ui3qle"===this.variant&&this._preventSwipe()}},{key:"_findSwipeHeaderAndMenu",value:function(t){t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE&&("swipe-header"!==t.id||this._initSwipeHeader(t))}},{key:"_initSwipeHeader",value:function(t){var e=(this.swipeHeader=t).style;if(this.viewport&&!this.viewport.isMobile())return e.maxWidth="100%",void(e.display="table");"ui3qle"!==this.variant&&(e.maxWidth="50%",e.position="relative"),this.listenedOnTrackHandler=this.listenedOnTrackHandler||this._onTrack.bind(this),Object(a.a)(t,"track",this.listenedOnTrackHandler),this.listenedTrackEventNodes.push(t),Object(a.e)(t,"pan-y")}},{key:"_closeMenuWhenTapped",value:function(t,e){t.addEventListener("click",(function(){e._animate(100,1,e.swipeHeader)}))}},{key:"_initSwipeMenu",value:function(t){if(t.style.maxWidth="50%",this._closeMenuWhenTapped(t,this),this.swipeItems&&this.swipeItems.length)for(var e=0;e<this.swipeItems.length;e++){var n=this.swipeItems[e];n.style.position="",n.style.width="0px"}this.swipeMenu=t;var o=[],r=[];Object(s.b)(),"SB-ACTIONS"===t.children[0].nodeName?(Object(s.b)(),o=t.children[0].shadowRoot.children):"SB-CUSTOM-ACTION"===t.children[0].nodeName?o=t.shadowRoot.children:"SF-LINE-ACTIONS"===t.children[0].nodeName&&(o=t.children[0].shadowRoot.querySelector("div").children);for(var i=0,a=o.length;i<a;i++){var l=o[i];this._isValidSwipeMenuItem(l)&&r.push(l)}this.swipeItems=r;var c=this.swipeItemWidth*this.swipeItems.length;t.style.width=c+"px";for(var u=0,d=this.swipeItems.length;u<d;u++){var p=this.swipeItems[u];Object(b.m)("swipe-menu-item",!0,p);var h=(200-20*(d-1))*d;this.style.transition="transform "+h+"ms ease-out",this._setSwipeItemStyles(p.style,h,c)}}},{key:"_setSwipeItemStyles",value:function(t,e,n){t.transition="transform "+e+"ms ease-out",t.webkitBackfaceVisibility="hidden",t.borderRadius=0,t.position="absolute",t.left=0,t.height="100%",t.width="57px"}},{key:"_onTrack",value:function(t){if(!this.swipeMenu){var e=this.querySelector("#swipe-menu");e&&this._initSwipeMenu(e)}if(!this.preventSwipe&&this.swipeItems.length){var n=t.currentTarget,o=t.detail;"track"===o.state&&this._trackMove(o,n)}}},{key:"_trackMove",value:function(t,e){this._animate(t.dx,t.dy,e)}},{key:"_animate",value:function(t,e,n){var o=t>0?1:-1;if(-1===o&&Math.abs(e)<20&&t<-60){this.dispatchEvent(Object(g.d)("row-swiped",{isOpen:!0}));var r=parseFloat(getComputedStyle(this.swipeItems[0]).width),i=r.toPrecision(5)*this.swipeItems.length*o;this.style.transform="translate3d("+i+"px, 0, 0)",this.style.webkitBackfaceVisibility="hidden";for(var a=this.swipeItems.length-1;a>=0;a--){var s=a*r.toPrecision(5);this.swipeItems[a].style.width=r.toPrecision(5)+"px",this.swipeItems[a].style.transform="translate3d("+s+"px, 0, 0)"}}else if(1===o&&Math.abs(e)<20&&t>25)for(this.dispatchEvent(Object(g.d)("row-swiped",{isOpen:!1})),this.style.transform="translate3d(0%, 0, 0)",this.style.webkitBackfaceVisibility="hidden",a=0;a<this.swipeItems.length;a++)this.swipeItems[a].style.transform="translate3d(0%, 0, 0)"}},{key:"_isValidSwipeMenuItem",value:function(t){if("ui3qle"===this.variant)return"button"===t.nodeName.toLowerCase();var e=t?t.shadowRoot:null;if(("span"===t.nodeName.toLowerCase()||e&&e.querySelector("span"))&&!t.classList.contains("ignore-in-mobile")){if(e&&e.querySelector("span")){var n=e.querySelector("span");if(("removeFromFavBtn"===n.id||"addToFavBtn"===n.id)&&"none"===n.style.display)return!1}if(!t.classList.contains("visibilityHidden"))return!0;t.style.display="none"}return!1}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(Object(i.a)(Object(c.a)(Object(l.a)(r.a))));customElements.define(T.is,T)},function(t,e,n){"use strict";var o,r=n(33),i=n(73),a=n(2),s=(n(34),n(3));var l,c,u,d=Object(s.b)(o||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .container {\n  display: flex;\n  flex-direction: row;\n}\n:host :after {\n  content: attr(data-suffix);\n}\n:host(.primary) sb-field[class*='--mobile'] {\n  width: calc(100vw - 65px);\n}\n:host([class*='--mobile'] .primary) sb-field {\n  width: calc(100vw - 65px);\n}\n"],c||(c=l.slice(0)),o=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}}))));function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(l,t);var e,n,o,s=y(l);function l(){return h(this,l),s.apply(this,arguments)}return e=l,o=[{key:"is",get:function(){return"sb-table-cell"}},{key:"properties",get:function(){return{item:String,disabled:Boolean,hide:Object,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null}}}},{key:"observers",get:function(){return["_buildCellObserver(item, value, model, data)","setDisabled(data.disabled)","setRecordId(data.Id)","overrideWidth(data.fullWidthItem)","_dataChangedObserver(data, item)"]}},{key:"template",get:function(){return Object(a.b)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<div class="container">\n\t\t\t<sb-field\n\t\t\t\t\tid="field"\n\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\tdisabled="[[data.disabled]]"\n\t\t\t\t\tproperty="[[item]]"\n\t\t\t\t\tmd="[[md]]"\n\t\t\t\t\trecord-id="[[recordId]]"\n\t\t\t\t\tref-display="[[display]]"\n\t\t\t\t\thidden="[[hide]]"\n\t\t\t\t\trecord="[[data]]"\n\t\t\t\t\tdata-suffix$="[[suffix]]"\n\t\t\t\t\ttab-index="[[tabIndex]]"\n\t\t\t></sb-field>\n\t\t</div>\n\t'])),d)}}],(n=[{key:"_buildCellObserver",value:function(t,e,n,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o)return this.buildCell(t,e,n,o)}},{key:"buildCell",value:function(){this.setDisabled(),this.setHidden(),this.setRecordId(),this.setSuffix(),this.model&&this.model[this.item]&&this.model[this.item].type?this.setFieldMetadataFromModel():this.md=this.md||{type:"string"}}},{key:"setDisabled",value:function(){this.disabled=!(!this.data||!this.data.disabled)}},{key:"setHidden",value:function(){var t=!!this.data&&this.data.hidden;this.hide=new i.a(t).hide}},{key:"setRecordId",value:function(){this.recordId=this.data?this.data.Id:null}},{key:"setSuffix",value:function(){this.data&&this.data._transient_&&null!=this.get(["data","_transient_",this.item,"suffix"])?this.suffix=this.get(["data","_transient_",this.item,"suffix"]):this.suffix=void 0}},{key:"overrideWidth",value:function(){this.data&&this.data.fullWidthItem&&this.classList.contains(this.data.fullWidthItem)?this.style.width="100%":"100%"==this.style.width&&(this.style.width=null)}},{key:"setFieldMetadataFromModel",value:function(){var t=this.model[this.item];this.data&&this.data._transient_&&null!=this.get(["data","_transient_",this.item,"md"])&&(t=this.get(["data","_transient_",this.item,"md"])),this.$.field.link=!!t.link,this.$.field.readOnly=!0,this.md=t}},{key:"_dataChangedObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.dataChanged(t,e)}},{key:"dataChanged",value:function(){var t=new r.a(this.item,this.data);t.hasRelationship()&&(this.display=t.getRelationshipName(),this.$.field.value="",this.$.field.value=this.value)}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(a.a);customElements.define(m.is,m)},function(t,e,n){"use strict";var o,r=n(5),i=n(2),a=n(0),s=n(3);var l,c,u,d=Object(s.b)(o||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background-color: var(--sbNavigationDrawerBgColor);\n  color: var(--sbNavigationDrawerFontColor);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  border-top: var(--sb-side-panel-border-top, none);\n}\n:host header {\n  margin: 20px 20px 0 20px;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n}\n:host .offset {\n  left: 256px;\n  position: fixed;\n  visibility: visible;\n}\n:host .container {\n  width: 16px;\n  position: absolute;\n  height: 100%;\n  left: 256px;\n  cursor: pointer;\n  background-color: var(--sbNavigationDrawerHeaderColor);\n  color: var(--sbNavigationDrawerHeaderFontColor);\n  padding: 0 22px 0 2px;\n  font-size: 20px;\n}\n:host .container[class*='--mobile'] {\n  display: none !important;\n}\n:host [class*='--mobile'] .container {\n  display: none !important;\n}\n:host .closedArrows {\n  visibility: visible;\n}\n:host .panel-text {\n  transform: rotate(90deg);\n  text-align: center;\n  width: 20px;\n}\n:host .center {\n  position: relative;\n  top: 35%;\n}\n:host .top-caret {\n  position: relative;\n  top: 0px;\n}\n:host .bottom-caret {\n  position: relative;\n  top: 60px;\n}\n:host(#searchPanel) {\n  /** Commented out to maintain style parity with P1 */\n  color: var(--sbFilterDrawerFontColor);\n}\n"],c||(c=l.slice(0)),o=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}}))));n(15),n(13),n(18);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(s,t);var e,n,o,r=y(s);function s(){return h(this,s),r.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-side-panel"}},{key:"properties",get:function(){return{renderHeader:{type:Boolean,value:!0},icon:String,arrows:String,sideText:String,rightSideButton:Boolean}}},{key:"observers",get:function(){return["setIcon(isOpen)"]}},{key:"template",get:function(){return Object(i.b)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<span device>\n\t\t<template is="dom-if" if="[[rightSideButton]]">\n\t\t\t<div class$="[[arrows]] container" on-click="toggleDrawer">\n\t\t\t\t<div class="center">\n\t\t\t\t\t<i class$="[[icon]] top-caret"></i>\n\t\t\t\t\t<div class="panel-text">[[sideText]]</div>\n\t\t\t\t\t<i class$="[[icon]] bottom-caret"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<div id="panel" on-keypress="keyCheck">\n\t\t\t<template is="dom-if" if="[[renderHeader]]">\n\t\t\t\t<header>\n\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t<slot id="paneltitle" name="title"></slot>\n\t\t\t\t</header>\n\t\t\t</template>\n\n\t\t\t<div id="actions">\n\t\t\t\t<slot name="panel-actions"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t</span>\n\t'])),d)}}],(n=[{key:"closeDrawer",value:function(){this.dispatchEvent(Object(a.d)("x-clicked"))}},{key:"keyCheck",value:function(t){13==t.keyCode&&this.dispatchEvent(Object(a.d)("enter-keypress"))}},{key:"toggleDrawer",value:function(){this.dispatchEvent(Object(a.d)("side-toggle-clicked"))}},{key:"setIcon",value:function(){"open"===this.isOpen?this.icon="sf-icon-left":(this.icon="sf-icon-right",this.arrows="closedArrows")}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(Object(r.a)(i.a));customElements.define(m.is,m)},function(t,e,n){"use strict";var o,r=n(69),i=n(2),a=n(3);var s,l,c,u=Object(a.b)(o||(s=["\n:host {\n  width: 100%;\n  background-color: var(--sbDrawerBgColor);\n  display: block;\n}\n:host .table {\n  padding: 10px 0px 10px 45px;\n}\n:host .table.listMode #firstDrawerColumn {\n  width: 100%;\n}\n:host .tr {\n  vertical-align: top;\n  display: flex;\n  position: relative;\n  color: var(--sbConfigAttrLabelColor);\n}\n:host .drawer {\n  width: 33%;\n}\n:host .header-attributes {\n  padding: 0 30px 0 30px;\n}\n:host #drawerHeader {\n  padding: 10px 0px 10px 45px;\n}\n:host #drawerHeader #details {\n  font-size: 20px;\n  font-weight: bold;\n}\n"],l||(l=s.slice(0)),o=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))));n(72),n(13);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(s,t);var e,n,o,a=b(s);function s(){return p(this,s),a.apply(this,arguments)}return e=s,o=[{key:"is",get:function(){return"sb-row-drawer"}},{key:"properties",get:function(){return{item:String,fieldNames:Array,richTextFields:Array,model:{type:Object,notify:!0},highlightOnFocus:{type:Boolean,value:!1},listMode:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["_generateColumnsObserver(fieldNames, model, richTextFields)","_highlightOnFocusObserver(highlightOnFocus, item)"]}},{key:"template",get:function(){return Object(i.b)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="drawerHeader">\n\t\t\t<div id="richTextFields">\n\t\t\t\t<sb-group id="rteColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]" group-class="[[_getRTEGroupListClass(listMode)]]"></sb-group>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="table" class$="table [[_getGroupListClass(listMode)]]">\n\t\t\t<div class="tr">\n\t\t\t\t<div id="firstDrawerColumn" class$="td [[columnWidth]]">\n\t\t\t\t\t<sb-group id="firstColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]" group-class="[[_getGroupListClass(listMode)]]"></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div id="secondDrawerColumn" class$="td [[columnWidth]]">\n\t\t\t\t\t<sb-group id="secondColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div id="thirdDrawerColumn" class$="td [[columnWidth]]">\n\t\t\t\t\t<sb-group id="thirdColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),u)}}],(n=[{key:"_generateColumnsObserver",value:function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.generateColumns(t,e,n)}},{key:"generateColumns",value:function(){for(var t,e=[],n=[],o=[],r=this.fieldNames.length,i=this.fieldNames.slice(0),a=0;a<r;a++)-1===this.richTextFields.indexOf(i[a])&&(this.listMode||a%3==0?e.push(i[a]):a%3==1?n.push(i[a]):o.push(i[a]));this.listMode?t=[this.richTextFields,e]:(this.columnWidth="drawer",t=[this.richTextFields,e,n,o]),this.setColumns(t)}},{key:"setColumns",value:function(t){var e=[this.shadowRoot.querySelector("#rteColumn"),this.shadowRoot.querySelector("#firstColumn")];this.listMode||e.push(this.shadowRoot.querySelector("#secondColumn"),this.shadowRoot.querySelector("#thirdColumn"));for(var n=0;n<e.length;n++)t[n].length>0&&(e[n].destroyGroup(),e[n].model=this.model,e[n].itemClass="drawerCell",e[n].group=t[n])}},{key:"_highlightOnFocusObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this._highlightOnFocus(t,e)}},{key:"_highlightOnFocus",value:function(t,e){var n=["rteColumn","firstColumn"];this.listMode||n.push("secondColumn","thirdColumn"),this.signaler=new r.a(this,n,e),this.signaler.signalOnFocus("sb-row-focus-signal",!t)}},{key:"_getGroupListClass",value:function(t){return this.listMode?"listMode":""}},{key:"_getRTEGroupListClass",value:function(t){return this.listMode?"rteListMode":""}}])&&h(e.prototype,n),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.a);customElements.define(v.is,v)},function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){function e(t,e,n,o){var r,i=0,a=0,s=0;n=(n||"(").toString(),o=(o||")").toString();for(r=0;r<t.length;r++){var l=t[r];if(l.indexOf(n,i)>l.indexOf(o,i)||~l.indexOf(n,i)&&!~l.indexOf(o,i)||!~l.indexOf(n,i)&&~l.indexOf(o,i)){if(a=l.indexOf(n,i),s=l.indexOf(o,i),~a&&!~s||!~a&&~s){var c=t.slice(0,(r||1)+1).join(e);t=[c].concat(t.slice((r||1)+1))}i=(s>a?s:a)+1,r=0}else i=0}return t}function n(t,e){for(var n,o=0,i="";n=t.substr(o).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)o=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),i+=t.substr(0,n.index)+n[0];var a,s,l=(t=i+=t.substr(o)).match(/:([^\/]+)/gi);if(l){s=l.length;for(var c=0;c<s;c++)t="::"===(a=l[c]).slice(0,2)?a.slice(1):t.replace(a,r(a,e))}return t}function r(t,e,n){for(var o in n=t,e)if(e.hasOwnProperty(o)&&(n=e[o](t))!==t)break;return n===t?"([._a-zA-Z0-9-%()]+)":n}function i(t,e,n){if(!t.length)return n();var o=0;!function r(){e(t[o],(function(e){e||!1===e?(n(e),n=function(){}):(o+=1)===t.length?n():r()}))}()}function a(t){for(var e=[],n=0,o=t.length;n<o;n++)e=e.concat(t[n]);return e}function l(t,e){for(var n=0;n<t.length;n+=1)if(!1===e(t[n],n,t))return}function c(){return""===u.hash||"#"===u.hash}var u=document.location,d={mode:"modern",hash:u.hash,history:!1,check:function(){var t=u.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?!0===this.history?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function n(t){for(var e=0,n=p.listeners.length;e<n;e++)p.listeners[e](t)}var o=this;if(this.history=e,p.listeners||(p.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))!0===this.history?setTimeout((function(){window.onpopstate=n}),500):window.onhashchange=n,this.mode="modern";else{var r=document.createElement("iframe");r.id="state-frame",r.style.display="none",document.body.appendChild(r),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",(function(){"location"===event.propertyName&&o.check()})),window.setInterval((function(){o.check()}),50),this.onHashChanged=n,this.mode="legacy"}return p.listeners.push(t),this.mode},destroy:function(t){if(p&&p.listeners)for(var e=p.listeners,n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),!0===this.history?(window.history.pushState({},document.title,t),this.fire()):u.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),n=e.contentDocument||e.contentWindow.document;n.open(),n.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var t=this._hash;return t!=u.hash&&(u.hash=t),this},onHashChanged:function(){}},p=t.Router=function(t){if(!(this instanceof p))return new p(t);this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(t||{})};p.prototype.init=function(t){var e,n=this;return this.handler=function(t){var e=t&&t.newURL||window.location.hash,o=!0===n.history?n.getPath():e.replace(/.*#/,"");n.dispatch("on","/"===o.charAt(0)?o:"/"+o)},d.init(this.handler,this.history),!1===this.history?c()&&t?u.hash=t:c()||n.dispatch("on","/"+u.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(e=c()&&t?t:c()?null:u.hash.replace(/^#/,""))&&window.history.replaceState({},document.title,e):e=this.getPath(),(e||!0===this.run_in_init)&&this.handler()),this},p.prototype.explode=function(){var t=!0===this.history?this.getPath():u.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},p.prototype.setRoute=function(t,e,n){var o=this.explode();return"number"==typeof t&&"string"==typeof e?o[t]=e:"string"==typeof n?o.splice(t,e,s):o=[t],d.setHash(o.join("/")),o},p.prototype.insertEx=function(t,e,n,o){return"once"===t&&(t="on",n=function(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}(n)),this._insert(t,e,n,o)},p.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){e=this.explode().indexOf(t)}else e=this.explode();return e},p.prototype.destroy=function(){return d.destroy(this.handler),this},p.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t};var h=/\?.*/;p.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict=void 0===t.strict||t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=!0===this.history&&!1!==t.run_handler_in_init,this.convert_hash_in_init=!0===this.history&&!1!==t.convert_hash_in_init,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},p.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var n=new RegExp(t,"g");return this.params[t]=function(t){return t.replace(n,e.source||e)},this},p.prototype.on=p.prototype.route=function(t,n,o){var r=this;return!o&&"function"==typeof n&&(o=n,n=t,t="on"),Array.isArray(n)?n.forEach((function(e){r.on(t,e,o)})):(n.source&&(n=n.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach((function(t){r.on(t.toLowerCase(),n,o)})):(n=e(n=n.split(new RegExp(this.delimiter)),this.delimiter),void this.insert(t,this.scope.concat(n),o)))},p.prototype.path=function(t,n){var o=this.scope.length;t.source&&(t=t.source.replace(/\\\//gi,"/")),t=e(t=t.split(new RegExp(this.delimiter)),this.delimiter),this.scope=this.scope.concat(t),n.call(this,this),this.scope.splice(o,t.length)},p.prototype.dispatch=function(t,e,n){function o(){i.last=a.after,i.invoke(i.runlist(a),i,n)}var r,i=this,a=this.traverse(t,e.replace(h,""),this.routes,""),s=this._invoked;return this._invoked=!0,a&&0!==a.length?("forward"===this.recurse&&(a=a.reverse()),(r=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last])&&r.length>0&&s?(this.async?this.invoke(r,this,o):(this.invoke(r,this),o()),!0):(o(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},n),!1)},p.prototype.invoke=function(t,e,n){var o,r=this;this.async?(o=function(n,r){if(Array.isArray(n))return i(n,o,r);"function"==typeof n&&n.apply(e,(t.captures||[]).concat(r))},i(t,o,(function(){n&&n.apply(e,arguments)}))):(o=function(n){return Array.isArray(n)?l(n,o):"function"==typeof n?n.apply(e,t.captures||[]):void("string"==typeof n&&r.resource&&r.resource[n].apply(e,t.captures||[]))},l(t,o))},p.prototype.traverse=function(t,e,n,r,i){function a(t){if(!i)return t;var e=function t(e){for(var n=[],o=0;o<e.length;o++)n[o]=Array.isArray(e[o])?t(e[o]):e[o];return n}(t);return e.matched=t.matched,e.captures=t.captures,e.after=t.after.filter(i),function t(e){for(var n=e.length-1;n>=0;n--)Array.isArray(e[n])?(t(e[n]),0===e[n].length&&e.splice(n,1)):i(e[n])||e.splice(n,1)}(e),e}var s,l,c,u,d=[];if(e===this.delimiter&&n[t])return(u=[[n.before,n[t]].filter(Boolean)]).after=[n.after].filter(Boolean),u.matched=!0,u.captures=[],a(u);for(var p in n)if(n.hasOwnProperty(p)&&(!this._methods[p]||this._methods[p]&&"object"==o(n[p])&&!Array.isArray(n[p]))){if(s=l=r+this.delimiter+p,this.strict||(l+="["+this.delimiter+"]?"),!(c=e.match(new RegExp("^"+l))))continue;if(c[0]&&c[0]==e&&n[p][t])return(u=[[n[p].before,n[p][t]].filter(Boolean)]).after=[n[p].after].filter(Boolean),u.matched=!0,u.captures=c.slice(1),this.recurse&&n===this.routes&&(u.push([n.before,n.on].filter(Boolean)),u.after=u.after.concat([n.after].filter(Boolean))),a(u);if((u=this.traverse(t,e,n[p],s)).matched)return u.length>0&&(d=d.concat(u)),this.recurse&&(d.push([n[p].before,n[p].on].filter(Boolean)),u.after=u.after.concat([n[p].after].filter(Boolean)),n===this.routes&&(d.push([n.before,n.on].filter(Boolean)),u.after=u.after.concat([n.after].filter(Boolean)))),d.matched=!0,d.captures=u.captures,d.after=u.after,a(d)}return!1},p.prototype.insert=function(t,e,r,i){var a,s,l,c;if(e=e.filter((function(t){return t&&t.length>0})),i=i||this.routes,c=e.shift(),/\:|\*/.test(c)&&!/\\d|\\w/.test(c)&&(c=n(c,this.params)),e.length>0)return i[c]=i[c]||{},this.insert(t,e,r,i[c]);if(c||e.length||i!==this.routes){if(a=o(i[c]),s=Array.isArray(i[c]),i[c]&&!s&&"object"==a)switch(o(i[c][t])){case"function":return void(i[c][t]=[i[c][t],r]);case"object":return void i[c][t].push(r);case"undefined":return void(i[c][t]=r)}else if("undefined"==a)return(l={})[t]=r,void(i[c]=l);throw new Error("Invalid route context: "+a)}switch(o(i[t])){case"function":return void(i[t]=[i[t],r]);case"object":return void i[t].push(r);case"undefined":return void(i[t]=r)}},p.prototype.extend=function(t){function e(t){o._methods[t]=!0,o[t]=function(){var e=1===arguments.length?[t,""]:[t];o.on.apply(o,e.concat(Array.prototype.slice.call(arguments)))}}var n,o=this,r=t.length;for(n=0;n<r;n++)e(t[n])},p.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(a(t)):a(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},p.prototype.mount=function(t,n){function r(n,r){var a=n,s=n.split(i.delimiter),l=o(t[n]),c=""===s[0]||!i._methods[s[0]],u=c?"on":a;c&&(a=a.slice((a.match(new RegExp("^"+i.delimiter))||[""])[0].length),s.shift()),c&&"object"===l&&!Array.isArray(t[n])?(r=r.concat(s),i.mount(t[n],r)):(c&&(r=e(r=r.concat(a.split(i.delimiter)),i.delimiter)),i.insert(u,r,t[n]))}if(t&&"object"==o(t)&&!Array.isArray(t)){var i=this;for(var a in n=n||[],Array.isArray(n)||(n=n.split(i.delimiter)),t)t.hasOwnProperty(a)&&r(a,n.slice(0))}}}("object"==o(e)?e:window)},function(t,e,n){var o;
/*!
	query-string
	Parse and stringify URL query strings
	https://github.com/sindresorhus/query-string
	by Sindre Sorhus
	MIT License
*/!function(){"use strict";var r={parse:function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#)/,""))?t.trim().split("&").reduce((function(t,e){var n=e.replace(/\+/g," ").split("="),o=n[0],r=n[1];return o=decodeURIComponent(o),r=void 0===r?null:decodeURIComponent(r),t.hasOwnProperty(o)?Array.isArray(t[o])?t[o].push(r):t[o]=[t[o],r]:t[o]=r,t}),{}):{}},stringify:function(t){return t?Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)})).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)})).join("&"):""}};void 0===(o=function(){return r}.call(e,n,e,t))||(t.exports=o)}()},function(t,e,n){var o={"./assets/selection/routes/sb-asset-lookup/AssetLookup.route":172,"./assets/selection/routes/sb-asset-lookup/AssetLookup.route.js":172,"./assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route":173,"./assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route.js":173,"./contracts/selection/routes/sb-contract-lookup/ContractLookup.route":169,"./contracts/selection/routes/sb-contract-lookup/ContractLookup.route.js":169,"./docgen/sb-docgen-preview/DocgenPreview.route":174,"./docgen/sb-docgen-preview/DocgenPreview.route.js":174,"./favorites/sb-favorite-lookup/FavoriteLookup.route":167,"./favorites/sb-favorite-lookup/FavoriteLookup.route.js":167,"./products/config/routes/sb-dynamic-lookup/DynamicLookup.route":175,"./products/config/routes/sb-dynamic-lookup/DynamicLookup.route.js":175,"./products/config/routes/sb-option-lookup/OptionLookup.route":176,"./products/config/routes/sb-option-lookup/OptionLookup.route.js":176,"./products/config/routes/sb-product-config/ProductConfig.route":166,"./products/config/routes/sb-product-config/ProductConfig.route.js":166,"./products/selection/routes/sb-product-lookup/ProductLookup.route":170,"./products/selection/routes/sb-product-lookup/ProductLookup.route.js":170,"./quotes/pages/sb-line-editor/LineEditor.route":165,"./quotes/pages/sb-line-editor/LineEditor.route.js":165,"./recommendations/sb-recommendation-lookup/RecommendationLookup.route":177,"./recommendations/sb-recommendation-lookup/RecommendationLookup.route.js":177,"./subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route":178,"./subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route.js":178};function r(t){return i(t).then(n)}function i(t){return Promise.resolve().then((function(){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}))}r.keys=function(){return Object.keys(o)},r.resolve=i,r.id=189,t.exports=r},function(t,e,n){(function(n){var o,r,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(){return function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var l=!1;if(!s&&l)return(void 0)(a,!0);if(i)return i(a,!0);throw(l=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",l}l=n[a]={exports:{}},e[a][0].call(l.exports,(function(t){return r(e[a][1][t]||t)}),l,l.exports,t,e,n,o)}return n[a].exports}for(var i=!1,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){"use strict";var o=t("../core");o.browser=t("./client"),t("../api"),e.exports=o},{"../api":8,"../core":20,"./client":15}],2:[function(t,e,n){"use strict";e.exports="1.10.0"},{}],3:[function(t,e,n){"use strict";e.exports={inherits:t("inherits"),util:t("util"),events:t("events"),"lodash/core":t("lodash/core"),"readable-stream":t("readable-stream"),multistream:t("multistream"),"./VERSION":t("./VERSION"),"./cache":t("./cache"),"./connection":t("./connection"),"./core":t("./core"),"./csv":t("./csv"),"./date":t("./date"),"./http-api":t("./http-api"),"./logger":t("./logger"),"./oauth2":t("./oauth2"),"./process":t("./process"),"./promise":t("./promise"),"./query":t("./query"),"./quick-action":t("./quick-action"),"./record-stream":t("./record-stream"),"./record":t("./record"),"./soap":t("./soap"),"./sobject":t("./sobject"),"./soql-builder":t("./soql-builder"),"./transport":t("./transport")}},{"./VERSION":2,"./cache":18,"./connection":19,"./core":20,"./csv":21,"./date":22,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./record":31,"./record-stream":30,"./soap":33,"./sobject":34,"./soql-builder":35,"./transport":36,events:48,inherits:85,"lodash/core":89,multistream:90,"readable-stream":108,util:118}],4:[function(t,e,n){"use strict";function o(t,e){this._report=t,this._conn=t._conn,this.id=e}var r=t("lodash/core"),i=t("../core");function a(t,e){this._conn=t,this.id=e}function s(t,e){this._conn=t,this.id=e}function l(t){this._conn=t}t("../promise"),o.prototype.retrieve=function(t){var e=this._conn,n=this._report;return n=[e._baseUrl(),"analytics","reports",n.id,"instances",this.id].join("/"),e.request(n).thenCall(t)},a.prototype.describe=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id,"describe"].join("/");return this._conn.request(e).thenCall(t)},a.prototype.delete=a.prototype.del=a.prototype.destroy=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return this._conn.request({method:"DELETE",url:e}).thenCall(t)},a.prototype.clone=function(t,e){var n=[this._conn._baseUrl(),"analytics","reports"].join("/");return t={reportMetadata:{name:t}},t={method:"POST",url:n+="?cloneId="+this.id,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},this._conn.request(t).thenCall(e)},a.prototype.explain=function(t){var e="/query/?explain="+this.id;return this._conn.request(e).thenCall(t)},a.prototype.run=a.prototype.exec=a.prototype.execute=function(t,e){t=t||{},r.isFunction(t)&&(e=t,t={});var n=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return n+="?includeDetails="+(t.details?"true":"false"),n={method:t.metadata?"POST":"GET",url:n},t.metadata&&(n.headers={"Content-Type":"application/json"},n.body=JSON.stringify(t.metadata)),this._conn.request(n).thenCall(e)},a.prototype.executeAsync=function(t,e){t=t||{},r.isFunction(t)&&(e=t,t={});var n=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return t.details&&(n+="?includeDetails=true"),n={method:"POST",url:n,body:""},t.metadata&&(n.headers={"Content-Type":"application/json"},n.body=JSON.stringify(t.metadata)),this._conn.request(n).thenCall(e)},a.prototype.instance=function(t){return new o(this,t)},a.prototype.instances=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return this._conn.request(e).thenCall(t)},s.prototype.describe=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards",this.id,"describe"].join("/");return this._conn.request(e).thenCall(t)},s.prototype.components=function(t,e){var n=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),o={};return r.isFunction(t)?e=t:r.isArray(t)?o.componentIds=t:r.isString(t)&&(o.componentIds=[t]),o={method:"POST",url:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},this._conn.request(o).thenCall(e)},s.prototype.status=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards",this.id,"status"].join("/");return this._conn.request(e).thenCall(t)},s.prototype.refresh=function(t){var e={method:"PUT",url:[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),body:""};return this._conn.request(e).thenCall(t)},s.prototype.clone=function(t,e,n){var o=[this._conn._baseUrl(),"analytics","dashboards"].join("/");o+="?cloneId="+this.id;var i={};return r.isObject(t)?(i=t,n=e):(i.name=t,i.folderId=e),i={method:"POST",url:o,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},this._conn.request(i).thenCall(n)},s.prototype.delete=s.prototype.del=s.prototype.destroy=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/");return this._conn.request({method:"DELETE",url:e}).thenCall(t)},l.prototype.report=function(t){return new a(this._conn,t)},l.prototype.reports=function(t){var e=[this._conn._baseUrl(),"analytics","reports"].join("/");return this._conn.request(e).thenCall(t)},l.prototype.dashboard=function(t){return new s(this._conn,t)},l.prototype.dashboards=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards"].join("/");return this._conn.request(e).thenCall(t)},i.on("connection:new",(function(t){t.analytics=new l(t)})),e.exports=l},{"../core":20,"../promise":27,"lodash/core":89}],5:[function(t,e,n){"use strict";function o(t){this._conn=t}t=t("../core"),o.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},o.prototype._createRequestParams=function(t,e,n,o){var r={method:t,url:this._baseUrl()+e};return e={},o&&"object"==s(o.headers)&&(e=o.headers),/^(GET|DELETE)$/i.test(t)||(e["Content-Type"]="application/json"),r.headers=e,n&&(e=r.headers["Content-Type"],r.body=e&&"application/json"!==e?n:JSON.stringify(n)),r},o.prototype.get=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),this._conn.request(this._createRequestParams("GET",t,void 0,e)).thenCall(n)},o.prototype.post=function(t,e,n,o){return"function"==typeof e&&(o=e,n=e=void 0),"function"==typeof n&&(o=n,n=void 0),n=this._createRequestParams("POST",t,e,n),this._conn.request(n).thenCall(o)},o.prototype.put=function(t,e,n,o){return"function"==typeof e&&(o=e,n=e=void 0),"function"==typeof n&&(o=n,n=void 0),n=this._createRequestParams("PUT",t,e,n),this._conn.request(n).thenCall(o)},o.prototype.patch=function(t,e,n,o){return"function"==typeof e&&(o=e,n=e=void 0),"function"==typeof n&&(o=n,n=void 0),n=this._createRequestParams("PATCH",t,e,n),this._conn.request(n).thenCall(o)},o.prototype.del=o.prototype.delete=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),this._conn.request(this._createRequestParams("DELETE",t,void 0,e)).thenCall(n)},t.on("connection:new",(function(t){t.apex=new o(t)})),e.exports=o},{"../core":20}],6:[function(t,e,n){(function(n){"use strict";function o(t,e,n,o,r){this._bulk=t,this.type=e,this.operation=n,this.options=o||{},this.id=r,this.state=this.id?"Open":"Unknown",this._batches={}}var r=t("inherits"),i=t("readable-stream"),a=i.Duplex,s=t("events"),l=t("lodash/core"),c=t("multistream"),u=t("../core"),d=t("../record-stream"),p=t("../promise"),h=t("../http-api");r(o,s.EventEmitter),o.prototype.info=function(t){return this._jobInfo||(this._jobInfo=this.check()),this._jobInfo.thenCall(t)},o.prototype.open=function(t){var e,n=this,o=this._bulk;return o._logger,this._jobInfo||("harddelete"===(e=this.operation.toLowerCase())&&(e="hardDelete"),e=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo  xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<operation>"+e+"</operation>","<object>"+this.type+"</object>",this.options.extIdField?"<externalIdFieldName>"+this.options.extIdField+"</externalIdFieldName>":"",this.options.concurrencyMode?"<concurrencyMode>"+this.options.concurrencyMode+"</concurrencyMode>":"",this.options.assignmentRuleId?"<assignmentRuleId>"+this.options.assignmentRuleId+"</assignmentRuleId>":"","<contentType>CSV</contentType>","</jobInfo>"].join(""),this._jobInfo=o._request({method:"POST",path:"/job",body:e,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"}).then((function(t){return n.emit("open",t.jobInfo),n.id=t.jobInfo.id,n.state=t.jobInfo.state,t.jobInfo}),(function(t){throw n.emit("error",t),t}))),this._jobInfo.thenCall(t)},o.prototype.createBatch=function(){var t=new f(this),e=this;return t.on("queue",(function(){e._batches[t.id]=t})),t},o.prototype.batch=function(t){var e=this._batches[t];return e||(e=new f(this,t),this._batches[t]=e),e},o.prototype.check=function(t){var e=this,n=this._bulk,o=n._logger;return this._jobInfo=this._waitAssign().then((function(){return n._request({method:"GET",path:"/job/"+e.id,responseType:"application/xml"})})).then((function(t){return o.debug(t.jobInfo),e.id=t.jobInfo.id,e.type=t.jobInfo.object,e.operation=t.jobInfo.operation,e.state=t.jobInfo.state,t.jobInfo})),this._jobInfo.thenCall(t)},o.prototype._waitAssign=function(t){return(this.id?p.resolve({id:this.id}):this.open()).thenCall(t)},o.prototype.list=function(t){var e=this,n=this._bulk,o=n._logger;return this._waitAssign().then((function(){return n._request({method:"GET",path:"/job/"+e.id+"/batch",responseType:"application/xml"})})).then((function(t){return o.debug(t.batchInfoList.batchInfo),t=t.batchInfoList,l.isArray(t.batchInfo)?t.batchInfo:[t.batchInfo]})).thenCall(t)},o.prototype.close=function(){var t=this;return this._changeState("Closed").then((function(e){return t.id=null,t.emit("close",e),e}),(function(e){throw t.emit("error",e),e}))},o.prototype.abort=function(){var t=this;return this._changeState("Aborted").then((function(e){return t.id=null,t.emit("abort",e),e}),(function(e){throw t.emit("error",e),e}))},o.prototype._changeState=function(t,e){var n=this,o=this._bulk,r=o._logger;return this._jobInfo=this._waitAssign().then((function(){var e=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<state>"+t+"</state>","</jobInfo>"].join("");return o._request({method:"POST",path:"/job/"+n.id,body:e,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"})})).then((function(t){return r.debug(t.jobInfo),n.state=t.jobInfo.state,t.jobInfo})),this._jobInfo.thenCall(e)};var f=function t(e,n){t.super_.call(this,{objectMode:!0}),this.job=e,this.id=n,this._bulk=e._bulk,this._deferred=p.defer(),this._setupDataStreams()};r(f,i.Writable),f.prototype._setupDataStreams=function(){var t=this,e={nullValue:"#N/A"};this._uploadStream=new d.Serializable,this._uploadDataStream=this._uploadStream.stream("csv",e),this._downloadStream=new d.Parsable,this._downloadDataStream=this._downloadStream.stream("csv",e),this.on("finish",(function(){t._uploadStream.end()})),this._uploadDataStream.once("readable",(function(){t.job.open().then((function(){t._uploadDataStream.pipe(t._createRequestStream())}))}));var n=this._dataStream=new a;n._write=function(e,n,o){t._uploadDataStream.write(e,n,o)},n.on("finish",(function(){t._uploadDataStream.end()})),this._downloadDataStream.on("readable",(function(){n.read(0)})),this._downloadDataStream.on("end",(function(){n.push(null)})),n._read=function(e){for(var o;null!==(o=t._downloadDataStream.read());)n.push(o)}},f.prototype._createRequestStream=function(){var t=this,e=t._bulk,n=e._logger;return e._request({method:"POST",path:"/job/"+t.job.id+"/batch",headers:{"Content-Type":"text/csv"},responseType:"application/xml"},(function(e,o){e?t.emit("error",e):(n.debug(o.batchInfo),t.id=o.batchInfo.id,t.emit("queue",o.batchInfo))})).stream()},f.prototype._write=function(t,e,n){t=l.clone(t),"insert"===this.job.operation?delete t.Id:"delete"===this.job.operation&&(t={Id:t.Id}),delete t.type,delete t.attributes,this._uploadStream.write(t,e,n)},f.prototype.stream=function(){return this._dataStream},f.prototype.run=f.prototype.exec=f.prototype.execute=function(t,e){var n=this;if("function"==typeof t&&(e=t,t=null),this._result)throw new Error("Batch already executed.");var o=p.defer();return this._result=o.promise,this._result.then((function(t){n._deferred.resolve(t)}),(function(t){n._deferred.reject(t)})),this.once("response",(function(t){o.resolve(t)})),this.once("error",(function(t){o.reject(t)})),l.isObject(t)&&l.isFunction(t.pipe)?t.pipe(this._dataStream):l.isArray(t)?(l.forEach(t,(function(t){Object.keys(t).forEach((function(e){"boolean"==typeof t[e]&&(t[e]=String(t[e]))})),n.write(t)})),n.end()):l.isString(t)&&(this._dataStream.write(t,"utf8"),this._dataStream.end()),this.thenCall(e)},f.prototype.then=function(t,e,n){return this._deferred.promise.then(t,e,n)},f.prototype.thenCall=function(t){return l.isFunction(t)&&this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})),this},f.prototype.check=function(t){var e=this._bulk,n=e._logger,o=this.job.id,r=this.id;if(!o||!r)throw new Error("Batch not started.");return e._request({method:"GET",path:"/job/"+o+"/batch/"+r,responseType:"application/xml"}).then((function(t){return n.debug(t.batchInfo),t.batchInfo})).thenCall(t)},f.prototype.poll=function(t,e){var n=this,o=this.job.id,r=this.id;if(!o||!r)throw new Error("Batch not started.");var i=(new Date).getTime();setTimeout((function a(){var s=(new Date).getTime();if(i+e<s)return(s=new Error("Polling time out. Job Id = "+o+" , batch Id = "+r)).name="PollingTimeout",s.jobId=o,s.batchId=r,void n.emit("error",s);n.check((function(e,o){e?n.emit("error",e):"Failed"===o.state?0<parseInt(o.numberRecordsProcessed,10)?n.retrieve():n.emit("error",new Error(o.stateMessage)):"Completed"===o.state?n.retrieve():(n.emit("progress",o),setTimeout(a,t))}))}),t)},f.prototype.retrieve=function(t){var e=this,n=this._bulk,o=this.job.id,r=this.job,i=this.id;if(!o||!i)throw new Error("Batch not started.");return r.info().then((function(t){return n._request({method:"GET",path:"/job/"+o+"/batch/"+i+"/result"})})).then((function(t){var a;return a="query"===r.operation?(n._conn,t["result-list"].result,a=t["result-list"].result,l.map(l.isArray(a)?a:[a],(function(t){return{id:t,batchId:i,jobId:o}}))):l.map(t,(function(t){return{id:t.Id||null,success:"true"===t.Success,errors:t.Error?[t.Error]:[]}})),e.emit("response",a),a})).fail((function(t){throw e.emit("error",t),t})).thenCall(t)},f.prototype.result=function(t){var e=this.job.id,n=this.id;if(!e||!n)throw new Error("Batch not started.");var o=new d.Parsable,r=o.stream("csv");return this._bulk._request({method:"GET",path:"/job/"+e+"/batch/"+n+"/result/"+t,responseType:"application/octet-stream"}).stream().pipe(r),o};var b=function t(){t.super_.apply(this,arguments)};function y(t){this._conn=t,this._logger=t._logger}r(b,h),b.prototype.beforeSend=function(t){t.headers=t.headers||{},t.headers["X-SFDC-SESSION"]=this._conn.accessToken},b.prototype.isSessionExpired=function(t){return 400===t.statusCode&&/<exceptionCode>InvalidSessionId<\/exceptionCode>/.test(t.body)},b.prototype.hasErrorInResponseBody=function(t){return!!t.error},b.prototype.parseError=function(t){return{errorCode:t.error.exceptionCode,message:t.error.exceptionMessage}},y.prototype.pollInterval=1e3,y.prototype.pollTimeout=1e4,y.prototype._request=function(t,e){var n=this._conn;return t=l.clone(t),n=[n.instanceUrl,"services/async",n.version].join("/"),t.url=n+t.path,n={responseType:t.responseType},delete t.path,delete t.responseType,new b(this._conn,n).request(t).thenCall(e)},y.prototype.load=function(t,e,n,o,r){var i=this;if(!t||!e)throw new Error("Insufficient arguments. At least, 'type' and 'operation' are required.");l.isObject(n)&&n.constructor===Object||(r=o,o=n,n=null);var a=this.createJob(t,e,n);function s(){c=null,a.close()}a.once("error",(function(t){c&&c.emit("error",t)}));var c=a.createBatch();return c.on("response",s),c.on("error",(function(t){"PollingTimeout"!==t.name&&s()})),c.on("queue",(function(){c.poll(i.pollInterval,i.pollTimeout)})),c.execute(o,r)},y.prototype.query=function(t){if(!(e=t.replace(/\([\s\S]+\)/g,"").match(/FROM\s+(\w+)/i)))throw new Error("No sobject type found in query, maybe caused by invalid SOQL.");var e=e[1],n=this,o=new d.Parsable,r=o.stream("csv");return this.load(e,"query",t).then((function(t){t=t.map((function(t){return n.job(t.jobId).batch(t.batchId).result(t.id).stream()})),c(t).pipe(r)})).fail((function(t){o.emit("error",t)})),o},y.prototype.createJob=function(t,e,n){return new o(this,t,e,n)},y.prototype.job=function(t){return new o(this,null,null,null,t)},u.on("connection:new",(function(t){t.bulk=new y(t)})),e.exports=y}).call(this,t("_process"))},{"../core":20,"../http-api":23,"../promise":27,"../record-stream":30,_process:92,events:48,inherits:85,"lodash/core":89,multistream:90,"readable-stream":108}],7:[function(t,e,n){"use strict";var o=t("inherits"),r=t("lodash/core"),i=t("../core"),a=t("../promise"),s=e.exports=function(t){this._conn=t};s.prototype._request=function(t,e){return/^(put|post|patch)$/i.test(t.method)&&r.isObject(t.body)&&(t.headers={"Content-Type":"application/json"},t.body=JSON.stringify(t.body)),t.url=this._normalizeUrl(t.url),this._conn.request(t,e)},s.prototype._normalizeUrl=function(t){return 0===t.indexOf("/chatter/")||0===t.indexOf("/connect/")?"/services/data/v"+this._conn.version+t:/^\/v[\d]+\.[\d]+\//.test(t)?"/services/data"+t:0!==t.indexOf("/services/")&&"/"===t[0]?"/services/data/v"+this._conn.version+"/chatter"+t:t},s.prototype.request=function(t,e){return new l(this,t).thenCall(e)},s.prototype.resource=function(t,e){return new c(this,t,e)},s.prototype.batch=function(t,e){var n=[],o=[];return r.forEach(t,(function(t){var e=a.defer();t._promise=e.promise,n.push(t.batchParams()),o.push(e)})),t={method:"POST",url:this._normalizeUrl("/connect/batch"),body:{batchRequests:n}},this.request(t).then((function(t){return r.forEach(t.results,(function(t,e){e=o[e],400<=t.statusCode?e.reject(t.result):e.resolve(t.result)})),t})).thenCall(e)};var l=function(t,e){this._chatter=t,this._params=e,this._promise=null};l.prototype.batchParams=function(){var t={method:(t=this._params).method,url:this._chatter._normalizeUrl(t.url)};return this._params.body&&(t.richInput=this._params.body),t},l.prototype.promise=function(){return this._promise||this._chatter._request(this._params)},l.prototype.stream=function(){return this._chatter._request(this._params).stream()},l.prototype.then=function(t,e){return this.promise().then(t,e)},l.prototype.thenCall=function(t){return r.isFunction(t)?this.promise().thenCall(t):this};var c=function t(e,n,o){var i;o&&(i=r.map(r.keys(o),(function(t){return t+"="+encodeURIComponent(o[t])})).join("&"),n+=(0<n.indexOf("?")?"&":"?")+i),t.super_.call(this,e,{method:"GET",url:n}),this._url=n};o(c,l),c.prototype.create=function(t,e){return this._chatter.request({method:"POST",url:this._url,body:t}).thenCall(e)},c.prototype.retrieve=function(t){return this.thenCall(t)},c.prototype.update=function(t,e){return this._chatter.request({method:"PATCH",url:this._url,body:t}).thenCall(e)},c.prototype.del=c.prototype.delete=function(t){return this._chatter.request({method:"DELETE",url:this._url}).thenCall(t)},i.on("connection:new",(function(t){t.chatter=new s(t)}))},{"../core":20,"../promise":27,inherits:85,"lodash/core":89}],8:[function(t,e,n){t("./analytics"),t("./apex"),t("./bulk"),t("./chatter"),t("./metadata"),t("./soap"),t("./streaming"),t("./tooling")},{"./analytics":4,"./apex":5,"./bulk":6,"./chatter":7,"./metadata":9,"./soap":10,"./streaming":12,"./tooling":13}],9:[function(t,e,n){(function(n,o){"use strict";var r=t("inherits"),i=t("events"),a=t("readable-stream"),s=t("lodash/core"),l=t("../core"),c=t("../promise"),u=t("../soap"),d=e.exports=function(t){this._conn=t};function p(t){return(t=s.clone(t)).success="true"===t.success,t}function h(t){return(t=p(t)).created="true"===t.created,t}function f(t){return delete(t=s.clone(t)).$,t}d.prototype.pollInterval=1e3,d.prototype.pollTimeout=1e4,d.prototype._invoke=function(t,e,n){return new u(this._conn,{xmlns:"http://soap.sforce.com/2006/04/metadata",endpointUrl:this._conn.instanceUrl+"/services/Soap/m/"+this._conn.version}).invoke(t,e).then((function(t){return t.result})).thenCall(n)},d.prototype.createAsync=function(t,e,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function o(e){return e["@xsi:type"]=t,e}var r=s.isArray(e);return e=r?s.map(e,o):o(e),e=this._invoke("create",{metadata:e}),new b(this,e,r).thenCall(n)},d.prototype.createSync=d.prototype.create=function(t,e,n){function o(e){return e["@xsi:type"]=t,e}return e=s.isArray(e)?s.map(e,o):o(e),this._invoke("createMetadata",{metadata:e}).then((function(t){return s.isArray(t)?s.map(t,p):p(t)})).thenCall(n)},d.prototype.readSync=d.prototype.read=function(t,e,n){return this._invoke("readMetadata",{type:t,fullNames:e}).then((function(t){return s.isArray(t.records)?s.map(t.records,f):f(t.records)})).thenCall(n)},d.prototype.updateAsync=function(t,e,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function o(e){return e.metadata["@xsi:type"]=t,e}var r=s.isArray(e);return e=r?s.map(e,o):o(e),e=this._invoke("update",{updateMetadata:e}),new b(this,e,r).thenCall(n)},d.prototype.updateSync=d.prototype.update=function(t,e,n){function o(e){return e["@xsi:type"]=t,e}return e=s.isArray(e)?s.map(e,o):o(e),this._invoke("updateMetadata",{metadata:e}).then((function(t){return s.isArray(t)?s.map(t,p):p(t)})).thenCall(n)},d.prototype.upsertSync=d.prototype.upsert=function(t,e,n){function o(e){return e["@xsi:type"]=t,e}return e=s.isArray(e)?s.map(e,o):o(e),this._invoke("upsertMetadata",{metadata:e}).then((function(t){return s.isArray(t)?s.map(t,h):h(t)})).thenCall(n)},d.prototype.deleteAsync=function(t,e,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function o(e){return s.isString(e)&&(e={fullName:e}),e["@xsi:type"]=t,e}var r=s.isArray(e);return e=r?s.map(e,o):o(e),e=this._invoke("delete",{metadata:e}),new b(this,e,r).thenCall(n)},d.prototype.del=d.prototype.deleteSync=d.prototype.delete=function(t,e,n){return this._invoke("deleteMetadata",{type:t,fullNames:e}).then((function(t){return s.isArray(t)?s.map(t,p):p(t)})).thenCall(n)},d.prototype.rename=function(t,e,n,o){return this._invoke("renameMetadata",{type:t,oldFullName:e,newFullName:n}).then(p).thenCall(o)},d.prototype.checkStatus=function(t,e){var n=s.isArray(t);return t=this._invoke("checkStatus",{asyncProcessId:t}),new b(this,t,n).thenCall(e)},d.prototype.describe=function(t,e){return s.isString(t)||(e=t,t=this._conn.version),this._invoke("describeMetadata",{asOfVersion:t}).then((function(t){return t.metadataObjects=s.isArray(t.metadataObjects)?t.metadataObjects:[t.metadataObjects],t.metadataObjects=s.map(t.metadataObjects,(function(t){return t.childXmlNames&&(t.childXmlNames=s.isArray(t.childXmlNames)?t.childXmlNames:[t.childXmlNames]),t.inFolder="true"===t.inFolder,t.metaFile="true"===t.metaFile,t})),t.partialSaveAllowed="true"===t.partialSaveAllowed,t.testRequired="true"===t.testRequired,t})).thenCall(e)},d.prototype.list=function(t,e,n){return s.isString(e)||(n=e,e=this._conn.version),s.isArray(t)||(t=[t]),this._invoke("listMetadata",{queries:t,asOfVersion:e},n)},d.prototype.retrieve=function(t,e){return t=this._invoke("retrieve",{request:t}),new y(this,t).thenCall(e)},d.prototype.checkRetrieveStatus=function(t,e){return this._invoke("checkRetrieveStatus",{asyncProcessId:t},e)},d.prototype.deploy=function(t,e,n){e&&!s.isFunction(e)||(n=e,e={});var r=c.defer();if(s.isObject(t)&&s.isFunction(t.pipe)){var i=[];t.on("data",(function(t){i.push(t)})),t.on("end",(function(){r.resolve(o.concat(i).toString("base64"))}))}else if(t instanceof o)r.resolve(t.toString("base64"));else{if(!(t instanceof String||"string"==typeof t))throw"Unexpected zipInput type";r.resolve(t)}var a=this;return t=r.promise.then((function(t){return a._invoke("deploy",{ZipFile:t,DeployOptions:e},n)})),new g(this,t).thenCall(n)},d.prototype.checkDeployStatus=function(t,e,n){return e=s.isObject(e)||s.isBoolean(e)?!!e:(n=e,!1),this._invoke("checkDeployStatus",{asyncProcessId:t,includeDetails:e}).then((function(t){return t.done="true"===t.done,t.success="true"===t.success,t.checkOnly="true"===t.checkOnly,t.runTestsEnabled="true"===t.runTestsEnabled,t.ignoreWarnings&&(t.ignoreWarnings="true"===t.ignoreWarnings),t.rollbackOnError&&(t.rollbackOnError="true"===t.rollbackOnError),t.numberComponentErrors=Number(t.numberComponentErrors),t.numberComponentsDeployed=Number(t.numberComponentsDeployed),t.numberComponentsTotal=Number(t.numberComponentsTotal),t.numberTestErrors=Number(t.numberTestErrors),t.numberTestsCompleted=Number(t.numberTestsCompleted),t.numberTestsTotal=Number(t.numberTestsTotal),t})).thenCall(n)};var b=function(t,e,n){this._meta=t,this._results=e,this._isArray=n};r(b,i.EventEmitter),b.prototype.then=function(t,e){var n=this;return this._results.then((function(e){function o(t){return t.$&&"true"===t.$["xsi:nil"]?null:(t.done="true"===t.done,t)}return e=s.isArray(e)?s.map(e,o):o(e),n._isArray&&!s.isArray(e)&&(e=[e]),t(e)}),e)},b.prototype.thenCall=function(t){return s.isFunction(t)?this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})):this},b.prototype.check=function(t){var e=this,n=this._meta;return this.then((function(t){return t=s.isArray(t)?s.map(t,(function(t){return t.id})):t.id,e._ids=t,n.checkStatus(t)})).thenCall(t)},b.prototype.poll=function(t,e){var n=this,o=(new Date).getTime();setTimeout((function r(){var i=(new Date).getTime();if(o+e<i)return i="Polling time out.",n._ids&&(i+=" Process Id = "+n._ids),void n.emit("error",new Error(i));n.check().then((function(e){for(var o=!0,i=s.isArray(e)?e:[e],a=0,l=i.length;a<l;a++){var c=i[a];c&&!c.done&&(n.emit("progress",c),o=!1)}o?n.emit("complete",e):setTimeout(r,t)}),(function(t){n.emit("error",t)}))}),t)},b.prototype.complete=function(t){var e=c.defer();this.on("complete",(function(t){e.resolve(t)})),this.on("error",(function(t){e.reject(t)}));var n=this._meta;return this.poll(n.pollInterval,n.pollTimeout),e.promise.thenCall(t)};var y=function t(e,n){t.super_.call(this,e,n)};r(y,b),y.prototype.complete=function(t){var e=this._meta;return y.super_.prototype.complete.call(this).then((function(t){return e.checkRetrieveStatus(t.id)})).thenCall(t)},y.prototype.stream=function(){var t=this,e=new a.Readable,n=!1;return e._read=function(){n||(n=!0,t.complete((function(t,n){t?e.emit("error",t):(e.push(o.from(n.zipFile,"base64")),e.push(null))})))},e};var g=function t(e,n){t.super_.call(this,e,n)};r(g,b),g.prototype.complete=function(t,e){s.isFunction(t)&&(e=t,t=!1);var n=this._meta;return g.super_.prototype.complete.call(this).then((function(e){return n.checkDeployStatus(e.id,t)})).thenCall(e)},l.on("connection:new",(function(t){t.metadata=new d(t)}))}).call(this,t("_process"),t("buffer").Buffer)},{"../core":20,"../promise":27,"../soap":33,_process:92,buffer:41,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],10:[function(t,e,n){"use strict";var o=t("lodash/core"),r=t("../core"),i=t("../soap"),a=e.exports=function(t){this._conn=t};a.prototype._invoke=function(t,e,n,o){return new i(this._conn,{xmlns:"urn:partner.soap.sforce.com",endpointUrl:this._conn.instanceUrl+"/services/Soap/u/"+this._conn.version}).invoke(t,e,{result:n}).then((function(t){return t.result})).thenCall(o)};var s={};a.prototype.convertLead=function(t,e){var n=o.isArray(t)?[s.LeadConvertResult]:s.LeadConvertResult;return this._invoke("convertLead",{leadConverts:t},n,e)},s.LeadConvertResult={success:"boolean",errors:[],leadId:"string",accountId:"string",contactId:"string",opportunityId:"string"},a.prototype.merge=function(t,e){var n=o.isArray(t)?[s.MergeResult]:s.MergeResult;return this._invoke("merge",{mergeRequests:t},n,e)},s.MergeResult={success:"boolean",errors:[],id:"string",mergedRecordIds:["string"],updatedRelatedIds:["string"]},a.prototype.emptyRecycleBin=function(t,e){return this._invoke("emptyRecycleBin",{ids:t},[s.EmptyRecycleBinResult],e)},s.EmptyRecycleBinResult={id:"string",success:"boolean",errors:[]},a.prototype.describeTabs=function(t){return this._invoke("describeTabs",{},[s.DescribeTabSetResult],t)},s.DescribeTabSetResult={label:"string",logoUrl:"string",namespace:"string",selected:"boolean",tabs:[{colors:[{theme:"string",color:"string",context:"string"}],iconUrl:"string",icons:[{theme:"string",height:"number",width:"number",url:"string",contentType:"string"}],label:"string",custom:"boolean",miniIconUrl:"string",name:"string",sobjectName:"string",url:"string"}]},a.prototype.getServerTimestamp=function(t){return this._invoke("getServerTimestamp",{},s.GetServerTimestampResult,t)},s.GetServerTimestampResult={timestamp:"string"},a.prototype.getUserInfo=function(t){return this._invoke("getUserInfo",{},s.GetUserInfoResult,t)},s.GetUserInfoResult={accessibilityMode:"boolean",currencySymbol:"string",orgAttachmentFileSizeLimit:"number",orgDefaultCurrencyIsoCode:"string",orgDisallowHtmlAttachments:"boolean",orgHasPersonAccounts:"boolean",organizationId:"string",organizationMultiCurrency:"boolean",organizationName:"string",profileId:"string",roleId:"string",sessionSecondsValid:"number",userDefaultCurrencyIsoCode:"string",userEmail:"string",userFullName:"string",userId:"string",userLanguage:"string",userLocale:"string",userName:"string",userTimeZone:"string",userType:"string",userUiSkin:"string"},a.prototype.setPassword=function(t,e,n){return this._invoke("setPassword",{userId:t,password:e},n)},a.prototype.resetPassword=function(t,e){return this._invoke("resetPassword",{userId:t},e)},a.prototype.create=function(t,e){var n=o.isArray(t)?[s.SaveResult]:s.SaveResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":t},this._invoke("create",t,n,e)},a.prototype.update=function(t,e){var n=o.isArray(t)?[s.SaveResult]:s.SaveResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":t},this._invoke("update",t,n,e)},s.SaveResult={success:"boolean",errors:[],id:"string"},a.prototype.upsert=function(t,e,n){var r=o.isArray(e)?[s.UpsertResult]:s.UpsertResult;return e={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:externalIDFieldName":t,"ns1:sObjects":e},this._invoke("upsert",e,r,n)},s.UpsertResult={created:"boolean",success:"boolean",errors:[],id:"string"},a.prototype.delete=function(t,e){var n=o.isArray(t)?[s.DeleteResult]:s.DeleteResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:ids":t},this._invoke("delete",t,n,e)},s.DeleteResult={success:"boolean",errors:[],id:"string"},r.on("connection:new",(function(t){t.soap=new a(t)})),e.exports=a},{"../core":20,"../soap":33,"lodash/core":89}],11:[function(t,e,n){var o={AuthFailure:function(t){this.incoming=function(e,n){("/meta/connect"!==e.channel&&"/meta/handshake"!==e.channel||!e.advice||"none"!=e.advice.reconnect?n:t)(e)}},Replay:function(t,e){var n=null!=e,o=e,r=t;this.setExtensionEnabled=function(t){n=t},this.setReplay=function(t){o=parseInt(t,10)},this.setChannel=function(t){r=t},this.incoming=function(t,e){"/meta/handshake"===t.channel?t.ext&&1==t.ext.replay&&(n=!0):t.channel===r&&t.data&&t.data.event&&t.data.event.replayId&&(o=t.data.event.replayId),e(t)},this.outgoing=function(t,e){var i;"/meta/subscribe"===t.channel&&t.subscription===r&&n&&(t.ext||(t.ext={}),(i={})[r]=o,t.ext.replay=i),e(t)}}};e.exports=o},{}],12:[function(t,e,n){"use strict";function o(t,e){this._streaming=t,this.name=e}var r=t("events"),i=t("inherits"),a=t("lodash/core"),s=t("faye"),l=t("./streaming-extension");function c(t,e){this._streaming=t,this._name=e}function u(t){this._conn=t}t=t("../core"),o.prototype.subscribe=function(t){return this._streaming.subscribe(this.name,t)},o.prototype.unsubscribe=function(t){return this._streaming.unsubscribe(this.name,t),this},c.prototype.subscribe=function(t){return this._streaming.subscribe(this._name,t)},c.prototype.unsubscribe=function(t){return this._streaming.unsubscribe(this._name,t),this},c.prototype.push=function(t,e){var n=a.isArray(t);t=n?t:[t];var o=this._streaming._conn;return this._id||(this._id=o.sobject("StreamingChannel").findOne({Name:this._name},"Id").then((function(t){return t.Id}))),this._id.then((function(e){return e="/sobjects/StreamingChannel/"+e+"/push",o.requestPost(e,{pushEvents:t})})).then((function(t){return n?t:t[0]})).thenCall(e)},i(u,r.EventEmitter),u.prototype._createClient=function(t,e){t="string"==typeof t&&0===t.indexOf("/u/"),t=[this._conn.instanceUrl,"cometd"+(1==t&&"36.0"===this._conn.version?"/replay":""),this._conn.version].join("/");var n=new s.Client(t,{});return n.setHeader("Authorization","OAuth "+this._conn.accessToken),e instanceof Array&&e.forEach((function(t){n.addExtension(t)})),-1===n._dispatcher.getConnectionTypes().indexOf("callback-polling")&&(n._dispatcher.selectTransport("long-polling"),n._dispatcher._transport.batching=!1),n},u.prototype._getFayeClient=function(t){var e=0===t.indexOf("/u/")?"generic":"pushTopic";return this._fayeClients&&this._fayeClients[e]||(this._fayeClients=this._fayeClients||{},this._fayeClients[e]=this._createClient(t)),this._fayeClients[e]},u.prototype.topic=function(t){return this._topics=this._topics||{},this._topics[t]=this._topics[t]||new o(this,t)},u.prototype.channel=function(t){return new c(this,t)},u.prototype.subscribe=function(t,e){return t=0===t.indexOf("/")?t:"/topic/"+t,this._getFayeClient(t).subscribe(t,e)},u.prototype.unsubscribe=function(t,e){return t=0===t.indexOf("/")?t:"/topic/"+t,this._getFayeClient(t).unsubscribe(t,e),this},u.prototype.createClient=function(t){return this._createClient(null,t)},t.on("connection:new",(function(t){t.streaming=new u(t)})),t.StreamingExtension=l,e.exports=u},{"../core":20,"./streaming-extension":11,events:48,faye:49,inherits:85,"lodash/core":89}],13:[function(t,e,n){"use strict";function o(t){this._conn=t,this._logger=t._logger,["query","queryMore","_toRecordResult","create","_createSingle","_createParallel","_createMany","insert","retrieve","_retrieveSingle","_retrieveParallel","_retrieveMany","update","_updateSingle","_updateParallel","_updateMany","upsert","del","delete","destroy","_destroySingle","_destroyParallel","_destroyMany","describe","describeGlobal","sobject"].forEach((function(e){this[e]=t.constructor.prototype[e]}),this),this.cache=new a;var e={key:function(t){return t?"describe."+t:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,e),this.describe=this.cache.makeResponseCacheable(this.describe,this,e),this.describeSObject$=this.describe$,this.describeSObject=this.describe,e={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,e),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,e),this.initialize()}var r=t("../core"),i=t("lodash/core"),a=t("../cache");o.prototype.initialize=function(){this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",i.bind((function(t){t.result&&i.map(t.result.sobjects,(function(t){return t.name})).forEach(this.sobject,this)}),this))},o.prototype._baseUrl=function(){return this._conn._baseUrl()+"/tooling"},o.prototype._supports=function(t){return"sobject-collection"!==t&&this._conn._supports.apply(this._conn,arguments)},o.prototype.request=function(){return this._conn.request.apply(this._conn,arguments)},o.prototype.executeAnonymous=function(t,e){return t=this._baseUrl()+"/executeAnonymous?anonymousBody="+encodeURIComponent(t),this.request(t).thenCall(e)},o.prototype.runTestsAsynchronous=function(t,e){var n=this._baseUrl()+"/runTestsAsynchronous/";return this._conn.requestPost(n,{classids:t.join(",")},void 0,e)},o.prototype.runTestsSynchronous=function(t,e){var n=this._baseUrl()+"/runTestsSynchronous/";return this._conn.requestPost(n,{classnames:t.join(",")},void 0,e)},o.prototype.completions=function(t,e){return i.isString(t)||(e=t,t="apex"),t=this._baseUrl()+"/completions?type="+encodeURIComponent(t),this.request(t).thenCall(e)},r.on("connection:new",(function(t){t.tooling=new o(t)})),e.exports=o},{"../cache":18,"../core":20,"lodash/core":89}],14:[function(t,e,n){"use strict";var o=t("readable-stream").Duplex,r=t("lodash/core");e.exports={supported:"object"==("undefined"==typeof Sfdc?"undefined":s(Sfdc))&&void 0!==Sfdc.canvas,createRequest:function(t){return function(e,n){var i,a=new o;a._read=function(t){i&&a.push(i.body)};var s=[],l=!1;function c(o){var s={client:t.client,method:e.method,data:o};if(e.headers)for(var l in s.headers={},e.headers)"content-type"===l.toLowerCase()?s.contentType=e.headers[l]:s.headers[l]=e.headers[l];s.success=function(t){var e,o=(s=t.responseHeaders,e={},s.split(/\n/).forEach((function(t){t=(n=t.split(/\s*:\s*/))[0].toLowerCase();var n=n[1];e[t]=n})),e),s=t.payload;r.isString(s)||(s=JSON.stringify(s)),i={statusCode:t.status,headers:o,body:s},n&&n(null,i,i.body),a.end()},s.failure=function(t){n&&n(t)},Sfdc.canvas.client.ajax(e.url,s)}return a._write=function(t,e,n){s.push(t.toString(e)),n()},a.on("finish",(function(){l||(c(s.join("")),l=!0)})),!e.body&&""!==e.body&&/^(put|post|patch)$/i.test(e.method)||(c(e.body),l=!0),a}}}},{"lodash/core":89,"readable-stream":108}],15:[function(t,e,n){"use strict";var o=t("events"),r=t("inherits"),i=t("querystring"),a=t("lodash/core"),s=t("../connection"),l=t("../oauth2");function c(t){this._prefix=t||"jsforce"+u++,this.connection=null}var u=0;r(c,o.EventEmitter),c.prototype.init=function(t){var e;(function(){var t=function(){var t;if(window.location.hash){if((t=i.parse(window.location.hash.substring(1))).access_token)return{success:!0,body:t}}else if(window.location.search&&(t=i.parse(window.location.search.substring(1))).error)return{success:!1,body:t}}(),e=localStorage.getItem("jsforce_state");if(t&&e&&t.body.state===e){localStorage.removeItem("jsforce_state"),e=(n=e.split("."))[0];var n=n[1];return e=new c(e),t.success?(e._storeTokens(t.body),location.hash=""):e._storeError(t.body),"popup"===n&&window.close(),1}})()||(this.config=t,this.connection=new s(t),(t=this._getTokens())&&(this.connection.initialize(t),e=this,setTimeout((function(){e.emit("connect",e.connection)}),10)))},c.prototype.login=function(t,e){a.isFunction(t)&&(e=t,t={}),t=t||{},e=e||function(){},a.extend(t,this.config),this._prompt(t,e)},c.prototype._prompt=function(t,e){var n=this,o=new l(t),r=Math.random().toString(36).substring(2),i=[this._prefix,"popup",r].join(".");localStorage.setItem("jsforce_state",i);var a,s,c,u,d=o.getAuthorizationUrl({response_type:"token",scope:t.scope,state:i}),p=t.size||{},h=(a=d,s=p.width||912,c=p.height||513,u=screen.width/2-s/2,p=screen.height/2-c/2,window.open(a,null,"location=yes,toolbar=no,status=no,menubar=no,width="+s+",height="+c+",top="+p+",left="+u));if(!h)return i=[this._prefix,"redirect",r].join("."),localStorage.setItem("jsforce_state",i),d=o.getAuthorizationUrl({response_type:"token",scope:t.scope,state:i}),void(location.href=d);n._removeTokens();var f=setInterval((function(){try{var t;h&&!h.closed||(clearInterval(f),(t=n._getTokens())?(n.connection.initialize(t),n.emit("connect",n.connection),e(null,{status:"connect"})):(t=n._getError())?e(new Error(t.error+": "+t.error_description)):e(null,{status:"cancel"}))}catch(t){}}),1e3)},c.prototype.isLoggedIn=function(){return!(!this.connection||!this.connection.accessToken)},c.prototype.logout=function(){this.connection.logout(),this._removeTokens(),this.emit("disconnect")},c.prototype._getTokens=function(){var t,e=new RegExp("(^|;\\s*)"+this._prefix+"_loggedin=true(;|$)");return document.cookie.match(e)&&(e=Number(localStorage.getItem(this._prefix+"_issued_at")),Date.now()<e+72e5)?((e=localStorage.getItem(this._prefix+"_id"))&&(t={id:(t=e.split("/")).pop(),organizationId:t.pop(),url:e}),{accessToken:localStorage.getItem(this._prefix+"_access_token"),instanceUrl:localStorage.getItem(this._prefix+"_instance_url"),userInfo:t}):null},c.prototype._storeTokens=function(t){localStorage.setItem(this._prefix+"_access_token",t.access_token),localStorage.setItem(this._prefix+"_instance_url",t.instance_url),localStorage.setItem(this._prefix+"_issued_at",t.issued_at),localStorage.setItem(this._prefix+"_id",t.id),document.cookie=this._prefix+"_loggedin=true;"},c.prototype._removeTokens=function(){localStorage.removeItem(this._prefix+"_access_token"),localStorage.removeItem(this._prefix+"_instance_url"),localStorage.removeItem(this._prefix+"_issued_at"),localStorage.removeItem(this._prefix+"_id"),document.cookie=this._prefix+"_loggedin="},c.prototype._getError=function(){try{var t=JSON.parse(localStorage.getItem(this._prefix+"_error"));return localStorage.removeItem(this._prefix+"_error"),t}catch(t){}},c.prototype._storeError=function(t){localStorage.setItem(this._prefix+"_error",JSON.stringify(t))},e.exports=new c,e.exports.Client=c},{"../connection":19,"../oauth2":25,events:48,inherits:85,"lodash/core":89,querystring:97}],16:[function(t,e,n){"use strict";var o=0;e.exports={supported:"undefined"!=typeof window&&"undefined"!=typeof document,createRequest:function(t,e){return t=t||"callback",e=e||1e4,function(n,r){if("GET"!==n.method.toUpperCase())return r(new Error("JSONP only supports GET request."));var i="_jsforce_jsonpCallback_"+ ++o,a=window;n=n.url,n+=0<n.indexOf("?")?"&":"?",n+=t+"="+i;var s=document.createElement("script");s.type="text/javascript",s.src=n,document.documentElement.appendChild(s);var l=setTimeout((function(){c(),r(new Error("JSONP call time out."))}),e);a[i]=function(t){c(),r(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(t)})};var c=function(){clearTimeout(l),document.documentElement.removeChild(s),delete a[i]}}}}},{}],17:[function(t,e,n){"use strict";var o=t("readable-stream").Duplex,r=t("lodash/core");e.exports=function(t,e){var n,i=new XMLHttpRequest;if(i.open(t.method,t.url),t.headers)for(var a in t.headers)i.setRequestHeader(a,t.headers[a]);i.setRequestHeader("Accept","*/*");var s=new o;s._read=function(t){n&&s.push(n.body)};var l=[],c=!1;return s._write=function(t,e,n){l.push(t.toString("buffer"===e?"binary":e)),n()},s.on("finish",(function(){c||(i.send(l.join("")),c=!0)})),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(i.send(t.body),c=!0),i.onreadystatechange=function(){var t,o;4===i.readyState&&(t=function(t){return t=(t.getAllResponseHeaders()||"").split(/[\r\n]+/),r.map(t,(function(t){return t.split(/\s*:/)[0].toLowerCase()}))}(i),o={},r.forEach(t,(function(t){t&&(o[t]=i.getResponseHeader(t))})),(n={statusCode:i.status,headers:o,body:i.response}).statusCode||(n.statusCode=400,n.body="Access Declined"),e&&e(null,n,n.body),s.end())},s}},{"lodash/core":89,"readable-stream":108}],18:[function(t,e,n){"use strict";function o(){this.fetching=!1}var r=t("events"),i=t("inherits"),a=t("lodash/core");function s(t,e){return e=Array.prototype.slice.apply(e),t+"("+a.map(e,(function(t){return JSON.stringify(t)})).join(",")+")"}i(o,r.EventEmitter),o.prototype.get=function(t){if(!t)return this._value;this.once("value",t),a.isUndefined(this._value)||this.emit("value",this._value)},o.prototype.set=function(t){this._value=t,this.emit("value",this._value)},o.prototype.clear=function(){this.fetching=!1,delete this._value},(r=function(){this._entries={}}).prototype.get=function(t){if(t&&this._entries[t])return this._entries[t];var e=new o;return this._entries[t]=e},r.prototype.clear=function(t){for(var e in this._entries)t&&0!==e.indexOf(t)||this._entries[e].clear()},r.prototype.makeResponseCacheable=function(t,e,n){var o=this;return n=n||{},function(){var r=Array.prototype.slice.apply(arguments),i=r.pop();a.isFunction(i)||(r.push(i),i=null);var l=a.isString(n.key)?n.key:a.isFunction(n.key)?n.key.apply(e,r):s(n.namespace,r);Array.isArray(l)||(l=[l]);var c,u,d=[];l.forEach((function(t){(t=o.get(t)).fetching=!0,d.push(t)})),i&&r.push((function(t,e){Array.isArray(e)&&e.length==d.length?d.forEach((function(n,o){n.set({error:t,result:e[o]})})):d.forEach((function(n){n.set({error:t,result:e})})),i(t,e)}));try{c=t.apply(e||this,r)}catch(r){u=r}if(c&&a.isFunction(c.then))return i?c:c.then((function(t){return Array.isArray(t)&&t.length==d.length?d.forEach((function(e,n){e.set({error:void 0,result:t[n]})})):d.forEach((function(e){e.set({error:void 0,result:t})})),t}),(function(t){throw Array.isArray(t)&&t.length==d.length?d.forEach((function(e,n){e.set({error:t[n],result:void 0})})):d.forEach((function(e){e.set({error:t,result:void 0})})),t}));if(Array.isArray(c)&&c.length==d.length?d.forEach((function(t,e){t.set({error:u,result:c[e]})})):d.forEach((function(t){t.set({error:u,result:c})})),u)throw u;return c}},r.prototype.makeCacheable=function(t,e,n){var o=this;function r(){var r=Array.prototype.slice.apply(arguments),i=r.pop();a.isFunction(i)||r.push(i);var l=a.isString(n.key)?n.key:a.isFunction(n.key)?n.key.apply(e,r):s(n.namespace,r),c=o.get(l);if(!a.isFunction(i)){if(!(l=c.get()))throw new Error("Function call result is not cached yet.");if(l.error)throw l.error;return l.result}c.get((function(t){i(t.error,t.result)})),c.fetching||(c.fetching=!0,r.push((function(t,e){c.set({error:t,result:e})})),t.apply(e||this,r))}return n=n||{},r.clear=function(){var t=a.isString(n.key)?n.key:a.isFunction(n.key)?n.key.apply(e,arguments):s(n.namespace,arguments);o.clear(t)},r},e.exports=r},{events:48,inherits:85,"lodash/core":89}],19:[function(t,e,n){(function(n){"use strict";var o=t("events"),r=t("inherits"),i=t("lodash/core"),a=t("./promise"),s=t("./logger"),l=t("./oauth2"),c=t("./query"),u=t("./sobject"),d=t("./quick-action"),p=t("./http-api"),h=t("./transport"),f=t("./process"),b=t("./cache"),y=200,g=e.exports=function(e){e=e||{},this._logger=new s(e.logLevel);var n=e.oauth2||{loginUrl:e.loginUrl,clientId:e.clientId,clientSecret:e.clientSecret,redirectUri:e.redirectUri,proxyUrl:e.proxyUrl,httpProxy:e.httpProxy};this.oauth2=n=n instanceof l?n:new l(n),this.loginUrl=e.loginUrl||n.loginUrl||"https://login.salesforce.com",this.version=e.version||"42.0",this.maxRequest=e.maxRequest||this.maxRequest||10,e.proxyUrl?this._transport=new h.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new h.HttpProxyTransport(e.httpProxy):this._transport=new h,this.callOptions=e.callOptions,t("./core").emit("connection:new",this),this.process=new f(this),this.cache=new b;var o=e.refreshFn;!o&&this.oauth2.clientId&&(o=v),o&&(this._refreshDelegate=new p.SessionRefreshDelegate(this,o)),n={key:function(t){return t?t.type?"describe."+t.type:"describe."+t:"describe"}},this.describe$=this.cache.makeCacheable(this.describe,this,n),this.describe=this.cache.makeResponseCacheable(this.describe,this,n),this.describeSObject$=this.describe$,this.describeSObject=this.describe,o={key:function(t){var e=t.types,n=(t=t.autofetch||!1,e=25<e.length&&!t?e.slice(0,25):e,[]);return e.forEach((function(t){n.push("describe."+t)})),n}},this.batchDescribe=this.cache.makeResponseCacheable(this.batchDescribe,this,o),this.batchDescribeSObjects=this.batchDescribe,n={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,n),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,n),this.initialize(e)};function v(t,e){t.oauth2.refreshToken(t.refreshToken,(function(n,o){if(n)return e(n);n=_(o.id),t.initialize({instanceUrl:o.instance_url,accessToken:o.access_token,userInfo:n}),e(null,o.access_token,o)}))}function m(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"+00:00"}function _(t){var e=t.split("/");return{id:e.pop(),organizationId:e.pop(),url:t}}function w(t){return t&&String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}r(g,o.EventEmitter),g.prototype.initialize=function(t){if(!t.instanceUrl&&t.serverUrl&&(t.instanceUrl=t.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=t.instanceUrl||t.serverUrl||this.instanceUrl||"",this.accessToken=t.sessionId||t.accessToken||this.accessToken,this.refreshToken=t.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=t.signedRequest&&function(t){if(i.isString(t)){if("{"===t[0])return JSON.parse(t);var e=t.split(".").pop();return e=n.from(e,"base64").toString("utf-8"),JSON.parse(e)}return t}(t.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken,h.CanvasTransport.supported&&(this._transport=new h.CanvasTransport(this.signedRequest))),t.userInfo&&(this.userInfo=t.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",i.bind((function(t){t.result&&i.map(t.result.sobjects,(function(t){return t.name})).forEach(this.sobject,this)}),this)),this.tooling&&this.tooling.initialize(),this._sessionType=t.sessionId?"soap":"oauth2"},g.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},g.prototype._normalizeUrl=function(t){return"/"===t[0]?0===t.indexOf("/services/")?this.instanceUrl+t:this._baseUrl()+t:t},g.prototype.request=function(t,e,n){"function"==typeof e&&(n=e,e=null),e=e||{};var o=this;return i.isString(t)&&(t={method:"GET",url:t}),t.url=this._normalizeUrl(t.url),(e=new p(this,e)).on("response",(function(t){t.headers&&t.headers["sforce-limit-info"]&&(t=t.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/))&&(o.limitInfo={apiUsage:{used:parseInt(t[1],10),limit:parseInt(t[2],10)}})})),e.request(t).thenCall(n)},g.prototype.requestGet=function(t,e,n){return t={method:"GET",url:t},this.request(t,e,n)},g.prototype.requestPost=function(t,e,n,o){return e={method:"POST",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}},this.request(e,n,o)},g.prototype.requestPut=function(t,e,n,o){return e={method:"PUT",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}},this.request(e,n,o)},g.prototype.requestPatch=function(t,e,n,o){return e={method:"PATCH",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}},this.request(e,n,o)},g.prototype.requestDelete=function(t,e,n){return t={method:"DELETE",url:t},this.request(t,e,n)},g.prototype.query=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),e=new c(this,t,e),n&&e.run(n),e},g.prototype.queryAll=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),(e=new c(this,t,e)).scanAll(!0),n&&e.run(n),e},g.prototype.queryMore=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),e=new c(this,{locator:t},e),n&&e.run(n),e},g.prototype._ensureVersion=function(t){var e=this.version.split(".");return parseInt(e[0],10)>=t},g.prototype._supports=function(t){return"sobject-collection"===t&&this._ensureVersion(42)},g.prototype.retrieve=function(t,e,n,o){return"function"==typeof n&&(o=n,n={}),n=n||{},(i.isArray(e)?this._supports("sobject-collection")?this._retrieveMany(t,e,n):this._retrieveParallel(t,e,n):this._retrieveSingle(t,e,n)).thenCall(o)},g.prototype._retrieveSingle=function(t,e,n){return e?(e=[this._baseUrl(),"sobjects",t,e].join("/"),n.fields&&(e+="?fields="+n.fields.join(",")),this.request({method:"GET",url:e,headers:n.headers})):a.reject(new Error("Invalid record ID. Specify valid record ID value"))},g.prototype._retrieveParallel=function(t,e,n){if(e.length>this.maxRequest)return a.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return a.all(e.map((function(e){return o._retrieveSingle(t,e,n).catch((function(t){if(n.allOrNone||"NOT_FOUND"!==t.errorCode)throw t;return null}))})))},g.prototype._retrieveMany=function(t,e,n){if(0===e.length)return a.resolve([]);var o=[this._baseUrl(),"composite","sobjects",t].join("/"),r=this;return(n.fields?a.resolve(n.fields):new a((function(e,n){r.describe$(t,(function(t,o){t?n(t):(o=o.fields.map((function(t){return t.name})),e(o))}))}))).then((function(t){return r.request({method:"POST",url:o,body:JSON.stringify({ids:e,fields:t}),headers:i.defaults(n.headers||{},{"Content-Type":"application/json"})})}))},g.prototype._toRecordResult=function(t,e){var n={statusCode:e.errorCode,message:e.message};return e.content&&(n.content=e.content),e.fields&&(n.fields=e.fields),n={success:!1,errors:[n]},t&&(n.id=t),n},g.prototype.insert=g.prototype.create=function(t,e,n,o){return i.isString(t)||(o=n,n=e,e=t,t=null),"function"==typeof n&&(o=n,n={}),n=n||{},(i.isArray(e)?this._supports("sobject-collection")?this._createMany(t,e,n):this._createParallel(t,e,n):this._createSingle(t,e,n)).thenCall(o)},g.prototype._createSingle=function(t,e,n){return(t=t||e.attributes&&e.attributes.type||e.type)?(delete(e=i.clone(e)).Id,delete e.type,delete e.attributes,t=[this._baseUrl(),"sobjects",t].join("/"),this.request({method:"POST",url:t,body:JSON.stringify(e),headers:i.defaults(n.headers||{},{"Content-Type":"application/json"})})):a.reject(new Error("No SObject Type defined in record"))},g.prototype._createParallel=function(t,e,n){if(e.length>this.maxRequest)return a.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return a.all(e.map((function(e){return o._createSingle(t,e,n).catch((function(t){if(n.allOrNone||!t.errorCode)throw t;return this._toRecordResult(null,t)}))})))},g.prototype._createMany=function(t,e,n){if(0===e.length)return a.resolve([]);if(e.length>y&&n.allowRecursive){var o=this;return o._createMany(t,e.slice(0,y),n).then((function(r){return o._createMany(t,e.slice(y),n).then((function(t){return r.concat(t)}))}))}e=i.map(e,(function(e){var n=t||e.attributes&&e.attributes.type||e.type;return n?(delete(e=i.clone(e)).Id,delete e.type,e.attributes={type:n},e):a.reject(new Error("No SObject Type defined in record"))}));var r=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"POST",url:r,body:JSON.stringify({allOrNone:n.allOrNone||!1,records:e}),headers:i.defaults(n.headers||{},{"Content-Type":"application/json"})})},g.prototype.update=function(t,e,n,o){return i.isString(t)||(o=n,n=e,e=t,t=null),"function"==typeof n&&(o=n,n={}),n=n||{},(i.isArray(e)?this._supports("sobject-collection")?this._updateMany(t,e,n):this._updateParallel(t,e,n):this._updateSingle(t,e,n)).thenCall(o)},g.prototype._updateSingle=function(t,e,n){var o=e.Id;return o?(t=t||e.attributes&&e.attributes.type||e.type)?(delete(e=i.clone(e)).Id,delete e.type,delete e.attributes,t=[this._baseUrl(),"sobjects",t,o].join("/"),this.request({method:"PATCH",url:t,body:JSON.stringify(e),headers:i.defaults(n.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{id:o,success:!0,errors:[]}})):a.reject(new Error("No SObject Type defined in record")):a.reject(new Error("Record id is not found in record."))},g.prototype._updateParallel=function(t,e,n){if(e.length>this.maxRequest)return a.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return a.all(e.map((function(e){return o._updateSingle(t,e,n).catch((function(t){if(n.allOrNone||!t.errorCode)throw t;return this._toRecordResult(e.Id,t)}))})))},g.prototype._updateMany=function(t,e,n){if(0===e.length)return a.resolve([]);if(e.length>y&&n.allowRecursive){var o=this;return o._updateMany(t,e.slice(0,y),n).then((function(r){return o._updateMany(t,e.slice(y),n).then((function(t){return r.concat(t)}))}))}e=i.map(e,(function(e){var n=e.Id;if(!n)throw new Error("Record id is not found in record.");var o=t||e.attributes&&e.attributes.type||e.type;if(!o)throw new Error("No SObject Type defined in record");return delete(e=i.clone(e)).Id,e.id=n,delete e.type,e.attributes={type:o},e}));var r=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"PATCH",url:r,body:JSON.stringify({allOrNone:n.allOrNone||!1,records:e}),headers:i.defaults(n.headers||{},{"Content-Type":"application/json"})})},g.prototype.upsert=function(t,e,n,o,r){i.isString(t)||(r=o,o=n,n=e,e=t,t=null),"function"==typeof o&&(r=o,o={}),o=o||{};var s=this,l=i.isArray(e);return((e=l?e:[e]).length>this.maxRequest?a.reject(new Error("Exceeded max limit of concurrent call")):a.all(i.map(e,(function(e){var r=t||e.attributes&&e.attributes.type||e.type,a=e[n];return delete(e=i.clone(e))[n],delete e.type,delete e.attributes,a=[s._baseUrl(),"sobjects",r,n,a].join("/"),s.request({method:"PATCH",url:a,body:JSON.stringify(e),headers:i.defaults(o.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{success:!0,errors:[]}}).catch((function(t){if(!l||o.allOrNone||!t.errorCode)throw t;return s._toRecordResult(null,t)}))}))).then((function(t){return!l&&i.isArray(t)?t[0]:t}))).thenCall(r)},g.prototype.delete=g.prototype.del=g.prototype.destroy=function(t,e,n,o){return"function"==typeof n&&(o=n,n={}),n=n||{},(i.isArray(e)?this._supports("sobject-collection")?this._destroyMany(t,e,n):this._destroyParallel(t,e,n):this._destroySingle(t,e,n)).thenCall(o)},g.prototype._destroySingle=function(t,e,n){return t=[this._baseUrl(),"sobjects",t,e].join("/"),this.request({method:"DELETE",url:t,headers:n.headers||null},{noContentResponse:{id:e,success:!0,errors:[]}})},g.prototype._destroyParallel=function(t,e,n){if(e.length>this.maxRequest)return a.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return a.all(e.map((function(e){return o._destroySingle(t,e,n).catch((function(t){if(n.allOrNone||!t.errorCode)throw t;return this._toRecordResult(e,t)}))})))},g.prototype._destroyMany=function(t,e,n){if(0===e.length)return a.resolve([]);if(e.length>y&&n.allowRecursive){var o=this;return o._destroyMany(t,e.slice(0,y),n).then((function(r){return o._destroyMany(t,e.slice(y),n).then((function(t){return r.concat(t)}))}))}var r=[this._baseUrl(),"composite","sobjects?ids="].join("/")+e.join(",");return n.allOrNone&&(r+="&allOrNone=true"),this.request({method:"DELETE",url:r,headers:n.headers||null})},g.prototype.search=function(t,e){return t=this._baseUrl()+"/search?q="+encodeURIComponent(t),this.request(t).thenCall(e)},g.prototype.describe=g.prototype.describeSObject=function(t,e){var n=t.type||t;return n=[this._baseUrl(),"sobjects",n,"describe"].join("/"),t=t.ifModifiedSince?{"If-Modified-Since":t.ifModifiedSince}:{},this.request({method:"GET",url:n,headers:t}).then((function(t){return""===t?a.resolve(void 0):a.resolve(t)})).thenCall(e)},g.prototype.batchDescribe=g.prototype.batchDescribeSObjects=function(t,e){var n=t.types,o=t.autofetch||!1,r=Math.min(t.maxConcurrentRequests||15,15),i=[];do{var a=25<n.length?n.slice(0,25):n}while(i.push(a),0<(n=25<n.length?n.slice(25):[]).length&&o);var s=[];do{var l=i.length>r?i.slice(0,r):i}while(s.push(l),0<(i=i.length>r?i.slice(r):[]).length);return this.doBatchDescribeRequestBatches(s).thenCall(e)},g.prototype.doBatchDescribeRequestBatches=function(t){var e=this,n=[],o=t.shift();return e.doBatchOfBatchDescribeRequests(o).then((function(o){return o.forEach((function(t){n.push(t)})),0<t.length?e.doBatchDescribeRequestBatches(t).then((function(t){return t.forEach((function(t){n.push(t)})),a.resolve(n)})):a.resolve(n)}))},g.prototype.doBatchOfBatchDescribeRequests=function(t){var e=this;return a.all(t.map((function(t){return e.doBatchDescribeRequest(t)}))).then((function(t){var e=[];return t.forEach((function(t){t.forEach((function(t){e.push(t)}))})),a.resolve(e)}))},g.prototype.doBatchDescribeRequest=function(t){var e=[],n=[this._baseUrl(),"composite/batch"].join("/"),o="v"+this.version,r=[];return t.forEach((function(t){r.push({method:"GET",url:[o,"sobjects",t,"describe"].join("/")})})),this.request({method:"POST",url:n,body:JSON.stringify({batchRequests:r}),headers:{"Content-Type":"application/json"}}).then((function(t){if(t.results){var n=0;for(n=0;n<t.results.length;n++){var o=t.results[n];Array.isArray(o.result)?o.result[0].errorCode&&o.result[0].message&&this._logger.error("Error: "+o.result[0].errorCode+" "+o.result[0].message+" - "+typesToFetch[n]):e.push(o.result)}}return a.resolve(e)}))},g.prototype.describeGlobal=function(t){var e=this._baseUrl()+"/sobjects";return this.request(e).thenCall(t)},g.prototype.sobject=function(t){return this.sobjects=this.sobjects||{},this.sobjects[t]=this.sobjects[t]||new u(this,t)},g.prototype.identity=function(t,e){"function"==typeof t&&(e=t,t={}),t=t||{};var n=this,o=this.userInfo&&this.userInfo.url;return a.resolve(o?{identity:o}:this.request({method:"GET",url:this._baseUrl(),headers:t.headers})).then((function(t){return t=t.identity,n.request({method:"GET",url:t})})).then((function(t){return n.userInfo={id:t.user_id,organizationId:t.organization_id,url:t.id},t})).thenCall(e)},g.prototype.authorize=function(t,e,n){"function"==typeof e&&(n=e,e={});var o=this,r=this._logger;return this.oauth2.requestToken(t,e).then((function(t){var e=_(t.id);return o.initialize({instanceUrl:t.instance_url,accessToken:t.access_token,refreshToken:t.refresh_token,userInfo:e}),r.debug("<login> completed. user id = "+e.id+", org id = "+e.organizationId),e})).thenCall(n)},g.prototype.login=function(t,e,n){var o,r;return this._refreshDelegate=new p.SessionRefreshDelegate(this,(o=t,r=e,function(t,e){t.login(o,r,(function(n){return n?e(n):void e(null,t.accessToken)}))})),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(t,e,n):this.loginBySoap(t,e,n)},g.prototype.loginByOAuth2=function(t,e,n){var o=this,r=this._logger;return this.oauth2.authenticate(t,e).then((function(t){var e=_(t.id);return o.initialize({instanceUrl:t.instance_url,accessToken:t.access_token,userInfo:e}),r.debug("<login> completed. user id = "+e.id+", org id = "+e.organizationId),e})).thenCall(n)},g.prototype.loginBySoap=function(t,e,n){var o=this,r=this._logger,i=(e=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+w(t)+"</username>","<password>"+w(e)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),[this.loginUrl,"services/Soap/u",this.version].join("/"));return this._transport.httpRequest({method:"POST",url:i,body:e,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then((function(t){if(400<=t.statusCode){var e=(s=t.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&s[1];throw new Error(e||t.body)}r.debug("SOAP response = "+t.body);var n=(s=t.body.match(/<serverUrl>([^<]+)<\/serverUrl>/))&&s[1],a=(s=t.body.match(/<sessionId>([^<]+)<\/sessionId>/))&&s[1],s=(e=(s=t.body.match(/<userId>([^<]+)<\/userId>/))&&s[1],t=(s=t.body.match(/<organizationId>([^<]+)<\/organizationId>/))&&s[1],i.split("/").slice(0,3).join("/"));return s={id:e,organizationId:t,url:s+="/id/"+t+"/"+e},o.initialize({serverUrl:n.split("/").slice(0,3).join("/"),sessionId:a,userInfo:s}),r.debug("<login> completed. user id = "+e+", org id = "+t),s})).thenCall(n)},g.prototype.logout=function(t,e){return"function"==typeof t&&(e=t,t=!1),"oauth2"===this._sessionType?this.logoutByOAuth2(t,e):this.logoutBySoap(t,e)},g.prototype.logoutByOAuth2=function(t,e){"function"==typeof t&&(e=t,t=!1);var n=this;return this._logger,this.oauth2.revokeToken(t?this.refreshToken:this.accessToken).then((function(){n.accessToken=null,n.userInfo=null,n.refreshToken=null,n.instanceUrl=null,n.cache.clear()})).thenCall(e)},g.prototype.logoutBySoap=function(t,e){"function"==typeof t&&(e=t,t=!1);var n=this,o=this._logger;return t=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+w(t?this.refreshToken:this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join(""),this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:t,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then((function(t){if(o.debug("SOAP statusCode = "+t.statusCode+", response = "+t.body),400<=t.statusCode){var e=(e=t.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&e[1];throw new Error(e||t.body)}n.accessToken=null,n.userInfo=null,n.refreshToken=null,n.instanceUrl=null,n.cache.clear()})).thenCall(e)},g.prototype.recent=function(t,e,n){var o;return i.isString(t)||(n=e,e=t,t=void 0),i.isNumber(e)||(n=e,e=void 0),t?(o=[this._baseUrl(),"sobjects",t].join("/"),this.request(o).then((function(t){return e?t.recentItems.slice(0,e):t.recentItems})).thenCall(n)):(o=this._baseUrl()+"/recent",e&&(o+="?limit="+e),this.request(o).thenCall(n))},g.prototype.updated=function(t,e,n,o){return t=[this._baseUrl(),"sobjects",t,"updated"].join("/"),"string"==typeof e&&(e=new Date(e)),e instanceof Date&&(e=m(e)),e&&(t+="?start="+encodeURIComponent(e)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=m(n)),n&&(t+="&end="+encodeURIComponent(n)),this.request(t).thenCall(o)},g.prototype.deleted=function(t,e,n,o){return t=[this._baseUrl(),"sobjects",t,"deleted"].join("/"),"string"==typeof e&&(e=new Date(e)),e instanceof Date&&(e=m(e)),e&&(t+="?start="+encodeURIComponent(e)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=m(n)),n&&(t+="&end="+encodeURIComponent(n)),this.request(t).thenCall(o)},g.prototype.tabs=function(t){var e=[this._baseUrl(),"tabs"].join("/");return this.request(e).thenCall(t)},g.prototype.limits=function(t){var e=[this._baseUrl(),"limits"].join("/");return this.request(e).thenCall(t)},g.prototype.theme=function(t){var e=[this._baseUrl(),"theme"].join("/");return this.request(e).thenCall(t)},g.prototype.quickActions=function(t){return this.request("/quickActions").thenCall(t)},g.prototype.quickAction=function(t){return new d(this,"/quickActions/"+t)}}).call(this,t("buffer").Buffer)},{"./cache":18,"./core":20,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./sobject":34,"./transport":36,buffer:41,events:48,inherits:85,"lodash/core":89}],20:[function(t,e,n){"use strict";var o=t("events").EventEmitter;(o=e.exports=new o).VERSION=t("./VERSION"),o.Connection=t("./connection"),o.OAuth2=t("./oauth2"),o.Date=o.SfDate=t("./date"),o.RecordStream=t("./record-stream"),o.Promise=t("./promise"),o.require=t("./require")},{"./VERSION":2,"./connection":19,"./date":22,"./oauth2":25,"./promise":27,"./record-stream":30,"./require":32,events:48}],21:[function(t,e,n){"use strict";var o=t("lodash/core"),r=t("csv-parse/lib/es5"),i=t("csv-parse/lib/es5/sync"),a=t("csv-stringify"),s=t("csv-stringify/lib/sync");e.exports={parseCSV:function(t,e){return e=o.extend({},e,{columns:!0}),i(t,e)},toCSV:function(t,e){return e=o.extend({},e,{header:!0}),s(t,e)},parseCSVStream:function(t){return t=o.extend({},t,{columns:!0}),r(t)},serializeCSVStream:function(t){return t=o.extend({},t,{header:!0}),a(t)}}},{"csv-parse/lib/es5":44,"csv-parse/lib/es5/sync":45,"csv-stringify":46,"csv-stringify/lib/sync":47,"lodash/core":89}],22:[function(t,e,n){"use strict";var o=t("lodash/core"),r=e.exports=function(t){this._literal=t};function i(t){return(t<10?"0":"")+t}r.prototype.toString=r.prototype.toJSON=function(){return this._literal},r.toDateLiteral=function(t){o.isNumber(t)?t=new Date(t):o.isString(t)&&(t=r.parseDate(t));var e=t.getFullYear(),n=t.getMonth()+1;return t=t.getDate(),t=[e,i(n),i(t)].join("-"),new r(t)},r.toDateTimeLiteral=function(t){o.isNumber(t)?t=new Date(t):o.isString(t)&&(t=r.parseDate(t));var e=t.getUTCFullYear(),n=t.getUTCMonth()+1,a=t.getUTCDate(),s=t.getUTCHours(),l=t.getUTCMinutes();return t=t.getUTCSeconds(),t=[e,i(n),i(a)].join("-")+"T"+[i(s),i(l),i(t)].join(":")+"Z",new r(t)},r.parseDate=function(t){var e,n=new Date,o=t.match(/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/);if(o)return n=new Date(0),o[4]?(n.setUTCFullYear(parseInt(o[1],10)),n.setUTCDate(parseInt(o[3],10)),n.setUTCMonth(parseInt(o[2],10)-1),n.setUTCHours(parseInt(o[5],10)),n.setUTCMinutes(parseInt(o[6],10)),n.setUTCSeconds(parseInt(o[7],10)),n.setUTCMilliseconds(parseInt(o[9]||"0",10)),o[10]&&"Z"!==o[10]&&(e=60*parseInt(o[12],10)+parseInt(o[13],10),n.setTime(("+"===o[11]?-1:1)*e*60*1e3+n.getTime()))):(n.setFullYear(parseInt(o[1],10)),n.setDate(parseInt(o[3],10)),n.setMonth(parseInt(o[2],10)-1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),n;throw new Error("Invalid date format is specified : "+t)};var a,s={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(a in s){var l=s[a];r[a]=1===l?new r(a):function(t){return function(e){return new r(t+":"+e)}}(a)}},{"lodash/core":89}],23:[function(t,e,n){"use strict";function o(t,e){e=e||{},this._conn=t,this.on("resume",(function(e){t.emit("resume",e)})),this._responseType=e.responseType,this._transport=e.transport||t._transport,this._noContentResponse=e.noContentResponse}var r=t("inherits"),i=t("events"),a=t("lodash/core"),s=t("./promise");function l(t){return JSON.parse(t)}function c(e){var n={};if(t("xml2js").parseString(e,{explicitArray:!1},(function(t,e){n={error:t,result:e}})),n.error)throw n.error;return n.result}function u(e){return t("./csv").parseCSV(e)}function d(t){return t}function p(t,e){this._conn=t,this._refreshFn=e,this._refreshing=!1}r(o,i.EventEmitter),o.prototype.request=function(t,e){function n(e){e?c.reject(e):(l!==r.instanceUrl&&(t.url=t.url.replace(l,r.instanceUrl)),o.request(t).then((function(t){c.resolve(t)}),(function(t){c.reject(t)})))}var o=this,r=this._conn,i=r._logger,a=this.getRefreshDelegate(),l=r.instanceUrl,c=s.defer();if(a&&a._refreshing)return a.once("resume",n),c.promise.thenCall(e);o.beforeSend(t),o.emit("request",t),i.debug("<request> method="+t.method+", url="+t.url);var u=Date.now();return this._transport.httpRequest(t).then((function(e){var r=Date.now();if(i.debug("elapsed time : "+(r-u)+"msec"),i.debug("<response> status="+e.statusCode+", url="+t.url),o.emit("response",e),o.isSessionExpired(e)&&a)return a.refresh(u,n),c.promise;if(o.isErrorResponse(e))throw o.getError(e);return o.getResponseBody(e)}),(function(t){var e=Date.now();throw i.debug("elapsed time : "+(e-u)+"msec"),i.error(t),t})).thenCall(e)},o.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},o.prototype.beforeSend=function(t){if(t.headers=t.headers||{},this._conn.accessToken&&(t.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var e,n=[];for(e in this._conn.callOptions)n.push(e+"="+this._conn.callOptions[e]);t.headers["Sforce-Call-Options"]=n.join(", ")}},o.prototype.getResponseContentType=function(t){return this._responseType||t.headers&&t.headers["content-type"]},o.prototype.parseResponseBody=function(t){var e=this.getResponseContentType(t),n=/^(text|application)\/xml(;|$)/.test(e)?c:/^application\/json(;|$)/.test(e)?l:/^text\/csv(;|$)/.test(e)?u:d;try{return n(t.body)}catch(e){return t.body}},o.prototype.getResponseBody=function(t){if(204===t.statusCode)return this._noContentResponse;var e,n=this.parseResponseBody(t);if(this.hasErrorInResponseBody(n))throw this.getError(t,n);if(300===t.statusCode)throw(e=new Error("Multiple records found")).name="MULTIPLE_CHOICES",e.content=n,e;return n},o.prototype.isSessionExpired=function(t){return 401===t.statusCode},o.prototype.isErrorResponse=function(t){return 400<=t.statusCode},o.prototype.hasErrorInResponseBody=function(t){return!1},o.prototype.parseError=function(t){return a.isArray(t)?t[0]:t},o.prototype.getError=function(t,e){var n;try{n=this.parseError(e||this.parseResponseBody(t))}catch(t){}n=a.isObject(n)&&a.isString(n.message)?n:{errorCode:"ERROR_HTTP_"+t.statusCode,message:t.body};var o,r=new Error(n.message);for(o in r.name=n.errorCode,n)r[o]=n[o];return r},r(p,i.EventEmitter),p.prototype.refresh=function(t,e){if(this._lastRefreshedAt>t)return e();var n=this,o=this._conn,r=o._logger;return n.once("resume",e),n._refreshing?void 0:(r.debug("<refresh token>"),n._refreshing=!0,n._refreshFn(o,(function(t,e,i){t||(r.debug("Connection refresh completed."),o.accessToken=e,o.emit("refresh",e,i)),n._lastRefreshedAt=Date.now(),n._refreshing=!1,n.emit("resume",t)})))},o.SessionRefreshDelegate=p,e.exports=o},{"./csv":21,"./promise":27,events:48,inherits:85,"lodash/core":89,xml2js:124}],24:[function(t,e,n){"use strict";var o,r=e.exports=function(t){"string"==typeof t&&(t=i[t]),t=t||i.INFO,this._logLevel=t},i=r.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};for(o in r.prototype.log=function(t,e){this._logLevel<=t&&(t<i.ERROR?console.log(e):console.error(e))},i)r.prototype[o.toLowerCase()]=function(t){return function(e){this.log(t,e)}}(i[o])},{}],25:[function(t,e,n){"use strict";var o=t("querystring"),r=t("lodash/core"),i=t("./transport");e=e.exports=function(t){t.authzServiceUrl&&t.tokenServiceUrl?(this.loginUrl=t.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=t.authzServiceUrl,this.tokenServiceUrl=t.tokenServiceUrl,this.revokeServiceUrl=t.revokeServiceUrl):(this.loginUrl=t.loginUrl||"https://login.salesforce.com",this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.redirectUri=t.redirectUri,t.proxyUrl?this._transport=new i.ProxyTransport(t.proxyUrl):t.httpProxy?this._transport=new i.HttpProxyTransport(t.httpProxy):this._transport=new i},r.extend(e.prototype,{getAuthorizationUrl:function(t){return t=r.extend({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.authzServiceUrl+(0<=this.authzServiceUrl.indexOf("?")?"&":"?")+o.stringify(t)},refreshToken:function(t,e){return t={grant_type:"refresh_token",refresh_token:t,client_id:this.clientId},this.clientSecret&&(t.client_secret=this.clientSecret),this._postParams(t,e)},requestToken:function(t,e,n){return"function"==typeof e&&(n=e,e={}),e=r.extend({grant_type:"authorization_code",code:t,client_id:this.clientId,redirect_uri:this.redirectUri},e||{}),this.clientSecret&&(e.client_secret=this.clientSecret),this._postParams(e,n)},authenticate:function(t,e,n){return this._postParams({grant_type:"password",username:t,password:e,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},n)},revokeToken:function(t,e){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:o.stringify({token:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(400<=t.statusCode){var e=o.parse(t.body);throw e&&e.error||(e={error:"ERROR_HTTP_"+t.statusCode,error_description:t.body}),(t=new Error(e.error_description)).name=e.error,t}})).thenCall(e)},_postParams:function(t,e){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:o.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(t){var e;try{e=JSON.parse(t.body)}catch(t){}if(400<=t.statusCode){e=e||{error:"ERROR_HTTP_"+t.statusCode,error_description:t.body};var n=new Error(e.error_description);throw n.name=e.error,n}return e})).thenCall(e)}})},{"./transport":36,"lodash/core":89,querystring:97}],26:[function(t,e,n){"use strict";var o=t("lodash/core"),r=(t("./promise"),t("./connection"),e.exports=function(t){this.rule=new r(t),this.approval=new i(t)},function(t){this._conn=t});r.prototype.list=function(t){return this._conn.request("/process/rules").then((function(t){return t.rules})).thenCall(t)},r.prototype.trigger=function(t,e){return t=o.isArray(t)?t:[t],this._conn.request({method:"POST",url:"/process/rules/",body:JSON.stringify({contextIds:t}),headers:{"content-type":"application/json"}}).thenCall(e)};var i=function(t){this._conn=t};i.prototype.list=function(t){return this._conn.request("/process/approvals").then((function(t){return t.approvals})).thenCall(t)},i.prototype.request=function(t,e){return t=t.map((function(t){return t._request||t})),this._conn.request({method:"POST",url:"/process/approvals",headers:{"content-type":"application/json"},body:JSON.stringify({requests:t})}).thenCall(e)},i.prototype._createRequest=function(t,e,n,r,i){return"function"==typeof n&&(i=n,n=r=null),"function"==typeof r&&(i=r,r=null),r=r||{},n={actionType:t,contextId:e,comments:n},o.extend(n,r),new a(this,n).thenCall(i)},i.prototype.submit=function(t,e,n,o){return this._createRequest("Submit",t,e,n,o)},i.prototype.approve=function(t,e,n,o){return this._createRequest("Approve",t,e,n,o)},i.prototype.reject=function(t,e,n,o){return this._createRequest("Reject",t,e,n,o)};var a=function(t,e){this._process=t,this._request=e};a.prototype.then=function(t,e){this._promise||(this._promise=this._process.request([this]).then((function(t){return t[0]}))),this._promise.then(t,e)},a.prototype.thenCall=function(t){return t?this.then((function(e){t(null,e)}),(function(e){t(e)})):this}},{"./connection":19,"./promise":27,"lodash/core":89}],27:[function(t,e,n){(function(n){"use strict";var o=t("lodash/core"),r=t("promise/lib/es6-extensions");r.prototype.thenCall=function(t){return o.isFunction(t)&&this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})),this},r.prototype.fail=r.prototype.catch,r.defer=function(){return new i};var i=function(){var t=this;this.promise=new r((function(e,n){t.resolve=e,t.reject=n}))};e.exports=r}).call(this,t("_process"))},{_process:92,"lodash/core":89,"promise/lib/es6-extensions":94}],28:[function(t,e,n){(function(n){"use strict";var o=t("inherits"),r=(t("events"),t("readable-stream")),i=t("lodash/core"),a=t("./promise"),l=(t("./date"),t("./soql-builder")),c=t("./record-stream"),u=e.exports=function(t,e,n){u.super_.call(this,{objectMode:!0}),this._conn=t,i.isString(e)?this._soql=e:e.locator&&0<=e.locator.indexOf("/")?this._locator=e.locator.split("/").pop():(this._config=e,this.select(e.fields),e.includes&&this.include(e.includes),e.sort&&this.sort(e.sort)),this._options=i.defaults(n||{},{maxFetch:1e4,autoFetch:!1,scanAll:!1,responseTarget:d.QueryResult}),this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=a.defer()};o(u,r.Readable),u.prototype.select=function(t){if(this._soql)throw Error("Cannot set select fields for the query which has already built SOQL.");if(t=t||"*",i.isString(t))t=t.split(/\s*,\s*/);else if(i.isObject(t)&&!i.isArray(t)){var e,n=[];for(e in t)t[e]&&n.push(e);t=n}return this._config.fields=t,this},u.prototype.where=function(t){if(this._soql)throw Error("Cannot set where conditions for the query which has already built SOQL.");return this._config.conditions=t,this},u.prototype.limit=function(t){if(this._soql)throw Error("Cannot set limit for the query which has already built SOQL.");return this._config.limit=t,this},u.prototype.skip=u.prototype.offset=function(t){if(this._soql)throw Error("Cannot set skip/offset for the query which has already built SOQL.");return this._config.offset=t,this},u.prototype.sort=u.prototype.orderby=function(t,e){if(this._soql)throw Error("Cannot set sort for the query which has already built SOQL.");return i.isString(t)&&i.isString(e)&&(t=[[t,e]]),this._config.sort=t,this},u.prototype.include=function(t,e,n,o){if(this._soql)throw Error("Cannot include child relationship into the query which has already built SOQL.");if(!i.isObject(t))return o={table:t,conditions:e,fields:n,limit:o&&o.limit,offset:o&&(o.offset||o.skip),sort:o&&o.sort},i.isArray(this._config.includes)||(this._config.includes=[]),this._config.includes.push(o),o=new p(this._conn,this,o),this._children=this._children||[],this._children.push(o),o;var r,a=t;for(r in a){var s=a[r];this.include(r,s.conditions,s.fields,s)}},u.prototype.maxFetch=function(t){return this._options.maxFetch=t,this},u.prototype.autoFetch=function(t){return this._options.autoFetch=t,this},u.prototype.scanAll=function(t){return this._options.scanAll=t,this};var d=u.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach((function(t){d[t]=t})),u.prototype.setResponseTarget=function(t){return t in d&&(this._options.responseTarget=t),this},u.prototype.run=u.prototype.exec=u.prototype.execute=function(t,e){var n=this,o=this._conn._logger,r=this._deferred;if(this._executed)return r.reject(new Error("re-executing already executed query")),this;if(this._finished)return r.reject(new Error("executing already closed query")),this;function a(t,n){if(i.isFunction(e))try{n=e(t,n),t=null}catch(n){t=n}t?r.reject(t):r.resolve(n)}return"function"==typeof t&&(e=t,t={}),t={headers:(t=t||{}).headers||n._options.headers,responseTarget:t.responseTarget||n._options.responseTarget,autoFetch:t.autoFetch||n._options.autoFetch,maxFetch:t.maxFetch||n._options.maxFetch,scanAll:t.scanAll||n._options.scanAll},this.once("response",(function(t){a(null,t)})),this.once("error",(function(t){a(t)})),this.once("fetch",(function(){var r,i;t.responseTarget===d.Records&&(n._chaining||e)&&(o.debug("--- collecting all fetched records ---"),r=[],i=function(t){r.push(t)},n.on("record",i),n.once("end",(function(){n.removeListener("record",i),n.emit("response",r,n)})))})),this._executed=!0,o.debug(">>> Query start >>>"),this._execute(t).then((function(){o.debug("*** Query finished ***")})).fail((function(t){o.debug("--- Query error ---"),n.emit("error",t)})),this},u.prototype._execute=function(t){var e=this,n=this._conn._logger,o=t.responseTarget,r=t.autoFetch,i=t.maxFetch,s=t.scanAll;return a.resolve(e._locator?e._conn._baseUrl()+"/query/"+e._locator:e.toSOQL().then((function(t){return e.totalFetched=0,n.debug("SOQL = "+t),e._conn._baseUrl()+"/"+(s?"queryAll":"query")+"?q="+encodeURIComponent(t)}))).then((function(n){return e._conn.request({method:"GET",url:n,headers:t.headers})})).then((function(n){var a;switch(e.emit("fetch"),e.totalSize=n.totalSize,o){case d.SingleRecord:a=n.records&&0<n.records.length?n.records[0]:null;break;case d.Records:a=n.records;break;case d.Count:a=n.totalSize;break;default:a=n}o!==d.Records&&e.emit("response",a,e);for(var s=n.records&&n.records.length||0,l=0;l<s;l++){if(e.totalFetched>=i){e._finished=!0;break}var c=n.records[l];e.push(c),e.emit("record",c,e.totalFetched++,e)}return n.nextRecordsUrl&&(e._locator=n.nextRecordsUrl.split("/").pop()),e._finished=e._finished||n.done||!r,e._finished?e.push(null):e._execute(t),a}))},u.prototype._read=function(t){this._finished||this._executed||this.execute({autoFetch:!0})},u.prototype.on=function(t,e){var n;return"record"===t&&(n=this).on("readable",(function(){for(;null!==n.read(););})),u.super_.prototype.on.call(this,t,e)},u.prototype.addListener=u.prototype.on,u.prototype._expandFields=function(){if(this._soql)return a.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var t,e,n=this,o=n._conn._logger,r=this._conn,s=this._config.table,l=this._config.fields||[];return o.debug("_expandFields: table = "+s+", fields = "+l.join(", ")),a.all([a.resolve(n._parent?(t=s,e=n._parent._config.table,o.debug('finding table for relation "'+t+'" in "'+e+'"...'),c(e).then((function(e){var n=t.toUpperCase();return(e=i.find(e.childRelationships,(function(t){return(t.relationshipName||"").toUpperCase()===n})))?e.childSObject:a.reject(new Error("No child relationship found: "+t))}))):s).then((function(t){return a.all(i.map(l,(function(e){return function t(e,n){o.debug('expanding field "'+n+'" in "'+e+'"...');var r=n.split(".");return"*"===r[r.length-1]?c(e).then((function(n){if(o.debug("table "+e+"has been described"),1<r.length){var a=r.shift();if(s=i.find(n.fields,(function(t){return t.relationshipName&&t.relationshipName.toUpperCase()===a.toUpperCase()}))){var s=1===s.referenceTo.length?s.referenceTo[0]:"Name";return t(s,r.join(".")).then((function(t){return i.map(t,(function(t){return a+"."+t}))}))}return[]}return i.map(n.fields,(function(t){return t.name}))})):a.resolve([n])}(t,e)}))).then((function(t){n._config.fields=i.flatten(t)}))})),a.all(i.map(n._children||[],(function(t){return t._expandFields()})))]);function c(t){o.debug("describe cache: "+t);var e=a.defer();return r.describe$(t,(function(t,n){o.debug("... done."),t?e.reject(t):e.resolve(n)})),e.promise}},u.prototype.explain=function(t){var e=this,n=this._conn._logger;return e.toSOQL().then((function(t){return n.debug("SOQL = "+t),t="/query/?explain="+encodeURIComponent(t),e._conn.request(t)})).thenCall(t)},u.prototype.toSOQL=function(t){var e=this;return a.resolve(e._soql||e._expandFields().then((function(){return l.createSOQL(e._config)}))).thenCall(t)},u.prototype.stream=c.Serializable.prototype.stream,u.prototype.map=c.prototype.map,u.prototype.filter=c.prototype.map,u.prototype.delete=u.prototype.del=u.prototype.destroy=function(t,e,n){if("function"==typeof t?(n=t,e={},t=null):"object"==s(t)&&null!==t&&(n=e,e=t,t=null),e=e||{},!(t=t||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk delete.");var o=!1===e.allowBulk?-1:"number"==typeof e.bulkThreshold?e.bulkThreshold:this._conn._ensureVersion(42)?200:this._conn.maxRequest/2,r=this;return new a((function(e,n){var i=[],a=null;r.on("data",(function(s){s.Id?(s={Id:s.Id},a?a.write(s):(i.push(s),(o<0||i.length>o)&&(a=r._conn.sobject(t).deleteBulk().on("response",e).on("error",n),i.forEach((function(t){a.write(t)})),i=[]))):r.emit("error",new Error("Queried record does not include Salesforce record ID."))})).on("end",(function(){var o;a?a.end():(o=i.map((function(t){return t.Id})),r._conn.sobject(t).destroy(o,{allowRecursive:!0}).then(e,n))})).on("error",n)})).thenCall(n)},u.prototype.update=function(t,e,n,o){if("function"==typeof e?(o=e,n={},e=null):"object"==s(e)&&null!==e&&(o=n,n=e,e=null),n=n||{},!(e=e||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk update.");var r=i.isFunction(t)?c.map(t):c.recordMapStream(t),l=!1===n.allowBulk?-1:"number"==typeof n.bulkThreshold?n.bulkThreshold:this._conn._ensureVersion(42)?200:this._conn.maxRequest/2,u=this;return new a((function(t,n){var o=[],i=null;u.on("error",n).pipe(r).on("data",(function(r){i?i.write(r):(o.push(r),(l<0||o.length>l)&&(i=u._conn.sobject(e).updateBulk().on("response",t).on("error",n),o.forEach((function(t){i.write(t)})),o=[]))})).on("end",(function(){i?i.end():u._conn.sobject(e).update(o,{allowRecursive:!0}).then(t,n)})).on("error",n)})).thenCall(o)},u.prototype.then=function(t,e){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},u.prototype.thenCall=function(t){return i.isFunction(t)&&this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})),this};var p=function t(e,n,o){t.super_.call(this,e,o),this._parent=n};o(p,u),p.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},p.prototype.end=function(){return this._parent},p.prototype.run=p.prototype.exec=p.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,t("_process"))},{"./date":22,"./promise":27,"./record-stream":30,"./soql-builder":35,_process:92,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],29:[function(t,e,n){"use strict";(e=e.exports=function(t,e){this._conn=t,this._path=e}).prototype.describe=function(t){var e=this._path+"/describe";return this._conn.request(e).thenCall(t)},e.prototype.defaultValues=function(t,e){"function"==typeof t&&(e=t,t=null);var n=this._path+"/defaultValues";return t&&(n+="/"+t),this._conn.request(n).thenCall(e)},e.prototype.execute=function(t,e,n){return e={contextId:t,record:e},this._conn.requestPost(this._path,e).thenCall(n)}},{}],30:[function(t,e,n){"use strict";t("events");var o=((i=t("readable-stream")).Duplex,i.Transform),r=i.PassThrough,i=t("inherits"),a=t("lodash/core"),l=t("./csv"),c=e.exports=function(){c.super_.call(this,{objectMode:!0})};i(c,o),c.prototype._transform=function(t,e,n){this.emit("record",t),this.push(t),n()},c.prototype.map=function(t){return this.pipe(c.map(t))},c.prototype.filter=function(t){return this.pipe(c.filter(t))};var u=c.Serializable=function(){u.super_.call(this),this._dataStream=null};i(u,c),u.prototype.stream=function(t,e){var n=p[t=t||"csv"];if(!n)throw new Error("Converting ["+t+"] data stream is not supported.");return this._dataStream||(this._dataStream=new r,this.pipe(n.serialize(e)).pipe(this._dataStream)),this._dataStream};var d=c.Parsable=function(){d.super_.call(this),this._dataStream=null};i(d,c),d.prototype.stream=function(t,e){var n=p[t=t||"csv"],o=this;if(!n)throw new Error("Converting ["+t+"] data stream is not supported.");return this._dataStream||(this._dataStream=new r,this._parserStream=n.parse(e).on("error",(function(t){o.emit("error",t)})),this._parserStream.pipe(this).pipe(new r({objectMode:!0,highWaterMark:5e5}))),this._dataStream},d.prototype.on=function(t,e){return"readable"!==t&&"record"!==t||this._dataStream.pipe(this._parserStream),d.super_.prototype.on.call(this,t,e)},d.prototype.addListener=d.prototype.on,c.map=function(t){var e=new c.Serializable;return e._transform=function(e,n,o){e=t(e)||e,this.push(e),o()},e},c.recordMapStream=function(t,e){return c.map((function(n){var o,r={Id:n.Id};for(o in t)r[o]=e?t[o]:function(t,e){if(a.isString(t)){var n=/^\$\{(\w+)\}$/.exec(t);return n?e[n[1]]:t.replace(/\$\{(\w+)\}/g,(function(t,n){return n=e[n],a.isNull(n)||a.isUndefined(n)?"":String(n)}))}return t}(t[o],n);return r}))},c.filter=function(t){var e=new c.Serializable;return e._transform=function(e,n,o){t(e)&&this.push(e),o()},e},i={serialize:function(t){return t=t||{},e=c.map((function(e){return function t(e,n){return Object.keys(e).reduce((function(e,o){var r,i=e[o],l={};return"attributes"===o?delete(e=a.extend({},e))[o]:n.nullValue&&null===i?(l[o]=n.nullValue,e=a.extend({},e,l)):null!==i&&"object"==s(i)&&(r=t(i,n),e=Object.keys(r).reduce((function(t,e){return t[o+"."+e]=r[e],t}),a.extend({},e))),e}),e)}(e,t)})),n=l.serializeCSVStream(t),(o=new r).on("pipe",(function(t){t.unpipe(o),t.pipe(e).pipe(n)})),o.pipe=function(t,e){return n.pipe(t,e)},o;var e,n,o},parse:function(t){return l.parseCSVStream(t)}};var p=c.DataStreamConverters={csv:i}},{"./csv":21,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],31:[function(t,e,n){"use strict";var o=t("lodash/core");(e=e.exports=function(t,e,n){this._conn=t,this.type=e,this.id=n}).prototype.retrieve=function(t,e){return"function"==typeof t&&(e=t,t={}),this._conn.retrieve(this.type,this.id,t,e)},e.prototype.update=function(t,e,n){return"function"==typeof e&&(n=e,e={}),(t=o.clone(t)).Id=this.id,this._conn.update(this.type,t,e,n)},e.prototype.delete=e.prototype.del=e.prototype.destroy=function(t,e){return"function"==typeof t&&(e=t,t={}),this._conn.destroy(this.type,this.id,t,e)},e.prototype.blob=function(t){return t=[this._conn._baseUrl(),"sobjects",this.type,this.id,t].join("/"),this._conn.request(t).stream()}},{"lodash/core":89}],32:[function(t,e,n){"use strict";var o=t("./_required");e.exports=function(t){"./jsforce"!==t&&"jsforce"!==t||(t="./core");var e=o[t];if(void 0===e)throw new Error("Cannot find module '"+t+"'");return e}},{"./_required":3}],33:[function(t,e,n){"use strict";var o=t("inherits"),r=t("lodash/core"),i=(t("xml2js"),t=t("./http-api"),e.exports=function(t,e){i.super_.apply(this,arguments),this._endpointUrl=e.endpointUrl,this._xmlns=e.xmlns||"urn:partner.soap.sforce.com"});function a(t,e){var n=e.shift();if(n){for(var o in t)if(n.test(o))return a(t[o],e);return null}return t}function s(t,e){if(r.isObject(t)&&(e=t,t=null),r.isArray(e))return r.map(e,(function(e){return s(t,e)})).join("");var n=[],o=[];if(r.isObject(e)){for(var i in e){var a=e[i];"@"===i[0]?(i=i.substring(1),n.push(i+'="'+a+'"')):o.push(s(i,a))}e=o.join("")}else e=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return(t?"<"+t+(0<n.length?" "+n.join(" "):"")+">":"")+e+(t?"</"+t+">":"")}o(i,t),i.prototype.invoke=function(t,e,n,o){"function"==typeof n&&(o=n,n=null);var i={};return i[t]=e,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:i}).then((function(t){return n?function t(e,n){if(r.isArray(e))return e.map((function(e){return t(e,n&&n[0])}));if(r.isObject(e)){if(e.$&&"true"===e.$["xsi:nil"])return null;if(r.isArray(n))return[t(e,n[0])];var o,i={};for(o in e)i[o]=t(e[o],n&&n[o]);return i}if(r.isArray(n))return[t(e,n[0])];if(r.isObject(n))return{};switch(n){case"string":return String(e);case"number":return Number(e);case"boolean":return"true"===e;default:return e}}(t,n):t})).thenCall(o)},i.prototype.beforeSend=function(t){t.body=this._createEnvelope(t.message)},i.prototype.isSessionExpired=function(t){return 500===t.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(t.body)},i.prototype.parseError=function(t){return{errorCode:(t=a(t,[/:Envelope$/,/:Body$/,/:Fault$/])).faultcode,message:t.faultstring}},i.prototype.getResponseBody=function(t){return a(i.super_.prototype.getResponseBody.call(this,t),[/:Envelope$/,/:Body$/,/.+/])},i.prototype._createEnvelope=function(t){var e={},n=this._conn;return n.accessToken&&(e.SessionHeader={sessionId:this._conn.accessToken}),n.callOptions&&(e.CallOptions=n.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',s(e),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',s(t),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},{"./http-api":23,inherits:85,"lodash/core":89,xml2js:124}],34:[function(t,e,n){"use strict";var o=t("lodash/core"),r=t("./record"),i=t("./query"),a=(t("./cache"),t("./quick-action"));(e=e.exports=function(t,e){this._conn=t,this.type=e,e={key:"describe."+this.type},this.describe$=t.cache.makeCacheable(this.describe,this,e),this.describe=t.cache.makeResponseCacheable(this.describe,this,e),e={key:"layouts."+this.type},this.layouts$=t.cache.makeCacheable(this.layouts,this,e),this.layouts=t.cache.makeResponseCacheable(this.layouts,this,e),e={key:"compactLayouts."+this.type},this.compactLayouts$=t.cache.makeCacheable(this.compactLayouts,this,e),this.compactLayouts=t.cache.makeResponseCacheable(this.compactLayouts,this,e),e={key:"approvalLayouts."+this.type},this.approvalLayouts$=t.cache.makeCacheable(this.approvalLayouts,this,e),this.approvalLayouts=t.cache.makeResponseCacheable(this.approvalLayouts,this,e)}).prototype.insert=e.prototype.create=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.create(this.type,t,e,n)},e.prototype.retrieve=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.retrieve(this.type,t,e,n)},e.prototype.update=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.update(this.type,t,e,n)},e.prototype.upsert=function(t,e,n,o){return"function"==typeof n&&(o=n,n={}),this._conn.upsert(this.type,t,e,n,o)},e.prototype.delete=e.prototype.del=e.prototype.destroy=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.destroy(this.type,t,e,n)},e.prototype.describe=function(t){return this._conn.describe(this.type,t)},e.prototype.record=function(t){return new r(this._conn,this.type,t)},e.prototype.find=function(t,e,n,o){return"function"==typeof t?(o=t,t={},n=e=null):"function"==typeof e?(o=e,n=e=null):"function"==typeof n&&(o=n,n=null),t={fields:e,includes:(n=n||{}).includes,table:this.type,conditions:t,limit:n.limit,sort:n.sort,offset:n.offset||n.skip},(n=new i(this._conn,t,n)).setResponseTarget(i.ResponseTargets.Records),o&&n.run(o),n},e.prototype.findOne=function(t,e,n,r){return"function"==typeof t?(r=t,t={},n=e=null):"function"==typeof e?(r=e,n=e=null):"function"==typeof n&&(r=n,n=null),n=o.extend(n||{},{limit:1}),(n=this.find(t,e,n)).setResponseTarget(i.ResponseTargets.SingleRecord),r&&n.run(r),n},e.prototype.select=function(t,e){return this.find(null,t,null,e)},e.prototype.count=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=this.find(t,{"count()":!0})).setResponseTarget("Count"),e&&t.run(e),t},e.prototype.bulkload=function(t,e,n,o){return this._conn.bulk.load(this.type,t,e,n,o)},e.prototype.insertBulk=e.prototype.createBulk=function(t,e){return this.bulkload("insert",t,e)},e.prototype.updateBulk=function(t,e){return this.bulkload("update",t,e)},e.prototype.upsertBulk=function(t,e,n){return this.bulkload("upsert",{extIdField:e},t,n)},e.prototype.deleteBulk=e.prototype.destroyBulk=function(t,e){return this.bulkload("delete",t,e)},e.prototype.deleteHardBulk=e.prototype.destroyHardBulk=function(t,e){return this.bulkload("hardDelete",t,e)},e.prototype.recent=function(t){return this._conn.recent(this.type,t)},e.prototype.updated=function(t,e,n){return this._conn.updated(this.type,t,e,n)},e.prototype.deleted=function(t,e,n){return this._conn.deleted(this.type,t,e,n)},e.prototype.layouts=function(t,e){return"function"==typeof t&&(e=t,t=null),t="/sobjects/"+this.type+"/describe/"+(t?"namedLayouts/"+t:"layouts"),this._conn.request(t,e)},e.prototype.compactLayouts=function(t){var e="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(e,t)},e.prototype.approvalLayouts=function(t){var e="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(e,t)},e.prototype.listviews=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(e,t)},e.prototype.listview=function(t){return new s(this._conn,this.type,t)},e.prototype.quickActions=function(t){return this._conn.request("/sobjects/"+this.type+"/quickActions").thenCall(t)},e.prototype.quickAction=function(t){return new a(this._conn,"/sobjects/"+this.type+"/quickActions/"+t)};var s=function(t,e,n){this._conn=t,this.type=e,this.id=n};s.prototype.results=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(e,t)},s.prototype.describe=function(t,e){"function"==typeof t&&(e=t,t={}),t=t||{};var n=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request({method:"GET",url:n,headers:t.headers},e)},s.prototype.explain=function(t){var e="/query/?explain="+this.id;return this._conn.request(e,t)}},{"./cache":18,"./query":28,"./quick-action":29,"./record":31,"lodash/core":89}],35:[function(t,e,n){"use strict";var o=t("lodash/core"),r=t("./date"),i={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$includes:"INCLUDES",$excludes:"EXCLUDES",$exists:"EXISTS"};function a(t,e){return o.isArray(e)?s(t,"$in",e):o.isObject(e)?o.map(e,(function(e,n){if("$"===n[0])return s(t,n,e)})).join(" AND "):s(t,"$eq",e)}function s(t,e,n){var r=i[e];if(!r||o.isUndefined(n))return null;var a=l(n);if(o.isUndefined(a))return null;switch(r){case"NOT LIKE":return"("+["NOT",t,"LIKE",a].join(" ")+")";case"EXISTS":return[t,n?"!=":"=","null"].join(" ");default:return[t,r,a].join(" ")}}function l(t){return c(t)?0<t.length?"("+t.map(l).join(", ")+")":void 0:t instanceof r?t.toString():o.isString(t)?"'"+String(t||"").replace(/'/g,"\\'")+"'":o.isNumber(t)?t.toString():o.isNull(t)?"null":t}function c(t){return o.isObject(t)&&o.isFunction(t.pop)}n.createSOQL=function t(e){var n=["SELECT ",(n=e.fields,r=e.includes,r=o.map(o.values(r||{}),(function(e){return"("+t(e)+")"})),(n||["Id"]).concat(r).join(", "))," FROM ",e.table].join(""),r=function t(e,n,r){return o.isString(e)?e:(n=n||"AND",r=r||0,e=(e=c(e=e||[])?e.map((function(t){var e,n=[];for(e in t)n.push({key:e,value:t[e]});return 1<n.length?n:n[0]})):o.keys(e).map((function(t){return{key:t,value:e[t]}}))).map((function(o){var i,s=r+1;switch(o.key){case"$or":case"$and":case"$not":return"NOT"!==n&&1===e.length&&(s=r),i="$or"===o.key?"OR":"$and"===o.key?"AND":"NOT",t(o.value,i,s);default:return a(o.key,o.value)}})).filter((function(t){return t})),"NOT"===n?((i=0<r)?"(":"")+"NOT "+e[0]+(i?")":""):((i=0<r&&1<e.length)?"(":"")+e.join(" "+n+" ")+(i?")":""));var i}(e.conditions);return r&&(n+=" WHERE "+r),(r=function(t){if(t=t||[],o.isString(t)){if(/,|\s+(asc|desc)\s*$/.test(t))return t;t=t.split(/\s+/).map((function(t){var e="ASC",n=t[0];return"-"===n?(e="DESC",t=t.substring(1)):"+"===n&&(t=t.substring(1)),[t,e]}))}else c(t)||(t=o.keys(t).map((function(e){return[e,t[e]]})));return t.map((function(t){var e=t[0],n=t[1];switch(String(n)){case"DESC":case"desc":case"descending":case"-":case"-1":n="DESC";break;default:n="ASC"}return e+" "+n})).join(", ")}(e.sort))&&(n+=" ORDER BY "+r),e.limit&&(n+=" LIMIT "+e.limit),e.offset&&(n+=" OFFSET "+e.offset),n}},{"./date":22,"lodash/core":89}],36:[function(t,e,n){(function(n){"use strict";var o,r,i=t("inherits"),a=t("./promise"),s=t("request"),l=t("./browser/canvas"),c=t("./browser/jsonp");s.defaults&&(o={followAllRedirects:!0},n.env.HTTP_PROXY&&(o.proxy=n.env.HTTP_PROXY),parseInt(n.env.HTTP_TIMEOUT)&&(o.timeout=parseInt(n.env.HTTP_TIMEOUT)),s=s.defaults(o)),r="undefined"==typeof window?n.env.LOCATION_BASE_URL||"":(u=function(t){var e=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(t);return e&&(t=e[1]+".salesforce.com"),t}(window.location.host))?"https://"+u:"",(n=e.exports=function(){}).prototype.httpRequest=function(t,e){var n,o=a.defer(),r=this._getHttpRequestModule();return function t(e,n){var o=e.then;return e.then=function(){return n(),t(o.apply(e,arguments),n)},e.stream=n,e}(o.promise,(function(){return n=n||r(t,(function(t,e){t?o.reject(t):o.resolve(e)}))})).thenCall(e)},n.prototype._getHttpRequestModule=function(){return s};var u=n.JsonpTransport=function(t){this._jsonpParam=t};i(u,n),u.prototype._getHttpRequestModule=function(){return c.createRequest(this._jsonpParam)},u.supported=c.supported,i(u=n.CanvasTransport=function(t){this._signedRequest=t},n),u.prototype._getHttpRequestModule=function(){return l.createRequest(this._signedRequest)},u.supported=l.supported;var d=n.ProxyTransport=function(t){this._proxyUrl=t};i(d,n),d.prototype.httpRequest=function(t,e){var n=t.url;0===n.indexOf("/")&&(n=r+n);var o={method:t.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":n}};if(!t.body&&""!==t.body||(o.body=t.body),t.headers)for(var i in t.headers)o.headers[i]=t.headers[i];return d.super_.prototype.httpRequest.call(this,o,e)};var p=n.HttpProxyTransport=function(t){this._httpProxy=t};i(p,n),p.prototype.httpRequest=function(t,e){var n=t.url;0===n.indexOf("/")&&(n=r+n);var o={method:t.method,url:t.url,proxy:this._httpProxy,headers:{}};if(!t.body&&""!==t.body||(o.body=t.body),t.headers)for(var i in t.headers)o.headers[i]=t.headers[i];return p.super_.prototype.httpRequest.call(this,o,e)}}).call(this,t("_process"))},{"./browser/canvas":14,"./browser/jsonp":16,"./promise":27,_process:92,inherits:85,request:17}],37:[function(t,e,n){"use strict";var o=t("./raw"),r=[],i=[],a=o.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function s(t){var e=r.length?r.pop():new l;e.task=t,o(e)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(t){s.onerror?s.onerror(t):(i.push(t),a())}finally{this.task=null,r[r.length]=this}}},{"./raw":38}],38:[function(t,e,o){(function(t){"use strict";function n(t){r.length||o(),r[r.length]=t}e.exports=n;var o,r=[],i=0;function a(){for(;i<r.length;){var t=i;if(i+=1,r[t].call(),1024<i){for(var e=0,n=r.length-i;e<n;e++)r[e]=r[e+i];r.length-=i,i=0}}r.length=0,i=0}var s,l,c,u=(t=void 0!==t?t:self).MutationObserver||t.WebKitMutationObserver;function d(t){return function(){var e=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(e),clearInterval(n),t()}}}o="function"==typeof u?(l=1,s=new u(s=a),c=document.createTextNode(""),s.observe(c,{characterData:!0}),function(){l=-l,c.data=l}):d(a),n.requestFlush=o,n.makeRequestCallFromTimer=d}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(t,e,n){"use strict";n.byteLength=function(t){var e;return 3*((t=(e=c(t))[0])+(e=e[1]))/4-e},n.toByteArray=function(t){for(var e,n=(o=c(t))[0],o=o[1],a=new i(function(t,e){return 3*(t+e)/4-e}(n,o)),s=0,l=0<o?n-4:n,u=0;u<l;u+=4)e=r[t.charCodeAt(u)]<<18|r[t.charCodeAt(u+1)]<<12|r[t.charCodeAt(u+2)]<<6|r[t.charCodeAt(u+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;return 2===o&&(e=r[t.charCodeAt(u)]<<2|r[t.charCodeAt(u+1)]>>4,a[s++]=255&e),1===o&&(e=r[t.charCodeAt(u)]<<10|r[t.charCodeAt(u+1)]<<4|r[t.charCodeAt(u+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e),a},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(function(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(function(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}(r));return i.join("")}(t,a,s<a+16383?s:a+16383));return 1==r?(e=t[n-1],i.push(o[e>>2]+o[e<<4&63]+"==")):2==r&&(e=(t[n-2]<<8)+t[n-1],i.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),i.join("")};for(var o=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)o[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return-1===(t=t.indexOf("="))&&(t=e),[t,t===e?0:4-t%4]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],40:[function(t,e,n){},{}],41:[function(t,e,n){"use strict";var o=t("base64-js"),r=t("ieee754");n.Buffer=s,n.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(t){if(i<t)throw new RangeError("Invalid typed array length");return(t=new Uint8Array(t)).__proto__=s.prototype,t}function s(t,e,n){if("number"!=typeof t)return l(t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(t)}function l(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return j(t)||t&&j(t.buffer)?function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');return(n=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=s.prototype,n}(t,e,n):"string"==typeof t?function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|h(t,e),o=a(n);return(e=o.write(t,e))!==n&&(o=o.slice(0,e)),o}(t,e):function(t){if(s.isBuffer(t)){var e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||B(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t){return c(t),a(t<0?0:0|p(t))}function d(t){for(var e=t.length<0?0:0|p(t.length),n=a(e),o=0;o<e;o+=1)n[o]=255&t[o];return n}function p(t){if(i<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function h(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||j(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(t).length;default:if(o)return P(t).length;e=(""+e).toLowerCase(),o=!0}}function f(t,e,n){var r,i,a,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||o<n)&&(n=o);for(var r="",i=e;i<n;++i)r+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[i]);return r}(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return function(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}(this,e,n);case"latin1":case"binary":return function(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}(this,e,n);case"base64":return r=this,a=n,0===(i=e)&&a===r.length?o.fromByteArray(r):o.fromByteArray(r.slice(i,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}(this,e,n);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function b(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function y(t,e,n,o,r){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),B(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=s.from(e,o)),s.isBuffer(e))return 0===e.length?-1:g(t,e,n,o,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):g(t,[e],n,o,r);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,o,r){var i=1,a=t.length,s=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a/=i=2,s/=2,n/=2}function l(t,e){return 1===i?t[e]:t.readUInt16BE(e*i)}if(r)for(var c=-1,u=n;u<a;u++)if(l(t,u)===l(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===s)return c*i}else-1!==c&&(u-=u-c),c=-1;else for(a<n+s&&(n=a-s),u=n;0<=u;u--){for(var d=!0,p=0;p<s;p++)if(l(t,u+p)!==l(e,p)){d=!1;break}if(d)return u}return-1}function v(t,e,n,o){return I(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,o)}function m(t,e,n,o){return I(function(t,e){for(var n,o,r=[],i=0;i<t.length&&!((e-=2)<0);++i)n=(o=t.charCodeAt(i))>>8,o%=256,r.push(o),r.push(n);return r}(e,t.length-n),t,n,o)}function _(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;r<n;){var i,a,s,l,c=t[r],u=null,d=239<c?4:223<c?3:191<c?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=t[r+1]))&&127<(l=(31&c)<<6|63&i)&&(u=l);break;case 3:i=t[r+1],a=t[r+2],128==(192&i)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&i)<<6|63&a)&&(l<55296||57343<l)&&(u=l);break;case 4:i=t[r+1],a=t[r+2],s=t[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)&&l<1114112&&(u=l)}null===u?(u=65533,d=1):65535<u&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),r+=d}return function(t){var e=t.length;if(e<=w)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=w));return n}(o)}n.kMaxLength=i,(s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{get:function(){if(this instanceof s)return this.buffer}}),Object.defineProperty(s.prototype,"offset",{get:function(){if(this instanceof s)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=l,s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(t,e,n){return e=e,n=n,c(t=t),t<=0||void 0===e?a(t):"string"==typeof n?a(t).fill(e,n):a(t).fill(e)},s.allocUnsafe=u,s.allocUnsafeSlow=u,s.isBuffer=function(t){return null!=t&&!0===t._isBuffer},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,r=0,i=Math.min(n,o);r<i;++r)if(t[r]!==e[r]){n=t[r],o=e[r];break}return n<o?-1:o<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;for(var n=s.allocUnsafe(e),o=0,r=0;r<t.length;++r){var i=t[r];if(ArrayBuffer.isView(i)&&(i=s.from(i)),!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):f.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,o,r){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),e<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(r<=o&&n<=e)return 0;if(r<=o)return-1;if(n<=e)return 1;if(this===t)return 0;for(var i=(r>>>=0)-(o>>>=0),a=(n>>>=0)-(e>>>=0),l=Math.min(i,a),c=this.slice(o,r),u=t.slice(e,n),d=0;d<l;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},s.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-e;if((void 0===n||r<n)&&(n=r),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o=o||"utf8";for(var i,a,s,l=!1;;)switch(o){case"hex":return function(t,e,n,o){n=Number(n)||0;var r=t.length-n;(!o||r<(o=Number(o)))&&(o=r),(r=e.length)/2<o&&(o=r/2);for(var i=0;i<o;++i){var a=parseInt(e.substr(2*i,2),16);if(B(a))return i;t[n+i]=a}return i}(this,t,e,n);case"utf8":case"utf-8":return a=e,s=n,I(P(t,(i=this).length-a),i,a,s);case"ascii":return v(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return i=this,a=e,s=n,I(T(t),i,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),l=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,o,r,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<i)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function x(t,e,n,o){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function S(t,e,n,o,i){return e=+e,n>>>=0,i||x(t,0,n,4),r.write(t,e,n,o,23,4),n+4}function C(t,e,n,o,i){return e=+e,n>>>=0,i||x(t,0,n,8),r.write(t,e,n,o,52,8),n+8}s.prototype.slice=function(t,e){var n=this.length;return(t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),(e=this.subarray(t,e)).__proto__=s.prototype,e},s.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},s.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var o=this[t+--e],r=1;0<e&&(r*=256);)o+=this[t+--e]*r;return o},s.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},s.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);for(var o=e,r=1,i=this[t+--o];0<o&&(r*=256);)i+=this[t+--o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},s.prototype.readInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),r.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),r.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),r.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),r.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,o){t=+t,e>>>=0,n>>>=0,o||k(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,o){t=+t,e>>>=0,n>>>=0,o||k(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[e+r]=255&t;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,n,o){t=+t,e>>>=0,o||k(this,t,e,n,(o=Math.pow(2,8*n-1))-1,-o);var r=0,i=1,a=0;for(this[e]=255&t;++r<n&&(i*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/i>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,o){t=+t,e>>>=0,o||k(this,t,e,n,(o=Math.pow(2,8*n-1))-1,-o);var r=n-1,i=1,a=0;for(this[e+r]=255&t;0<=--r&&(i*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/i>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,n){return S(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return S(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return C(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return C(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,o){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n=n||0,o||0===o||(o=this.length),e>=t.length&&(e=t.length),e=e||0,0<o&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var r=o-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,o);else if(this===t&&n<e&&e<o)for(var i=r-1;0<=i;--i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,o),e);return r},s.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!s.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var r;1===t.length&&(r=t.charCodeAt(0),("utf8"===o&&r<128||"latin1"===o)&&(t=r))}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(i=e;i<n;++i)this[i]=t;else{var a=s.isBuffer(t)?t:new s(t,o),l=a.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=a[i%l]}return this};var E=/[^+/0-9A-Za-z-_]/g;function P(t,e){var n;e=e||1/0;for(var o=t.length,r=null,i=[],a=0;a<o;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(e-=3)&&i.push(239,191,189);continue}if(a+1===o){-1<(e-=3)&&i.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(e-=3)&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(e-=3)&&i.push(239,191,189);if(r=null,n<128){if(--e<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function T(t){return o.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function I(t,e,n,o){for(var r=0;r<o&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function j(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function B(t){return t!=t}},{"base64-js":39,ieee754:84}],42:[function(t,e,n){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==s(t)},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==s(t)&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==s(t)||void 0===t},n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":86}],43:[function(t,e,n){(function(t){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.size=n,this.length=0,this.buf=t.alloc(n)}var o,r;return o=e,(r=[{key:"prepend",value:function(t){var e=this.length++;e===this.size&&this.resize();var n=this.clone();this.buf[0]=t,n.copy(this.buf,1,0,e)}},{key:"append",value:function(t){var e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}},{key:"clone",value:function(){return t.from(this.buf.slice(0,this.length))}},{key:"resize",value:function(){var e=this.length;this.size=2*this.size;var n=t.alloc(this.size);this.buf.copy(n,0,0,e),this.buf=n}},{key:"toString",value:function(){return this.buf.slice(0,this.length).toString()}},{key:"toJSON",value:function(){return this.toString()}},{key:"reset",value:function(){this.length=0}}])&&n(o.prototype,r),e}();e.exports=o}).call(this,t("buffer").Buffer)},{buffer:41}],44:[function(t,e,n){(function(n,o){"use strict";function r(t){var e="function"==typeof Map?new Map:void 0;return(r=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return i(t,arguments,b(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),g(o,t)})(t)}function i(t,e,n){return(i=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var o=[null];return o.push.apply(o,e),o=new(Function.bind.apply(t,o)),n&&g(o,n.prototype),o}).apply(null,arguments)}function a(t){return(a="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)),o}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){var o,r;o=t,e=n[r=e],r in o?Object.defineProperty(o,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[r]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(){var t,e,r,i;for(i in arguments){var s=arguments[i],l=a(s);if(void 0!==t||"string"!=typeof s&&!n.isBuffer(s))if(void 0===e&&S(s))e=s;else{if(void 0!==r||"function"!==l)throw new k("CSV_INVALID_ARGUMENT",["Invalid argument:","got ".concat(JSON.stringify(s)," at index ").concat(i)]);r=s}else t=s}var c,u=new O(e);return r&&(c=void 0===e||void 0===e.objname?[]:{},u.on("readable",(function(){for(var t;null!==(t=this.read());)void 0===e||void 0===e.objname?c.push(t):c[t[0]]=t[1]})),u.on("error",(function(t){r(t,void 0,u.info)})),u.on("end",(function(){r(void 0,c,u.info)}))),void 0!==t&&("function"==typeof o?o((function(){u.write(t),u.end()})):(u.write(t),u.end())),u}var m=t("stream").Transform,_=t("./ResizeableBuffer"),w=n.from([239,187,191]),O=function(){function t(){var e,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d(this,t),e=h(this,b(t).call(this,u({},{readableObjectMode:!0},{},o)));var r,i={};for(r in o)i[x(r)]=o[r];if(void 0===i.bom||null===i.bom||!1===i.bom)i.bom=!1;else if(!0!==i.bom)throw new k("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,","got ".concat(JSON.stringify(i.bom))]);var a=null;if(void 0===i.cast||null===i.cast||!1===i.cast||""===i.cast)i.cast=void 0;else if("function"==typeof i.cast)a=i.cast,i.cast=!0;else if(!0!==i.cast)throw new k("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,","got ".concat(JSON.stringify(i.cast))]);if(void 0===i.cast_date||null===i.cast_date||!1===i.cast_date||""===i.cast_date)i.cast_date=!1;else if(!0===i.cast_date)i.cast_date=function(t){var e=Date.parse(t);return isNaN(e)?t:new Date(e)};else if("function"!=typeof i.cast_date)throw new k("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,","got ".concat(JSON.stringify(i.cast_date))]);var s=null;if(!0===i.columns)s=void 0;else if("function"==typeof i.columns)s=i.columns,i.columns=!0;else if(Array.isArray(i.columns))i.columns=E(i.columns);else{if(void 0!==i.columns&&null!==i.columns&&!1!==i.columns)throw new k("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an object, a function or true,","got ".concat(JSON.stringify(i.columns))]);i.columns=!1}if(void 0===i.columns_duplicates_to_array||null===i.columns_duplicates_to_array||!1===i.columns_duplicates_to_array)i.columns_duplicates_to_array=!1;else if(!0!==i.columns_duplicates_to_array)throw new k("CSV_INVALID_OPTION_COLUMNS_DUPLICATES_TO_ARRAY",["Invalid option columns_duplicates_to_array:","expect an boolean,","got ".concat(JSON.stringify(i.columns_duplicates_to_array))]);if(void 0===i.comment||null===i.comment||!1===i.comment||""===i.comment)i.comment=null;else if("string"==typeof i.comment&&(i.comment=n.from(i.comment)),!n.isBuffer(i.comment))throw new k("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,","got ".concat(JSON.stringify(i.comment))]);var c=JSON.stringify(i.delimiter);if(Array.isArray(i.delimiter)||(i.delimiter=[i.delimiter]),0===i.delimiter.length)throw new k("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,","got ".concat(c)]);if(i.delimiter=i.delimiter.map((function(t){if(null==t||!1===t)return n.from(",");if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t)||0===t.length)throw new k("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,","got ".concat(c)]);return t})),void 0===i.escape||null===i.escape?i.escape=n.from('"'):"string"==typeof i.escape&&(i.escape=n.from(i.escape)),!n.isBuffer(i.escape))throw new Error("Invalid Option: escape must be a buffer or a string, got ".concat(JSON.stringify(i.escape)));if(1!==i.escape.length)throw new Error("Invalid Option Length: escape must be one character, got ".concat(i.escape.length));if(i.escape=i.escape[0],void 0===i.from||null===i.from)i.from=1;else{if("string"==typeof i.from&&/\d+/.test(i.from)&&(i.from=parseInt(i.from)),!Number.isInteger(i.from))throw new Error("Invalid Option: from must be an integer, got ".concat(JSON.stringify(i.from)));if(i.from<0)throw new Error("Invalid Option: from must be a positive integer, got ".concat(JSON.stringify(o.from)))}if(void 0===i.from_line||null===i.from_line)i.from_line=1;else{if("string"==typeof i.from_line&&/\d+/.test(i.from_line)&&(i.from_line=parseInt(i.from_line)),!Number.isInteger(i.from_line))throw new Error("Invalid Option: from_line must be an integer, got ".concat(JSON.stringify(o.from_line)));if(i.from_line<=0)throw new Error("Invalid Option: from_line must be a positive integer greater than 0, got ".concat(JSON.stringify(o.from_line)))}if(void 0===i.info||null===i.info||!1===i.info)i.info=!1;else if(!0!==i.info)throw new Error("Invalid Option: info must be true, got ".concat(JSON.stringify(i.info)));if(void 0===i.max_record_size||null===i.max_record_size||!1===i.max_record_size)i.max_record_size=0;else if(!(Number.isInteger(i.max_record_size)&&0<=i.max_record_size)){if("string"!=typeof i.max_record_size||!/\d+/.test(i.max_record_size))throw new Error("Invalid Option: max_record_size must be a positive integer, got ".concat(JSON.stringify(i.max_record_size)));i.max_record_size=parseInt(i.max_record_size)}if(void 0===i.objname||null===i.objname||!1===i.objname)i.objname=void 0;else if(n.isBuffer(i.objname)){if(0===i.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");i.objname=i.objname.toString()}else{if("string"!=typeof i.objname)throw new Error("Invalid Option: objname must be a string or a buffer, got ".concat(i.objname));if(0===i.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}if(void 0===i.on_record||null===i.on_record)i.on_record=void 0;else if("function"!=typeof i.on_record)throw new k("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,","got ".concat(JSON.stringify(i.on_record))]);if(null===i.quote||!1===i.quote||""===i.quote)i.quote=null;else{if(void 0===i.quote||!0===i.quote?i.quote=n.from('"'):"string"==typeof i.quote&&(i.quote=n.from(i.quote)),!n.isBuffer(i.quote))throw new Error("Invalid Option: quote must be a buffer or a string, got ".concat(JSON.stringify(i.quote)));if(1!==i.quote.length)throw new Error("Invalid Option Length: quote must be one character, got ".concat(i.quote.length));i.quote=i.quote[0]}if(void 0===i.raw||null===i.raw||!1===i.raw)i.raw=!1;else if(!0!==i.raw)throw new Error("Invalid Option: raw must be true, got ".concat(JSON.stringify(i.raw)));if(i.record_delimiter?Array.isArray(i.record_delimiter)||(i.record_delimiter=[i.record_delimiter]):i.record_delimiter=[],i.record_delimiter=i.record_delimiter.map((function(t){return"string"==typeof t&&(t=n.from(t)),t})),"boolean"!=typeof i.relax){if(void 0!==i.relax&&null!==i.relax)throw new Error("Invalid Option: relax must be a boolean, got ".concat(JSON.stringify(i.relax)));i.relax=!1}if("boolean"!=typeof i.relax_column_count){if(void 0!==i.relax_column_count&&null!==i.relax_column_count)throw new Error("Invalid Option: relax_column_count must be a boolean, got ".concat(JSON.stringify(i.relax_column_count)));i.relax_column_count=!1}if("boolean"!=typeof i.relax_column_count_less){if(void 0!==i.relax_column_count_less&&null!==i.relax_column_count_less)throw new Error("Invalid Option: relax_column_count_less must be a boolean, got ".concat(JSON.stringify(i.relax_column_count_less)));i.relax_column_count_less=!1}if("boolean"!=typeof i.relax_column_count_more){if(void 0!==i.relax_column_count_more&&null!==i.relax_column_count_more)throw new Error("Invalid Option: relax_column_count_more must be a boolean, got ".concat(JSON.stringify(i.relax_column_count_more)));i.relax_column_count_more=!1}if("boolean"!=typeof i.skip_empty_lines){if(void 0!==i.skip_empty_lines&&null!==i.skip_empty_lines)throw new Error("Invalid Option: skip_empty_lines must be a boolean, got ".concat(JSON.stringify(i.skip_empty_lines)));i.skip_empty_lines=!1}if("boolean"!=typeof i.skip_lines_with_empty_values){if(void 0!==i.skip_lines_with_empty_values&&null!==i.skip_lines_with_empty_values)throw new Error("Invalid Option: skip_lines_with_empty_values must be a boolean, got ".concat(JSON.stringify(i.skip_lines_with_empty_values)));i.skip_lines_with_empty_values=!1}if("boolean"!=typeof i.skip_lines_with_error){if(void 0!==i.skip_lines_with_error&&null!==i.skip_lines_with_error)throw new Error("Invalid Option: skip_lines_with_error must be a boolean, got ".concat(JSON.stringify(i.skip_lines_with_error)));i.skip_lines_with_error=!1}if(void 0===i.rtrim||null===i.rtrim||!1===i.rtrim)i.rtrim=!1;else if(!0!==i.rtrim)throw new Error("Invalid Option: rtrim must be a boolean, got ".concat(JSON.stringify(i.rtrim)));if(void 0===i.ltrim||null===i.ltrim||!1===i.ltrim)i.ltrim=!1;else if(!0!==i.ltrim)throw new Error("Invalid Option: ltrim must be a boolean, got ".concat(JSON.stringify(i.ltrim)));if(void 0===i.trim||null===i.trim||!1===i.trim)i.trim=!1;else if(!0!==i.trim)throw new Error("Invalid Option: trim must be a boolean, got ".concat(JSON.stringify(i.trim)));if(!0===i.trim&&!1!==o.ltrim?i.ltrim=!0:!0!==i.ltrim&&(i.ltrim=!1),!0===i.trim&&!1!==o.rtrim?i.rtrim=!0:!0!==i.rtrim&&(i.rtrim=!1),void 0===i.to||null===i.to)i.to=-1;else{if("string"==typeof i.to&&/\d+/.test(i.to)&&(i.to=parseInt(i.to)),!Number.isInteger(i.to))throw new Error("Invalid Option: to must be an integer, got ".concat(JSON.stringify(o.to)));if(i.to<=0)throw new Error("Invalid Option: to must be a positive integer greater than 0, got ".concat(JSON.stringify(o.to)))}if(void 0===i.to_line||null===i.to_line)i.to_line=-1;else{if("string"==typeof i.to_line&&/\d+/.test(i.to_line)&&(i.to_line=parseInt(i.to_line)),!Number.isInteger(i.to_line))throw new Error("Invalid Option: to_line must be an integer, got ".concat(JSON.stringify(o.to_line)));if(i.to_line<=0)throw new Error("Invalid Option: to_line must be a positive integer greater than 0, got ".concat(JSON.stringify(o.to_line)))}return e.info={comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},e.options=i,e.state={bomSkipped:!1,castField:a,commenting:!1,enabled:1===i.from_line,escaping:!1,escapeIsQuote:i.escape===i.quote,expectedRecordLength:null===i.columns?0:i.columns.length,field:new _(20),firstLineToHeaders:s,info:Object.assign({},e.info),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new _(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===i.record_delimiter.length?2:Math.max.apply(Math,l(i.record_delimiter.map((function(t){return t.length})))),trimChars:[n.from(" ")[0],n.from("\t")[0]],wasQuoting:!1,wasRowDelimiter:!1},e}var e,o;return y(t,m),e=t,(o=[{key:"_transform",value:function(t,e,n){!0!==this.state.stop&&(void 0!==(t=this.__parse(t,!1))&&(this.state.stop=!0),n(t))}},{key:"_flush",value:function(t){!0!==this.state.stop&&t(this.__parse(void 0,!0))}},{key:"__parse",value:function(t,e){var o,r=(O=this.options).bom,i=O.comment,a=O.escape,s=O.from_line,l=O.info,c=O.ltrim,u=O.max_record_size,d=O.quote,p=O.raw,h=O.relax,f=O.rtrim,b=O.skip_empty_lines,y=O.to,g=O.to_line,v=this.options.record_delimiter,m=this.state,_=m.bomSkipped,O=m.previousBuf,x=m.rawBuffer,S=m.escapeIsQuote;if(void 0===O){if(void 0===t)return void this.push(null);o=t}else o=void 0!==O&&void 0===t?O:n.concat([O,t]);if(!1===_)if(!1===r)this.state.bomSkipped=!0;else if(o.length<3){if(!1===e)return void(this.state.previousBuf=o)}else 0===w.compare(o,0,3)&&(o=o.slice(3)),this.state.bomSkipped=!0;for(var C=o.length,E=0;E<C&&!this.__needMoreData(E,C,e);E++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,!0===l&&0===this.state.record.length&&0===this.state.field.length&&!1===this.state.wasQuoting&&(this.state.info=Object.assign({},this.info)),this.state.wasRowDelimiter=!1),-1!==g&&this.info.lines>g)return this.state.stop=!0,void this.push(null);!1===this.state.quoting&&0===v.length&&this.__autoDiscoverRowDelimiter(o,E)&&(v=this.options.record_delimiter);var P=o[E];if(!0===p&&x.append(P),13!==P&&10!==P||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(!0===this.state.quoting&&P===a&&E+1<C){if(!S){this.state.escaping=!0;continue}if(o[E+1]===d){this.state.escaping=!0;continue}}if(!1===this.state.commenting&&P===d)if(!0===this.state.quoting){var T=o[E+1],I=f&&this.__isCharTrimable(T),j=null!==i&&this.__compareBytes(i,o,E+1,T),B=this.__isDelimiter(T,o,E+1),M=0===v.length?this.__autoDiscoverRowDelimiter(o,E+1):this.__isRecordDelimiter(T,o,E+1);if(P===a&&T===d)E++;else{if(!T||B||M||j||I){this.state.quoting=!1,this.state.wasQuoting=!0;continue}if(!1===h){if(void 0!==(T=this.__error(new k("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",'got "'.concat(String.fromCharCode(T),'"'),"at line ".concat(this.info.lines),"instead of delimiter, row delimiter, trimable character","(if activated) or comment"],this.__context()))))return T}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(d)}}else{if(0===this.state.field.length){this.state.quoting=!0;continue}if(!1===h){var D=this.__error(new k("INVALID_OPENING_QUOTE",["Invalid Opening Quote:","a quote is found inside a field at line ".concat(this.info.lines)],this.__context(),{field:this.state.field}));if(void 0!==D)return D}}if(!1===this.state.quoting){if(0!==(D=this.__isRecordDelimiter(P,o,E))){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!0===b&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,E+=D-1;continue}if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=s){this.state.enabled=!0,this.__resetField(),this.__resetRow(),E+=D-1;continue}var A=this.__onField();if(void 0!==A)return A;if(void 0!==(A=this.__onRow()))return A;if(-1!==y&&this.info.records>=y)return this.state.stop=!0,void this.push(null)}this.state.commenting=!1,E+=D-1;continue}if(this.state.commenting)continue;if(0!==(null===i?0:this.__compareBytes(i,o,E,P))){this.state.commenting=!0;continue}if(0!==(A=this.__isDelimiter(P,o,E))){if(void 0!==(D=this.__onField()))return D;E+=A-1;continue}}}if(!1===this.state.commenting&&0!==u&&this.state.record_length+this.state.field.length>u){var R=this.__error(new k("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes","of ".concat(u),"at line ".concat(this.info.lines)],this.__context()));if(void 0!==R)return R}if(A=!1===c||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(P),R=!1===f||!1===this.state.wasQuoting,1==A&&1==R)this.state.field.append(P);else if(!0===f&&!this.__isCharTrimable(P)&&void 0!==(P=this.__error(new k("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote","at line ".concat(this.info.lines)],this.__context()))))return P}if(!0===e)if(!0===this.state.quoting){var L=this.__error(new k("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:","the parsing is finished with an opening quote at line ".concat(this.info.lines)],this.__context()));if(void 0!==L)return L}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){if(void 0!==(L=this.__onField()))return L;if(void 0!==(L=this.__onRow()))return L}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.previousBuf=o.slice(E);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)}},{key:"__isCharTrimable",value:function(t){return 32===t||9===t||13===t||10===t||12===t}},{key:"__onRow",value:function(){var t=(u=this.options).columns,e=u.columns_duplicates_to_array,n=u.info,o=u.from,r=u.relax_column_count,i=u.relax_column_count_less,a=u.relax_column_count_more,s=u.raw,l=u.skip_lines_with_empty_values,c=this.state,u=c.enabled,d=c.record;if(!1===u)return this.__resetRow();if(u=d.length,!0===t)return C(d)?void this.__resetRow():this.__firstLineToColumns(d);if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=u),u!==this.state.expectedRecordLength)if(!0===r||!0===i&&u<this.state.expectedRecordLength||!0===a&&u>this.state.expectedRecordLength)this.info.invalid_field_length++;else if(!1===t){if(void 0!==(a=this.__error(new k("CSV_INCONSISTENT_RECORD_LENGTH",["Invalid Record Length:","expect ".concat(this.state.expectedRecordLength,","),"got ".concat(u," on line ").concat(this.info.lines)],this.__context(),{record:d}))))return a}else if(void 0!==(u=this.__error(new k("CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH",["Invalid Record Length:","columns length is ".concat(t.length,","),"got ".concat(u," on line ").concat(this.info.lines)],this.__context(),{record:d}))))return u;if(!0===l&&C(d))this.__resetRow();else{if(!0===this.state.recordHasError)return this.__resetRow(),void(this.state.recordHasError=!1);if(this.info.records++,1===o||this.info.records>=o)if(!1!==t){for(var p={},h=0,f=d.length;h<f;h++)void 0===t[h]||t[h].disabled||(!0===e&&p[t[h].name]?Array.isArray(p[t[h].name])?p[t[h].name]=p[t[h].name].concat(d[h]):p[t[h].name]=[p[t[h].name],d[h]]:p[t[h].name]=d[h]);if(void 0===(l=this.options.objname))if(!0===s||!0===n){if(o=this.__push(Object.assign({record:p},!0===s?{raw:this.state.rawBuffer.toString()}:{},!0===n?{info:this.state.info}:{})))return o}else{var b=this.__push(p);if(b)return b}else if(!0===s||!0===n){if(b=this.__push(Object.assign({record:[p[l],p]},!0===s?{raw:this.state.rawBuffer.toString()}:{},!0===n?{info:this.state.info}:{})))return b}else if(l=this.__push([p[l],p]))return l}else if(!0===s||!0===n){var y=this.__push(Object.assign({record:d},!0===s?{raw:this.state.rawBuffer.toString()}:{},!0===n?{info:this.state.info}:{}));if(y)return y}else if(y=this.__push(d))return y;this.__resetRow()}}},{key:"__firstLineToColumns",value:function(t){var e=this.state.firstLineToHeaders;try{var n=void 0===e?t:e.call(null,t);return Array.isArray(n)?(n=E(n),this.state.expectedRecordLength=n.length,this.options.columns=n,void this.__resetRow()):this.__error(new k("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,","got ".concat(JSON.stringify(n))],this.__context(),{headers:n}))}catch(t){return t}}},{key:"__resetRow",value:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.record=[],this.state.record_length=0}},{key:"__onField",value:function(){var t=(o=this.options).cast,e=o.rtrim,n=o.max_record_size,o=(r=this.state).enabled,r=r.wasQuoting;if(!1===o)return this.__resetField();if(o=this.state.field.toString(),!0===e&&!1===r&&(o=o.trimRight()),!0===t){if(t=(r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(this.__cast(o),2))[0],r=r[1],void 0!==t)return t;o=r}this.state.record.push(o),0!==n&&"string"==typeof o&&(this.state.record_length+=o.length),this.__resetField()}},{key:"__resetField",value:function(){this.state.field.reset(),this.state.wasQuoting=!1}},{key:"__push",value:function(t){var e=this.options.on_record;if(void 0!==e){var n=this.__context();try{t=e.call(null,t,n)}catch(t){return t}if(null==t)return}this.push(t)}},{key:"__cast",value:function(t){var e=(n=this.options).columns,n=n.relax_column_count;if(!0===Array.isArray(e)&&n&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];var o=this.__context();if(null!==this.state.castField)try{return[void 0,this.state.castField.call(null,t,o)]}catch(t){return[t]}return this.__isFloat(t)?[void 0,parseFloat(t)]:!1!==this.options.cast_date?[void 0,this.options.cast_date.call(null,t,o)]:[void 0,t]}},{key:"__isFloat",value:function(t){return 0<=t-parseFloat(t)+1}},{key:"__compareBytes",value:function(t,e,n,o){if(t[0]!==o)return 0;for(var r=t.length,i=1;i<r;i++)if(t[i]!==e[n+i])return 0;return r}},{key:"__needMoreData",value:function(t,e,n){if(n)return!1;var o=(i=this.options).comment,r=i.delimiter,i=(n=this.state).quoting;return n=n.recordDelimiterMaxLength,e-t-1<Math.max(o?o.length:0,n,i?1+n:0,r.length,1)}},{key:"__isDelimiter",value:function(t,e,n){var o=this.options.delimiter;t:for(var r=0;r<o.length;r++){var i=o[r];if(i[0]===t){for(var a=1;a<i.length;a++)if(i[a]!==e[n+a])continue t;return i.length}}return 0}},{key:"__isRecordDelimiter",value:function(t,e,n){var o=this.options.record_delimiter,r=o.length;t:for(var i=0;i<r;i++){var a=o[i],s=a.length;if(a[0]===t){for(var l=1;l<s;l++)if(a[l]!==e[n+l])continue t;return a.length}}return 0}},{key:"__autoDiscoverRowDelimiter",value:function(t,e){var o=t[e];return 13===o?10===t[e+1]?(this.options.record_delimiter.push(n.from("\r\n")),this.state.recordDelimiterMaxLength=2):(this.options.record_delimiter.push(n.from("\r")),this.state.recordDelimiterMaxLength=1):10===o?(this.options.record_delimiter.push(n.from("\n")),this.state.recordDelimiterMaxLength=1):0}},{key:"__error",value:function(t){var e=this.options.skip_lines_with_error;if(t="string"==typeof t?new Error(t):t,!e)return t;this.state.recordHasError=!0,this.emit("skip",t)}},{key:"__context",value:function(){var t=this.options.columns;return{column:!0===Array.isArray(t)?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,empty_lines:this.info.empty_lines,header:!0===t,index:this.state.record.length,invalid_field_length:this.info.invalid_field_length,quoting:this.state.wasQuoting,lines:this.info.lines,records:this.info.records}}}])&&p(e.prototype,o),t}(),k=function(){function t(e,o){var r;d(this,t),Array.isArray(o)&&(o=o.join(" ")),r=h(this,b(t).call(this,o)),void 0!==Error.captureStackTrace&&Error.captureStackTrace(f(r),t),r.code=e;for(var i=arguments.length,a=new Array(2<i?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];for(var l=0,c=a;l<c.length;l++){var u,p=c[l];for(u in p){var y=p[u];r[u]=n.isBuffer(y)?y.toString():null==y?y:JSON.parse(JSON.stringify(y))}}return r}return y(t,r(Error)),t}();v.Parser=O,v.CsvError=k,e.exports=v;var x=function(t){return t.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()}))},S=function(t){return"object"===a(t)&&null!==t&&!Array.isArray(t)},C=function(t){return t.every((function(t){return null==t||t.toString&&""===t.toString().trim()}))},E=function(t){for(var e=[],n=0,o=t.length;n<o;n++){var r=t[n];if(null==r||!1===r)e[n]={disabled:!0};else if("string"==typeof r)e[n]={name:r};else{if(!S(r))throw new k("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,","got ".concat(JSON.stringify(r)," at position ").concat(n)]);if("string"!=typeof r.name)throw new k("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",'property "name" is required at position '.concat(n),"when column is an object literal"]);e[n]=r}}return e}}).call(this,t("buffer").Buffer,t("timers").setImmediate)},{"./ResizeableBuffer":43,buffer:41,stream:113,timers:115}],45:[function(t,e,n){(function(n){"use strict";var o=t(".");e.exports=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t=n.from(t));var r=e&&e.objname?{}:[],i=new o.Parser(e);if(i.push=function(t){null!==t&&(void 0===e.objname?r.push(t):r[t[0]]=t[1])},void 0!==(t=i.__parse(t,!1)))throw t;if(void 0!==(i=i.__parse(void 0,!0)))throw i;return r}}).call(this,t("buffer").Buffer)},{".":44,buffer:41}],46:[function(t,e,n){(function(n){var o,r=t("stream"),i=t("util"),a=t("lodash.get");e.exports=function(){var t,e,r,i,a;return 3===arguments.length?(r=arguments[0],i=arguments[1],t=arguments[2]):2===arguments.length?(Array.isArray(arguments[0])?r=arguments[0]:i=arguments[0],"function"==typeof arguments[1]?t=arguments[1]:i=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?t=arguments[0]:Array.isArray(arguments[0])?r=arguments[0]:i=arguments[0]),null==i&&(i={}),a=new o(i),r&&n.nextTick((function(){for(var t,e=0,n=r.length;e<n;e++)t=r[e],a.write(t);return a.end()})),t&&(e=[],a.on("readable",(function(){for(var t,n=[];t=a.read();)n.push(e.push(t));return n})),a.on("error",(function(e){return t(e)})),a.on("end",(function(){return t(null,e.join(""))}))),a},o=function(t){var e,n,o,i;for(n in null==t&&(t={}),o={},t)i=t[n],o[n]=i;switch(r.Transform.call(this,o),this.options=o,null==(e=this.options).delimiter&&(e.delimiter=","),null==(e=this.options).quote&&(e.quote='"'),null==(e=this.options).quoted&&(e.quoted=!1),null==(e=this.options).quotedEmpty&&(e.quotedEmpty=void 0),null==(e=this.options).quotedString&&(e.quotedString=!1),null==(e=this.options).eof&&(e.eof=!0),null==(e=this.options).escape&&(e.escape='"'),null==(e=this.options).columns&&(e.columns=null),null==(e=this.options).header&&(e.header=!1),null==(e=this.options).formatters&&(e.formatters={}),null==(e=this.options.formatters).date&&(e.date=function(t){return""+t.getTime()}),null==(e=this.options.formatters).bool&&(e.bool=function(t){return t?"1":""}),null==(e=this.options.formatters).object&&(e.object=function(t){return JSON.stringify(t)}),null==(e=this.options).rowDelimiter&&(e.rowDelimiter="\n"),null==this.countWriten&&(this.countWriten=0),this.options.rowDelimiter){case"auto":this.options.rowDelimiter=null;break;case"unix":this.options.rowDelimiter="\n";break;case"mac":this.options.rowDelimiter="\r";break;case"windows":this.options.rowDelimiter="\r\n";break;case"unicode":this.options.rowDelimiter="\u2028"}return this},i.inherits(o,r.Transform),(e.exports.Stringifier=o).prototype.headers=function(){var t,e,n;if(this.options.header&&this.options.columns)return"object"==s(n=this.options.columns)&&(n=function(){var o=[];for(t in n)e=n[t],o.push(e);return o}()),n=this.options.eof?this.stringify(n)+this.options.rowDelimiter:this.stringify(n),r.Transform.prototype.write.call(this,n)},o.prototype.end=function(t,e,n){return 0===this.countWriten&&this.headers(),r.Transform.prototype.end.apply(this,arguments)},o.prototype.write=function(t,e,n){var o,i;if(null!=t){if(!(i="object"!=s(t))){0!==this.countWriten||Array.isArray(t)||null==(o=this.options).columns&&(o.columns=Object.keys(t));try{this.emit("record",t,this.countWriten)}catch(t){return this.emit("error",t)}this.options.eof?t=this.stringify(t)+this.options.rowDelimiter:(t=this.stringify(t),(this.options.header||this.countWriten)&&(t=this.options.rowDelimiter+t))}return"number"==typeof t&&(t=""+t),0===this.countWriten&&this.headers(),i||this.countWriten++,r.Transform.prototype.write.call(this,t,e,n)}},o.prototype._transform=function(t,e,n){return this.push(t),n()},o.prototype.stringify=function(t){var e,n,o,r,i,l,c,u,d,p,h,f,b,y,g,v,m,_,w;if("object"!=s(t))return t;if("object"!=s(o=this.options.columns)||null===o||Array.isArray(o)||(o=Object.keys(o)),c=this.options.delimiter,y=this.options.quote,u=this.options.escape,Array.isArray(t))o&&t.splice(o.length);else{if(e=[],o)for(p=h=0,g=o.length;0<=g?h<g:g<h;p=0<=g?++h:--h)n=o[p],w=a(t,n),e[p]=null==w?"":w;else for(n in t)e.push(t[n]);t=e,e=null}if(Array.isArray(t)){for(b="",p=f=0,v=t.length;0<=v?f<v:v<f;p=0<=v?++f:--f)"string"==typeof(d=t[p])||("number"==typeof d?d=""+d:"boolean"==typeof d?d=this.options.formatters.bool(d):d instanceof Date?d=this.options.formatters.date(d):"object"==s(d)&&null!==d&&(d=this.options.formatters.object(d))),d?(l=0<=d.indexOf(c),i=0<=d.indexOf(y),r=0<=d.indexOf(u)&&u!==y,_=0<=d.indexOf("\r")||0<=d.indexOf("\n"),(_=i||l||_||this.options.quoted||this.options.quotedString&&"string"==typeof t[p])&&r&&(m="\\"===u?new RegExp(u+u,"g"):new RegExp(u,"g"),d=d.replace(m,u+u)),i&&(m=new RegExp(y,"g"),d=d.replace(m,u+y)),_&&(d=y+d+y),b+=d):(this.options.quotedEmpty||null==this.options.quotedEmpty&&""===t[p]&&this.options.quotedString)&&(b+=y+y),p!==t.length-1&&(b+=c);t=b}return t}}).call(this,t("_process"))},{_process:92,"lodash.get":88,stream:113,util:118}],47:[function(t,e,n){(function(n){var o=t("string_decoder").StringDecoder,r=t("./index");e.exports=function(t,e){var i,a,s,l,c;for(null==e&&(e={}),i=[],t instanceof n&&(t=(new o).write(t)),(c=new r.Stringifier(e)).push=function(t){if(t)return i.push(t.toString())},a=0,s=t.length;a<s;a++)l=t[a],c.write(l);return c.end(),i.join("")}}).call(this,t("buffer").Buffer)},{"./index":46,buffer:41,string_decoder:114}],48:[function(t,e,n){var o=Object.create||function(t){function e(){}return e.prototype=t,new e},r=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return e},i=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((e.exports=a).EventEmitter=a).prototype._events=void 0,a.prototype._maxListeners=void 0;var l,c=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),l=0===u.x}catch(t){l=!1}function d(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function p(t,e,n,r){var i,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener||n),i=t._events),a=i[e]):(i=t._events=o(null),t._eventsCount=0),a?("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),a.warned||(r=d(t))&&0<r&&a.length>r&&(a.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=a.length,"object"==("undefined"==typeof console?"undefined":s(console))&&console.warn&&console.warn("%s: %s",r.name,r.message))):(a=i[e]=n,++t._eventsCount),t}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function f(t,e,n){return t={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},(e=i.call(h,t)).listener=n,t.wrapFn=e}function b(t,e,n){return(t=t._events)&&(e=t[e])?"function"==typeof e?n?[e.listener||e]:[e]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):g(e,e.length):[]}function y(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function g(t,e){for(var n=new Array(e),o=0;o<e;++o)n[o]=t[o];return n}l?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');c=t}}):a.defaultMaxListeners=c,a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(t,e,n,o){var r,i,a,s,l="error"===t,c=this._events;if(c)l=l&&null==c.error;else if(!l)return!1;if(l){if(1<arguments.length&&(r=e),r instanceof Error)throw r;throw(l=new Error('Unhandled "error" event. ('+r+")")).context=r,l}if(!(i=c[t]))return!1;var u,d="function"==typeof i;switch(u=arguments.length){case 1:!function(t,e){if(d)t.call(e);else for(var n=t.length,o=g(t,n),r=0;r<n;++r)o[r].call(e)}(i,this);break;case 2:!function(t,e,n){if(d)t.call(e,n);else for(var o=t.length,r=g(t,o),i=0;i<o;++i)r[i].call(e,n)}(i,this,e);break;case 3:!function(t,e,n,o){if(d)t.call(e,n,o);else for(var r=t.length,i=g(t,r),a=0;a<r;++a)i[a].call(e,n,o)}(i,this,e,n);break;case 4:!function(t,e,n,o,r){if(d)t.call(e,n,o,r);else for(var i=t.length,a=g(t,i),s=0;s<i;++s)a[s].call(e,n,o,r)}(i,this,e,n,o);break;default:for(a=new Array(u-1),s=1;s<u;s++)a[s-1]=arguments[s];!function(t,e,n){if(d)t.apply(e,n);else for(var o=t.length,r=g(t,o),i=0;i<o;++i)r[i].apply(e,n)}(i,this,a)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return p(this,t,e,!1)},a.prototype.prependListener=function(t,e){return p(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,f(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,a,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=o(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,a=n.length-1;0<=a;a--)if(n[a]===e||n[a].listener===e){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(t){for(var e=i,n=e+1,o=t.length;n<o;e+=1,n+=1)t[e]=t[n];t.pop()}(n),1===n.length&&(r[t]=n[0]),r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=o(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=o(null):delete n[t]),this;if(0===arguments.length){for(var i,a=r(n),s=0;s<a.length;++s)"removeListener"!==(i=a[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(s=e.length-1;0<=s;s--)this.removeListener(t,e[s]);return this},a.prototype.listeners=function(t){return b(this,t,!0)},a.prototype.rawListeners=function(t){return b(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],49:[function(t,e,n){"use strict";var o=t("./util/constants"),r=t("./mixins/logging");t={VERSION:o.VERSION,Client:t("./protocol/client"),Scheduler:t("./protocol/scheduler")},r.wrapper=t,e.exports=t},{"./mixins/logging":51,"./protocol/client":55,"./protocol/scheduler":61,"./util/constants":73}],50:[function(t,e,o){(function(n){"use strict";var o=t("../util/promise");e.exports={then:function(t,e){var n=this;return this._promise||(this._promise=new o((function(t,e){n._resolve=t,n._reject=e}))),0===arguments.length?this._promise:this._promise.then(t,e)},callback:function(t,e){return this.then((function(n){t.call(e,n)}))},errback:function(t,e){return this.then(null,(function(n){t.call(e,n)}))},timeout:function(t,e){this.then();var o=this;this._timer=n.setTimeout((function(){o._reject(e)}),1e3*t)},setDeferredStatus:function(t,e){this._timer&&n.clearTimeout(this._timer),this.then(),"succeeded"===t?this._resolve(e):"failed"===t?this._reject(e):delete this._promise}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/promise":78}],51:[function(t,e,n){"use strict";var o,r=t("../util/to_json"),i={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(t,e){var n,o,a,s=i.logger||(i.wrapper||i).logger;s&&(n=Array.prototype.slice.apply(t),o="[Faye",a=this.className,t=n.shift().replace(/\?/g,(function(){try{return r(n.shift())}catch(t){return"[Object]"}})),a&&(o+="."+a),o+="] ","function"==typeof s[e]?s[e](o+t):"function"==typeof s&&s(o+t))}};for(o in i.LOG_LEVELS)!function(t){i[t]=function(){this.writeLog(arguments,t)}}(o);e.exports=i},{"../util/to_json":80}],52:[function(t,e,n){"use strict";var o={countListeners:function(t){return this.listeners(t).length},bind:function(t,e,n){function o(){e.apply(n,r.call(arguments))}var r=Array.prototype.slice;return this._listeners=this._listeners||[],this._listeners.push([t,e,n,o]),this.on(t,o)},unbind:function(t,e,n){this._listeners=this._listeners||[];for(var o,r=this._listeners.length;r--;)(o=this._listeners[r])[0]===t&&(e&&(o[1]!==e||o[2]!==n)||(this._listeners.splice(r,1),this.removeListener(t,o[3])))}};t("../util/extend")(o,t("../util/event_emitter").prototype),o.trigger=o.emit,e.exports=o},{"../util/event_emitter":76,"../util/extend":77}],53:[function(t,e,o){(function(t){"use strict";e.exports={addTimeout:function(e,n,o,r){var i;this._timeouts=this._timeouts||{},this._timeouts.hasOwnProperty(e)||((i=this)._timeouts[e]=t.setTimeout((function(){delete i._timeouts[e],o.call(r)}),1e3*n))},removeTimeout:function(e){this._timeouts=this._timeouts||{};var n=this._timeouts[e];n&&(t.clearTimeout(n),delete this._timeouts[e])},removeAllTimeouts:function(){for(var t in this._timeouts=this._timeouts||{},this._timeouts)this.removeTimeout(t)}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(t,e,n){"use strict";var o=t("../util/class"),r=t("../util/extend"),i=t("../mixins/publisher"),a=t("./grammar"),s=o({initialize:function(t){this.id=this.name=t},push:function(t){this.trigger("message",t)},isUnused:function(){return 0===this.countListeners("message")}});r(s.prototype,i),r(s,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(t){var e=this.parse(t),n=["/**",t],o=e.slice();o[o.length-1]="*",n.push(this.unparse(o));for(var r=1,i=e.length;r<i;r++)(o=e.slice(0,r)).push("**"),n.push(this.unparse(o));return n},isValid:function(t){return a.CHANNEL_NAME.test(t)||a.CHANNEL_PATTERN.test(t)},parse:function(t){return this.isValid(t)?t.split("/").slice(1):null},unparse:function(t){return"/"+t.join("/")},isMeta:function(t){return(t=this.parse(t))?t[0]===this.META:null},isService:function(t){return(t=this.parse(t))?t[0]===this.SERVICE:null},isSubscribable:function(t){return this.isValid(t)?!this.isMeta(t)&&!this.isService(t):null},Set:o({initialize:function(){this._channels={}},getKeys:function(){var t,e=[];for(t in this._channels)e.push(t);return e},remove:function(t){delete this._channels[t]},hasSubscription:function(t){return this._channels.hasOwnProperty(t)},subscribe:function(t,e){for(var n=0,o=t.length;n<o;n++){var r=t[n];(this._channels[r]=this._channels[r]||new s(r)).bind("message",e)}},unsubscribe:function(t,e){var n=this._channels[t];return!!n&&(n.unbind("message",e),!!n.isUnused()&&(this.remove(t),!0))},distributeMessage:function(t){for(var e=s.expand(t.channel),n=0,o=e.length;n<o;n++){var r=this._channels[e[n]];r&&r.trigger("message",t)}}})}),e.exports=s},{"../mixins/publisher":52,"../util/class":72,"../util/extend":77,"./grammar":59}],55:[function(t,e,o){(function(n){"use strict";var o=t("asap"),r=t("../util/class"),i=(t("../util/promise"),t("../util/uri")),a=t("../util/array"),s=t("../util/browser"),l=t("../util/constants"),c=t("../util/extend"),u=t("../util/validate_options"),d=t("../mixins/deferrable"),p=t("../mixins/logging"),h=t("../mixins/publisher"),f=t("./channel"),b=t("./dispatcher"),y=t("./error"),g=t("./extensible"),v=t("./publication"),m=t("./subscription");r=r({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(t,e){this.info("New client created for ?",t),u(e=e||{},["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new f.Set,this._dispatcher=b.create(this,t||this.DEFAULT_ENDPOINT,e),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(e.interval||this.INTERVAL),timeout:1e3*(e.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",(function(){a.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()}),this)},addWebsocketExtension:function(t){return this._dispatcher.addWebsocketExtension(t)},disable:function(t){return this._dispatcher.disable(t)},setHeader:function(t,e){return this._dispatcher.setHeader(t,e)},handshake:function(t,e){var r;this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED&&(this._state=this.CONNECTING,(r=this).info("Initiating handshake with ?",i.stringify(this._dispatcher.endpoint)),this._dispatcher.selectTransport(l.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:f.HANDSHAKE,version:l.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},(function(i){i.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=i.clientId,this._dispatcher.selectTransport(i.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),t&&o((function(){t.call(e)}))):(this.info("Handshake unsuccessful"),n.setTimeout((function(){r.handshake(t,e)}),1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)}),this))},connect:function(t,e){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake((function(){this.connect(t,e)}),this);this.callback(t,e),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:f.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var t=new v;return this._sendMessage({channel:f.DISCONNECT,clientId:this._dispatcher.clientId},{},(function(e){e.successful?(this._dispatcher.close(),t.setDeferredStatus("succeeded")):t.setDeferredStatus("failed",y.parse(e.error))}),this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new f.Set,t}},subscribe:function(t,e,n){if(t instanceof Array)return a.map(t,(function(t){return this.subscribe(t,e,n)}),this);var o=new m(this,t,e,n),r=!0===e;return this._channels.hasSubscription(t)&&!r?(this._channels.subscribe([t],o),o.setDeferredStatus("succeeded")):this.connect((function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,t),r||this._channels.subscribe([t],o),this._sendMessage({channel:f.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},(function(e){if(!e.successful)return o.setDeferredStatus("failed",y.parse(e.error)),this._channels.unsubscribe(t,o);e=[].concat(e.subscription),this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,e),o.setDeferredStatus("succeeded")}),this)}),this),o},unsubscribe:function(t,e){if(t instanceof Array)return a.map(t,(function(t){return this.unsubscribe(t,e)}),this);this._channels.unsubscribe(t,e)&&this.connect((function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,t),this._sendMessage({channel:f.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},(function(t){t.successful&&(t=[].concat(t.subscription),this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,t))}),this)}),this)},publish:function(t,e,n){u(n||{},["attempts","deadline"]);var o=new v;return this.connect((function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,t,e),this._sendMessage({channel:t,data:e,clientId:this._dispatcher.clientId},n,(function(t){t.successful?o.setDeferredStatus("succeeded"):o.setDeferredStatus("failed",y.parse(t.error))}),this)}),this),o},_sendMessage:function(t,e,n,o){t.id=this._generateMessageId();var r=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",t,null,(function(t){t&&(n&&(this._responseCallbacks[t.id]=[n,o]),this._dispatcher.sendMessage(t,r,e||{}))}),this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(t){var e,n=t.id;void 0!==t.successful&&(e=this._responseCallbacks[n],delete this._responseCallbacks[n]),this.pipeThroughExtensions("incoming",t,null,(function(t){t&&(t.advice&&this._handleAdvice(t.advice),this._deliverMessage(t),e&&e[0].call(e[1],t))}),this)},_handleAdvice:function(t){c(this._advice,t),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(t){t.channel&&void 0!==t.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,t.channel,t.data),this._channels.distributeMessage(t))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var t=this;n.setTimeout((function(){t.connect()}),this._advice.interval)}}),c(r.prototype,d),c(r.prototype,h),c(r.prototype,p),c(r.prototype,g),e.exports=r}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../mixins/logging":51,"../mixins/publisher":52,"../util/array":70,"../util/browser":71,"../util/class":72,"../util/constants":73,"../util/extend":77,"../util/promise":78,"../util/uri":81,"../util/validate_options":82,"./channel":54,"./dispatcher":56,"./error":57,"./extensible":58,"./publication":60,"./subscription":62,asap:37}],56:[function(t,e,o){(function(n){"use strict";var o=t("../util/class"),r=t("../util/uri"),i=t("../util/cookies"),a=t("../util/extend"),s=t("../mixins/logging"),l=t("../mixins/publisher"),c=t("../transport"),u=t("./scheduler"),d=o({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(t,e,n){this._client=t,this.endpoint=r.parse(e),this._alternates=n.endpoints||{},this.cookies=i.CookieJar&&new i.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=n.retry||this.DEFAULT_RETRY,this._scheduler=n.scheduler||u,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=n.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var o,a=n.websocketExtensions;if(a)for(var s=0,l=(a=[].concat(a)).length;s<l;s++)this.addWebsocketExtension(a[s]);for(o in this.tls=n.tls||{},this.tls.ca=this.tls.ca||n.ca,this._alternates)this._alternates[o]=r.parse(this._alternates[o]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(t){return this._alternates[t]||this.endpoint},addWebsocketExtension:function(t){this.wsExtensions.push(t)},disable:function(t){this._disabled.push(t)},setHeader:function(t,e){this.headers[t]=e},close:function(){var t=this._transport;delete this._transport,t&&t.close()},getConnectionTypes:function(){return c.getConnectionTypes()},selectTransport:function(t){c.get(this,t,this._disabled,(function(t){this.debug("Selected ? transport for ?",t.connectionType,r.stringify(t.endpoint)),t!==this._transport&&(this._transport&&this._transport.close(),this._transport=t,this.connectionType=t.connectionType)}),this)},sendMessage:function(t,e,n){n=n||{};var o=t.id,r=n.attempts,i=n.deadline&&(new Date).getTime()+1e3*n.deadline;(n=this._envelopes[o])||(i=new this._scheduler(t,{timeout:e,interval:this.retry,attempts:r,deadline:i}),n=this._envelopes[o]={message:t,scheduler:i}),this._sendEnvelope(n)},_sendEnvelope:function(t){if(this._transport&&!t.request&&!t.timer){var e=t.message,o=t.scheduler,r=this;if(!o.isDeliverable())return o.abort(),void delete this._envelopes[e.id];t.timer=n.setTimeout((function(){r.handleError(e)}),1e3*o.getTimeout()),o.send(),t.request=this._transport.sendMessage(e)}},handleResponse:function(t){var e=this._envelopes[t.id];void 0!==t.successful&&e&&(e.scheduler.succeed(),delete this._envelopes[t.id],n.clearTimeout(e.timer)),this.trigger("message",t),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(t,e){var o=this._envelopes[t.id],r=(t=o&&o.request,this);t&&(t.then((function(t){t&&t.abort&&t.abort()})),(t=o.scheduler).fail(),n.clearTimeout(o.timer),o.request=o.timer=null,e?this._sendEnvelope(o):o.timer=n.setTimeout((function(){o.timer=null,r._sendEnvelope(o)}),1e3*t.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down")))}});d.create=function(t,e,n){return new d(t,e,n)},a(d.prototype,l),a(d.prototype,s),e.exports=d}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/logging":51,"../mixins/publisher":52,"../transport":63,"../util/class":72,"../util/cookies":74,"../util/extend":77,"../util/uri":81,"./scheduler":61}],57:[function(t,e,n){"use strict";var o=t("../util/class"),r=t("./grammar"),i=o({initialize:function(t,e,n){this.code=t,this.params=Array.prototype.slice.call(e),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});i.parse=function(t){if(t=t||"",!r.ERROR.test(t))return new i(null,[],t);var e=t.split(":"),n=parseInt(e[0]),o=e[1].split(",");return t=e[2],new i(n,o,t)};var a,s={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(a in s)!function(t){i[t]=function(){return new i(s[t][0],arguments,s[t][1]).toString()}}(a);e.exports=i},{"../util/class":72,"./grammar":59}],58:[function(t,e,n){"use strict";var o={addExtension:function(t){this._extensions=this._extensions||[],this._extensions.push(t),t.added&&t.added(this)},removeExtension:function(t){if(this._extensions)for(var e=this._extensions.length;e--;)this._extensions[e]===t&&(this._extensions.splice(e,1),t.removed&&t.removed(this))},pipeThroughExtensions:function(t,e,n,o,r){if(this.debug("Passing through ? extensions: ?",t,e),!this._extensions)return o.call(r,e);var i=this._extensions.slice();!function e(a){if(!a)return o.call(r,a);var s=i.shift();if(!s)return o.call(r,a);var l=s[t];if(!l)return e(a);3<=l.length?s[t](a,n,e):s[t](a,e)}(e)}};t("../util/extend")(o,t("../mixins/logging")),e.exports=o},{"../mixins/logging":51,"../util/extend":77}],59:[function(t,e,n){"use strict";e.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},{}],60:[function(t,e,n){"use strict";var o=t("../util/class");t=t("../mixins/deferrable"),e.exports=o(t)},{"../mixins/deferrable":50,"../util/class":72}],61:[function(t,e,n){"use strict";function o(t,e){this.message=t,this.options=e,this.attempts=0}t("../util/extend")(o.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var t=this.options.attempts,e=this.attempts,n=this.options.deadline,o=(new Date).getTime();return!(void 0!==t&&t<=e||void 0!==n&&n<o)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),e.exports=o},{"../util/extend":77}],62:[function(t,e,n){"use strict";var o=t("../util/class"),r=t("../util/extend");t=t("../mixins/deferrable"),r((o=o({initialize:function(t,e,n,o){this._client=t,this._channels=e,this._callback=n,this._context=o,this._cancelled=!1},withChannel:function(t,e){return this._withChannel=[t,e],this},apply:function(t,e){e=e[0],this._callback&&this._callback.call(this._context,e.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],e.channel,e.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}})).prototype,t),e.exports=o},{"../mixins/deferrable":50,"../util/class":72,"../util/extend":77}],63:[function(t,e,n){"use strict";var o=t("./transport");o.register("websocket",t("./web_socket")),o.register("eventsource",t("./event_source")),o.register("long-polling",t("./xhr")),o.register("cross-origin-long-polling",t("./cors")),o.register("callback-polling",t("./jsonp")),e.exports=o},{"./cors":64,"./event_source":65,"./jsonp":66,"./transport":67,"./web_socket":68,"./xhr":69}],64:[function(t,e,o){(function(n){"use strict";var o=t("../util/class"),r=t("../util/set"),i=t("../util/uri"),a=t("../util/extend"),s=t("../util/to_json"),l=a(o(t("./transport"),{encode:function(t){return"message="+encodeURIComponent(s(t))},request:function(t){var e,o=n.XDomainRequest?XDomainRequest:XMLHttpRequest,r=new o,a=++l._id,s=this._dispatcher.headers,c=this;if(r.open("POST",i.stringify(this.endpoint),!0),r.setRequestHeader)for(e in r.setRequestHeader("Pragma","no-cache"),s)s.hasOwnProperty(e)&&r.setRequestHeader(e,s[e]);function u(){r&&(l._pending.remove(a),r.onload=r.onerror=r.ontimeout=r.onprogress=null,r=null)}return r.onload=function(){var e;try{e=JSON.parse(r.responseText)}catch(e){}u(),e?c._receive(e):c._handleError(t)},r.onerror=r.ontimeout=function(){u(),c._handleError(t)},r.onprogress=function(){},o===n.XDomainRequest&&l._pending.add({id:a,xhr:r}),r.send(this.encode(t)),r}}),{_id:0,_pending:new r,isUsable:function(t,e,o,r){return i.isSameOrigin(e)?o.call(r,!1):n.XDomainRequest?o.call(r,e.protocol===location.protocol):n.XMLHttpRequest?(e=new XMLHttpRequest,o.call(r,void 0!==e.withCredentials)):o.call(r,!1)}});e.exports=l}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/class":72,"../util/extend":77,"../util/set":79,"../util/to_json":80,"../util/uri":81,"./transport":67}],65:[function(t,e,o){(function(n){"use strict";var o=t("../util/class"),r=t("../util/uri"),i=t("../util/copy_object"),a=t("../util/extend"),s=t("../mixins/deferrable"),l=t("./transport"),c=t("./xhr");o=a(o(l,{initialize:function(t,e){if(l.prototype.initialize.call(this,t,e),!n.EventSource)return this.setDeferredStatus("failed");this._xhr=new c(t,e),(e=i(e)).pathname+="/"+t.clientId;var o=new n.EventSource(r.stringify(e)),a=this;o.onopen=function(){a._everConnected=!0,a.setDeferredStatus("succeeded")},o.onerror=function(){a._everConnected?a._handleError([]):(a.setDeferredStatus("failed"),o.close())},o.onmessage=function(t){var e;try{e=JSON.parse(t.data)}catch(t){}e?a._receive(e):a._handleError([])},this._socket=o},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(t,e){this.callback((function(){t.call(e,!0)})),this.errback((function(){t.call(e,!1)}))},encode:function(t){return this._xhr.encode(t)},request:function(t){return this._xhr.request(t)}}),{isUsable:function(t,e,n,o){if(!t.clientId)return n.call(o,!1);c.isUsable(t,e,(function(r){return r?void this.create(t,e).isUsable(n,o):n.call(o,!1)}),this)},create:function(t,e){var n=t.transports.eventsource=t.transports.eventsource||{},o=t.clientId,a=i(e);return a.pathname+="/"+(o||""),n[a=r.stringify(a)]=n[a]||new this(t,e),n[a]}}),a(o.prototype,s),e.exports=o}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../util/class":72,"../util/copy_object":75,"../util/extend":77,"../util/uri":81,"./transport":67,"./xhr":69}],66:[function(t,e,o){(function(n){"use strict";var o=t("../util/class"),r=t("../util/uri"),i=t("../util/copy_object"),a=t("../util/extend"),s=t("../util/to_json"),l=a(o(t("./transport"),{encode:function(t){var e=i(this.endpoint);return e.query.message=s(t),e.query.jsonp="__jsonp"+l._cbCount+"__",r.stringify(e)},request:function(t){var e=document.getElementsByTagName("head")[0],o=document.createElement("script"),a=l.getCallbackName(),c=i(this.endpoint),u=this;function d(){if(!n[a])return!1;n[a]=void 0;try{delete n[a]}catch(t){}o.parentNode.removeChild(o)}return c.query.message=s(t),c.query.jsonp=a,n[a]=function(t){d(),u._receive(t)},o.type="text/javascript",o.src=r.stringify(c),e.appendChild(o),o.onerror=function(){d(),u._handleError(t)},{abort:d}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(t,e,n,o){n.call(o,!0)}});e.exports=l}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/class":72,"../util/copy_object":75,"../util/extend":77,"../util/to_json":80,"../util/uri":81,"./transport":67}],67:[function(t,e,n){(function(n){"use strict";var o=t("../util/class"),r=t("../util/cookies").Cookie,i=t("../util/promise"),a=t("../util/uri"),s=t("../util/array"),l=t("../util/extend"),c=t("../mixins/logging"),u=t("../mixins/timeouts"),d=t("../protocol/channel");o=l(o({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(t,e){this._dispatcher=t,this.endpoint=e,this._outbox=[],this._proxy=l({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(t){return""},sendMessage:function(t){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),t),this.batching?(this._outbox.push(t),this._flushLargeBatch(),t.channel===d.HANDSHAKE?this._publish(.01):(t.channel===d.CONNECT&&(this._connectMessage=t),this._publish(this.MAX_DELAY))):i.resolve(this.request([t]))},_makePromise:function(){var t=this;this._requestPromise=this._requestPromise||new i((function(e){t._resolvePromise=e}))},_publish:function(t){return this._makePromise(),this.addTimeout("publish",t,(function(){this._flush(),delete this._requestPromise}),this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),1<this._outbox.length&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){var t;this.encode(this._outbox).length<this._dispatcher.maxRequestSize||(t=this._outbox.pop(),this._makePromise(),this._flush(),t&&this._outbox.push(t))},_receive:function(t){if(t){t=[].concat(t),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,t);for(var e=0,n=t.length;e<n;e++)this._dispatcher.handleResponse(t[e])}},_handleError:function(t,e){t=[].concat(t),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,t);for(var n=0,o=t.length;n<o;n++)this._dispatcher.handleError(t[n])},_getCookies:function(){var t=this._dispatcher.cookies,e=a.stringify(this.endpoint);return t?s.map(t.getCookiesSync(e),(function(t){return t.cookieString()})).join("; "):""},_storeCookies:function(t){var e,n=this._dispatcher.cookies,o=a.stringify(this.endpoint);if(t&&n)for(var i=0,s=(t=[].concat(t)).length;i<s;i++)e=r.parse(t[i]),n.setCookieSync(e,o)},_findProxy:function(){if(void 0!==n){var t=this.endpoint.protocol;if(t){var e,o=t.replace(/:$/,"").toLowerCase()+"_proxy",r=o.toUpperCase(),i=n.env;return"http_proxy"===o&&i.REQUEST_METHOD?(1===(t=Object.keys(i).filter((function(t){return/^http_proxy$/i.test(t)}))).length?t[0]===o&&void 0===i[r]&&(e=i[o]):1<t.length&&(e=i[o]),e=e||i["CGI_"+r]):(e=i[o]||i[r])&&!i[o]&&console.warn("The environment variable "+r+" is discouraged. Use "+o+"."),e}}}}),{get:function(t,e,n,o,r){var i=t.endpoint;s.asyncEach(this._transports,(function(i,a){var l=i[0],c=i[1],u=t.endpointFor(l);return 0<=s.indexOf(n,l)?a():s.indexOf(e,l)<0?(c.isUsable(t,u,(function(){})),a()):void c.isUsable(t,u,(function(e){if(!e)return a();e=c.hasOwnProperty("create")?c.create(t,u):new c(t,u),o.call(r,e)}))}),(function(){throw new Error("Could not find a usable connection type for "+a.stringify(i))}))},register:function(t,e){this._transports.push([t,e]),e.prototype.connectionType=t},getConnectionTypes:function(){return s.map(this._transports,(function(t){return t[0]}))},_transports:[]}),l(o.prototype,c),l(o.prototype,u),e.exports=o}).call(this,t("_process"))},{"../mixins/logging":51,"../mixins/timeouts":53,"../protocol/channel":54,"../util/array":70,"../util/class":72,"../util/cookies":74,"../util/extend":77,"../util/promise":78,"../util/uri":81,_process:92}],68:[function(t,e,o){(function(n){"use strict";var o=t("../util/class"),r=t("../util/promise"),i=t("../util/set"),a=t("../util/uri"),s=t("../util/browser"),l=t("../util/copy_object"),c=t("../util/extend"),u=t("../util/to_json"),d=t("../util/websocket"),p=t("../mixins/deferrable"),h=c(o(t("./transport"),{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(t,e){this.callback((function(){t.call(e,!0)})),this.errback((function(){t.call(e,!1)})),this.connect()},request:function(t){this._pending=this._pending||new i;for(var e=0,n=t.length;e<n;e++)this._pending.add(t[e]);var o=this,a=new r((function(e,n){o.callback((function(n){n&&1===n.readyState&&(n.send(u(t)),e(n))})),o.connect()}));return{abort:function(){a.then((function(t){t.close()}))}}},connect:function(){if(!h._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var t=this._createSocket();if(!t)return this.setDeferredStatus("failed");var e=this,n=!(t.onopen=function(){t.headers&&e._storeCookies(t.headers["set-cookie"]),e._socket=t,e._state=e.CONNECTED,e._everConnected=!0,e._ping(),e.setDeferredStatus("succeeded",t)});t.onclose=t.onerror=function(){var o,r;n||(n=!0,o=e._state===e.CONNECTED,t.onopen=t.onclose=t.onerror=t.onmessage=null,delete e._socket,e._state=e.UNCONNECTED,e.removeTimeout("ping"),r=e._pending?e._pending.toArray():[],delete e._pending,o||e._everConnected?(e.setDeferredStatus("unknown"),e._handleError(r,o)):e.setDeferredStatus("failed"))},t.onmessage=function(t){var n;try{n=JSON.parse(t.data)}catch(t){}if(n){for(var o=0,r=(n=[].concat(n)).length;o<r;o++)void 0!==n[o].successful&&e._pending.remove(n[o]);e._receive(n)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var t=h.getSocketUrl(this.endpoint),e=this._dispatcher.headers,n=this._dispatcher.wsExtensions,o=this._getCookies(),r=this._dispatcher.tls;return r={extensions:n,headers:e,proxy:this._proxy,tls:r},""!==o&&(r.headers.Cookie=o),d.create(t,[],r)},_ping:function(){this._socket&&1===this._socket.readyState&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(t,e){var n=t.transports.websocket=t.transports.websocket||{};return n[e.href]=n[e.href]||new this(t,e),n[e.href]},getSocketUrl:function(t){return(t=l(t)).protocol=this.PROTOCOLS[t.protocol],a.stringify(t)},isUsable:function(t,e,n,o){this.create(t,e).isUsable(n,o)}});c(h.prototype,p),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",(function(){h._unloaded=!0})),e.exports=h}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../util/browser":71,"../util/class":72,"../util/copy_object":75,"../util/extend":77,"../util/promise":78,"../util/set":79,"../util/to_json":80,"../util/uri":81,"../util/websocket":83,"./transport":67}],69:[function(t,e,o){(function(n){"use strict";var o=t("../util/class"),r=t("../util/uri"),i=t("../util/browser"),a=t("../util/extend"),s=t("../util/to_json");o=a(o(t("./transport"),{encode:function(t){return s(t)},request:function(t){var e,o=this.endpoint.href,r=this;if(n.XMLHttpRequest)e=new XMLHttpRequest;else{if(!n.ActiveXObject)return this._handleError(t);e=new ActiveXObject("Microsoft.XMLHTTP")}e.open("POST",o,!0),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Pragma","no-cache"),e.setRequestHeader("X-Requested-With","XMLHttpRequest");var a,s=this._dispatcher.headers;for(a in s)s.hasOwnProperty(a)&&e.setRequestHeader(a,s[a]);function l(){e.abort()}return void 0!==n.onbeforeunload&&i.Event.on(n,"beforeunload",l),e.onreadystatechange=function(){if(e&&4===e.readyState){var o=null,a=e.status,s=e.responseText;if(a=200<=a&&a<300||304===a||1223===a,void 0!==n.onbeforeunload&&i.Event.detach(n,"beforeunload",l),e.onreadystatechange=function(){},e=null,!a)return r._handleError(t);try{o=JSON.parse(s)}catch(o){}o?r._receive(o):r._handleError(t)}},e.send(this.encode(t)),e}}),{isUsable:function(t,e,n,o){e="ReactNative"===navigator.product||r.isSameOrigin(e),n.call(o,e)}}),e.exports=o}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/browser":71,"../util/class":72,"../util/extend":77,"../util/to_json":80,"../util/uri":81,"./transport":67}],70:[function(t,e,n){"use strict";e.exports={commonElement:function(t,e){for(var n=0,o=t.length;n<o;n++)if(-1!==this.indexOf(e,t[n]))return t[n];return null},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},map:function(t,e,n){if(t.map)return t.map(e,n);var o=[];if(t instanceof Array)for(var r=0,i=t.length;r<i;r++)o.push(e.call(n||null,t[r],r));else for(var a in t)t.hasOwnProperty(a)&&o.push(e.call(n||null,a,t[a]));return o},filter:function(t,e,n){if(t.filter)return t.filter(e,n);for(var o=[],r=0,i=t.length;r<i;r++)e.call(n||null,t[r],r)&&o.push(t[r]);return o},asyncEach:function(t,e,n,o){function r(){if(!l){for(l=!0;0<s;)--s,(a+=1)===i?n&&n.call(o):e(t[a],c);l=!1}}var i=t.length,a=-1,s=0,l=!1,c=function(){s+=1,r()};c()}}},{}],71:[function(t,e,o){(function(t){"use strict";var n={_registry:[],on:function(t,e,n,o){function r(){n.call(o)}t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r),this._registry.push({_element:t,_type:e,_callback:n,_context:o,_handler:r})},detach:function(t,e,n,o){for(var r,i=this._registry.length;i--;)r=this._registry[i],t&&t!==r._element||e&&e!==r._type||n&&n!==r._callback||o&&o!==r._context||(r._element.removeEventListener?r._element.removeEventListener(r._type,r._handler,!1):r._element.detachEvent("on"+r._type,r._handler),this._registry.splice(i,1),r=null)}};void 0!==t.onunload&&n.on(t,"unload",n.detach,n),e.exports={Event:n}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(t,e,n){"use strict";var o=t("./extend");e.exports=function(t,e){function n(){return this.initialize&&this.initialize.apply(this,arguments)||this}function r(){}return"function"!=typeof t&&(e=t,t=Object),r.prototype=t.prototype,n.prototype=new r,o(n.prototype,e),n}},{"./extend":77}],73:[function(t,e,n){e.exports={VERSION:"1.2.4",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},{}],74:[function(t,e,n){"use strict";e.exports={}},{}],75:[function(t,e,n){"use strict";e.exports=function t(e){var n,o,r;if(e instanceof Array){for(n=[],o=e.length;o--;)n[o]=t(e[o]);return n}if("object"!=s(e))return e;for(r in n=null===e?null:{},e)n[r]=t(e[r]);return n}},{}],76:[function(t,e,n){var o="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function r(){}(e.exports=r).prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(o(e)){n=Array.prototype.slice.call(arguments,1);for(var r=e.slice(),i=0,a=r.length;i<a;i++)r[i].apply(this,n);return!0}return!1},r.prototype.on=r.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",t,e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,this},r.prototype.once=function(t,e){var n=this;return n.on(t,(function o(){n.removeListener(t,o),e.apply(this,arguments)})),this},r.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(o(n)){var r=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}(n,e);if(r<0)return this;n.splice(r,1),0==n.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?this._events={}:t&&this._events&&this._events[t]&&(this._events[t]=null),this},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}},{}],77:[function(t,e,n){"use strict";e.exports=function(t,e,n){if(!e)return t;for(var o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)&&!1===n||t[o]!==e[o]&&(t[o]=e[o]));return t}},{}],78:[function(t,e,n){"use strict";function o(t){return t}function r(t){throw t}function i(t){var e;this._state=0,this._onFulfilled=[],this._onRejected=[],"function"==typeof t&&(e=this,t((function(t){p(e,t)}),(function(t){f(e,t)})))}var a=t("asap");i.prototype.then=function(t,e){var n=new i;return l(this,t,n),c(this,e,n),n},i.prototype.catch=function(t){return this.then(null,t)};var l=function(t,e,n){function r(t){u(e,t,n)}"function"!=typeof e&&(e=o),0===t._state?t._onFulfilled.push(r):1===t._state&&r(t._value)},c=function(t,e,n){function o(t){u(e,t,n)}"function"!=typeof e&&(e=r),0===t._state?t._onRejected.push(o):2===t._state&&o(t._reason)},u=function(t,e,n){a((function(){d(t,e,n)}))},d=function(t,e,n){var o;try{o=t(e)}catch(t){return f(n,t)}o===n?f(n,new TypeError("Recursive promise chain detected")):p(n,o)},p=function t(e,n){var o,r=!1;try{if(o=s(n),"function"!=typeof(o=null!==n&&("function"==o||"object"==o)&&n.then))return h(e,n);o.call(n,(function(n){r^(r=!0)&&t(e,n)}),(function(t){r^(r=!0)&&f(e,t)}))}catch(n){if(!(r^(r=!0)))return;f(e,n)}},h=function(t,e){if(0===t._state){t._state=1,t._value=e,t._onRejected=[];for(var n,o=t._onFulfilled;n=o.shift();)n(e)}},f=function(t,e){if(0===t._state){t._state=2,t._reason=e,t._onFulfilled=[];for(var n,o=t._onRejected;n=o.shift();)n(e)}};i.resolve=function(t){return new i((function(e,n){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.all=function(t){return new i((function(e,n){var o,r=[],a=t.length;if(0===a)return e(r);for(o=0;o<a;o++)!function(t,o){i.resolve(t).then((function(t){r[o]=t,0==--a&&e(r)}),n)}(t[o],o)}))},i.race=function(t){return new i((function(e,n){for(var o=0,r=t.length;o<r;o++)i.resolve(t[o]).then(e,n)}))},i.deferred=i.pending=function(){var t={};return t.promise=new i((function(e,n){t.resolve=e,t.reject=n})),t},e.exports=i},{asap:37}],79:[function(t,e,n){"use strict";t=t("./class"),e.exports=t({initialize:function(){this._index={}},add:function(t){var e=void 0!==t.id?t.id:t;return!this._index.hasOwnProperty(e)&&(this._index[e]=t,!0)},forEach:function(t,e){for(var n in this._index)this._index.hasOwnProperty(n)&&t.call(e,this._index[n])},isEmpty:function(){for(var t in this._index)if(this._index.hasOwnProperty(t))return!1;return!0},member:function(t){for(var e in this._index)if(this._index[e]===t)return!0;return!1},remove:function(t){var e=void 0!==t.id?t.id:t;return t=this._index[e],delete this._index[e],t},toArray:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}})},{"./class":72}],80:[function(t,e,n){"use strict";e.exports=function(t){return JSON.stringify(t,(function(t,e){return this[t]instanceof Array?this[t]:e}))}},{}],81:[function(t,e,n){"use strict";e.exports={isURI:function(t){return t&&t.protocol&&t.host&&t.path},isSameOrigin:function(t){return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port},parse:function(t){if("string"!=typeof t)return t;var e,n,o,r,i,a={},s=function(e,n){t=t.replace(n,(function(t){return a[e]=t,""})),a[e]=a[e]||""};for(s("protocol",/^[a-z]+\:/i),s("host",/^\/\/[^\/\?#]+/),/^\//.test(t)||a.host||(t=location.pathname.replace(/[^\/]*$/,"")+t),s("pathname",/^[^\?#]*/),s("search",/^\?[^#]*/),s("hash",/^#.*/),a.protocol=a.protocol||location.protocol,a.host?(a.host=a.host.substr(2),e=a.host.split(":"),a.hostname=e[0],a.port=e[1]||""):(a.host=location.host,a.hostname=location.hostname,a.port=location.port),a.pathname=a.pathname||"/",a.path=a.pathname+a.search,i={},o=0,r=(n=(s=a.search.replace(/^\?/,""))?s.split("&"):[]).length;o<r;o++)e=n[o].split("="),i[decodeURIComponent(e[0]||"")]=decodeURIComponent(e[1]||"");return a.query=i,a.href=this.stringify(a),a},stringify:function(t){var e=t.protocol+"//"+t.hostname;return t.port&&(e+=":"+t.port),e+(t.pathname+this.queryString(t.query)+(t.hash||""))},queryString:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return 0===n.length?"":"?"+n.join("&")}}},{}],82:[function(t,e,n){"use strict";var o=t("./array");e.exports=function(t,e){for(var n in t)if(o.indexOf(e,n)<0)throw new Error("Unrecognized option: "+n)}},{"./array":70}],83:[function(t,e,o){(function(t){"use strict";var n=t.MozWebSocket||t.WebSocket;e.exports={create:function(t,e,o){return"function"!=typeof n?null:new n(t)}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(t,e,n){n.read=function(t,e,n,o,r){var i,a,s=8*r-o-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1;for(n=t[e+d],d+=p,i=n&(1<<-u)-1,n>>=-u,u+=s;0<u;i=256*i+t[e+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=o;0<u;a=256*a+t[e+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(n?-1:1);a+=Math.pow(2,o),i-=c}return(n?-1:1)*a*Math.pow(2,i-o)},n.write=function(t,e,n,o,r,i){var a,s,l=8*i-r-1,c=(1<<l)-1,u=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=o?0:i-1,h=o?1:-1;for(i=e<0||0===e&&1/e<0?1:0,e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(o=Math.pow(2,-a))<1&&(a--,o*=2),2<=(e+=1<=a+u?d/o:d*Math.pow(2,1-u))*o&&(a++,o/=2),c<=a+u?(s=0,a=c):1<=a+u?(s=(e*o-1)*Math.pow(2,r),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,r),a=0));8<=r;t[n+p]=255&s,p+=h,s/=256,r-=8);for(a=a<<r|s,l+=r;0<l;t[n+p]=255&a,p+=h,a/=256,l-=8);t[n+p-h]|=128*i}},{}],85:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],86:[function(t,e,n){function o(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(o(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&o(e.slice(0,0))||!!t._isBuffer);var e}},{}],87:[function(t,e,n){var o={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==o.call(t)}},{}],88:[function(t,e,o){(function(t){var n="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/,i=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,u="object"==s(t)&&t&&t.Object===Object&&t,d="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),h=Array.prototype,f=(t=Function.prototype,u=Object.prototype,d=p["__core-js_shared__"],(d=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+d:""),b=t.toString,y=u.hasOwnProperty,g=u.toString,v=RegExp("^"+b.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=(u=p.Symbol,h.splice),_=P(p,"Map"),w=P(Object,"create"),O=(u=u?u.prototype:void 0)?u.toString:void 0;function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function x(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function S(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function C(t,e){for(var n,o,r=t.length;r--;)if((n=t[r][0])===(o=e)||n!=n&&o!=o)return r;return-1}function E(t,e){var n,o=t.__data__;return("string"==(t=s(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function P(t,e){return e=e,function(t){return B(t)&&!(f&&f in t)&&(function(t){return"[object Function]"==(t=B(t)?g.call(t):"")||"[object GeneratorFunction]"==t}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?v:c).test(function(t){if(null!=t){try{return b.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(e=null==(t=t)?void 0:t[e])?e:void 0}k.prototype.clear=function(){this.__data__=w?w(null):{}},k.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},k.prototype.get=function(t){var e=this.__data__;if(w){var o=e[t];return o===n?void 0:o}return y.call(e,t)?e[t]:void 0},k.prototype.has=function(t){var e=this.__data__;return w?void 0!==e[t]:y.call(e,t)},k.prototype.set=function(t,e){return this.__data__[t]=w&&void 0===e?n:e,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(t){var e=this.__data__;return!((t=C(e,t))<0||(t==e.length-1?e.pop():m.call(e,t,1),0))},x.prototype.get=function(t){var e=this.__data__;return(t=C(e,t))<0?void 0:e[t][1]},x.prototype.has=function(t){return-1<C(this.__data__,t)},x.prototype.set=function(t,e){var n=this.__data__,o=C(n,t);return o<0?n.push([t,e]):n[o][1]=e,this},S.prototype.clear=function(){this.__data__={hash:new k,map:new(_||x),string:new k}},S.prototype.delete=function(t){return E(this,t).delete(t)},S.prototype.get=function(t){return E(this,t).get(t)},S.prototype.has=function(t){return E(this,t).has(t)},S.prototype.set=function(t,e){return E(this,t).set(t,e),this};var T=I((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(M(t))return O?O.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return i.test(t)&&n.push(""),t.replace(a,(function(t,e,o,r){n.push(o?r.replace(l,"$1"):e||t)})),n}));function I(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;return i.has(r)?i.get(r):(o=t.apply(this,o),n.cache=i.set(r,o),o)};return n.cache=new(I.Cache||S),n}I.Cache=S;var j=Array.isArray;function B(t){var e=s(t);return t&&("object"==e||"function"==e)}function M(t){return"symbol"==s(t)||!!(e=t)&&"object"==s(e)&&"[object Symbol]"==g.call(t);var e}e.exports=function(t,e,n){return void 0===(e=null==t?void 0:function(t,e){for(var n,i=0,a=(e=function(t,e){if(j(t))return!1;var n=s(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!M(t))||r.test(t)||!o.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:j(n=e)?n:T(n)).length;null!=t&&i<a;)t=t[function(t){if("string"==typeof t||M(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e[i++])];return i&&i==a?t:void 0}(t,e))?n:e}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(t,e,o){(function(t){(function(){var n,r="Expected a function",i=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",d="[object Number]",p="[object Object]",h="[object RegExp]",f="[object String]",b=/[&<>"']/g,y=RegExp(b.source),g=/^(?:0|[1-9]\d*)$/,v="object"==s(t)&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,_=v||m||Function("return this")(),w="object"==s(o)&&o&&!o.nodeType&&o,O=w&&"object"==s(e)&&e&&!e.nodeType&&e;function k(t,e){return t.push.apply(t,e),t}function x(t){return function(e){return null==e?n:e[t]}}var S,C,E,P=(S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==S?n:S[t]}),T=Array.prototype,I=Object.prototype,j=I.hasOwnProperty,B=0,M=I.toString,D=_._,A=Object.create,R=I.propertyIsEnumerable,L=_.isFinite,q=(C=Object.keys,E=Object,function(t){return C(E(t))}),F=Math.max;function N(t){return t instanceof U?t:new U(t)}var z=function(t){return Dt(t)?A?A(t):(H.prototype=t,t=new H,H.prototype=n,t):{}};function H(){}function U(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e}function V(t,e,n){t[e]=n}function W(t,e,o){if("function"!=typeof t)throw new TypeError(r);return setTimeout((function(){t.apply(n,o)}),e)}(U.prototype=z(N.prototype)).constructor=U;var Q,G=(Q=X,function(t,e){if(null==t)return t;if(!Bt(t))return Q(t,e);for(var n=t.length,o=-1,r=Object(t);++o<n&&!1!==e(r[o],o,r););return t});function $(t,e,o){for(var r=-1,i=t.length;++r<i;){var a,s,l=t[r],c=e(l);null!=c&&(a===n?c==c:o(c,a))&&(a=c,s=l)}return s}function K(t,e){var n=[];return G(t,(function(t,o,r){e(t,o,r)&&n.push(t)})),n}function Y(t,e,n,o,r){var i=-1,a=t.length;for(n=n||ht,r=r||[];++i<a;){var s=t[i];0<e&&n(s)?1<e?Y(s,e-1,n,o,r):k(r,s):o||(r[r.length]=s)}return r}function X(t,e){return t&&function(t,e,n){for(var o=-1,r=Object(t),i=n(t),a=i.length;a--;){var s=i[++o];if(!1===e(r[s],s,r))break}return t}(t,e,Wt)}function J(t,e){return K(e,(function(e){return Mt(t[e])}))}function Z(t){return t=t,M.call(t)}function tt(t,e){return e<t}var et=Yt;function nt(t,e,o,r,i){return t===e||(null==t||null==e||!At(t)&&!At(e)?t!=t&&e!=e:function(t,e,o,r,i,s){var b=jt(t),y=jt(e),g=b?l:Z(t),v=y?l:Z(e),m=(g=g==a?p:g)==p,_=(v=v==a?p:v)==p,w=g==v;if(y=Ot(s=s||[],(function(e){return e[0]==t})),v=Ot(s,(function(t){return t[0]==e})),y&&v)return y[1]==e;if(s.push([t,e]),s.push([e,t]),w&&!m){var O=b?function(t,e,o,r,i,a){var s=1&o,l=t.length,c=e.length;if(l!=c&&!(s&&l<c))return!1;for(var u=-1,d=!0,p=2&o?[]:n;++u<l;){var h=t[u],f=e[u];if(p){if(!ut(e,(function(t,e){if(!_t(p,e)&&(h===t||i(h,t,o,r,a)))return p.push(e)}))){d=!1;break}}else if(h!==f&&!i(h,f,o,r,a)){d=!1;break}}return d}(t,e,o,r,i,s):function(t,e,n){switch(n){case c:case u:case d:return Tt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case h:case f:return t==e+""}return!1}(t,e,g);return s.pop(),O}return 1&o||(m=m&&j.call(t,"__wrapped__"),_=_&&j.call(e,"__wrapped__"),!m&&!_)?!!w&&(O=function(t,e,n,o,r,i){var a=1&n,s=Wt(t),l=s.length,c=Wt(e).length;if(l!=c&&!a)return!1;for(var u=l;u--;){var d=s[u];if(!(a?d in e:j.call(e,d)))return!1}for(var p,h=!0,f=a;++u<l;){var b=t[d=s[u]],y=e[d];if(b!==y&&!r(b,y,n,o,i)){h=!1;break}f=f||"constructor"==d}return h&&!f&&(p=t.constructor)!=(c=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof p&&p instanceof p&&"function"==typeof c&&c instanceof c)&&(h=!1),h}(t,e,o,r,i,s),s.pop(),O):(O=i(m=m?t.value():t,_=_?e.value():e,o,r,s),s.pop(),O)}(t,e,o,r,nt,i))}function ot(t){return"function"==typeof t?t:null==t?$t:("object"==s(t)?at:x)(t)}function rt(t,e){return t<e}function it(t,e){var n=-1,o=Bt(t)?Array(t.length):[];return G(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function at(t){var e=q(t);return function(n){var o=e.length;if(null==n)return!o;for(n=Object(n);o--;){var r=e[o];if(!(r in n)||!nt(t[r],n[r],3))return!1}return!0}}function st(t,e){return gt(yt(t,e,$t),t+"")}function lt(t,e,n){var o=-1,r=t.length;e<0&&(e=r<-e?0:r+e),(n=r<n?r:n)<0&&(n+=r),r=n<e?0:n-e>>>0,e>>>=0;for(var i=Array(r);++o<r;)i[o]=t[o+e];return i}function ct(t){return lt(t,0,t.length)}function ut(t,e){var n;return G(t,(function(t,o,r){return!(n=e(t,o,r))})),!!n}function dt(t,e,o,r){var i=!o;o=o||{};for(var a,s,l=-1,c=e.length;++l<c;){var u=e[l],d=r?r(o[u],t[u],u,o,t):n;d===n&&(d=t[u]),i?V(o,u,d):(a=d,s=(d=o)[u=u],j.call(d,u)&&Tt(s,a)&&(a!==n||u in d)||V(d,u,a))}return o}function pt(t){return st((function(e,o){var r=-1,i=o.length,a=1<i?o[i-1]:n;for(a=3<t.length&&"function"==typeof a?(i--,a):n,e=Object(e);++r<i;){var s=o[r];s&&t(e,s,r,a)}return e}))}function ht(t){return jt(t)||It(t)}function ft(t,e,n){if(Dt(n)){var o,r,a,l=s(e);return("number"==l?Bt(n)&&(o=e,r=n.length,a=s(o),(r=null==r?i:r)&&("number"==a||"symbol"!=a&&g.test(o))&&-1<o&&o%1==0&&o<r):"string"==l&&e in n)&&Tt(n[e],t)}}function bt(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function yt(t,e,o){return e=F(e===n?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=F(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o(a),t.apply(this,s)}}var gt=$t;function vt(t){return null!=t&&t.length?Y(t,1):[]}function mt(t){return t&&t.length?t[0]:n}function _t(t,e,n){for(var o=null==t?0:t.length,r=((n="number"==typeof n?n<0?F(o+n,0):n:0)||0)-1,i=e==e;++r<o;){var a=t[r];if(i?a===e:a!=a)return r}return-1}var wt,Ot=(wt=function(t,e,n){var o=null==t?0:t.length;return o?((n=null==n?0:qt(n))<0&&(n=F(o+n,0)),function(t,e,n,o){for(var r=t.length,i=n+-1;++i<r;)if(e(t[i],i,t))return i;return-1}(t,ot(e),n)):-1},function(t,e,o){var r,i=Object(t);return Bt(t)||(r=ot(e),t=Wt(t),e=function(t){return r(i[t],t,i)}),-1<(o=wt(t,e,o))?i[r?t[o]:o]:n});function kt(t,e){return G(t,ot(e))}function xt(t,e,n){return o=t,r=ot(e),i=n,a=arguments.length<3,G(o,(function(t,e,n){i=a?(a=!1,t):r(i,t,e,n)})),i;var o,r,i,a}function St(t,e){var o;if("function"!=typeof e)throw new TypeError(r);return t=qt(t),function(){return 0<--t&&(o=e.apply(this,arguments)),t<=1&&(e=n),o}}var Ct=st((function(t,e,n){return function(t,e,n,o){if("function"!=typeof t)throw new TypeError(r);var i,a=1&e,s=(i=t,function(){var t=arguments,e=z(i.prototype);return Dt(t=i.apply(e,t))?t:e});return function e(){for(var r=-1,i=arguments.length,l=-1,c=o.length,u=Array(c+i),d=this&&this!==_&&this instanceof e?s:t;++l<c;)u[l]=o[l];for(;i--;)u[l++]=arguments[++r];return d.apply(a?n:this,u)}}(t,33,e,n)})),Et=st((function(t,e){return W(t,1,e)})),Pt=st((function(t,e,n){return W(t,Ft(e)||0,n)}));function Tt(t,e){return t===e||t!=t&&e!=e}var It=et(function(){return arguments}())?et:function(t){return At(t)&&j.call(t,"callee")&&!R.call(t,"callee")},jt=Array.isArray;function Bt(t){return null!=t&&"number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=i&&!Mt(t);var e}function Mt(t){return!!Dt(t)&&("[object Function]"==(t=Z(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function Dt(t){var e=s(t);return null!=t&&("object"==e||"function"==e)}function At(t){return null!=t&&"object"==s(t)}function Rt(t){return"number"==typeof t||At(t)&&Z(t)==d}function Lt(t){return"string"==typeof t||!jt(t)&&At(t)&&Z(t)==f}var qt=Number,Ft=Number;function Nt(t){return"string"==typeof t?t:null==t?"":t+""}var zt=pt((function(t,e){dt(e,q(e),t)})),Ht=pt((function(t,e){dt(e,bt(e),t)}));v=st((function(t,e){t=Object(t);var o=-1,r=e.length,i=2<r?e[2]:n;for(i&&ft(e[0],e[1],i)&&(r=1);++o<r;)for(var a=e[o],s=Qt(a),l=-1,c=s.length;++l<c;){var u=s[l],d=t[u];(d===n||Tt(d,I[u])&&!j.call(t,u))&&(t[u]=a[u])}return t}));var Ut,Vt,Wt=q,Qt=bt;function Gt(t){return null==t?[]:it(Wt(e=t),(function(t){return e[t]}));var e}function $t(t){return t}function Kt(t,e,n){var o=Wt(e),r=J(e,o);null!=n||Dt(e)&&(r.length||!o.length)||(n=e,e=t,t=this,r=J(e,Wt(e)));var i=!(Dt(n)&&"chain"in n&&!n.chain),a=Mt(t);return G(r,(function(n){var o=e[n];t[n]=o,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=ct(this.__actions__)).push({func:o,args:arguments,thisArg:t}),n.__chain__=e,n}return o.apply(t,k([this.value()],arguments))})})),t}function Yt(){}m=gt(yt(Ut=function(t,e){return null==t?{}:(n=t,e=e,n=Object(n),xt(e,(function(t,e){return e in n&&(t[e]=n[e]),t}),{}));var n},n,vt),Ut+""),et=ot,N.assignIn=Ht,N.before=St,N.bind=Ct,N.chain=function(t){return(t=N(t)).__chain__=!0,t},N.compact=function(t){return K(t,Boolean)},N.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return k(jt(n)?ct(n):[n],Y(e,1))},N.create=function(t,e){return t=z(t),null==e?t:zt(t,e)},N.defaults=v,N.defer=Et,N.delay=Pt,N.filter=function(t,e){return K(t,ot(e))},N.flatten=vt,N.flattenDeep=function(t){return null!=t&&t.length?Y(t,1/0):[]},N.iteratee=et,N.keys=Wt,N.map=function(t,e){return it(t,ot(e))},N.matches=function(t){return at(zt({},t))},N.mixin=Kt,N.negate=function(t){if("function"!=typeof t)throw new TypeError(r);return function(){var e=arguments;return!t.apply(this,e)}},N.once=function(t){return St(2,t)},N.pick=m,N.slice=function(t,e,o){var r=null==t?0:t.length;return e=null==e?0:+e,o=o===n?r:+o,r?lt(t,e,o):[]},N.sortBy=function(t,e){var o=0;return e=ot(e),it(it(t,(function(t,n,r){return{value:t,index:o++,criteria:e(t,n,r)}})).sort((function(t,e){return function(t,e){if(t!==e){var o=t!==n,r=null===t,i=t==t,a=e!==n,s=null===e,l=e==e;if(!s&&e<t||r&&a&&l||!o&&l||!i)return 1;if(!r&&t<e||s&&o&&i||!a&&i||!l)return-1}return 0}(t.criteria,e.criteria)||t.index-e.index})),x("value"))},N.tap=function(t,e){return e(t),t},N.thru=function(t,e){return e(t)},N.toArray=function(t){return Bt(t)?t.length?ct(t):[]:Gt(t)},N.values=Gt,N.extend=Ht,Kt(N,N),N.clone=function(t){return Dt(t)?jt(t)?ct(t):dt(t,q(t)):t},N.escape=function(t){return(t=Nt(t))&&y.test(t)?t.replace(b,P):t},N.every=function(t,e,o){return t=t,r=ot(e=o?n:e),i=!0,G(t,(function(t,e,n){return i=!!r(t,e,n)})),i;var r,i},N.find=Ot,N.forEach=kt,N.has=function(t,e){return null!=t&&j.call(t,e)},N.head=mt,N.identity=$t,N.indexOf=_t,N.isArguments=It,N.isArray=jt,N.isBoolean=function(t){return!0===t||!1===t||At(t)&&Z(t)==c},N.isDate=function(t){return At(t)&&Z(t)==u},N.isEmpty=function(t){return Bt(t)&&(jt(t)||Lt(t)||Mt(t.splice)||It(t))?!t.length:!q(t).length},N.isEqual=function(t,e){return nt(t,e)},N.isFinite=function(t){return"number"==typeof t&&L(t)},N.isFunction=Mt,N.isNaN=function(t){return Rt(t)&&t!=+t},N.isNull=function(t){return null===t},N.isNumber=Rt,N.isObject=Dt,N.isRegExp=function(t){return At(t)&&Z(t)==h},N.isString=Lt,N.isUndefined=function(t){return t===n},N.last=function(t){var e=null==t?0:t.length;return e?t[e-1]:n},N.max=function(t){return t&&t.length?$(t,$t,tt):n},N.min=function(t){return t&&t.length?$(t,$t,rt):n},N.noConflict=function(){return _._===this&&(_._=D),this},N.noop=Yt,N.reduce=xt,N.result=function(t,e,o){return(e=null==t?n:t[e])===n&&(e=o),Mt(e)?e.call(t):e},N.size=function(t){return null==t?0:(t=Bt(t)?t:q(t)).length},N.some=function(t,e,o){return ut(t,ot(e=o?n:e))},N.uniqueId=function(t){var e=++B;return Nt(t)+e},N.each=kt,N.first=mt,Kt(N,(Vt={},X(N,(function(t,e){j.call(N.prototype,e)||(Vt[e]=t)})),Vt),{chain:!1}),N.VERSION="4.17.15",G(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],(function(t){var e=(/^(?:replace|split)$/.test(t)?String.prototype:T)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|join|replace|shift)$/.test(t);N.prototype[t]=function(){var t=arguments;if(!o||this.__chain__)return this[n]((function(n){return e.apply(jt(n)?n:[],t)}));var r=this.value();return e.apply(jt(r)?r:[],t)}})),N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=function(){return t=this.__wrapped__,xt(this.__actions__,(function(t,e){return e.func.apply(e.thisArg,k([t],e.args))}),t);var t},O&&((O.exports=N)._=N,w._=N)}).call(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(t,e,n){e.exports=r,e=t("inherits");var o=t("readable-stream");function r(t,e){var n=this;if(!(n instanceof r))return new r(t,e);o.Readable.call(n,e),n.destroyed=!1,n._drained=!1,n._forwarding=!1,n._current=null,n._toStreams2=e&&e.objectMode?i:a,"function"==typeof t?n._queue=t:(n._queue=t.map(n._toStreams2),n._queue.forEach((function(t){"function"!=typeof t&&n._attachErrorListener(t)}))),n._next()}function i(t){return s(t,{objectMode:!0,highWaterMark:16})}function a(t){return s(t)}function s(t,e){return!t||"function"==typeof t||t._readableState?t:(e=new o.Readable(e).wrap(t),t.destroy&&(e.destroy=t.destroy.bind(t)),e)}e(r,o.Readable),r.obj=function(t){return new r(t,{objectMode:!0,highWaterMark:16})},r.prototype._read=function(){this._drained=!0,this._forward()},r.prototype._forward=function(){if(!this._forwarding&&this._drained&&this._current){var t;for(this._forwarding=!0;null!==(t=this._current.read());)this._drained=this.push(t);this._forwarding=!1}},r.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,this._current&&this._current.destroy&&this._current.destroy(),"function"!=typeof this._queue&&this._queue.forEach((function(t){t.destroy&&t.destroy()})),t&&this.emit("error",t),this.emit("close"))},r.prototype._next=function(){var t,e=this;e._current=null,"function"==typeof e._queue?e._queue((function(t,n){return t?e.destroy(t):(n=e._toStreams2(n),e._attachErrorListener(n),void e._gotNextStream(n))})):("function"==typeof(t=e._queue.shift())&&(t=e._toStreams2(t()),e._attachErrorListener(t)),e._gotNextStream(t))},r.prototype._gotNextStream=function(t){var e=this;if(!t)return e.push(null),void e.destroy();function n(){e._forward()}function o(){t._readableState.ended||e.destroy()}e._current=t,e._forward(),t.on("readable",n),t.once("end",(function r(){e._current=null,t.removeListener("readable",n),t.removeListener("end",r),t.removeListener("close",o),e._next()})),t.once("close",o)},r.prototype._attachErrorListener=function(t){var e=this;t&&t.once("error",(function n(o){t.removeListener("error",n),e.destroy(o)}))}},{inherits:85,"readable-stream":108}],91:[function(t,e,n){(function(t){"use strict";!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,o,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,o)}));case 4:return t.nextTick((function(){e.call(null,n,o,r)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,t("_process"))},{_process:92}],92:[function(t,e,n){var o,r;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}e=e.exports={},function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(t){o=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function b(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],93:[function(t,e,n){"use strict";var o=t("asap/raw");function r(){}var i=null,a={};function l(t){if("object"!=s(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,t!==r&&f(t,this)}function c(t,e){for(;3===t._65;)t=t._55;if(l._37&&l._37(t),0===t._65)return 0===t._40?(t._40=1,void(t._72=e)):1===t._40?(t._40=2,void(t._72=[t._72,e])):void t._72.push(e);var n,r;n=t,r=e,o((function(){var t=1===n._65?r.onFulfilled:r.onRejected;null!==t?(t=function(t,e){try{return t(e)}catch(t){return i=t,a}}(t,n._55))===a?d(r.promise,i):u(r.promise,t):(1===n._65?u:d)(r.promise,n._55)}))}function u(t,e){if(e===t)return d(t,new TypeError("A promise cannot be resolved with itself.")),0;if(e&&("object"==s(e)||"function"==typeof e)){var n=function(t){try{return t.then}catch(t){return i=t,a}}(e);if(n===a)return d(t,i),0;if(n===t.then&&e instanceof l)return t._65=3,t._55=e,void p(t);if("function"==typeof n)return void f(n.bind(e),t)}t._65=1,t._55=e,p(t)}function d(t,e){t._65=2,t._55=e,l._87&&l._87(t,e),p(t)}function p(t){if(1===t._40&&(c(t,t._72),t._72=null),2===t._40){for(var e=0;e<t._72.length;e++)c(t,t._72[e]);t._72=null}}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;t=function(t,e,n){try{t(e,n)}catch(t){return i=t,a}}(t,(function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,d(e,t))})),n||t!==a||(n=!0,d(e,i))}(e.exports=l)._37=null,l._87=null,l._61=r,l.prototype.then=function(t,e){if(this.constructor!==l)return o=t,i=e,new(n=this).constructor((function(t,e){var a=new l(r);a.then(t,e),c(n,new h(o,i,a))}));var n,o,i,a=new l(r);return c(this,new h(t,e,a)),a}},{"asap/raw":38}],94:[function(t,e,n){"use strict";var o=t("./core.js");e.exports=o;var r=d(!0),i=d(!1),a=d(null),l=d(void 0),c=d(0),u=d("");function d(t){var e=new o(o._61);return e._65=1,e._55=t,e}o.resolve=function(t){if(t instanceof o)return t;if(null===t)return a;if(void 0===t)return l;if(!0===t)return r;if(!1===t)return i;if(0===t)return c;if(""===t)return u;if("object"==s(t)||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new o(e.bind(t))}catch(t){return new o((function(e,n){n(t)}))}return d(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);for(var r=e.length,i=0;i<e.length;i++)!function i(a,l){if(l&&("object"==s(l)||"function"==typeof l)){if(l instanceof o&&l.then===o.prototype.then){for(;3===l._65;)l=l._55;return 1===l._65?i(a,l._55):(2===l._65&&n(l._55),void l.then((function(t){i(a,t)}),n))}var c=l.then;if("function"==typeof c)return void new o(c.bind(l)).then((function(t){i(a,t)}),n)}e[a]=l,0==--r&&t(e)}(i,e[i])}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){t.forEach((function(t){o.resolve(t).then(e,n)}))}))},o.prototype.catch=function(t){return this.then(null,t)}},{"./core.js":93}],95:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(e),e=1e3,r&&"number"==typeof r.maxKeys&&(e=r.maxKeys);var s=t.length;0<e&&e<s&&(s=e);for(var l=0;l<s;++l){var c,u=t[l].replace(a,"%20"),d=0<=(h=u.indexOf(n))?(c=u.substr(0,h),u.substr(h+1)):(c=u,""),p=decodeURIComponent(c),h=decodeURIComponent(d);u=i,d=p,Object.prototype.hasOwnProperty.call(u,d)?o(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],96:[function(t,e,n){"use strict";function o(t){switch(s(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(t,e,n,l){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==s(t)?i(a(t),(function(a){var s=encodeURIComponent(o(a))+n;return r(t[a])?i(t[a],(function(t){return s+encodeURIComponent(o(t))})).join(e):s+encodeURIComponent(o(t[a]))})).join(e):l?encodeURIComponent(o(l))+n+encodeURIComponent(o(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o));return n}var a=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},{}],97:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":95,"./encode":96}],98:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":99}],99:[function(t,e,n){"use strict";var o=t("process-nextick-args"),r=Object.keys||function(t){var e,n=[];for(e in t)n.push(e);return n};e.exports=u,(e=t("core-util-is")).inherits=t("inherits");var i=t("./_stream_readable"),a=t("./_stream_writable");e.inherits(u,i);for(var s=r(a.prototype),l=0;l<s.length;l++){var c=s[l];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||o.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),u.prototype._destroy=function(t,e){this.push(null),this.end(),o.nextTick(e,t)}},{"./_stream_readable":101,"./_stream_writable":103,"core-util-is":42,inherits:85,"process-nextick-args":91}],100:[function(t,e,n){"use strict";e.exports=r;var o=t("./_stream_transform");function r(t){if(!(this instanceof r))return new r(t);o.call(this,t)}(e=t("core-util-is")).inherits=t("inherits"),e.inherits(r,o),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":102,"core-util-is":42,inherits:85}],101:[function(t,e,o){(function(n,o){"use strict";var r=t("process-nextick-args");e.exports=g;var i,a=t("isarray");function s(t,e){return t.listeners(e).length}g.ReadableState=y,t("events").EventEmitter;var l=t("./internal/streams/stream"),c=t("safe-buffer").Buffer,u=o.Uint8Array||function(){},d=t("core-util-is");d.inherits=t("inherits"),o=t("util");var p,h=void 0,f=(h=o&&o.debuglog?o.debuglog("stream"):function(){},t("./internal/streams/BufferList"));o=t("./internal/streams/destroy"),d.inherits(g,l);var b=["error","close","destroy","pause","resume"];function y(e,n){e=e||{};var o=n instanceof(i=i||t("./_stream_duplex"));this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark;n=this.objectMode?16:16384,this.highWaterMark=r||0===r?r:o&&(a||0===a)?a:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p=p||t("string_decoder/").StringDecoder,this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(i=i||t("./_stream_duplex"),!(this instanceof g))return new g(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function v(t,e,n,o,r){var i,a,s,l,d=t._readableState;return null===e?(d.reading=!1,a=t,(s=d).ended||(!s.decoder||(l=s.decoder.end())&&l.length&&(s.buffer.push(l),s.length+=s.objectMode?1:l.length),s.ended=!0,O(a))):(r||(i=function(t,e){var n;return function(t){return c.isBuffer(t)||t instanceof u}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(d,e)),i?t.emit("error",i):d.objectMode||e&&0<e.length?("string"==typeof e||d.objectMode||Object.getPrototypeOf(e)===c.prototype||(i=e,e=c.from(i)),o?d.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):m(t,d,e,!0):d.ended?t.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(e=d.decoder.write(e),d.objectMode||0!==e.length?m(t,d,e,!1):x(t,d)):m(t,d,e,!1))):o||(d.reading=!1)),!(d=d).ended&&(d.needReadable||d.length<d.highWaterMark||0===d.length)}function m(t,e,n,o){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),x(t,e)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),g.prototype.destroy=o.destroy,g.prototype._undestroy=o.undestroy,g.prototype._destroy=function(t,e){this.push(null),e(t)},g.prototype.push=function(t,e){var n,o=this._readableState;return o.objectMode?n=!0:"string"==typeof t&&((e=e||o.defaultEncoding)!==o.encoding&&(t=c.from(t,e),e=""),n=!0),v(this,t,e,!1,n)},g.prototype.unshift=function(t){return v(this,t,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p=p||t("string_decoder/").StringDecoder,this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?(e.flowing&&e.length?e.buffer.head.data:e).length:(t>e.highWaterMark&&(e.highWaterMark=(_<=(n=t)?n=_:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var n}function O(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(k,t):k(t))}function k(t){h("emit readable"),t.emit("readable"),P(t)}function x(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function C(t){h("readable nexttick read 0"),t.read(0)}function E(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),P(t),e.flowing&&!e.reading&&t.read(0)}function P(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var o;return t<e.head.data.length?(o=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):o=t===e.head.data.length?e.shift():(n?function(t,e){var n=e.head,o=1,r=n.data;for(t-=r.length;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(a===i.length?r+=i:r+=i.slice(0,t),0==(t-=a)){a===i.length?(++o,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=i.slice(a);break}++o}return e.length-=o,r}:function(t,e){var n=c.allocUnsafe(t),o=e.head,r=1;for(o.data.copy(n),t-=o.data.length;o=o.next;){var i=o.data,a=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,a),0==(t-=a)){a===i.length?(++r,o.next?e.head=o.next:e.head=e.tail=null):(e.head=o).data=i.slice(a);break}++r}return e.length-=r,n})(t,e),o}(t,e.buffer,e.decoder),n);var n}function I(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(j,e,t))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function B(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}g.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),(0===e.length&&e.ended?I:O)(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&I(this),null;var o=e.needReadable;return h("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",o=!0),e.ended||e.reading?h("reading or ended",o=!1):o&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(n,e))),null===(o=0<t?T(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==o&&this.emit("data",o),o},g.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(t,e){var o=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,e);var l=e&&!1===e.end||t===n.stdout||t===n.stderr?_:c;function c(){h("onend"),t.end()}i.endEmitted?r.nextTick(l):o.once("end",l),t.on("unpipe",(function e(n,r){h("onunpipe"),n===o&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),t.removeListener("close",v),t.removeListener("finish",m),t.removeListener("drain",d),t.removeListener("error",g),t.removeListener("unpipe",e),o.removeListener("end",c),o.removeListener("end",_),o.removeListener("data",y),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||d())}));var u,d=(u=o,function(){var t=u._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(u,"data")&&(t.flowing=!0,P(u))});t.on("drain",d);var p,f=!1,b=!1;function y(e){h("ondata"),(b=!1)!==t.write(e)||b||((1===i.pipesCount&&i.pipes===t||1<i.pipesCount&&-1!==B(i.pipes,t))&&!f&&(h("false write response, pause",o._readableState.awaitDrain),o._readableState.awaitDrain++,b=!0),o.pause())}function g(e){h("onerror",e),_(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",m),_()}function m(){h("onfinish"),t.removeListener("close",v),_()}function _(){h("unpipe"),o.unpipe(t)}return o.on("data",y),p="error",e=g,"function"==typeof(l=t).prependListener?l.prependListener(p,e):l._events&&l._events[p]?a(l._events[p])?l._events[p].unshift(e):l._events[p]=[e,l._events[p]]:l.on(p,e),t.once("close",v),t.once("finish",m),t.emit("pipe",o),i.flowing||(h("pipe resume"),o.resume()),t},g.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var o=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)o[i].emit("unpipe",this,n);return this}var a=B(e.pipes,t);return-1===a||(e.pipes.splice(a,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},g.prototype.addListener=g.prototype.on=function(t,e){return e=l.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&O(this):r.nextTick(C,this))),e},g.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,(t=t).resumeScheduled||(t.resumeScheduled=!0,r.nextTick(E,this,t))),this},g.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(t){var e,n=this,o=this._readableState,r=!1;for(e in t.on("end",(function(){var t;h("wrapped end"),!o.decoder||o.ended||(t=o.decoder.end())&&t.length&&n.push(t),n.push(null)})),t.on("data",(function(e){h("wrapped data"),o.decoder&&(e=o.decoder.write(e)),o.objectMode&&null==e||(o.objectMode||e&&e.length)&&(n.push(e)||(r=!0,t.pause()))})),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var i=0;i<b.length;i++)t.on(b[i],this.emit.bind(this,b[i]));return this._read=function(e){h("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=T}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":99,"./internal/streams/BufferList":104,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:92,"core-util-is":42,events:48,inherits:85,isarray:87,"process-nextick-args":91,"safe-buffer":111,"string_decoder/":114,util:40}],102:[function(t,e,n){"use strict";e.exports=r;var o=t("./_stream_duplex");function r(t){if(!(this instanceof r))return new r(t);o.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=e&&this.push(e),o(t),(t=this._readableState).reading=!1,(t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){a(t,e,n)})):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}(e=t("core-util-is")).inherits=t("inherits"),e.inherits(r,o),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var o=this._transformState;o.writecb=n,o.writechunk=t,o.writeencoding=e,o.transforming||(e=this._readableState,(o.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark))},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;o.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},{"./_stream_duplex":99,"core-util-is":42,inherits:85}],103:[function(t,e,o){(function(n,o,r){"use strict";var i=t("process-nextick-args");function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var o=t.entry;for(t.entry=null;o;){var r=o.callback;e.pendingcb--,r(void 0),o=o.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}e.exports=y;var s,l=!n.browser&&-1<["v0.10","v0.9."].indexOf(n.version.slice(0,5))?r:i.nextTick;y.WritableState=b,(r=t("core-util-is")).inherits=t("inherits");var c,u={deprecate:t("util-deprecate")},d=t("./internal/streams/stream"),p=t("safe-buffer").Buffer,h=o.Uint8Array||function(){};function f(){}function b(e,n){s=s||t("./_stream_duplex"),e=e||{};var o=n instanceof s;this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,u=(this.destroyed=!1)===e.decodeStrings,this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var e,o,r,a;o=t,a=(r=(e=n)._writableState).sync,t=r.writecb,function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),o?function(t,e,n,o,r){--e.pendingcb,n?(i.nextTick(r,o),i.nextTick(O,t,e),t._writableState.errorEmitted=!0,t.emit("error",o)):(r(o),t._writableState.errorEmitted=!0,t.emit("error",o),O(t,e))}(e,r,a,o,t):((o=_(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||m(e,r),a?l(v,e,r,o,t):v(e,r,o,t))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||t("./_stream_duplex"),!(c.call(y,this)||this instanceof s))return new y(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function g(t,e,n,o,r,i,a){e.writelen=o,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,i,e.onwrite),e.sync=!1}function v(t,e,n,o){var r;n||(r=t,0===(n=e).length&&n.needDrain&&(n.needDrain=!1,r.emit("drain"))),e.pendingcb--,o(),O(t,e)}function m(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var o=e.bufferedRequestCount,r=new Array(o);(o=e.corkedRequestsFree).entry=n;for(var i=0,s=!0;n;)(r[i]=n).isBuf||(s=!1),n=n.next,i+=1;r.allBuffers=s,g(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,u=n.callback;if(g(t,e,!1,e.objectMode?1:l.length,l,c,u),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),O(t,e)}))}function O(t,e){var n,o,r=_(e);return r&&(n=t,(o=e).prefinished||o.finalCalled||("function"==typeof n._final?(o.pendingcb++,o.finalCalled=!0,i.nextTick(w,n,o)):(o.prefinished=!0,n.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}o=t("./internal/streams/destroy"),r.inherits(y,d),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===y&&t&&t._writableState instanceof b}})):c=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var o,r,a,s,l,c=this._writableState,u=!1,d=!c.objectMode&&(o=t,p.isBuffer(o)||o instanceof h);return d&&!p.isBuffer(t)&&(r=t,t=p.from(r)),"function"==typeof e&&(n=e,e=null),e=d?"buffer":e||c.defaultEncoding,"function"!=typeof n&&(n=f),c.ended?(a=this,s=n,l=new Error("write after end"),a.emit("error",l),i.nextTick(s,l)):(d||(o=c,r=n,s=!(a=!0),null===(l=t)?s=new TypeError("May not write null values to stream"):"string"==typeof l||void 0===l||o.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(this.emit("error",s),i.nextTick(r,s),a=!1),a))&&(c.pendingcb++,u=function(t,e,n,o,r,i){n||o!==(s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n)),e}(e,o,r))&&(n=!0,r="buffer",o=s);var a=e.objectMode?1:o.length;e.length+=a;var s,l=e.length<e.highWaterMark;return l||(e.needDrain=!0),e.writing||e.corked?(s=e.lastBufferedRequest,e.lastBufferedRequest={chunk:o,encoding:r,isBuf:n,callback:i,next:null},s?s.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):g(t,e,!1,a,o,r,i),l}(this,c,d,t,e,n)),u},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||m(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var o=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||(e=this,n=n,(o=o).ending=!0,O(e,o),n&&(o.finished?i.nextTick(n):e.once("finish",n)),o.ended=!0,e.writable=!1)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=o.destroy,y.prototype._undestroy=o.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{"./_stream_duplex":99,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:92,"core-util-is":42,inherits:85,"process-nextick-args":91,"safe-buffer":111,timers:115,"util-deprecate":116}],104:[function(t,e,n){"use strict";var o=t("safe-buffer").Buffer,r=t("util");function i(){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}e.exports=(i.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},i.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},i.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},i.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r=o.allocUnsafe(t>>>0),i=this.head,a=0;i;)e=r,n=a,i.data.copy(e,n),a+=i.data.length,i=i.next;return r},i),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":111,util:40}],105:[function(t,e,n){"use strict";var o=t("process-nextick-args");function r(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||o.nextTick(r,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(o.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":91}],106:[function(t,e,n){e.exports=t("events").EventEmitter},{events:48}],107:[function(t,e,n){e.exports=t("./readable").PassThrough},{"./readable":108}],108:[function(t,e,n){(((n=e.exports=t("./lib/_stream_readable.js")).Stream=n).Readable=n).Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":99,"./lib/_stream_passthrough.js":100,"./lib/_stream_readable.js":101,"./lib/_stream_transform.js":102,"./lib/_stream_writable.js":103}],109:[function(t,e,n){e.exports=t("./readable").Transform},{"./readable":108}],110:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":103}],111:[function(t,e,n){var o=t("buffer"),r=o.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=o:(i(o,n),n.Buffer=a),i(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=r(t),void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:41}],112:[function(t,e,n){(function(e){!function(n){n.parser=function(t,e){return new i(t,e)},n.SAXParser=i,n.SAXStream=l,n.createStream=function(t,e){return new l(t,e)},n.MAX_BUFFER_LENGTH=65536;var o,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,e){if(!(this instanceof i))return new i(t,e);var o=this;!function(t){for(var e=0,n=r.length;e<n;e++)t[r[e]]=""}(o),o.q=o.c="",o.bufferCheckPosition=n.MAX_BUFFER_LENGTH,o.opt=e||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!(!t&&!o.opt.noscript),o.state=x.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(n.XML_ENTITIES):Object.create(n.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(h)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),S(o,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n}),i.prototype={end:function(){I(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return T(e,"Cannot write after close. Assign an onready handler.");if(null===t)return I(e);"object"==s(t)&&(t=t.toString());for(var o,i,a=0,l="";l=L(t,a++),e.c=l;)switch(e.trackPosition&&(e.position++,"\n"===l?(e.line++,e.column=0):e.column++),e.state){case x.BEGIN:if(e.state=x.BEGIN_WHITESPACE,"\ufeff"===l)continue;R(e,l);continue;case x.BEGIN_WHITESPACE:R(e,l);continue;case x.TEXT:if(e.sawRoot&&!e.closedRoot){for(var d=a-1;l&&"<"!==l&&"&"!==l;)(l=L(t,a++))&&e.trackPosition&&(e.position++,"\n"===l?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(d,a-1)}"<"!==l||e.sawRoot&&e.closedRoot&&!e.strict?(v(l)||e.sawRoot&&!e.closedRoot||j(e,"Text data outside of root node."),"&"===l?e.state=x.TEXT_ENTITY:e.textNode+=l):(e.state=x.OPEN_WAKA,e.startTagPosition=e.position);continue;case x.SCRIPT:"<"===l?e.state=x.SCRIPT_ENDING:e.script+=l;continue;case x.SCRIPT_ENDING:"/"===l?e.state=x.CLOSE_TAG:(e.script+="<"+l,e.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===l?(e.state=x.SGML_DECL,e.sgmlDecl=""):v(l)||(_(f,l)?(e.state=x.OPEN_TAG,e.tagName=l):"/"===l?(e.state=x.CLOSE_TAG,e.tagName=""):"?"===l?(e.state=x.PROC_INST,e.procInstName=e.procInstBody=""):(j(e,"Unencoded <"),e.startTagPosition+1<e.position&&(d=e.position-e.startTagPosition,l=new Array(d).join(" ")+l),e.textNode+="<"+l,e.state=x.TEXT));continue;case x.SGML_DECL:(e.sgmlDecl+l).toUpperCase()===c?(C(e,"onopencdata"),e.state=x.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+l==="--"?(e.state=x.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+l).toUpperCase()===u?(e.state=x.DOCTYPE,(e.doctype||e.sawRoot)&&j(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===l?(C(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=x.TEXT):(m(l)&&(e.state=x.SGML_DECL_QUOTED),e.sgmlDecl+=l);continue;case x.SGML_DECL_QUOTED:l===e.q&&(e.state=x.SGML_DECL,e.q=""),e.sgmlDecl+=l;continue;case x.DOCTYPE:">"===l?(e.state=x.TEXT,C(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=l,"["===l?e.state=x.DOCTYPE_DTD:m(l)&&(e.state=x.DOCTYPE_QUOTED,e.q=l));continue;case x.DOCTYPE_QUOTED:e.doctype+=l,l===e.q&&(e.q="",e.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:e.doctype+=l,"]"===l?e.state=x.DOCTYPE:m(l)&&(e.state=x.DOCTYPE_DTD_QUOTED,e.q=l);continue;case x.DOCTYPE_DTD_QUOTED:e.doctype+=l,l===e.q&&(e.state=x.DOCTYPE_DTD,e.q="");continue;case x.COMMENT:"-"===l?e.state=x.COMMENT_ENDING:e.comment+=l;continue;case x.COMMENT_ENDING:"-"===l?(e.state=x.COMMENT_ENDED,e.comment=P(e.opt,e.comment),e.comment&&C(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+l,e.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==l?(j(e,"Malformed comment"),e.comment+="--"+l,e.state=x.COMMENT):e.state=x.TEXT;continue;case x.CDATA:"]"===l?e.state=x.CDATA_ENDING:e.cdata+=l;continue;case x.CDATA_ENDING:"]"===l?e.state=x.CDATA_ENDING_2:(e.cdata+="]"+l,e.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===l?(e.cdata&&C(e,"oncdata",e.cdata),C(e,"onclosecdata"),e.cdata="",e.state=x.TEXT):"]"===l?e.cdata+="]":(e.cdata+="]]"+l,e.state=x.CDATA);continue;case x.PROC_INST:"?"===l?e.state=x.PROC_INST_ENDING:v(l)?e.state=x.PROC_INST_BODY:e.procInstName+=l;continue;case x.PROC_INST_BODY:if(!e.procInstBody&&v(l))continue;"?"===l?e.state=x.PROC_INST_ENDING:e.procInstBody+=l;continue;case x.PROC_INST_ENDING:">"===l?(C(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=x.TEXT):(e.procInstBody+="?"+l,e.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:_(b,l)?e.tagName+=l:(function(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,C(t,"onopentagstart",n)}(e),">"===l?D(e):"/"===l?e.state=x.OPEN_TAG_SLASH:(v(l)||j(e,"Invalid character in tag name"),e.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===l?(D(e,!0),A(e)):(j(e,"Forward-slash in opening tag not followed by >"),e.state=x.ATTRIB);continue;case x.ATTRIB:if(v(l))continue;">"===l?D(e):"/"===l?e.state=x.OPEN_TAG_SLASH:_(f,l)?(e.attribName=l,e.attribValue="",e.state=x.ATTRIB_NAME):j(e,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===l?e.state=x.ATTRIB_VALUE:">"===l?(j(e,"Attribute without value"),e.attribValue=e.attribName,M(e),D(e)):v(l)?e.state=x.ATTRIB_NAME_SAW_WHITE:_(b,l)?e.attribName+=l:j(e,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===l)e.state=x.ATTRIB_VALUE;else{if(v(l))continue;j(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",C(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===l?D(e):_(f,l)?(e.attribName=l,e.state=x.ATTRIB_NAME):(j(e,"Invalid attribute name"),e.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(v(l))continue;m(l)?(e.q=l,e.state=x.ATTRIB_VALUE_QUOTED):(j(e,"Unquoted attribute value"),e.state=x.ATTRIB_VALUE_UNQUOTED,e.attribValue=l);continue;case x.ATTRIB_VALUE_QUOTED:if(l!==e.q){"&"===l?e.state=x.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=l;continue}M(e),e.q="",e.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:v(l)?e.state=x.ATTRIB:">"===l?D(e):"/"===l?e.state=x.OPEN_TAG_SLASH:_(f,l)?(j(e,"No whitespace between attributes"),e.attribName=l,e.attribValue="",e.state=x.ATTRIB_NAME):j(e,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!function(t){return">"===t||v(t)}(l)){"&"===l?e.state=x.ATTRIB_VALUE_ENTITY_U:e.attribValue+=l;continue}M(e),">"===l?D(e):e.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(e.tagName)">"===l?A(e):_(b,l)?e.tagName+=l:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=x.SCRIPT):(v(l)||j(e,"Invalid tagname in closing tag"),e.state=x.CLOSE_TAG_SAW_WHITE);else{if(v(l))continue;!function(t,e){return!_(t,e)}(f,l)?e.tagName=l:e.script?(e.script+="</"+l,e.state=x.SCRIPT):j(e,"Invalid tagname in closing tag.")}continue;case x.CLOSE_TAG_SAW_WHITE:if(v(l))continue;">"===l?A(e):j(e,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:switch(e.state){case x.TEXT_ENTITY:o=x.TEXT,i="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:o=x.ATTRIB_VALUE_QUOTED,i="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:o=x.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===l?(e[i]+=function(t){var e,n=t.entity,o=n.toLowerCase(),r="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[o]?t.ENTITIES[o]:("#"===(n=o).charAt(0)&&(r="x"===n.charAt(1)?(n=n.slice(2),(e=parseInt(n,16)).toString(16)):(n=n.slice(1),(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||r.toLowerCase()!==n?(j(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}(e),e.entity="",e.state=o):_(e.entity.length?g:y,l)?e.entity+=l:(j(e,"Invalid character in entity name"),e[i]+="&"+e.entity+l,e.entity="",e.state=o);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(n.MAX_BUFFER_LENGTH,10),o=0,i=0,a=r.length;i<a;i++){var s=t[r[i]].length;if(e<s)switch(r[i]){case"textNode":E(t);break;case"cdata":C(t,"oncdata",t.cdata),t.cdata="";break;case"script":C(t,"onscript",t.script),t.script="";break;default:T(t,"Max buffer length exceeded: "+r[i])}o=Math.max(o,s)}var l=n.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=l+t.position}(e),e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;E(t=this),""!==t.cdata&&(C(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(C(t,"onscript",t.script),t.script="")}};try{o=t("stream").Stream}catch(w){o=function(){}}var a=n.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function l(t,e){if(!(this instanceof l))return new l(t,e);o.apply(this),this._parser=new i(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,a.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e;n.on(t,e)},enumerable:!0,configurable:!1})}))}(l.prototype=Object.create(o.prototype,{constructor:{value:l}})).write=function(n){var o;return"function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)&&(this._decoder||(o=t("string_decoder").StringDecoder,this._decoder=new o("utf8")),n=this._decoder.write(n)),this._parser.write(n.toString()),this.emit("data",n),!0},l.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},l.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===a.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),o.prototype.on.call(n,t,e)};var c="[CDATA[",u="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",h={xml:d,xmlns:p},f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function _(t,e){return t.test(e)}var w,O,k,x=0;for(w in n.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach((function(t){var e="number"==typeof(e=n.ENTITIES[t])?String.fromCharCode(e):e;n.ENTITIES[t]=e})),n.STATE)n.STATE[n.STATE[w]]=w;function S(t,e,n){t[e]&&t[e](n)}function C(t,e,n){t.textNode&&E(t),S(t,e,n)}function E(t){t.textNode=P(t.opt,t.textNode),t.textNode&&S(t,"ontext",t.textNode),t.textNode=""}function P(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function T(t,e){return E(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,S(t,"onerror",e),t}function I(t){return t.sawRoot&&!t.closedRoot&&j(t,"Unclosed root tag"),t.state!==x.BEGIN&&t.state!==x.BEGIN_WHITESPACE&&t.state!==x.TEXT&&T(t,"Unexpected end"),E(t),t.c="",t.closed=!0,S(t,"onend"),i.call(t,t.strict,t.opt),t}function j(t,e){if("object"!=s(t)||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&T(t,e)}function B(t,e){var n=(o=t.indexOf(":")<0?["",t]:t.split(":"))[0],o=o[1];return e&&"xmlns"===t&&(n="xmlns",o=""),{prefix:n,local:o}}function M(t){var e,n,o;t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName)||(t.opt.xmlns?(o=(n=B(t.attribName,!0)).prefix,e=n.local,"xmlns"===o&&("xml"===e&&t.attribValue!==d?j(t,"xml: prefix must be bound to "+d+"\nActual: "+t.attribValue):"xmlns"===e&&t.attribValue!==p?j(t,"xmlns: prefix must be bound to "+p+"\nActual: "+t.attribValue):(n=t.tag,o=t.tags[t.tags.length-1]||t,n.ns===o.ns&&(n.ns=Object.create(o.ns)),n.ns[e]=t.attribValue)),t.attribList.push([t.attribName,t.attribValue])):(t.tag.attributes[t.attribName]=t.attribValue,C(t,"onattribute",{name:t.attribName,value:t.attribValue}))),t.attribName=t.attribValue=""}function D(t,e){if(t.opt.xmlns){var n=t.tag,o=B(t.tagName);n.prefix=o.prefix,n.local=o.local,n.uri=n.ns[o.prefix]||"",n.prefix&&!n.uri&&(j(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=o.prefix),o=t.tags[t.tags.length-1]||t,n.ns&&o.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){C(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var r=0,i=t.attribList.length;r<i;r++){var a,s=(u=t.attribList[r])[0],l=u[1],c=(a=B(s,!0)).prefix,u={name:s,value:l,prefix:c,local:u=a.local,uri:a=""!==c&&n.ns[c]||""};c&&"xmlns"!==c&&!a&&(j(t,"Unbound namespace prefix: "+JSON.stringify(c)),u.uri=c),t.tag.attributes[s]=u,C(t,"onattribute",u)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),C(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=x.TEXT:t.state=x.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function A(t){if(!t.tagName)return j(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=x.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=x.SCRIPT);C(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var o=n;e--&&t.tags[e].name!==o;)j(t,"Unexpected close tag");if(e<0)return j(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=x.TEXT);t.tagName=n;for(var r=t.tags.length;r-- >e;){var i=t.tag=t.tags.pop();t.tagName=t.tag.name,C(t,"onclosetag",t.tagName);var a,s={};for(a in i.ns)s[a]=i.ns[a];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach((function(e){var n=i.ns[e];C(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=x.TEXT}function R(t,e){"<"===e?(t.state=x.OPEN_WAKA,t.startTagPosition=t.position):v(e)||(j(t,"Non-whitespace before first tag."),t.textNode=e,t.state=x.TEXT)}function L(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}function q(){var t,e=[],n=-1,o=arguments.length;if(!o)return"";for(var r="";++n<o;){var i=Number(arguments[n]);if(!isFinite(i)||i<0||1114111<i||k(i)!==i)throw RangeError("Invalid code point: "+i);i<=65535?e.push(i):(t=55296+((i-=65536)>>10),i=i%1024+56320,e.push(t,i)),(n+1===o||16384<e.length)&&(r+=O.apply(null,e),e.length=0)}return r}x=n.STATE,String.fromCodePoint||(O=String.fromCharCode,k=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:q,configurable:!0,writable:!0}):String.fromCodePoint=q)}(void 0===n?this.sax={}:n)}).call(this,t("buffer").Buffer)},{buffer:41,stream:113,string_decoder:114}],113:[function(t,e,n){e.exports=r;var o=t("events").EventEmitter;function r(){o.call(this)}t("inherits")(r,o),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),(r.Stream=r).prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(u(),0===o.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",c),t.on("error",c),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}},{events:48,inherits:85,"readable-stream/duplex.js":98,"readable-stream/passthrough.js":107,"readable-stream/readable.js":108,"readable-stream/transform.js":109,"readable-stream/writable.js":110}],114:[function(t,e,n){"use strict";var o=t("safe-buffer").Buffer,r=o.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(o.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=u,this.end=d,e=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e,n,o=this.lastTotal-this.lastNeed;return void 0!==(n=this,n=128!=(192&(e=t)[0])?(n.lastNeed=0,""):1<n.lastNeed&&1<e.length?128!=(192&e[1])?(n.lastNeed=1,""):2<n.lastNeed&&2<e.length&&128!=(192&e[2])?(n.lastNeed=2,""):void 0:void 0)?n:this.lastNeed<=t.length?(t.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,o,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var n=t.toString("utf16le",e);return n&&55296<=(e=n.charCodeAt(n.length-1))&&e<=56319?(this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)):n}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function u(t,e){var n=(t.length-e)%3;return 0==n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function d(t){return t=t&&t.length?this.write(t):"",this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}(n.StringDecoder=i).prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){return t=t&&t.length?this.write(t):"",this.lastNeed?t+"":t},i.prototype.text=function(t,e){var n=function(t,e,n){var o=e.length-1;if(o<n)return 0;var r=a(e[o]);return 0<=r?(0<r&&(t.lastNeed=r-1),r):--o<n||-2===r?0:0<=(r=a(e[o]))?(0<r&&(t.lastNeed=r-2),r):--o<n||-2===r?0:0<=(r=a(e[o]))?(0<r&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);return this.lastNeed?(this.lastTotal=n,n=t.length-(n-this.lastNeed),t.copy(this.lastChar,0,n),t.toString("utf8",e,n)):t.toString("utf8",e)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":111}],115:[function(t,e,n){(function(e,o){var r=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,o=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,r((function(){s[e]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof o?o:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":92,timers:115}],116:[function(t,e,o){(function(t){function n(e){try{if(!t.localStorage)return}catch(e){return}return null!=(e=t.localStorage[e])&&"true"===String(e).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var o=!1;return function(){if(!o){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return t.apply(this,arguments)}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],117:[function(t,e,n){e.exports=function(t){return t&&"object"==s(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],118:[function(t,e,o){(function(e,n){var r=/%[sdj%]/g;o.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(l(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,i=o.length,a=String(t).replace(r,(function(t){if("%%"===t)return"%";if(i<=n)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}})),s=o[n];n<i;s=o[++n])y(s)||!w(s)?a+=" "+s:a+=" "+l(s);return a},o.deprecate=function(t,r){if(m(n.process))return function(){return o.deprecate(t,r).apply(this,arguments)};if(!0===e.noDeprecation)return t;var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return t.apply(this,arguments)}};var i,a={};function l(t,e){var n={seen:[],stylize:u};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),b(e)?n.showHidden=e:e&&o._extend(n,e),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,t,n.depth)}function c(t,e){return(e=l.styles[e])?"["+l.colors[e][0]+"m"+t+"["+l.colors[e][1]+"m":t}function u(t,e){return t}function d(t,e,n){if(t.customInspect&&e&&x(e.inspect)&&e.inspect!==o.inspect&&(!e.constructor||e.constructor.prototype!==e))return v(i=e.inspect(n,t))||(i=d(t,i,n)),i;if(l=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):b(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,e))return l;var r,i=Object.keys(e),a=(r={},i.forEach((function(t,e){r[t]=!0})),r);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),k(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return p(e);if(0===i.length){if(x(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(O(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return p(e)}var l="",c=!1;return s=["{","}"],f(e)&&(c=!0,s=["[","]"]),x(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),_(e)&&(l=" "+RegExp.prototype.toString.call(e)),O(e)&&(l=" "+Date.prototype.toUTCString.call(e)),k(e)&&(l=" "+p(e)),0!==i.length||c&&0!=e.length?n<0?_(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=c?function(t,e,n,o,r){for(var i=[],a=0,s=e.length;a<s;++a)P(e,String(a))?i.push(h(t,e,n,o,String(a),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(h(t,e,n,o,r,!0))})),i}(t,e,n,a,i):i.map((function(o){return h(t,e,n,a,o,c)})),t.seen.pop(),function(t,e,n){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(i,l,s)):s[0]+l+s[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,o,r,i){var a,s;if((e=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(s=t.stylize("[Setter]","special")),P(o,r)||(a="["+r+"]"),s||(t.seen.indexOf(e.value)<0?-1<(s=y(n)?d(t,e.value,null):d(t,e.value,n-1)).indexOf("\n")&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),m(a)){if(i&&r.match(/^\d+$/))return s;a=(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(a,"string"))}return a+": "+s}function f(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return"number"==typeof t}function v(t){return"string"==typeof t}function m(t){return void 0===t}function _(t){return w(t)&&"[object RegExp]"===S(t)}function w(t){return"object"==s(t)&&null!==t}function O(t){return w(t)&&"[object Date]"===S(t)}function k(t){return w(t)&&("[object Error]"===S(t)||t instanceof Error)}function x(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}o.debuglog=function(t){var n;return m(i)&&(i=e.env.NODE_DEBUG||""),t=t.toUpperCase(),a[t]||(new RegExp("\\b"+t+"\\b","i").test(i)?(n=e.pid,a[t]=function(){var e=o.format.apply(o,arguments);console.error("%s %d: %s",t,n,e)}):a[t]=function(){}),a[t]},(o.inspect=l).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=f,o.isBoolean=b,o.isNull=y,o.isNullOrUndefined=function(t){return null==t},o.isNumber=g,o.isString=v,o.isSymbol=function(t){return"symbol"==s(t)},o.isUndefined=m,o.isRegExp=_,o.isObject=w,o.isDate=O,o.isError=k,o.isFunction=x,o.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==s(t)||void 0===t},o.isBuffer=t("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o.log=function(){var t,e;console.log("%s - %s",(e=[C((t=new Date).getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":"),[t.getDate(),E[t.getMonth()],e].join(" ")),o.format.apply(o,arguments))},o.inherits=t("inherits"),o._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t}}).call(this,t("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":117,_process:92,inherits:85}],119:[function(t,e,n){(function(){"use strict";n.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{}],120:[function(t,e,n){(function(){"use strict";var e,o,r,i,a,l={}.hasOwnProperty;function c(t){var e,n,r;for(e in this.options={},n=o[.2])l.call(n,e)&&(r=n[e],this.options[e]=r);for(e in t)l.call(t,e)&&(r=t[e],this.options[e]=r)}e=t("xmlbuilder"),o=t("./defaults").defaults,i=function(t){return"string"==typeof t&&(0<=t.indexOf("&")||0<=t.indexOf(">")||0<=t.indexOf("<"))},a=function(t){return"<![CDATA["+r(t)+"]]>"},r=function(t){return t.replace("]]>","]]]]><![CDATA[>")},n.Builder=(c.prototype.buildObject=function(t){var n,r,c,u=this.options.attrkey,d=this.options.charkey;return 1===Object.keys(t).length&&this.options.rootName===o[.2].rootName?t=t[r=Object.keys(t)[0]]:r=this.options.rootName,c=this,n=function(t,e){var o,r,p,h,f,b;if("object"!=s(e))c.options.cdata&&i(e)?t.raw(a(e)):t.txt(e);else if(Array.isArray(e)){for(h in e)if(l.call(e,h))for(f in r=e[h])p=r[f],t=n(t.ele(f),p).up()}else for(f in e)if(l.call(e,f))if(r=e[f],f===u){if("object"==s(r))for(o in r)b=r[o],t=t.att(o,b)}else if(f===d)t=c.options.cdata&&i(r)?t.raw(a(r)):t.txt(r);else if(Array.isArray(r))for(h in r)l.call(r,h)&&(t=("string"==typeof(p=r[h])?c.options.cdata&&i(p)?t.ele(f).raw(a(p)):t.ele(f,p):n(t.ele(f),p)).up());else t="object"==s(r)?n(t.ele(f),r).up():"string"==typeof r&&c.options.cdata&&i(r)?t.ele(f).raw(a(r)).up():(null==r&&(r=""),t.ele(f,r.toString()).up());return t},r=e.create(r,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),n(r,t).end(this.options.renderOpts)},c)}).call(this)},{"./defaults":121,xmlbuilder:146}],121:[function(t,e,n){(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],122:[function(t,e,n){(function(){"use strict";function e(t,e){return function(){return t.apply(e,arguments)}}var o,r,i,a,l,c,u,d,p={}.hasOwnProperty;function h(t){var o,i,a;if(this.parseString=e(this.parseString,this),this.reset=e(this.reset,this),this.assignOrPush=e(this.assignOrPush,this),this.processAsync=e(this.processAsync,this),!(this instanceof n.Parser))return new n.Parser(t);for(o in this.options={},i=r[.2])p.call(i,o)&&(a=i[o],this.options[o]=a);for(o in t)p.call(t,o)&&(a=t[o],this.options[o]=a);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(c.normalize)),this.reset()}u=t("sax"),i=t("events"),o=t("./bom"),c=t("./processors"),d=t("timers").setImmediate,r=t("./defaults").defaults,a=function(t){return"object"==s(t)&&null!=t&&0===Object.keys(t).length},l=function(t,e,n){for(var o=0,r=t.length;o<r;o++)e=(0,t[o])(e,n);return e},n.Parser=(function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(h,i.EventEmitter),h.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),d(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},h.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},h.prototype.reset=function(){var t,e,n,o,r,i,c,d,h;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(r=this,function(t){if(r.saxParser.resume(),!r.saxParser.errThrown)return r.saxParser.errThrown=!0,r.emit("error",t)}),this.saxParser.onend=(i=this,function(){if(!i.saxParser.ended)return i.saxParser.ended=!0,i.emit("end",i.resultObject)}),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,o=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=(c=this,function(n){var r,i,a,s,u={};if(u[e]="",!c.options.ignoreAttrs)for(r in s=n.attributes)p.call(s,r)&&(t in u||c.options.mergeAttrs||(u[t]={}),i=c.options.attrValueProcessors?l(c.options.attrValueProcessors,n.attributes[r],r):n.attributes[r],a=c.options.attrNameProcessors?l(c.options.attrNameProcessors,r):r,c.options.mergeAttrs?c.assignOrPush(u,a,i):u[t][a]=i);return u["#name"]=c.options.tagNameProcessors?l(c.options.tagNameProcessors,n.name):n.name,c.options.xmlns&&(u[c.options.xmlnskey]={uri:n.uri,local:n.local}),o.push(u)}),this.saxParser.onclosetag=(d=this,function(){var t,n,r,i,c,u,h,f=o.pop(),b=f["#name"];if(d.options.explicitChildren&&d.options.preserveChildrenOrder||delete f["#name"],!0===f.cdata&&(t=f.cdata,delete f.cdata),u=o[o.length-1],f[e].match(/^\s*$/)&&!t?(c=f[e],delete f[e]):(d.options.trim&&(f[e]=f[e].trim()),d.options.normalize&&(f[e]=f[e].replace(/\s{2,}/g," ").trim()),f[e]=d.options.valueProcessors?l(d.options.valueProcessors,f[e],b):f[e],1===Object.keys(f).length&&e in f&&!d.EXPLICIT_CHARKEY&&(f=f[e])),a(f)&&(f=""!==d.options.emptyTag?d.options.emptyTag:c),null!=d.options.validator&&(h="/"+function(){for(var t=[],e=0,n=o.length;e<n;e++)r=o[e],t.push(r["#name"]);return t}().concat(b).join("/"),function(){try{f=d.options.validator(h,u&&u[b],f)}catch(t){return d.emit("error",t)}}()),d.options.explicitChildren&&!d.options.mergeAttrs&&"object"==s(f))if(d.options.preserveChildrenOrder){if(u){for(n in u[d.options.childkey]=u[d.options.childkey]||[],i={},f)p.call(f,n)&&(i[n]=f[n]);u[d.options.childkey].push(i),delete f["#name"],1===Object.keys(f).length&&e in f&&!d.EXPLICIT_CHARKEY&&(f=f[e])}}else r={},d.options.attrkey in f&&(r[d.options.attrkey]=f[d.options.attrkey],delete f[d.options.attrkey]),!d.options.charsAsChildren&&d.options.charkey in f&&(r[d.options.charkey]=f[d.options.charkey],delete f[d.options.charkey]),0<Object.getOwnPropertyNames(f).length&&(r[d.options.childkey]=f),f=r;return 0<o.length?d.assignOrPush(u,b,f):(d.options.explicitRoot&&(c=f,(f={})[b]=c),d.resultObject=f,d.saxParser.ended=!0,d.emit("end",d.resultObject))}),n=function(t){var n,r=o[o.length-1];if(r)return r[e]+=t,h.options.explicitChildren&&h.options.preserveChildrenOrder&&h.options.charsAsChildren&&(h.options.includeWhiteChars||""!==t.replace(/\\n/g,"").trim())&&(r[h.options.childkey]=r[h.options.childkey]||[],(n={"#name":"__text__"})[e]=t,h.options.normalize&&(n[e]=n[e].replace(/\s{2,}/g," ").trim()),r[h.options.childkey].push(n)),r},(h=this).saxParser.ontext=n,this.saxParser.oncdata=function(t){if(t=n(t))return t.cdata=!0}},h.prototype.parseString=function(t,e){var n;null!=e&&"function"==typeof e&&(this.on("end",(function(t){return this.reset(),e(null,t)})),this.on("error",(function(t){return this.reset(),e(t)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=o.stripBOM(t),this.options.async?(this.remaining=t,d(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},h),n.parseString=function(t,e,o){var r,i;return null!=o?("function"==typeof o&&(r=o),"object"==s(e)&&(i=e)):("function"==typeof e&&(r=e),i={}),new n.Parser(i).parseString(t,r)}}).call(this)},{"./bom":119,"./defaults":121,"./processors":123,events:48,sax:112,timers:115}],123:[function(t,e,n){(function(){"use strict";var t=new RegExp(/(?!xmlns)^.*:/);n.normalize=function(t){return t.toLowerCase()},n.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},n.stripPrefix=function(e){return e.replace(t,"")},n.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},n.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},{}],124:[function(t,e,n){(function(){"use strict";var e,o,r,i,a={}.hasOwnProperty;function s(t){this.message=t}o=t("./defaults"),e=t("./builder"),r=t("./parser"),i=t("./processors"),n.defaults=o.defaults,n.processors=i,n.ValidationError=(function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(s,Error),s),n.Builder=e.Builder,n.Parser=r.Parser,n.parseString=r.parseString}).call(this)},{"./builder":120,"./defaults":121,"./parser":122,"./processors":123}],125:[function(t,e,n){(function(){var t=[].slice,n={}.hasOwnProperty,o=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},r=function(t){return!!t&&("function"==(t=s(t))||"object"==t)},i=function(t){return o(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)};e.exports.assign=function(){var e,r,i,a,s=arguments[0],l=2<=arguments.length?t.call(arguments,1):[];if(o(Object.assign))Object.assign.apply(null,arguments);else for(e=0,i=l.length;e<i;e++)if(null!=(a=l[e]))for(r in a)n.call(a,r)&&(s[r]=a[r]);return s},e.exports.isFunction=o,e.exports.isObject=r,e.exports.isArray=i,e.exports.isEmpty=function(t){if(i(t))return!t.length;for(var e in t)if(n.call(t,e))return!1;return!0},e.exports.isPlainObject=function(t){var e,n;return r(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)}}).call(this)},{}],126:[function(t,e,n){(function(){function t(t,e,n){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==n)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}e.exports=(t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t)}).call(this)},{}],127:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(e)}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},r)}).call(this)},{"./XMLNode":138}],128:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing comment text");this.text=this.stringify.comment(e)}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},r)}).call(this)},{"./XMLNode":138}],129:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e,n,o,i,a){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!o)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(a&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(o),this.defaultValue=this.stringify.dtdAttDefault(a),this.defaultValueType=i}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},r)}).call(this)},{"./XMLNode":138}],130:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e,n){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");n=n||"(#PCDATA)",Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(n)}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},r)}).call(this)},{"./XMLNode":138}],131:[function(t,e,n){(function(){var n,o,r={}.hasOwnProperty;function i(t,e,n,r){if(i.__super__.constructor.call(this,t),null==n)throw new Error("Missing entity name");if(null==r)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(n),o(r)){if(!r.pubID&&!r.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(r.pubID&&!r.sysID)throw new Error("System identifier is required for a public external entity");if(null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID)),null!=r.nData&&(this.nData=this.stringify.dtdNData(r.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(r)}o=t("./Utility").isObject,n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(i,n),i.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},i)}).call(this)},{"./Utility":125,"./XMLNode":138}],132:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e,n){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},r)}).call(this)},{"./XMLNode":138}],133:[function(t,e,n){(function(){var n,o,r={}.hasOwnProperty;function i(t,e,n,r){i.__super__.constructor.call(this,t),o(e)&&(e=(t=e).version,n=t.encoding,r=t.standalone),e=e||"1.0",this.version=this.stringify.xmlVersion(e),null!=n&&(this.encoding=this.stringify.xmlEncoding(n)),null!=r&&(this.standalone=this.stringify.xmlStandalone(r))}o=t("./Utility").isObject,n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(i,n),i.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},i)}).call(this)},{"./Utility":125,"./XMLNode":138}],134:[function(t,e,n){(function(){var n,o,r,i,a,s,l={}.hasOwnProperty;function c(t,e,n){var o;c.__super__.constructor.call(this,t),this.documentObject=t,s(e)&&(e=(o=e).pubID,n=o.sysID),null==n&&(n=(o=[e,n])[0],e=o[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}s=t("./Utility").isObject,a=t("./XMLNode"),n=t("./XMLDTDAttList"),r=t("./XMLDTDEntity"),o=t("./XMLDTDElement"),i=t("./XMLDTDNotation"),e.exports=(function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(c,a),c.prototype.element=function(t,e){return e=new o(this,t,e),this.children.push(e),this},c.prototype.attList=function(t,e,o,r,i){return i=new n(this,t,e,o,r,i),this.children.push(i),this},c.prototype.entity=function(t,e){return e=new r(this,!1,t,e),this.children.push(e),this},c.prototype.pEntity=function(t,e){return e=new r(this,!0,t,e),this.children.push(e),this},c.prototype.notation=function(t,e){return e=new i(this,t,e),this.children.push(e),this},c.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},c.prototype.ele=function(t,e){return this.element(t,e)},c.prototype.att=function(t,e,n,o,r){return this.attList(t,e,n,o,r)},c.prototype.ent=function(t,e){return this.entity(t,e)},c.prototype.pent=function(t,e){return this.pEntity(t,e)},c.prototype.not=function(t,e){return this.notation(t,e)},c.prototype.up=function(){return this.root()||this.documentObject},c)}).call(this)},{"./Utility":125,"./XMLDTDAttList":129,"./XMLDTDElement":130,"./XMLDTDEntity":131,"./XMLDTDNotation":132,"./XMLNode":138}],135:[function(t,e,n){(function(){var n,o,r,i,a={}.hasOwnProperty;function s(t){s.__super__.constructor.call(this,null),(t=t||{}).writer||(t.writer=new o),this.options=t,this.stringify=new r(t),this.isDocument=!0}i=t("./Utility").isPlainObject,n=t("./XMLNode"),r=t("./XMLStringifier"),o=t("./XMLStringWriter"),e.exports=(function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(s,n),s.prototype.end=function(t){return t?i(t)&&(t=this.options.writer.set(t)):t=this.options.writer,t.document(this)},s.prototype.toString=function(t){return this.options.writer.set(t).document(this)},s)}).call(this)},{"./Utility":125,"./XMLNode":138,"./XMLStringWriter":142,"./XMLStringifier":143}],136:[function(t,e,n){(function(){var n,o,r,i,a,s,l,c,u,d,p,h,f,b,y,g,v,m,_,w={}.hasOwnProperty;function O(t,e,n){var o;(t=t||{}).writer?m(t.writer)&&(o=t.writer,t.writer=new f(o)):t.writer=new f(t),this.options=t,this.writer=t.writer,this.stringify=new b(t),this.onDataCallback=e||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}_=t("./Utility"),v=_.isObject,g=_.isFunction,m=_.isPlainObject,d=t("./XMLElement"),o=t("./XMLCData"),r=t("./XMLComment"),h=t("./XMLRaw"),y=t("./XMLText"),p=t("./XMLProcessingInstruction"),c=t("./XMLDeclaration"),u=t("./XMLDocType"),i=t("./XMLDTDAttList"),s=t("./XMLDTDEntity"),a=t("./XMLDTDElement"),l=t("./XMLDTDNotation"),n=t("./XMLAttribute"),b=t("./XMLStringifier"),f=t("./XMLStringWriter"),e.exports=(O.prototype.node=function(t,e,n){var o;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),v(e)||(n=(o=[e,n])[0],e=o[1]),this.currentNode=new d(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},O.prototype.element=function(t,e,n){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(t,e,n)},O.prototype.attribute=function(t,e){var o,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),v(t))for(o in t)w.call(t,o)&&(r=t[o],this.attribute(o,r));else g(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.currentNode.attributes[t]=new n(this,t,e));return this},O.prototype.text=function(t){return this.openCurrent(),t=new y(this,t),this.onData(this.writer.text(t,this.currentLevel+1)),this},O.prototype.cdata=function(t){return this.openCurrent(),t=new o(this,t),this.onData(this.writer.cdata(t,this.currentLevel+1)),this},O.prototype.comment=function(t){return this.openCurrent(),t=new r(this,t),this.onData(this.writer.comment(t,this.currentLevel+1)),this},O.prototype.raw=function(t){return this.openCurrent(),t=new h(this,t),this.onData(this.writer.raw(t,this.currentLevel+1)),this},O.prototype.instruction=function(t,e){var n,o,r,i;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(n=0,i=t.length;n<i;n++)o=t[n],this.instruction(o);else if(v(t))for(o in t)w.call(t,o)&&(r=t[o],this.instruction(o,r));else g(e)&&(e=e.apply()),e=new p(this,t,e),this.onData(this.writer.processingInstruction(e,this.currentLevel+1));return this},O.prototype.declaration=function(t,e,n){if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new c(this,t,e,n),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},O.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new u(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},O.prototype.dtdElement=function(t,e){return this.openCurrent(),e=new a(this,t,e),this.onData(this.writer.dtdElement(e,this.currentLevel+1)),this},O.prototype.attList=function(t,e,n,o,r){return this.openCurrent(),r=new i(this,t,e,n,o,r),this.onData(this.writer.dtdAttList(r,this.currentLevel+1)),this},O.prototype.entity=function(t,e){return this.openCurrent(),e=new s(this,!1,t,e),this.onData(this.writer.dtdEntity(e,this.currentLevel+1)),this},O.prototype.pEntity=function(t,e){return this.openCurrent(),e=new s(this,!0,t,e),this.onData(this.writer.dtdEntity(e,this.currentLevel+1)),this},O.prototype.notation=function(t,e){return this.openCurrent(),e=new l(this,t,e),this.onData(this.writer.dtdNotation(e,this.currentLevel+1)),this},O.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},O.prototype.end=function(){for(;0<=this.currentLevel;)this.up();return this.onEnd()},O.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},O.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof d&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},O.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},O.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},O.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},O.prototype.ele=function(){return this.element.apply(this,arguments)},O.prototype.nod=function(t,e,n){return this.node(t,e,n)},O.prototype.txt=function(t){return this.text(t)},O.prototype.dat=function(t){return this.cdata(t)},O.prototype.com=function(t){return this.comment(t)},O.prototype.ins=function(t,e){return this.instruction(t,e)},O.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},O.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},O.prototype.e=function(t,e,n){return this.element(t,e,n)},O.prototype.n=function(t,e,n){return this.node(t,e,n)},O.prototype.t=function(t){return this.text(t)},O.prototype.d=function(t){return this.cdata(t)},O.prototype.c=function(t){return this.comment(t)},O.prototype.r=function(t){return this.raw(t)},O.prototype.i=function(t,e){return this.instruction(t,e)},O.prototype.att=function(){return(this.currentNode&&this.currentNode instanceof u?this.attList:this.attribute).apply(this,arguments)},O.prototype.a=function(){return(this.currentNode&&this.currentNode instanceof u?this.attList:this.attribute).apply(this,arguments)},O.prototype.ent=function(t,e){return this.entity(t,e)},O.prototype.pent=function(t,e){return this.pEntity(t,e)},O.prototype.not=function(t,e){return this.notation(t,e)},O)}).call(this)},{"./Utility":125,"./XMLAttribute":126,"./XMLCData":127,"./XMLComment":128,"./XMLDTDAttList":129,"./XMLDTDElement":130,"./XMLDTDEntity":131,"./XMLDTDNotation":132,"./XMLDeclaration":133,"./XMLDocType":134,"./XMLElement":137,"./XMLProcessingInstruction":139,"./XMLRaw":140,"./XMLStringWriter":142,"./XMLStringifier":143,"./XMLText":144}],137:[function(t,e,n){(function(){var n,o,r,i,a={}.hasOwnProperty;function s(t,e,n){if(s.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.attributes={},null!=n&&this.attribute(n),t.isDocument&&(this.isRoot=!0,(this.documentObject=t).rootObject=this)}i=t("./Utility"),r=i.isObject,o=i.isFunction,i=t("./XMLNode"),n=t("./XMLAttribute"),e.exports=(function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(s,i),s.prototype.clone=function(){var t,e,n,o=Object.create(this);for(e in o.isRoot&&(o.documentObject=null),o.attributes={},n=this.attributes)a.call(n,e)&&(t=n[e],o.attributes[e]=t.clone());return o.children=[],this.children.forEach((function(t){return((t=t.clone()).parent=o).children.push(t)})),o},s.prototype.attribute=function(t,e){var i,s;if(null!=t&&(t=t.valueOf()),r(t))for(i in t)a.call(t,i)&&(s=t[i],this.attribute(i,s));else o(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new n(this,t,e));return this},s.prototype.removeAttribute=function(t){var e,n,o;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(n=0,o=t.length;n<o;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},s.prototype.toString=function(t){return this.options.writer.set(t).element(this)},s.prototype.att=function(t,e){return this.attribute(t,e)},s.prototype.a=function(t,e){return this.attribute(t,e)},s)}).call(this)},{"./Utility":125,"./XMLAttribute":126,"./XMLNode":138}],138:[function(t,e,n){(function(){var n,o,r,i,a,s,l,c,u,d,p,h,f={}.hasOwnProperty;function b(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=t("./XMLElement"),n=t("./XMLCData"),o=t("./XMLComment"),r=t("./XMLDeclaration"),i=t("./XMLDocType"),l=t("./XMLRaw"),c=t("./XMLText"),s=t("./XMLProcessingInstruction"))}h=t("./Utility"),p=h.isObject,d=h.isFunction,u=h.isEmpty,s=c=l=i=r=o=n=a=null,e.exports=(b.prototype.element=function(t,e,n){var o,r,i,a,s,l,c,h,b,y=null;if(null==e&&(e={}),e=e.valueOf(),p(e)||(n=(h=[e,n])[0],e=h[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(i=0,l=t.length;i<l;i++)r=t[i],y=this.element(r);else if(d(t))y=this.element(t.apply());else if(p(t)){for(s in t)if(f.call(t,s))if(b=t[s],d(b)&&(b=b.apply()),p(b)&&u(b)&&(b=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))y=this.attribute(s.substr(this.stringify.convertAttKey.length),b);else if(!this.options.separateArrayItems&&Array.isArray(b))for(a=0,c=b.length;a<c;a++)r=b[a],(o={})[s]=r,y=this.element(o);else p(b)?(y=this.element(s)).element(b):y=this.element(s,b)}else y=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n);if(null==y)throw new Error("Could not create any elements with: "+t);return y},b.prototype.insertBefore=function(t,e,n){var o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return o=this.parent.children.indexOf(this),o=this.parent.children.splice(o),n=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),n},b.prototype.insertAfter=function(t,e,n){var o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return o=this.parent.children.indexOf(this),o=this.parent.children.splice(o+1),n=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),n},b.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},b.prototype.node=function(t,e,n){var o;return null!=t&&(t=t.valueOf()),e=(e=e||{}).valueOf(),p(e)||(n=(o=[e,n])[0],e=o[1]),e=new a(this,t,e),null!=n&&e.text(n),this.children.push(e),e},b.prototype.text=function(t){return t=new c(this,t),this.children.push(t),this},b.prototype.cdata=function(t){return t=new n(this,t),this.children.push(t),this},b.prototype.comment=function(t){return t=new o(this,t),this.children.push(t),this},b.prototype.commentBefore=function(t){var e=this.parent.children.indexOf(this);return e=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,e),this},b.prototype.commentAfter=function(t){var e=this.parent.children.indexOf(this);return e=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,e),this},b.prototype.raw=function(t){return t=new l(this,t),this.children.push(t),this},b.prototype.instruction=function(t,e){var n,o,r,i;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(r=0,i=t.length;r<i;r++)n=t[r],this.instruction(n);else if(p(t))for(n in t)f.call(t,n)&&(o=t[n],this.instruction(n,o));else d(e)&&(e=e.apply()),e=new s(this,t,e),this.children.push(e);return this},b.prototype.instructionBefore=function(t,e){var n=this.parent.children.indexOf(this);return n=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},b.prototype.instructionAfter=function(t,e){var n=this.parent.children.indexOf(this);return n=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},b.prototype.declaration=function(t,e,n){var o=this.document();return n=new r(o,t,e,n),o.children[0]instanceof r?o.children[0]=n:o.children.unshift(n),o.root()||o},b.prototype.doctype=function(t,e){for(var n,o,r,a,s=this.document(),l=new i(s,t,e),c=s.children,u=n=0,d=c.length;n<d;u=++n)if(c[u]instanceof i)return s.children[u]=l;for(u=o=0,r=(a=s.children).length;o<r;u=++o)if(a[u].isRoot)return s.children.splice(u,0,l),l;return s.children.push(l),l},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){for(var t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},b.prototype.document=function(){for(var t=this;t;){if(t.isDocument)return t;t=t.parent}},b.prototype.end=function(t){return this.document().end(t)},b.prototype.prev=function(){var t=this.parent.children.indexOf(this);if(t<1)throw new Error("Already at the first node");return this.parent.children[t-1]},b.prototype.next=function(){var t=this.parent.children.indexOf(this);if(-1===t||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},b.prototype.importDocument=function(t){return(t=t.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},b.prototype.ele=function(t,e,n){return this.element(t,e,n)},b.prototype.nod=function(t,e,n){return this.node(t,e,n)},b.prototype.txt=function(t){return this.text(t)},b.prototype.dat=function(t){return this.cdata(t)},b.prototype.com=function(t){return this.comment(t)},b.prototype.ins=function(t,e){return this.instruction(t,e)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},b.prototype.dtd=function(t,e){return this.doctype(t,e)},b.prototype.e=function(t,e,n){return this.element(t,e,n)},b.prototype.n=function(t,e,n){return this.node(t,e,n)},b.prototype.t=function(t){return this.text(t)},b.prototype.d=function(t){return this.cdata(t)},b.prototype.c=function(t){return this.comment(t)},b.prototype.r=function(t){return this.raw(t)},b.prototype.i=function(t,e){return this.instruction(t,e)},b.prototype.u=function(){return this.up()},b.prototype.importXMLBuilder=function(t){return this.importDocument(t)},b)}).call(this)},{"./Utility":125,"./XMLCData":127,"./XMLComment":128,"./XMLDeclaration":133,"./XMLDocType":134,"./XMLElement":137,"./XMLProcessingInstruction":139,"./XMLRaw":140,"./XMLText":144}],139:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e,n){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),n&&(this.value=this.stringify.insValue(n))}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},r)}).call(this)},{"./XMLNode":138}],140:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing raw text");this.value=this.stringify.raw(e)}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},r)}).call(this)},{"./XMLNode":138}],141:[function(t,e,n){(function(){var n,o,r,i,a,s,l,c,u,d,p,h,f,b={}.hasOwnProperty;function y(t,e){y.__super__.constructor.call(this,e),this.stream=t}l=t("./XMLDeclaration"),c=t("./XMLDocType"),n=t("./XMLCData"),o=t("./XMLComment"),u=t("./XMLElement"),p=t("./XMLRaw"),h=t("./XMLText"),d=t("./XMLProcessingInstruction"),r=t("./XMLDTDAttList"),i=t("./XMLDTDElement"),a=t("./XMLDTDEntity"),s=t("./XMLDTDNotation"),f=t("./XMLWriterBase"),e.exports=(function(t,e){for(var n in e)b.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(y,f),y.prototype.document=function(t){for(var e,n,r,i,a,s=t.children,u=0,p=s.length;u<p;u++)(e=s[u]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,a=[],n=0,r=(i=t.children).length;n<r;n++)switch(!1){case!((e=i[n])instanceof l):a.push(this.declaration(e));break;case!(e instanceof c):a.push(this.docType(e));break;case!(e instanceof o):a.push(this.comment(e));break;case!(e instanceof d):a.push(this.processingInstruction(e));break;default:a.push(this.element(e))}return a},y.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},y.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},y.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},y.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},y.prototype.docType=function(t,e){var l,c,u,p;if(e=e||0,this.stream.write(this.space(e)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(this.stream.write(" ["),this.stream.write(this.endline(t)),c=0,u=(p=t.children).length;c<u;c++)switch(!1){case!((l=p[c])instanceof r):this.dtdAttList(l,e+1);break;case!(l instanceof i):this.dtdElement(l,e+1);break;case!(l instanceof a):this.dtdEntity(l,e+1);break;case!(l instanceof s):this.dtdNotation(l,e+1);break;case!(l instanceof n):this.cdata(l,e+1);break;case!(l instanceof o):this.comment(l,e+1);break;case!(l instanceof d):this.processingInstruction(l,e+1);break;default:throw new Error("Unknown DTD node type: "+l.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},y.prototype.element=function(t,e){var r,i,a,s,l,c,f,y;for(l in e=e||0,y=this.space(e),this.stream.write(y+"<"+t.name),c=t.attributes)b.call(c,l)&&(r=c[l],this.attribute(r));if(0===t.children.length||t.children.every((function(t){return""===t.value})))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),a=0,s=(f=t.children).length;a<s;a++)switch(!1){case!((i=f[a])instanceof n):this.cdata(i,e+1);break;case!(i instanceof o):this.comment(i,e+1);break;case!(i instanceof u):this.element(i,e+1);break;case!(i instanceof p):this.raw(i,e+1);break;case!(i instanceof h):this.text(i,e+1);break;case!(i instanceof d):this.processingInstruction(i,e+1);break;default:throw new Error("Unknown XML node type: "+i.constructor.name)}this.stream.write(y+"</"+t.name+">")}return this.stream.write(this.endline(t))},y.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},y.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},y.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},y.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},y.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},y.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},y.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},y.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},y)}).call(this)},{"./XMLCData":127,"./XMLComment":128,"./XMLDTDAttList":129,"./XMLDTDElement":130,"./XMLDTDEntity":131,"./XMLDTDNotation":132,"./XMLDeclaration":133,"./XMLDocType":134,"./XMLElement":137,"./XMLProcessingInstruction":139,"./XMLRaw":140,"./XMLText":144,"./XMLWriterBase":145}],142:[function(t,e,n){(function(){var n,o,r,i,a,s,l,c,u,d,p,h,f,b={}.hasOwnProperty;function y(t){y.__super__.constructor.call(this,t)}l=t("./XMLDeclaration"),c=t("./XMLDocType"),n=t("./XMLCData"),o=t("./XMLComment"),u=t("./XMLElement"),p=t("./XMLRaw"),h=t("./XMLText"),d=t("./XMLProcessingInstruction"),r=t("./XMLDTDAttList"),i=t("./XMLDTDElement"),a=t("./XMLDTDEntity"),s=t("./XMLDTDNotation"),f=t("./XMLWriterBase"),e.exports=(function(t,e){for(var n in e)b.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(y,f),y.prototype.document=function(t){var e,n,r,i,a;for(this.textispresent=!1,i="",n=0,r=(a=t.children).length;n<r;n++)e=a[n],i+=function(){switch(!1){case!(e instanceof l):return this.declaration(e);case!(e instanceof c):return this.docType(e);case!(e instanceof o):return this.comment(e);case!(e instanceof d):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&i.slice(-this.newline.length)===this.newline&&(i=i.slice(0,-this.newline.length)),i},y.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},y.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},y.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},y.prototype.declaration=function(t,e){return e=this.space(e),e+='<?xml version="'+t.version+'"',null!=t.encoding&&(e+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(e+=' standalone="'+t.standalone+'"'),(e+=this.spacebeforeslash+"?>")+this.newline},y.prototype.docType=function(t,e){var l,c,u,p,h;if(e=e||0,p=this.space(e),p+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?p+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(p+=' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(p+=" [",p+=this.newline,c=0,u=(h=t.children).length;c<u;c++)l=h[c],p+=function(){switch(!1){case!(l instanceof r):return this.dtdAttList(l,e+1);case!(l instanceof i):return this.dtdElement(l,e+1);case!(l instanceof a):return this.dtdEntity(l,e+1);case!(l instanceof s):return this.dtdNotation(l,e+1);case!(l instanceof n):return this.cdata(l,e+1);case!(l instanceof o):return this.comment(l,e+1);case!(l instanceof d):return this.processingInstruction(l,e+1);default:throw new Error("Unknown DTD node type: "+l.constructor.name)}}.call(this);p+="]"}return(p+=this.spacebeforeslash+">")+this.newline},y.prototype.element=function(t,e){var r,i,a,s,l,c,f,y,g,v,m,_,w;for(f in e=e||0,w=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),y="",y+=(_=this.space(e))+"<"+t.name,g=t.attributes)b.call(g,f)&&(r=g[f],y+=this.attribute(r));if(0===t.children.length||t.children.every((function(t){return""===t.value})))this.allowEmpty?y+="></"+t.name+">"+this.newline:y+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)y+=">",y+=t.children[0].value,y+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes)for(a=0,l=(v=t.children).length;a<l;a++)if(null!=(i=v[a]).value){this.textispresent++,w=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,_=this.space(e)),y+=">"+this.newline,s=0,c=(m=t.children).length;s<c;s++)i=m[s],y+=function(){switch(!1){case!(i instanceof n):return this.cdata(i,e+1);case!(i instanceof o):return this.comment(i,e+1);case!(i instanceof u):return this.element(i,e+1);case!(i instanceof p):return this.raw(i,e+1);case!(i instanceof h):return this.text(i,e+1);case!(i instanceof d):return this.processingInstruction(i,e+1);default:throw new Error("Unknown XML node type: "+i.constructor.name)}}.call(this);w&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),y+=_+"</"+t.name+">"+this.newline}return y},y.prototype.processingInstruction=function(t,e){return e=this.space(e)+"<?"+t.target,t.value&&(e+=" "+t.value),e+(this.spacebeforeslash+"?>")+this.newline},y.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},y.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},y.prototype.dtdAttList=function(t,e){return e=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(e+=" "+t.defaultValueType),t.defaultValue&&(e+=' "'+t.defaultValue+'"'),e+(this.spacebeforeslash+">")+this.newline},y.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},y.prototype.dtdEntity=function(t,e){return e=this.space(e)+"<!ENTITY",t.pe&&(e+=" %"),e+=" "+t.name,t.value?e+=' "'+t.value+'"':(t.pubID&&t.sysID?e+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(e+=' SYSTEM "'+t.sysID+'"'),t.nData&&(e+=" NDATA "+t.nData)),e+(this.spacebeforeslash+">")+this.newline},y.prototype.dtdNotation=function(t,e){return e=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?e+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?e+=' PUBLIC "'+t.pubID+'"':t.sysID&&(e+=' SYSTEM "'+t.sysID+'"'),e+(this.spacebeforeslash+">")+this.newline},y.prototype.openNode=function(t,e){var n,o,r,i;if(e=e||0,t instanceof u){for(o in r=this.space(e)+"<"+t.name,i=t.attributes)b.call(i,o)&&(n=i[o],r+=this.attribute(n));return r+(t.children?">":"/>")+this.newline}return r=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+(t.children?" [":">")+this.newline},y.prototype.closeNode=function(t,e){switch(e=e||0,!1){case!(t instanceof u):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof c):return this.space(e)+"]>"+this.newline}},y)}).call(this)},{"./XMLCData":127,"./XMLComment":128,"./XMLDTDAttList":129,"./XMLDTDElement":130,"./XMLDTDEntity":131,"./XMLDTDNotation":132,"./XMLDeclaration":133,"./XMLDocType":134,"./XMLElement":137,"./XMLProcessingInstruction":139,"./XMLRaw":140,"./XMLText":144,"./XMLWriterBase":145}],143:[function(t,e,n){(function(){var t={}.hasOwnProperty;function n(e){var n,o,r,i,a;for(r in this.assertLegalChar=(n=this.assertLegalChar,o=this,function(){return n.apply(o,arguments)}),e=e||{},this.noDoubleEncoding=e.noDoubleEncoding,i=e.stringify||{})t.call(i,r)&&(a=i[r],this[r]=a)}e.exports=(n.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},n.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},n.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},n.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},n.prototype.raw=function(t){return""+t||""},n.prototype.attName=function(t){return""+t||""},n.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},n.prototype.insTarget=function(t){return""+t||""},n.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},n.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},n.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return t},n.prototype.xmlStandalone=function(t){return t?"yes":"no"},n.prototype.dtdPubID=function(t){return""+t||""},n.prototype.dtdSysID=function(t){return""+t||""},n.prototype.dtdElementValue=function(t){return""+t||""},n.prototype.dtdAttType=function(t){return""+t||""},n.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},n.prototype.dtdEntityValue=function(t){return""+t||""},n.prototype.dtdNData=function(t){return""+t||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(t){var e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/);if(e)throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},n.prototype.elEscape=function(t){var e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(t){var e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n)}).call(this)},{}],144:[function(t,e,n){(function(){var n,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing element text");this.value=this.stringify.eleText(e)}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).text(this)},r)}).call(this)},{"./XMLNode":138}],145:[function(t,e,n){(function(){var t={}.hasOwnProperty;function n(e){var n,o,r,i,a;for(n in e=e||{},this.pretty=e.pretty||!1,this.allowEmpty=null!=(o=e.allowEmpty)&&o,this.pretty?(this.indent=null!=(r=e.indent)?r:"  ",this.newline=null!=(r=e.newline)?r:"\n",this.offset=null!=(r=e.offset)?r:0,this.dontprettytextnodes=null!=(r=e.dontprettytextnodes)?r:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(r=e.spacebeforeslash)?r:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=e.writer||{})t.call(i,n)&&(a=i[n],this[n]=a)}e.exports=(n.prototype.set=function(e){var n,o,r;for(n in"pretty"in(e=e||{})&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0,this.dontprettytextnodes="dontprettytextnodes"in e?e.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in e?e.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,o=e.writer||{})t.call(o,n)&&(r=o[n],this[n]=r);return this},n.prototype.space=function(t){var e;return this.pretty&&0<(e=(t||0)+this.offset+1)?new Array(e).join(this.indent):""},n)}).call(this)},{}],146:[function(t,e,n){(function(){var n=t("./Utility"),o=n.assign,r=n.isFunction,i=t("./XMLDocument"),a=t("./XMLDocumentCB"),s=t("./XMLStringWriter"),l=t("./XMLStreamWriter");e.exports.create=function(t,e,n,r){if(null==t)throw new Error("Root element needs a name");return r=o({},e,n,r),t=(n=new i(r)).element(t),r.headless||(n.declaration(r),null==r.pubID&&null==r.sysID||n.doctype(r)),t},e.exports.begin=function(t,e,n){var o;return r(t)&&(e=(o=[t,e])[0],n=o[1],t={}),e?new a(t,e,n):new i(t)},e.exports.stringWriter=function(t){return new s(t)},e.exports.streamWriter=function(t,e){return new l(t,e)}}).call(this)},{"./Utility":125,"./XMLDocument":135,"./XMLDocumentCB":136,"./XMLStreamWriter":141,"./XMLStringWriter":142}]},{},[1])(1)},"object"==s(e)&&void 0!==t?t.exports=a():(r=[],void 0===(i="function"==typeof(o=a)?o.apply(e,r):o)||(t.exports=i))}).call(this,n(145))},function(t,e,n){(function(t,n){var o,r,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */"undefined"!=typeof self&&self,a=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=133)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),r=n(20),i=n(21),a=n(54),s=n(55),l=n(56),c=n(57),u=n(58),d=n(12),p=n(35),h=n(36),f=n(34),b=n(1),y={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:o.default,Format:r.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:h.default,Store:f.default}};e.default=y},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return r(e,t),e}(Error);e.ParchmentError=i;var a,s={},l={},c={},u={};function d(t,e){var n;if(void 0===e&&(e=a.ANY),"string"==typeof t)n=u[t]||s[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?n=u.block:t&a.LEVEL&a.INLINE&&(n=u.inline);else if(t instanceof HTMLElement){var o=(t.getAttribute("class")||"").split(/\s+/);for(var r in o)if(n=l[o[r]])break;n=n||c[t.tagName]}return null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var n=d(t);if(null==n)throw new i("Unable to create "+t+" blot");var o=n,r=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(e);return new o(r,e)},e.find=function t(n,o){return void 0===o&&(o=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:o?t(n.parentNode,o):null},e.query=d,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var o=e[0];if("string"!=typeof o.blotName&&"string"!=typeof o.attrName)throw new i("Invalid definition");if("abstract"===o.blotName)throw new i("Cannot register abstract class");if(u[o.blotName||o.attrName]=o,"string"==typeof o.keyName)s[o.keyName]=o;else if(null!=o.className&&(l[o.className]=o),null!=o.tagName){Array.isArray(o.tagName)?o.tagName=o.tagName.map((function(t){return t.toUpperCase()})):o.tagName=o.tagName.toUpperCase();var r=Array.isArray(o.tagName)?o.tagName:[o.tagName];r.forEach((function(t){null!=c[t]&&null!=o.className||(c[t]=o)}))}return o}},function(t,e,n){var o=n(60),r=n(11),i=n(3),a=n(23),l=String.fromCharCode(0),c=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};c.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===s(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},c.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},c.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===s(e)&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},c.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"===s(n)){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!==s(n=this.ops[e-1])))return this.ops.unshift(t),this;if(r(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===s(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===s(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},c.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},c.prototype.filter=function(t){return this.ops.filter(t)},c.prototype.forEach=function(t){this.ops.forEach(t)},c.prototype.map=function(t){return this.ops.map(t)},c.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(o){(t(o)?e:n).push(o)})),[e,n]},c.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},c.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},c.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},c.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],o=a.iterator(this.ops),r=0;r<e&&o.hasNext();){var i;r<t?i=o.next(t-r):(i=o.next(e-r),n.push(i)),r+=a.length(i)}return new c(n)},c.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),o=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),o.push(e.next());i.retain-s>0&&n.next(i.retain-s)}for(var l=new c(o);e.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===e.peekType())l.push(e.next());else{var u=Math.min(e.peekLength(),n.peekLength()),d=e.next(u),p=n.next(u);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=u:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),l.push(h),!n.hasNext()&&r(l.ops[l.ops.length-1],h)){var b=new c(e.rest());return l.concat(b).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&l.push(p)}return l.chop()},c.prototype.concat=function(t){var e=new c(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},c.prototype.diff=function(t,e){if(this.ops===t.ops)return new c;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new c,s=o(n[0],n[1],e),u=a.iterator(this.ops),d=a.iterator(t.ops);return s.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case o.INSERT:n=Math.min(d.peekLength(),e),i.push(d.next(n));break;case o.DELETE:n=Math.min(e,u.peekLength()),u.next(n),i.delete(n);break;case o.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),e);var s=u.next(n),l=d.next(n);r(s.insert,l.insert)?i.retain(n,a.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(n)}e-=n}})),i.chop()},c.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),o=new c,r=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(e,s)-s:-1;if(l<0)o.push(n.next());else if(l>0)o.push(n.next(l));else{if(!1===t(o,n.next(1).attributes||{},r))return;r+=1,o=new c}}o.length()>0&&t(o,{},r)},c.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),o=a.iterator(t.ops),r=new c;n.hasNext()||o.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===o.peekType())if("insert"===o.peekType())r.push(o.next());else{var i=Math.min(n.peekLength(),o.peekLength()),s=n.next(i),l=o.next(i);if(s.delete)continue;l.delete?r.push(l):r.retain(i,a.attributes.transform(s.attributes,l.attributes,e))}else r.retain(a.length(n.next()));return r.chop()},c.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),o=0;n.hasNext()&&o<=t;){var r=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(o<t||!e)&&(t+=r),o+=r):t-=Math.min(r,t-o)}return t},t.exports=c},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},l=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,r=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},c=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,o,r,i,d,p=arguments[0],h=1,f=arguments.length,b=!1;for("boolean"==typeof p&&(b=p,p=arguments[1]||{},h=2),(null==p||"object"!==s(p)&&"function"!=typeof p)&&(p={});h<f;++h)if(null!=(e=arguments[h]))for(n in e)o=u(p,n),p!==(r=u(e,n))&&(b&&r&&(l(r)||(i=a(r)))?(i?(i=!1,d=o&&a(o)?o:[]):d=o&&l(o)?o:{},c(p,{name:n,newValue:t(b,d,r)})):void 0!==r&&c(p,{name:n,newValue:r}));return p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=p(n(3)),a=p(n(2)),l=p(n(0)),c=p(n(18)),u=p(n(6)),d=p(n(7));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(){return h(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),o(e,[{key:"attach",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=l.default.query(t,l.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,o){this.format(n,o)}},{key:"insertAt",value:function(t,n,o){if("string"==typeof n&&n.endsWith("\n")){var i=l.default.create(g.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,o)}}]),e}(l.default.Embed);y.scope=l.default.Scope.BLOCK_BLOT;var g=function(t){function e(t){h(this,e);var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return b(e,t),o(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),v(e))}),new a.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,o,i){n<=0||(l.default.query(o,l.default.Scope.BLOCK)?t+n===this.length()&&this.format(o,i):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),o,i),this.cache={})}},{key:"insertAt",value:function(t,n,o){if(null!=o)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,o);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;i.reduce((function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,n){var o=this.children.head;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),o instanceof c.default&&o.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var o=this.clone();return 0===t?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}var i=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},i}}]),e}(l.default.Block);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,i.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:v(t.parent,e))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[u.default,l.default.Embed,d.default],e.bubbleFormats=v,e.BlockEmbed=y,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var o="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();n(59);var a=g(n(2)),l=g(n(16)),c=g(n(8)),u=g(n(9)),d=g(n(0)),p=n(17),h=g(p),f=g(n(3)),b=g(n(10)),y=g(n(43));function g(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _=(0,b.default)("quill"),w=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(this,t),this.options=O(e,o),this.container=this.options.container,null==this.container)return _.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,(function(t){t===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(c.default.events.SCROLL_UPDATE,(function(t,e){var o=n.selection.lastRange,r=o&&0===o.length?o.index:void 0;k.call(n,(function(){return n.editor.update(null,e,r)}),t)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),b.default.level(t)}},{key:"find",value:function(t){return t.__quill||d.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&_.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach((function(o){n.register(o,t[o],e)}))}else null==this.imports[t]||o||_.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?d.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),i(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var o=this,i=x(t,e,n),a=r(i,4);return t=a[0],e=a[1],n=a[3],k.call(this,(function(){return o.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return k.call(this,(function(){var o=n.getSelection(!0),r=new a.default;if(null==o)return r;if(d.default.query(t,d.default.Scope.BLOCK))r=n.editor.formatLine(o.index,o.length,v({},t,e));else{if(0===o.length)return n.selection.format(t,e),r;r=n.editor.formatText(o.index,o.length,v({},t,e))}return n.setSelection(o,c.default.sources.SILENT),r}),o)}},{key:"formatLine",value:function(t,e,n,o,i){var a,s=this,l=x(t,e,n,o,i),c=r(l,4);return t=c[0],e=c[1],a=c[2],i=c[3],k.call(this,(function(){return s.editor.formatLine(t,e,a)}),i,t,0)}},{key:"formatText",value:function(t,e,n,o,i){var a,s=this,l=x(t,e,n,o,i),c=r(l,4);return t=c[0],e=c[1],a=c[2],i=c[3],k.call(this,(function(){return s.editor.formatText(t,e,a)}),i,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var o=this.container.getBoundingClientRect();return{bottom:n.bottom-o.top,height:n.height,left:n.left-o.left,right:n.right-o.left,top:n.top-o.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),o=r(n,2);return t=o[0],e=o[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),o=r(n,2);return t=o[0],e=o[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,o){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return k.call(this,(function(){return r.editor.insertEmbed(e,n,o)}),i,e)}},{key:"insertText",value:function(t,e,n,o,i){var a,s=this,l=x(t,0,n,o,i),c=r(l,4);return t=c[0],a=c[2],i=c[3],k.call(this,(function(){return s.editor.insertText(t,e,a)}),i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var o=this,i=x(t,e,n),a=r(i,4);return t=a[0],e=a[1],n=a[3],k.call(this,(function(){return o.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return k.call(this,(function(){t=new a.default(t);var n=e.getLength(),o=e.editor.deleteText(0,n),r=e.editor.applyDelta(t),i=r.ops[r.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r.delete(1)),o.compose(r)}),n)}},{key:"setSelection",value:function(e,n,o){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=x(e,n,o),a=r(i,4);e=a[0],n=a[1],o=a[3],this.selection.setRange(new p.Range(e,n),o),o!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return k.call(this,(function(){return t=new a.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function O(t,e){if((e=(0,f.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==w.DEFAULTS.theme){if(e.theme=w.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=y.default;var n=(0,f.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var o=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=w.import("modules/"+e);return null==n?_.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,f.default)(!0,{},w.DEFAULTS,{modules:o},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function k(t,e,n,o){if(this.options.strict&&!this.isEnabled()&&e===c.default.sources.USER)return new a.default;var r=null==n?null:this.getSelection(),i=this.editor.delta,s=t();if(null!=r&&(!0===n&&(n=r.index),null==o?r=S(r,s,e):0!==o&&(r=S(r,n,o,e)),this.setSelection(r,c.default.sources.SILENT)),s.length()>0){var l,u,d=[c.default.events.TEXT_CHANGE,s,i,e];(l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(d)),e!==c.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function x(t,e,n,r,i){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=r,r=n,n=e,e=0),"object"===(void 0===n?"undefined":o(n))?(a=n,i=r):"string"==typeof n&&(null!=r?a[n]=r:i=n),[t,e,a,i=i||c.default.sources.API]}function S(t,e,n,o){if(null==t)return null;var i=void 0,s=void 0;if(e instanceof a.default){var l=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,o!==c.default.sources.USER)})),u=r(l,2);i=u[0],s=u[1]}else{var d=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&o===c.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),h=r(d,2);i=h[0],s=h[1]}return new p.Range(i,s-i)}w.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},w.events=c.default.events,w.sources=c.default.sources,w.version="1.3.7",w.imports={delta:a.default,parchment:d.default,"core/module":u.default,"core/theme":y.default},e.expandConfig=O,e.overload=x,e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=l(n(7)),a=l(n(0));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"formatAt",value:function(t,n,o,i){if(e.compare(this.statics.blotName,o)<0&&a.default.query(o,a.default.Scope.BLOT)){var s=this.isolate(t,n);i&&s.wrap(o,i)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,o,i)}},{key:"optimize",value:function(t){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var o=e.order.indexOf(t),r=e.order.indexOf(n);return o>=0||r>=0?o-r:t===n?0:t<n?-1:1}}]),e}(a.default.Inline);d.allowedChildren=[d,a.default.Embed,i.default],d.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var l=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default.Text);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=a(n(77));function a(t){return t&&t.__esModule?t:{default:t}}var l=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",l.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"emit",value:function(){l.log.apply(l,arguments),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];(this.listeners[t.type]||[]).forEach((function(e){var o=e.node,r=e.handler;(t.target===o||o.contains(t.target))&&r.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(i.default);c.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},c.sources={API:"api",SILENT:"silent",USER:"user"},e.default=c},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=["error","warn","log","info"],r="warn";function i(t){if(o.indexOf(t)<=o.indexOf(r)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=console)[t].apply(e,i)}}function a(t){return o.reduce((function(e,n){return e[n]=i.bind(console,n,t),e}),{})}i.level=a.level=function(t){r=t},e.default=a},function(t,e,n){var o=n(37),r=n(62),i=n(63),a=n(71),l=n(72),c=n(76),u=Date.prototype.getTime;function d(t,e,n){var f=n||{};return!!(f.strict?i(t,e):t===e)||(!t||!e||"object"!==s(t)&&"object"!==s(e)?f.strict?i(t,e):t==e:function(t,e,n){var i,f;if(s(t)!==s(e))return!1;if(p(t)||p(e))return!1;if(t.prototype!==e.prototype)return!1;if(r(t)!==r(e))return!1;var b=a(t),y=a(e);if(b!==y)return!1;if(b||y)return t.source===e.source&&l(t)===l(e);if(c(t)&&c(e))return u.call(t)===u.call(e);var g=h(t),v=h(e);if(g!==v)return!1;if(g||v){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}if(s(t)!==s(e))return!1;try{var m=o(t),_=o(e)}catch(t){return!1}if(m.length!==_.length)return!1;for(m.sort(),_.sort(),i=m.length-1;i>=0;i--)if(m[i]!=_[i])return!1;for(i=m.length-1;i>=0;i--)if(f=m[i],!d(t[f],e[f],n))return!1;return!0}(t,e,f))}function p(t){return null==t}function h(t){return!(!t||"object"!==s(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var r=o.Scope.TYPE&o.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&o.Scope.LEVEL|r:this.scope=o.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=o.query(t,o.Scope.BLOT&(this.scope|o.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=r},function(t,e,n){"use strict";var o=n(37),r="function"==typeof Symbol&&"symbol"===s(Symbol("foo")),i=Object.prototype.toString,a=Array.prototype.concat,l=Object.defineProperty,c=l&&function(){var t={};try{for(var e in l(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),u=function(t,e,n,o){var r;(!(e in t)||"function"==typeof(r=o)&&"[object Function]"===i.call(r)&&o())&&(c?l(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},d=function(t,e){var n=arguments.length>2?arguments[2]:{},i=o(e);r&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)u(t,i[s],e[i[s]],n[i[s]])};d.supportsDescriptors=!!c,t.exports=d},function(t,e,n){"use strict";var o=n(65);t.exports=Function.prototype.bind||o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=p(n(2)),l=p(n(0)),c=p(n(4)),u=p(n(6)),d=p(n(7));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(){return h(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),e}(u.default);y.blotName="code",y.tagName="CODE";var g=function(t){function e(){return h(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),r(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var r=this.descendant(d.default,this.length()-1),a=o(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,o,r){if(0!==n&&null!=l.default.query(o,l.default.Scope.BLOCK)&&(o!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var a=this.newlineIndex(t,!0)+1,s=i-a+1,c=this.isolate(a,s),u=c.next;c.format(o,r),u instanceof e&&u.formatAt(0,t-a+n-s,o,r)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var r=this.descendant(d.default,t),i=o(r,2),a=i[0],s=i[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=l.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof l.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(c.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",e.Code=y,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=v(n(2)),l=v(n(23)),c=v(n(0)),u=v(n(15)),d=v(n(27)),p=n(4),h=v(p),f=v(n(18)),b=v(n(24)),y=v(n(11)),g=v(n(3));function v(t){return t&&t.__esModule?t:{default:t}}var m=/^[ -~]*$/,_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,b.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,b.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var o=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(o,e.attributes)}return t.push(e)}),new a.default)}(t)).reduce((function(t,a){var s=a.retain||a.delete||a.insert.length||1,u=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var d=a.insert;d.endsWith("\n")&&n&&(n=!1,d=d.slice(0,-1)),t>=i&&!d.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,d);var f=e.scroll.line(t),b=r(f,2),y=b[0],v=b[1],m=(0,g.default)({},(0,p.bubbleFormats)(y));if(y instanceof h.default){var _=y.descendant(c.default.Leaf,v),w=r(_,1)[0];m=(0,g.default)(m,(0,p.bubbleFormats)(w))}u=l.default.attributes.diff(m,u)||{}}else if("object"===o(a.insert)){var O=Object.keys(a.insert)[0];if(null==O)return t;e.scroll.insertAt(t,O,a.insert[O])}i+=s}return Object.keys(u).forEach((function(n){e.scroll.formatAt(t,s,n,u[n])})),t+s}),0),t.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(o).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var i=n.scroll.lines(t,Math.max(e,1)),a=e;i.forEach((function(e){var i=e.length();if(e instanceof u.default){var s=t-e.offset(n.scroll),l=e.newlineIndex(s+a)-s+1;e.formatAt(s,l,r,o[r])}else e.format(r,o[r]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,b.default)(o)))}},{key:"formatText",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(o).forEach((function(r){n.scroll.formatAt(t,e,r,o[r])})),this.update((new a.default).retain(t).retain(e,(0,b.default)(o)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],o=[];0===e?this.scroll.path(t).forEach((function(t){var e=r(t,1)[0];e instanceof h.default?n.push(e):e instanceof c.default.Leaf&&o.push(e)})):(n=this.scroll.lines(t,e),o=this.scroll.descendants(c.default.Leaf,t,e));var i=[n,o].map((function(t){if(0===t.length)return{};for(var e=(0,p.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=w((0,p.bubbleFormats)(n),e)}return e}));return g.default.apply(g.default,i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(o).forEach((function(r){n.scroll.formatAt(t,e.length,r,o[r])})),this.update((new a.default).retain(t).insert(e,(0,b.default)(o)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===h.default.blotName&&!(t.children.length>1)&&t.children.head instanceof f.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),o=this.scroll.line(t+e),i=r(o,2),s=i[0],l=i[1],c=0,d=new a.default;null!=s&&(c=s instanceof u.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+c-1).insert("\n"));var p=this.getContents(t,e+c).diff((new a.default).insert(n).concat(d)),h=(new a.default).retain(t).concat(p);return this.applyDelta(h)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(m)&&c.default.find(e[0].target)){var r=c.default.find(e[0].target),i=(0,p.bubbleFormats)(r),s=r.offset(this.scroll),l=e[0].oldValue.replace(d.default.CONTENTS,""),u=(new a.default).insert(l),h=(new a.default).insert(r.value()),f=(new a.default).retain(s).concat(u.diff(h,n));t=f.reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new a.default),this.delta=o.compose(t)}else this.delta=this.getDelta(),t&&(0,y.default)(o.compose(t),this.delta)||(t=o.diff(this.delta,n));return t}}]),t}();function w(t,e){return Object.keys(e).reduce((function(n,o){return null==t[o]||(e[o]===t[o]?n[o]=e[o]:Array.isArray(e[o])?e[o].indexOf(t[o])<0&&(n[o]=e[o].concat([t[o]])):n[o]=[e[o],t[o]]),n}),{})}e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=d(n(0)),a=d(n(24)),s=d(n(11)),l=d(n(8)),c=d(n(10)),u=n(78);function d(t){return t&&t.__esModule?t:{default:t}}function p(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=(0,c.default)("quill:selection"),b=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.index=e,this.length=n},y=function(){function t(e,n){var o=this;h(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){o.mouseDown||setTimeout(o.update.bind(o,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&o.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(o.hasFocus()){var t=o.getNativeRange();null!=t&&t.start.node!==o.cursor.textNode&&o.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{o.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,r=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;o.setNativeRange(r,i,a,s)}})),this.update(l.default.sources.SILENT)}return r(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(t,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var o=i.default.find(n.start.node,!1);if(null==o)return;if(o instanceof i.default.Leaf){var r=o.split(n.start.offset);o.parent.insertBefore(this.cursor,r)}else o.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var r=void 0,i=this.scroll.leaf(t),a=o(i,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=o(c,2);r=u[0],l=u[1];var d=document.createRange();if(e>0){d.setStart(r,l);var p=this.scroll.leaf(t+e),h=o(p,2);if(s=h[0],l=h[1],null==s)return null;var f=s.position(l,!0),b=o(f,2);return r=b[0],l=b[1],d.setEnd(r,l),d.getBoundingClientRect()}var y="left",g=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),y="right"),g=d.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(y="right")),{bottom:g.top+g.height,height:g.height,left:g[y],right:g[y],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=null;if(this.root.getRootNode()&&this.root.getRootNode()instanceof ShadowRoot)t=(0,u.getRange)(this.root.getRootNode());else{var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;t=e.getRangeAt(0)}if(null==t)return null;var n=this.normalizeNative(t);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map((function(t){var n=o(t,2),r=n[0],a=n[1],s=i.default.find(r,!0),l=s.offset(e.scroll);return 0===a?l:s instanceof i.default.Container?l+s.length():l+s.index(r,a)})),a=Math.min(Math.max.apply(Math,p(r)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(p(r)));return new b(s,a-s)}},{key:"normalizeNative",value:function(t){if(!g(this.root,t.startContainer)||!t.collapsed&&!g(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var a,s=e.scroll.leaf(t),l=o(s,2),c=l[0],u=l[1],d=c.position(u,0!==n),p=o(d,2);a=p[0],u=p[1],r.push(a,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,r)),a=o(i,1)[0],s=a;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,r));s=o(l,1)[0]}if(null!=a&&null!=s){var c=t.getBoundingClientRect();n.top<c.top?t.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(t.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",t,e,n,o),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;(null==a||r||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||o!==a.endOffset)&&("BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(o=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode),(0,u.setRange)(this.root,i,t,e,n,o))}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e&&(n=e,e=!1),f.info("setRange",t),null!=t){var o=this.rangeToNative(t);this.setNativeRange.apply(this,p(o).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,n=this.getRange(),r=o(n,2),i=r[0],c=r[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(p)),t!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),t}();function g(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=b,e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var c=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"insertInto",value:function(t,n){0===t.children.length?function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default.Embed);c.blotName="break",c.tagName="BR",e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(53),a=n(33),s=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=c(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof s.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var o=this.children.find(n),r=o[0],i=o[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,i]:r instanceof e?r.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,o){void 0===n&&(n=0),void 0===o&&(o=Number.MAX_VALUE);var r=[],i=o;return this.children.forEachAt(n,o,(function(n,o,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,o,i))),i-=a})),r},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,o){this.children.forEachAt(t,e,(function(t,e,r){t.formatAt(e,r,n,o)}))},e.prototype.insertAt=function(t,e,n){var o=this.children.find(t),r=o[0],i=o[1];if(r)r.insertAt(i,e,n);else{var a=null==n?s.create("text",e):s.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var o=this.children.find(t,n),r=o[0],i=o[1],a=[[this,t]];return r instanceof e?a.concat(r.path(i,n)):(null!=r&&a.push([r,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,o,r){t=t.split(o,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,o=[],r=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(o.push.apply(o,t.addedNodes),r.push.apply(r,t.removedNodes))})),r.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),o.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var o=c(t);o.next==e&&null!=o.next||(null!=o.parent&&o.parent.removeChild(n),n.insertBefore(o,e||void 0))}))},e}(a.default);function c(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(n){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n(34),s=n(19),l=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new a.default(n.domNode),n}return r(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=l.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var o=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(o),o},e.prototype.update=function(e,n){var o=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===o.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,o){var r=t.prototype.wrap.call(this,n,o);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(s.default);e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(33),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){"use strict";(function(e){var o=e.Symbol,r=n(68);t.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===s(o("foo"))&&"symbol"===s(Symbol("bar"))&&r()}}).call(e,n(67))},function(t,e,n){var o=n(11),r=n(3),i={attributes:{compose:function(t,e,n){"object"!==s(t)&&(t={}),"object"!==s(e)&&(e={});var o=r(!0,{},e);for(var i in n||(o=Object.keys(o).reduce((function(t,e){return null!=o[e]&&(t[e]=o[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(o[i]=t[i]);return Object.keys(o).length>0?o:void 0},diff:function(t,e){"object"!==s(t)&&(t={}),"object"!==s(e)&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return o(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==s(t))return e;if("object"===s(e)){if(!n)return e;var o=Object.keys(e).reduce((function(n,o){return void 0===t[o]&&(n[o]=e[o]),n}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,o=i.length(e);if(t>=o-n?(t=o-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:"string"==typeof e.insert?r.insert=e.insert.substr(n,t):r.insert=e.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),o=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(o)}return[]},t.exports=i},function(e,n){var o=function(){"use strict";function e(t,e){return null!=e&&t instanceof e}var n,o,r;try{n=Map}catch(t){n=function(){}}try{o=Set}catch(t){o=function(){}}try{r=Promise}catch(t){r=function(){}}function i(a,c,u,d,p){"object"===s(c)&&(u=c.depth,d=c.prototype,p=c.includeNonEnumerable,c=c.circular);var h=[],f=[],b=void 0!==t;return void 0===c&&(c=!0),void 0===u&&(u=1/0),function a(u,y){if(null===u)return null;if(0===y)return u;var g,v;if("object"!=s(u))return u;if(e(u,n))g=new n;else if(e(u,o))g=new o;else if(e(u,r))g=new r((function(t,e){u.then((function(e){t(a(e,y-1))}),(function(t){e(a(t,y-1))}))}));else if(i.__isArray(u))g=[];else if(i.__isRegExp(u))g=new RegExp(u.source,l(u)),u.lastIndex&&(g.lastIndex=u.lastIndex);else if(i.__isDate(u))g=new Date(u.getTime());else{if(b&&t.isBuffer(u))return g=t.allocUnsafe?t.allocUnsafe(u.length):new t(u.length),u.copy(g),g;e(u,Error)?g=Object.create(u):void 0===d?(v=Object.getPrototypeOf(u),g=Object.create(v)):(g=Object.create(d),v=d)}if(c){var m=h.indexOf(u);if(-1!=m)return f[m];h.push(u),f.push(g)}for(var _ in e(u,n)&&u.forEach((function(t,e){var n=a(e,y-1),o=a(t,y-1);g.set(n,o)})),e(u,o)&&u.forEach((function(t){var e=a(t,y-1);g.add(e)})),u){var w;v&&(w=Object.getOwnPropertyDescriptor(v,_)),w&&null==w.set||(g[_]=a(u[_],y-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(u);for(_=0;_<O.length;_++){var k=O[_];(!(S=Object.getOwnPropertyDescriptor(u,k))||S.enumerable||p)&&(g[k]=a(u[k],y-1),S.enumerable||Object.defineProperty(g,k,{enumerable:!1}))}}if(p){var x=Object.getOwnPropertyNames(u);for(_=0;_<x.length;_++){var S,C=x[_];(S=Object.getOwnPropertyDescriptor(u,C))&&S.enumerable||(g[C]=a(u[C],y-1),Object.defineProperty(g,C,{enumerable:!1}))}}return g}(a,u)}function a(t){return Object.prototype.toString.call(t)}function l(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"===s(t)&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"===s(t)&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"===s(t)&&"[object RegExp]"===a(t)},i.__getRegExpFlags=l,i}();"object"===s(e)&&e.exports&&(e.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=f(n(0)),l=f(n(8)),c=n(4),u=f(c),d=f(n(18)),p=f(n(15)),h=f(n(28));function f(t){return t&&t.__esModule?t:{default:t}}function b(t){return t instanceof u.default||t instanceof c.BlockEmbed}var y=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.emitter=n.emitter,Array.isArray(n.whitelist)&&(o.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),o.domNode.addEventListener("DOMNodeInserted",(function(){})),o.optimize(),o.enable(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var r=this.line(t),a=o(r,2),s=a[0],l=a[1],u=this.line(t+n),h=o(u,1)[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=h&&s!==h&&l>0){if(s instanceof c.BlockEmbed||h instanceof c.BlockEmbed)return void this.optimize();if(s instanceof p.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===h)return void this.optimize()}else if(h instanceof p.default){var b=h.newlineIndex(0);b>-1&&h.split(b+1)}var y=h.children.head instanceof d.default?null:h.children.head;s.moveChildren(h,y),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,o,r){(null==this.whitelist||this.whitelist[o])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,o,r),this.optimize())}},{key:"insertAt",value:function(t,n,o){if(null==o||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==o||null==a.default.query(n,a.default.Scope.BLOCK)){var r=a.default.create(this.statics.defaultChild);this.appendChild(r),null==o&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,o)}else{var s=a.default.create(n,o);this.appendChild(s)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,o);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var o=a.default.create(this.statics.defaultChild);o.appendChild(t),t=o}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(b,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,o){var r=[],i=o;return e.children.forEachAt(n,o,(function(e,n,o){b(e)?r.push(e):e instanceof a.default.Container&&(r=r.concat(t(e,n,i))),i-=o})),r};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=l.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,n,t)}}}]),e}(a.default.Scroll);y.blotName="scroll",y.className="ql-editor",y.tagName="DIV",y.defaultChild="block",y.allowedChildren=[u.default,c.BlockEmbed,h.default],e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var o="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=y(n(24)),l=y(n(11)),c=y(n(3)),u=y(n(2)),d=y(n(23)),p=y(n(0)),h=y(n(5)),f=y(n(10)),b=y(n(9));function y(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=(0,f.default)("quill:keyboard"),m=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",_=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.bindings={},Object.keys(o.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&o.options.bindings[e]&&o.addBinding(o.options.bindings[e])})),o.addBinding({key:e.keys.ENTER,shiftKey:null},S),o.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(o.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},O),o.addBinding({key:e.keys.DELETE},{collapsed:!0},k)):(o.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},O),o.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},k)),o.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},x),o.addBinding({key:e.keys.DELETE},{collapsed:!1},x),o.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},O),o.listen(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"match",value:function(t,e){return e=P(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=P(t);if(null==o||null==o.key)return v.warn("Attempted to add invalid keyboard binding",o);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),o=(0,c.default)(o,e,n),this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(t.bindings[i]||[]).filter((function(t){return e.match(n,t)}));if(0!==a.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var c=t.quill.getLine(s.index),u=r(c,2),d=u[0],h=u[1],f=t.quill.getLeaf(s.index),b=r(f,2),y=b[0],g=b[1],v=0===s.length?[y,g]:t.quill.getLeaf(s.index+s.length),m=r(v,2),_=m[0],w=m[1],O=y instanceof p.default.Text?y.value().slice(0,g):"",k=_ instanceof p.default.Text?_.value().slice(w):"",x={collapsed:0===s.length,empty:0===s.length&&d.length()<=1,format:t.quill.getFormat(s),offset:h,prefix:O,suffix:k};a.some((function(e){if(null!=e.collapsed&&e.collapsed!==x.collapsed)return!1;if(null!=e.empty&&e.empty!==x.empty)return!1;if(null!=e.offset&&e.offset!==x.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==x.format[t]})))return!1}else if("object"===o(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=x.format[t]:!1===e.format[t]?null==x.format[t]:(0,l.default)(e.format[t],x.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(x.prefix)||null!=e.suffix&&!e.suffix.test(x.suffix)||!0===e.handler.call(t,s,x))}))&&n.preventDefault()}}}}))}}]),e}(b.default);function w(t,e){var n,o=t===_.keys.LEFT?"prefix":"suffix";return g(n={key:t,shiftKey:e,altKey:null},o,/^$/),g(n,"handler",(function(n){var o=n.index;t===_.keys.RIGHT&&(o+=n.length+1);var i=this.quill.getLeaf(o);return!(r(i,1)[0]instanceof p.default.Embed&&(t===_.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),1))})),n}function O(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),o=r(n,1)[0],i={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=r(a,1)[0];if(null!=s&&s.length()>1){var l=o.formats(),c=this.quill.getFormat(t.index-1,1);i=d.default.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-u,u,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-u,u,i,h.default.sources.USER),this.quill.focus()}}function k(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var o={},i=0,a=this.quill.getLine(t.index),s=r(a,1)[0];if(e.offset>=s.length()-1){var l=this.quill.getLine(t.index+1),c=r(l,1)[0];if(c){var u=s.formats(),p=this.quill.getFormat(t.index,1);o=d.default.attributes.diff(u,p)||{},i=c.length()}}this.quill.deleteText(t.index,n,h.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index+i-1,n,o,h.default.sources.USER)}}function x(t){var e=this.quill.getLines(t),n={};if(e.length>1){var o=e[0].formats(),r=e[e.length-1].formats();n=d.default.attributes.diff(r,o)||{}}this.quill.deleteText(t,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,h.default.sources.USER),this.quill.setSelection(t.index,h.default.sources.SILENT),this.quill.focus()}function S(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var o=Object.keys(e.format).reduce((function(t,n){return p.default.query(n,p.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",o,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==o[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],h.default.sources.USER))}))}function C(t){return{key:_.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=p.default.query("code-block"),o=e.index,i=e.length,a=this.quill.scroll.descendant(n,o),s=r(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),d=l.newlineIndex(c,!0)+1,f=l.newlineIndex(u+c+i),b=l.domNode.textContent.slice(d,f).split("\n");c=0,b.forEach((function(e,r){t?(l.insertAt(d+c,n.TAB),c+=n.TAB.length,0===r?o+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(d+c,n.TAB.length),c-=n.TAB.length,0===r?o-=n.TAB.length:i-=n.TAB.length),c+=e.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(o,i,h.default.sources.SILENT)}}}}function E(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],h.default.sources.USER)}}}function P(t){if("string"==typeof t||"number"==typeof t)return P({key:t});if("object"===(void 0===t?"undefined":o(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=_.keys[t.key.toUpperCase()])t.key=_.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[m]=t.shortKey,delete t.shortKey),t}_.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},_.DEFAULTS={bindings:{bold:E("bold"),italic:E("italic"),underline:E("underline"),indent:{key:_.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:_.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:_.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:_.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,h.default.sources.USER)}},tab:{key:_.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,h.default.sources.SILENT)}},"list empty enter":{key:_.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,h.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:_.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),o=n[0],i=n[1],a=(0,c.default)({},o.formats(),{list:"checked"}),s=(new u.default).retain(t.index).insert("\n",a).retain(o.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:_.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),o=r(n,2),i=o[0],a=o[1],s=(new u.default).retain(t.index).insert("\n",e.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,o=this.quill.getLine(t.index),i=r(o,2),a=i[0],s=i[1];if(s>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",h.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,h.default.sources.SILENT)}},"code exit":{key:_.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),o=n[0],i=n[1],a=(new u.default).retain(t.index+o.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,h.default.sources.USER)}},"embed left":w(_.keys.LEFT,!1),"embed left shift":w(_.keys.LEFT,!0),"embed right":w(_.keys.RIGHT,!1),"embed right shift":w(_.keys.RIGHT,!0)}},e.default=_,e.SHORTKEY=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=c(n(0)),l=c(n(7));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.selection=n,o.textNode=document.createTextNode(e.CONTENTS),o.domNode.appendChild(o.textNode),o._length=0,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"value",value:function(){}}]),i(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var o=this,i=0;null!=o&&o.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=e.CONTENTS.length,o.optimize(),o.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),r=void 0,i=void 0,s=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var c=[t,n.start.offset,n.end.offset];r=c[0],i=c[1],s=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof l.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,s].map((function(t){return Math.max(0,Math.min(r.data.length,t-1))})),p=o(d,2);return i=p[0],s=p[1],{startNode:r,startOffset:i,endNode:r,endOffset:s}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var o=this.restore();o&&(e.range=o)}}},{key:"value",value:function(){return""}}]),e}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(0)),r=n(4),i=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(o.default.Container);u.allowedChildren=[i.default,r.BlockEmbed,u],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"value",value:function(t){var n=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),d=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),p=new u("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=u,e.ColorClass=d,e.ColorStyle=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(6);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return d(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((o=a)&&o.__esModule?o:{default:o}).default);function d(t,e){var n=document.createElement("a");n.href=t;var o=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(o)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=u,e.sanitize=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=l(n(26)),a=l(n(131));function l(t){return t&&t.__esModule?t:{default:t}}var c=0;function u(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var d=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case i.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case i.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var o=t.buildItem(n);e.appendChild(o),!0===n.selected&&t.selectItem(o)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":o(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=g(n(0)),r=g(n(5)),i=n(4),a=g(i),s=g(n(18)),l=g(n(28)),c=g(n(27)),u=g(n(44)),d=g(n(6)),p=g(n(25)),h=g(n(7)),f=g(n(79)),b=g(n(51)),y=g(n(26));function g(t){return t&&t.__esModule?t:{default:t}}r.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":b.default,"modules/keyboard":y.default}),o.default.register(a.default,s.default,c.default,d.default,p.default,h.default),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=function(){function t(t){this.domNode=t,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new o.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return o.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,r){var i=this.isolate(t,e);if(null!=o.query(n,o.Scope.BLOT)&&r)i.wrap(n,r);else if(null!=o.query(n,o.Scope.ATTRIBUTE)){var a=o.create(this.statics.scope);i.wrap(a),a.format(n,r)}},t.prototype.insertAt=function(t,e,n){var r=null==n?o.create("text",e):o.create(e,n),i=this.split(t);this.parent.insertBefore(r,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[o.DATA_KEY]&&delete this.domNode[o.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?o.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?o.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),r=n(35),i=n(36),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=o.default.keys(this.domNode),n=r.default.keys(this.domNode),s=i.default.keys(this.domNode);e.concat(n).concat(s).forEach((function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof o.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var o=e.attributes[n].value(e.domNode);t.format(n,o)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var o=Array.prototype.slice,r=n(38),i=Object.keys,a=i?function(t){return i(t)}:n(61),s=Object.keys;a.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?s(o.call(t)):s(t)}):Object.keys=a,Object.keys||a},t.exports=a},function(t,e,n){"use strict";var o=Object.prototype.toString;t.exports=function(t){var e=o.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"===s(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===o.call(t.callee)),n}},function(t,e,n){"use strict";var o=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!o(t)||!o(e))}},function(t,e,n){"use strict";var o=n(39);t.exports=function(){return"function"==typeof Object.is?Object.is:o}},function(t,e,n){"use strict";var o=Object,r=TypeError;t.exports=function(){if(null!=this&&this!==o(this))throw new r("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var o=n(41),r=n(13).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!r)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return o(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();r.DEFAULTS={modules:{}},r.themes={default:r},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(0)),i=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,o=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof i.default){var a=this.prev.length();this.prev.insertAt(a,o),e={startNode:this.prev.domNode,startOffset:a+o.length}}else n=document.createTextNode(o),this.parent.insertBefore(r.default.create(n),this),e={startNode:n,startOffset:o.length};else t===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,o),e={startNode:this.next.domNode,startOffset:o.length}):(n=document.createTextNode(o),this.parent.insertBefore(r.default.create(n),this.next),e={startNode:n,startOffset:o.length}));return t.data="\ufeff",e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var o=n.restore(t.target);o&&(e.range=o)}}))}}]),e}(r.default.Embed);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var o,r=n(0),i=(o=r)&&o.__esModule?o:{default:o},a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",a),l=new i.default.Attributor.Class("align","ql-align",a),c=new i.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=l,e.AlignStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var o,r=n(0),i=(o=r)&&o.__esModule?o:{default:o},a=n(29),s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var o,r=n(0),i=(o=r)&&o.__esModule?o:{default:o},a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",a),l=new i.default.Attributor.Class("direction","ql-direction",a),c=new i.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=l,e.DirectionStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var u={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new a.default.Attributor.Class("font","ql-font",u),p=new(function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"value",value:function(t){return function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style))("font","font-family",u);e.FontStyle=p,e.FontClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var o,r=n(0),i=(o=r)&&o.__esModule?o:{default:o},a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(100),center:n(101),right:n(102),justify:n(103)},background:n(104),blockquote:n(105),bold:n(106),clean:n(107),code:n(82),"code-block":n(82),color:n(108),direction:{"":n(109),rtl:n(110)},float:{center:n(111),full:n(112),left:n(113),right:n(114)},formula:n(115),header:{1:n(116),2:n(117)},italic:n(118),image:n(119),indent:{"+1":n(120),"-1":n(121)},link:n(122),list:{ordered:n(123),bullet:n(124),check:n(125)},script:{sub:n(126),super:n(127)},strike:n(128),underline:n(129),video:n(130)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(0)),i=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.lastRecorded=0,o.ignoreChange=!1,o.clear(),o.quill.on(i.default.events.EDITOR_CHANGE,(function(t,e,n,r){t!==i.default.events.TEXT_CHANGE||o.ignoreChange||(o.options.userOnly&&r!==i.default.sources.USER?o.transform(e):o.record(e,n))})),o.quill.keyboard.addBinding({key:"Z",shortKey:!0},o.undo.bind(o)),o.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},o.redo.bind(o)),/Win/i.test(navigator.platform)&&o.quill.keyboard.addBinding({key:"Y",shortKey:!0},o.redo.bind(o)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],i.default.sources.USER),this.ignoreChange=!1;var o=c(n[t]);this.quill.setSelection(o)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=o;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(a(n(9)).default);function c(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=r.default.query(t,r.default.Scope.BLOCK)})))}(t)&&(n-=1),n}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=l,e.getLastChangeIndex=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=f(n(3)),i=f(n(2)),a=f(n(8)),l=f(n(26)),c=f(n(43)),u=f(n(83)),d=f(n(84)),p=f(n(31)),h=f(n(85));function f(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[!1,"center","right","justify"],m=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],w=["1","2","3",!1],O=["small",!1,"large","huge"],k=function(t){function e(t,n){b(this,e);var o=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,(function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==o.tooltip||o.tooltip.root.contains(n.target)||document.activeElement===o.tooltip.textbox||o.quill.hasFocus()||o.tooltip.hide(),null!=o.pickers&&o.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))})),o}return g(e,t),o(e,[{key:"addModule",value:function(t){var n=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var o=t.value||"";null!=o&&e[n][o]&&(t.innerHTML=e[n][o])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&S(t,v),new d.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&S(t,m,"background"===n?"#ffffff":"#000000"),new u.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?S(t,_):t.classList.contains("ql-header")?S(t,w):t.classList.contains("ql-size")&&S(t,O)),new p.default(t)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),e}(c.default);k.DEFAULTS=(0,r.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var o=t.quill.getSelection(!0);t.quill.updateContents((new i.default).retain(o.index).delete(o.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(o.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var x=function(t){function e(t,n){b(this,e);var o=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.textbox=o.root.querySelector('input[type="text"]'),o.listen(),o}return g(e,t),o(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){l.default.match(e,"enter")?(t.save(),e.preventDefault()):l.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var o=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,a.default.sources.USER)),this.quill.root.scrollTop=o;break;case"video":e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var i=r.index+r.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),n,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",a.default.sources.USER),this.quill.setSelection(i+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(h.default);function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var o=document.createElement("option");e===n?o.setAttribute("selected","selected"):o.setAttribute("value",e),t.appendChild(o)}))}e.BaseTooltip=x,e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,o=this.iterator();n=o();){var r=n.length();if(t<r||e&&t===r&&(null==n.next||0!==n.next.length()))return[n,t];t-=r}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var o,r=this.find(t),i=r[0],a=t-r[1],s=this.iterator(i);(o=s())&&a<t+e;){var l=o.length();t>a?n(o,t-a,Math.min(e,a+l-t)):n(o,0,Math.min(l,t+e-a)),a+=l}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,o=this.iterator();n=o();)e=t(e,n);return e},t}();e.default=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,o,r){this.update(),t.prototype.formatAt.call(this,e,n,o,r)},e.prototype.insertAt=function(e,n,o){this.update(),t.prototype.insertAt.call(this,e,n,o)},e.prototype.optimize=function(e,n){var o=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)e.push(r.pop());for(var s=function t(e,n){void 0===n&&(n=!0),null!=e&&e!==o&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),n&&t(e.parent))},l=function t(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(t),e.optimize(n))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=a.find(t,!1);s(e,!1),e instanceof i.default&&e.children.forEach((function(t){s(t,!1)}))}))):"attributes"===t.type&&s(e.prev)),s(e))})),this.children.forEach(l),r=(c=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)e.push(r.pop())}},e.prototype.update=function(e,n){var o=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==o&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,o){var r=this;n!==this.statics.blotName||o?t.prototype.format.call(this,n,o):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,o,r){null!=this.formats()[o]||a.query(o,a.Scope.ATTRIBUTE)?this.isolate(e,n).format(o,r):t.prototype.formatAt.call(this,e,n,o,r)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var o=this.formats();if(0===Object.keys(o).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(o,r.formats())&&(r.moveChildren(this),r.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){var o=a.query(e.blotName).tagName;if(n.tagName!==o)return t.formats.call(this,n)},e.prototype.format=function(n,o){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||o?t.prototype.format.call(this,n,o):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,o,r){null!=a.query(o,a.Scope.BLOCK)?this.format(o,r):t.prototype.formatAt.call(this,e,n,o,r)},e.prototype.insertAt=function(e,n,o){if(null==o||null!=a.query(n,a.Scope.INLINE))t.prototype.insertAt.call(this,e,n,o);else{var r=this.split(e),i=a.create(n,o);r.parent.insertBefore(i,r)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,o,r){0===e&&n===this.length()?this.format(o,r):t.prototype.formatAt.call(this,e,n,o,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(21).default);e.default=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,o){null==o?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,o)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=a.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){"use strict";var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var o=n.indexOf(t,e);return-1!==o&&o===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),o=n.length>>>0,r=arguments[1],i=0;i<o;i++)if(e=n[i],t.call(r,e,i,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){function n(t,e,a){if(t==e)return t?[[0,t]]:[];(a<0||t.length<a)&&(a=null);var l=r(t,e),c=t.substring(0,l);l=i(t=t.substring(l),e=e.substring(l));var u=t.substring(t.length-l),d=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[-1,t]];var s=t.length>e.length?t:e,l=t.length>e.length?e:t,c=s.indexOf(l);if(-1!=c)return a=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],t.length>e.length&&(a[0][0]=a[2][0]=-1),a;if(1==l.length)return[[-1,t],[1,e]];var u=function(t,e){var n=t.length>e.length?t:e,o=t.length>e.length?e:t;if(n.length<4||2*o.length<n.length)return null;function a(t,e,n){for(var o,a,s,l,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,d="";-1!=(u=e.indexOf(c,u+1));){var p=r(t.substring(n),e.substring(u)),h=i(t.substring(0,n),e.substring(0,u));d.length<h+p&&(d=e.substring(u-h,u)+e.substring(u,u+p),o=t.substring(0,n-h),a=t.substring(n+p),s=e.substring(0,u-h),l=e.substring(u+p))}return 2*d.length>=t.length?[o,a,s,l,d]:null}var s,l,c,u,d,p=a(n,o,Math.ceil(n.length/4)),h=a(n,o,Math.ceil(n.length/2));if(!p&&!h)return null;s=h?p&&p[4].length>h[4].length?p:h:p,t.length>e.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var f=s[4];return[l,c,u,d,f]}(t,e);if(u){var d=u[0],p=u[1],h=u[2],f=u[3],b=u[4],y=n(d,h),g=n(p,f);return y.concat([[0,b]],g)}return function(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),a=i,s=2*i,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0,c[a+1]=0;for(var d=n-r,p=d%2!=0,h=0,f=0,b=0,y=0,g=0;g<i;g++){for(var v=-g+h;v<=g-f;v+=2){for(var m=a+v,_=(S=v==-g||v!=g&&l[m-1]<l[m+1]?l[m+1]:l[m-1]+1)-v;S<n&&_<r&&t.charAt(S)==e.charAt(_);)S++,_++;if(l[m]=S,S>n)f+=2;else if(_>r)h+=2;else if(p&&(k=a+d-v)>=0&&k<s&&-1!=c[k]){var w=n-c[k];if(S>=w)return o(t,e,S,_)}}for(var O=-g+b;O<=g-y;O+=2){for(var k=a+O,x=(w=O==-g||O!=g&&c[k-1]<c[k+1]?c[k+1]:c[k-1]+1)-O;w<n&&x<r&&t.charAt(n-w-1)==e.charAt(r-x-1);)w++,x++;if(c[k]=w,w>n)y+=2;else if(x>r)b+=2;else if(!p&&(m=a+d-O)>=0&&m<s&&-1!=l[m]){var S=l[m];if(_=a+S-m,S>=(w=n-w))return o(t,e,S,_)}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-l),e=e.substring(0,e.length-l));return c&&d.unshift([0,c]),u&&d.push([0,u]),function t(e){e.push([0,""]);for(var n,o=0,a=0,s=0,l="",c="";o<e.length;)switch(e[o][0]){case 1:s++,c+=e[o][1],o++;break;case-1:a++,l+=e[o][1],o++;break;case 0:a+s>1?(0!==a&&0!==s&&(0!==(n=r(c,l))&&(o-a-s>0&&0==e[o-a-s-1][0]?e[o-a-s-1][1]+=c.substring(0,n):(e.splice(0,0,[0,c.substring(0,n)]),o++),c=c.substring(n),l=l.substring(n)),0!==(n=i(c,l))&&(e[o][1]=c.substring(c.length-n)+e[o][1],c=c.substring(0,c.length-n),l=l.substring(0,l.length-n))),0===a?e.splice(o-s,a+s,[1,c]):0===s?e.splice(o-a,a+s,[-1,l]):e.splice(o-a-s,a+s,[-1,l],[1,c]),o=o-a-s+(a?1:0)+(s?1:0)+1):0!==o&&0==e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,s=0,a=0,l="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(o=1;o<e.length-1;)0==e[o-1][0]&&0==e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),u=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),u=!0)),o++;u&&t(e)}(d),null!=a&&(d=function(t,e){var n=function(t,e){if(0===e)return[0,t];for(var n=0,o=0;o<t.length;o++){var r=t[o];if(-1===r[0]||0===r[0]){var i=n+r[1].length;if(e===i)return[o+1,t];if(e<i){t=t.slice();var a=e-n,s=[r[0],r[1].slice(0,a)],l=[r[0],r[1].slice(a)];return t.splice(o,1,s,l),[o+1,t]}n=i}}throw new Error("cursor_pos is out of bounds!")}(t,e),o=n[1],r=n[0],i=o[r],a=o[r+1];if(null==i)return t;if(0!==i[0])return t;if(null!=a&&i[1]+a[1]===a[1]+i[1])return o.splice(r,2,a,i),s(o,r,2);if(null!=a&&0===a[1].indexOf(i[1])){o.splice(r,2,[a[0],i[1]],[0,i[1]]);var l=a[1].slice(i[1].length);return l.length>0&&o.splice(r+2,0,[a[0],l]),s(o,r,3)}return t}(d,a)),d=function(t){for(var e=!1,n=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},o=2;o<t.length;o+=1)0===t[o-2][0]&&(r=t[o-2][1]).charCodeAt(r.length-1)>=55296&&r.charCodeAt(r.length-1)<=56319&&-1===t[o-1][0]&&n(t[o-1][1])&&1===t[o][0]&&n(t[o][1])&&(e=!0,t[o-1][1]=t[o-2][1].slice(-1)+t[o-1][1],t[o][1]=t[o-2][1].slice(-1)+t[o][1],t[o-2][1]=t[o-2][1].slice(0,-1));var r;if(!e)return t;var i=[];for(o=0;o<t.length;o+=1)t[o][1].length>0&&i.push(t[o]);return i}(d)}function o(t,e,o,r){var i=t.substring(0,o),a=e.substring(0,r),s=t.substring(o),l=e.substring(r),c=n(i,a),u=n(s,l);return c.concat(u)}function r(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,o=Math.min(t.length,e.length),r=o,i=0;n<r;)t.substring(i,r)==e.substring(i,r)?i=n=r:o=r,r=Math.floor((o-n)/2+n);return r}function i(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,o=Math.min(t.length,e.length),r=o,i=0;n<r;)t.substring(t.length-r,t.length-i)==e.substring(e.length-r,e.length-i)?i=n=r:o=r,r=Math.floor((o-n)/2+n);return r}var a=n;function s(t,e,n){for(var o=e+n-1;o>=0&&o>=e-1;o--)if(o+1<t.length){var r=t[o],i=t[o+1];r[0]===i[1]&&t.splice(o,2,[r[0],r[1]+i[1]])}return t}a.INSERT=1,a.DELETE=-1,a.EQUAL=0,t.exports=a},function(t,e,n){"use strict";var o;if(!Object.keys){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(38),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),u=l.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"===s(window[t]))try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();o=function(t){var e=null!==t&&"object"===s(t),n="[object Function]"===i.call(t),o=a(t),l=e&&"[object String]"===i.call(t),h=[];if(!e&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var b=u&&n;if(l&&t.length>0&&!r.call(t,0))for(var y=0;y<t.length;++y)h.push(String(y));if(o&&t.length>0)for(var g=0;g<t.length;++g)h.push(String(g));else for(var v in t)b&&"prototype"===v||!r.call(t,v)||h.push(String(v));if(c)for(var m=function(t){if("undefined"==typeof window||!f)return p(t);try{return p(t)}catch(t){return!1}}(t),_=0;_<d.length;++_)m&&"constructor"===d[_]||!r.call(t,d[_])||h.push(d[_]);return h}}t.exports=o},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"===s(Symbol.toStringTag),r=Object.prototype.toString,i=function(t){return!(o&&t&&"object"===s(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===r.call(t)},a=function(t){return!!i(t)||null!==t&&"object"===s(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==r.call(t)&&"[object Function]"===r.call(t.callee)},l=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=l?i:a},function(t,e,n){"use strict";var o=n(13),r=n(64),i=n(39),a=n(40),s=n(70),l=r(a(),Object);o(l,{getPolyfill:a,implementation:i,shim:s}),t.exports=l},function(t,e,n){"use strict";var o=n(14),r=n(66),i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||o.call(a,i),l=r("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(){return s(o,a,arguments)};var c=function(){return s(o,i,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c},function(t,e,n){"use strict";var o="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.call(e))throw new TypeError(o+e);for(var n,a=r.call(arguments,1),s=function(){if(this instanceof n){var o=e.apply(this,a.concat(r.call(arguments)));return Object(o)===o?o:this}return e.apply(t,a.concat(r.call(arguments)))},l=Math.max(0,e.length-a.length),c=[],u=0;u<l;u++)c.push("$"+u);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),e.prototype){var d=function(){};d.prototype=e.prototype,n.prototype=new d,d.prototype=null}return n}},function(t,e,n){"use strict";var o=SyntaxError,r=Function,i=TypeError,a=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new i},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,d=n(22)(),p=Object.getPrototypeOf||function(t){return t.__proto__},h=a("async function* () {}"),f=h?h.prototype:void 0,b=f?f.prototype:void 0,y="undefined"==typeof Uint8Array?void 0:p(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":b?p(b):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":s(JSON))?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(14),_=n(69),w=m.call(Function.call,Array.prototype.concat),O=m.call(Function.apply,Array.prototype.splice),k=m.call(Function.call,String.prototype.replace),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,C=function(t){var e=[];return k(t,x,(function(t,n,o,r){e[e.length]=o?k(r,S,"$1"):n||t})),e},E=function(t,e){var n,r=t;if(_(v,r)&&(r="%"+(n=v[r])[0]+"%"),_(g,r)){var a=g[r];if(void 0===a&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new i('"allowMissing" argument must be a boolean');var n=C(t),o=n.length>0?n[0]:"",r=E("%"+o+"%",e),a=r.name,s=r.value,c=!1,u=r.alias;u&&(o=u[0],O(n,w([0,1],u)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d];if("constructor"!==h&&p||(c=!0),_(g,a="%"+(o+="."+h)+"%"))s=g[a];else if(null!=s){if(l&&d+1>=n.length){var f=l(s,h);if(p=!!f,!e&&!(h in s))throw new i("base intrinsic for "+t+" exists, but the property is not available.");s=p&&"get"in f&&!("originalValue"in f.get)?f.get:s[h]}else p=_(s,h),s=s[h];p&&!c&&(g[a]=s)}}return s}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":s(window))&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===s(Symbol.iterator))return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},function(t,e,n){"use strict";var o=n(14);t.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var o=n(40),r=n(13);t.exports=function(){var t=o();return r(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";var o,r,i,a,l=n(22)()&&"symbol"===s(Symbol.toStringTag);if(l){o=Function.call.bind(Object.prototype.hasOwnProperty),r=Function.call.bind(RegExp.prototype.exec),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"===s(Symbol.toPrimitive)&&(a[Symbol.toPrimitive]=c)}var u=Object.prototype.toString,d=Object.getOwnPropertyDescriptor;t.exports=l?function(t){if(!t||"object"!==s(t))return!1;var e=d(t,"lastIndex");if(!e||!o(e,"value"))return!1;try{r(t,a)}catch(t){return t===i}}:function(t){return!(!t||"object"!==s(t)&&"function"!=typeof t)&&"[object RegExp]"===u.call(t)}},function(t,e,n){"use strict";var o=n(13),r=n(73),i=n(41),a=n(42),s=n(75),l=r(i);o(l,{getPolyfill:a,implementation:i,shim:s}),t.exports=l},function(t,e,n){"use strict";var o=n(14),r=n(74),i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||o.call(a,i),l=r("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(){return s(o,a,arguments)};var c=function(){return s(o,i,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c},function(t,e,n){"use strict";var o=TypeError,r=Object.getOwnPropertyDescriptor;if(r)try{r({},"")}catch(t){r=null}var i=function(){throw new o},a=r?function(){try{return i}catch(t){try{return r(arguments,"callee").get}catch(t){return i}}}():i,l=n(22)(),c=Object.getPrototypeOf||function(t){return t.__proto__},u=void 0,d="undefined"==typeof Uint8Array?void 0:c(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?c([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":u&&l&&Symbol.asyncIterator?u[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?c(c([][Symbol.iterator]())):void 0,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":s(JSON))?JSON:void 0,"%JSONParse%":"object"===("undefined"==typeof JSON?"undefined":s(JSON))?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?c((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?c((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?c(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:void 0,"%SymbolPrototype%":l?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":d,"%TypedArrayPrototype%":d?d.prototype:void 0,"%TypeError%":o,"%TypeErrorPrototype%":o.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},h=n(14).call(Function.call,String.prototype.replace),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b=/\\(\\)?/g,y=function(t){var e=[];return h(t,f,(function(t,n,o,r){e[e.length]=o?h(r,b,"$1"):n||t})),e},g=function(t,e){if(!(t in p))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===p[t]&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return p[t]};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(t),i=g("%"+(n.length>0?n[0]:"")+"%",e),a=1;a<n.length;a+=1)if(null!=i)if(r&&a+1>=n.length){var s=r(i,n[a]);if(!e&&!(n[a]in i))throw new o("base intrinsic for "+t+" exists, but the property is not available.");i=s&&"get"in s&&!("originalValue"in s.get)?s.get:i[n[a]]}else i=i[n[a]];return i}},function(t,e,n){"use strict";var o=n(13).supportsDescriptors,r=n(42),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!o||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=r(),e=l(c),n=i(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";var o=Date.prototype.getDay,r=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===s(Symbol.toStringTag);t.exports=function(t){return"object"===s(t)&&null!==t&&(i?function(t){try{return o.call(t),!0}catch(t){return!1}}(t):"[object Date]"===r.call(t))}},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(o=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var n=o?o+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},a.prototype.emit=function(t,e,n,r,i,a){var s=o?o+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,i),!0;case 6:return u.fn.call(u.context,e,n,r,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(t,e,n){var r=new i(e,n||this),a=o?o+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),a=o?o+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var a=o?o+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findCaretFocus=d,e.setRange=function(t,e,n,o,r,i){if(a&&t.getRootNode()instanceof ShadowRoot)e.setBaseAndExtent(n,o,r,i),y.set(t.getRootNode(),g(t)),setTimeout((function(){y.delete(t.getRootNode())}));else{var s=document.createRange();s.setStart(n,o),s.setEnd(r,i),e.removeAllRanges(),e.addRange(s)}},e.getRange=g;var o="attachShadow"in Element.prototype&&"getRootNode"in Element.prototype,r=!(!o||!document.createElement("div").attachShadow({mode:"open"}).getSelection),i=window.ShadyDOM&&window.ShadyDOM.inUse,a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s=!o||i||!r&&!a,l=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|script|source|style|template|track|wbr)$/,c=e.eventName="-shadow-selectionchange",u=[Node.ELEMENT_NODE,Node.TEXT_NODE,Node.DOCUMENT_FRAGMENT_NODE];function d(t,e){if(!e)return null;var n=[],o=function(t){for(var e=0;e<t.length;++e)t[e].shadowRoot&&n.push(t[e].shadowRoot)};for(e instanceof Element&&e.shadowRoot&&n.push(e.shadowRoot),o(e.childNodes);;){var r=n.shift();if(!r)break;for(var i=0;i<r.childNodes.length;++i)if(t.containsNode(r.childNodes[i],!0))return r;o(r.querySelectorAll("*"))}return null}function p(t,e,n){var o,r=e.childNodes;if(!r)return e;for(var i=0;i<r.length;++i){var a=r[n?i:r.length-1-i];if(o=a,u.includes(o.nodeType)&&t.containsNode(a,!0)){if(t.containsNode(a,!1))return a;var s=a instanceof Element?a.localName:"";if(!s||!l.exec(s))return p(t,a,n)}}return e}var h={node:null,offset:-1};function f(t,e,n){for(var o=e;null!=(e=b(e,n))&&e.contains(o););return!!e&&e instanceof Element&&t.containsNode(e,!0)}function b(t,e){if(!e&&t)return t.previousSibling||t.parentNode||null;for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}return null}!function(){if(r||s)return document.addEventListener("selectionchange",(function(){document.dispatchEvent(new CustomEvent(c))})),function(){};var t=!1;document.addEventListener("selectionchange",(function(){if(!t){t=!0;var e=window.getSelection();if(e&&"Caret"===e.type){var n=d(e,e.anchorNode);if(n instanceof window.ShadowRoot){var o=g(n);if(o){var r=o.startContainer,i=o.startOffset;h={node:r,offset:i}}}}document.dispatchEvent(new CustomEvent("-shadow-selectionchange")),window.requestAnimationFrame((function(){t=!1}))}}))}();var y=new Map;function g(t){if(i){var e=document.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}if(s){var n=document.getSelection();return n&&n.containsNode(t,!0)?n.getRangeAt(0):null}if(r){var o=t.getSelection();return o.rangeCount?o.getRangeAt(0):null}var a=y.get(t);if(a)return a;var l=function(t){var e=window.getSelection();if(!e||"None"===e.type)return{range:null,type:"none"};if("Caret"!==e.type&&"Range"!==e.type)throw new TypeError("unexpected type: "+e.type);var n=p(e,t,!0);if(n===t)return{range:null,mode:"none"};var o=document.createRange(),r=null,i=void 0;if("Range"===e.type&&(r=p(e,t,!1),void 0===(i=function(t,e,n){if("Range"===t.type){var o=function(){return t.toString().length},r=o(),i=void 0;return t.modify("extend","forward","character"),(i=o())>r||f(t,n,!0)?(t.modify("extend","backward","character"),!0):i<r||!t.containsNode(e)?(t.modify("extend","backward","character"),!1):(t.modify("extend","backward","character"),(i=o())>r||f(t,e,!1)?(t.modify("extend","forward","character"),!1):i<r||!t.containsNode(n)?(t.modify("extend","forward","character"),!0):void 0)}}(e,n,r)))){o.setStart(n,0);var a=r.childNodes.length;return r instanceof Text&&(a=r.length),o.setEnd(r,a),{range:o,mode:"all"}}var s=e.toString().length,l=0,c=0;if(null===r);else if(r.nodeType===Node.TEXT_NODE){for(var u=r,d=u.textContent||"",b=u.nextSibling,y=d.length-1;y>=0;--y)if(u.splitText(y),e.toString().length!==s){c=y+1;break}for(u.insertData(u.length,d.substr(u.length));u.nextSibling!==b;)u.nextSibling.remove()}if(n.nodeType===Node.TEXT_NODE){var g=n;g!==r&&(g.appendData("?"),e.collapseToStart(),e.modify("extend","right","character"));for(var v=g.textContent||"",m=g.nextSibling,_=g===r?c:v.length-1;_>=0;--_)if(g.splitText(_),""===e.toString()){l=_;break}for(g.insertData(g.length,v.substr(g.length));g.nextSibling!==m;)g.nextSibling.remove();n!==r&&g.deleteData(g.length-1,1),null===r&&(r=n,c=l)}else null===r&&(r=n);return 1===s&&h&&h.node===n&&h.offset>l&&i&&(i=!1),!0===i?(e.collapse(n,l),e.extend(r,c)):!1===i?(e.collapse(r,c),e.extend(n,l)):e.setPosition(n,l),o.setStart(n,l),o.setEnd(r,c),{range:o,mode:"normal"}}(t);return y.set(t,l.range),window.setTimeout((function(){y.delete(t)}),0),l.range}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var o="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=_(n(3)),l=_(n(2)),c=_(n(0)),u=_(n(5)),d=_(n(10)),p=_(n(9)),h=n(45),f=n(46),b=_(n(15)),y=n(29),g=n(47),v=n(48),m=n(49);function _(t){return t&&t.__esModule?t:{default:t}}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=(0,d.default)("quill:clipboard"),k="__ql-matcher",x=[[Node.TEXT_NODE,L],[Node.TEXT_NODE,A],["br",function(t,e){return I(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,A],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(t,e){var n={},o=t.style||{};return o.fontStyle&&"italic"===T(t).fontStyle&&(n.italic=!0),o.fontWeight&&(T(t).fontWeight.startsWith("bold")||parseInt(T(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=P(e,n)),parseFloat(o.textIndent||0)>0&&(e=(new l.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=c.default.query(t);if(null==n||"list-item"!==n.blotName||!I(e,"\n"))return e;for(var o=-1,r=t.parentNode;!r.classList.contains("ql-clipboard");)"list"===(c.default.query(r)||{}).blotName&&(o+=1),r=r.parentNode;return o<=0?e:e.compose((new l.default).retain(e.length()-1).retain(1,{indent:o}))}],["b",B.bind(B,"bold")],["i",B.bind(B,"italic")],["style",function(){return new l.default}]],S=[h.AlignAttribute,g.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),C=[h.AlignStyle,f.BackgroundStyle,y.ColorStyle,g.DirectionStyle,v.FontStyle,m.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),E=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.root.addEventListener("paste",o.onPaste.bind(o)),o.container=o.quill.addContainer("ql-clipboard"),o.container.setAttribute("contenteditable",!0),o.container.setAttribute("tabindex",-1),o.matchers=[],x.concat(o.options.matchers).forEach((function(t){var e=r(t,2),i=e[0],a=e[1];(n.matchVisual||a!==R)&&o.addMatcher(i,a)})),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[b.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(n,w({},b.default.blotName,e[b.default.blotName]))}var o=this.prepareMatching(),i=r(o,2),a=i[0],s=i[1],c=function t(e,n,o){return e.nodeType===e.TEXT_NODE?o.reduce((function(t,n){return n(e,t)}),new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(r,i){var a=t(i,n,o);return i.nodeType===e.ELEMENT_NODE&&(a=n.reduce((function(t,e){return e(i,t)}),a),a=(i[k]||[]).reduce((function(t,e){return e(i,t)}),a)),r.concat(a)}),new l.default):new l.default}(this.container,a,s);return I(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new l.default).retain(c.length()-1).delete(1))),O.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var o=this.convert(e);this.quill.updateContents((new l.default).retain(t).concat(o),n),this.quill.setSelection(t+o.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),o=(new l.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){o=o.concat(e.convert()).delete(n.length),e.quill.updateContents(o,u.default.sources.USER),e.quill.setSelection(o.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(o){var i=r(o,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[k]=t[k]||[],t[k].push(s)}))}})),[e,n]}}]),e}(p.default);function P(t,e,n){return"object"===(void 0===e?"undefined":o(e))?Object.keys(e).reduce((function(t,n){return P(t,n,e[n])}),t):t.reduce((function(t,o){return o.attributes&&o.attributes[e]?t.push(o):t.insert(o.insert,(0,a.default)({},w({},e,n),o.attributes))}),new l.default)}function T(t){return t.nodeType!==Node.ELEMENT_NODE?{}:t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function I(t,e){for(var n="",o=t.ops.length-1;o>=0&&n.length<e.length;--o){var r=t.ops[o];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*e.length)===e}function j(t){if(0===t.childNodes.length)return!1;var e=T(t);return["block","list-item"].indexOf(e.display)>-1}function B(t,e,n){return P(n,t,!0)}function M(t,e){var n=c.default.Attributor.Attribute.keys(t),o=c.default.Attributor.Class.keys(t),r=c.default.Attributor.Style.keys(t),i={};return n.concat(o).concat(r).forEach((function(e){var n=c.default.query(e,c.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(null==(n=S[e])||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=C[e])||n.attrName!==e&&n.keyName!==e||(n=C[e],i[n.attrName]=n.value(t)||void 0))})),Object.keys(i).length>0&&(e=P(e,i)),e}function D(t,e){var n=c.default.query(t);if(null==n)return e;if(n.prototype instanceof c.default.Embed){var o={},r=n.value(t);null!=r&&(o[n.blotName]=r,e=(new l.default).insert(o,n.formats(t)))}else"function"==typeof n.formats&&(e=P(e,n.blotName,n.formats(t)));return e}function A(t,e){return I(e,"\n")||(j(t)||e.length()>0&&t.nextSibling&&j(t.nextSibling))&&e.insert("\n"),e}function R(t,e){if(j(t)&&null!=t.nextElementSibling&&!I(e,"\n\n")){var n=t.offsetHeight+parseFloat(T(t).marginTop)+parseFloat(T(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function L(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!T(t.parentNode).whiteSpace.startsWith("pre")){var o=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,o.bind(o,!0)),(null==t.previousSibling&&j(t.parentNode)||null!=t.previousSibling&&j(t.previousSibling))&&(n=n.replace(/^\s+/,o.bind(o,!1))),(null==t.nextSibling&&j(t.parentNode)||null!=t.nextSibling&&j(t.nextSibling))&&(n=n.replace(/\s+$/,o.bind(o,!1)))}return e.insert(n)}E.DEFAULTS={matchers:[],matchVisual:!0},e.default=E,e.matchAttributor=M,e.matchBlot=D,e.matchNewline=A,e.matchSpacing=R,e.matchText=L},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(6);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((o=a)&&o.__esModule?o:{default:o}).default);u.blotName="bold",u.tagName=["STRONG","B"],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=d(n(2)),a=d(n(0)),l=d(n(5)),c=d(n(10)),u=d(n(9));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var h=(0,c.default)("quill:toolbar"),f=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");y(a,i.options.container),t.container.parentNode.insertBefore(a,t.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(t){i.addHandler(t,i.options.handlers[t])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(t){i.attach(t)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.SELECTION_CHANGE&&i.update(e)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var t=i.quill.selection.getRange(),e=o(t,1)[0];i.update(e)})),i):(r=h.error("Container required for toolbar",i.options),p(i,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void h.warn("ignoring attaching to nonexistent format",n,t)}var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(function(r){var s=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var c=t.options[t.selectedIndex];s=!c.hasAttribute("selected")&&(c.value||!1)}else s=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var u=e.quill.selection.getRange(),d=o(u,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,s);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+n)))return;e.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,s)),l.default.sources.USER)}else e.quill.format(n,s,l.default.sources.USER);e.update(d)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var r=o(n,2),i=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[i])s=a.querySelector("option[selected]");else if(!Array.isArray(e[i])){var l=e[i];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var c=e[i]===a.getAttribute("value")||null!=e[i]&&e[i].toString()===a.getAttribute("value")||null==e[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",c)}else a.classList.toggle("ql-active",null!=e[i])}))}}]),e}(u.default);function b(t,e,n){var o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("ql-"+e),null!=n&&(o.value=n),t.appendChild(o)}function y(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)b(n,t);else{var e=Object.keys(t)[0],o=t[e];Array.isArray(o)?function(t,e,n){var o=document.createElement("select");o.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),o.appendChild(e)})),t.appendChild(o)}(n,e,o):b(n,e,o)}})),t.appendChild(n)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,l.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",l.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",t,l.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),o=parseInt(n.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",o+r,l.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,l.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",t,l.default.sources.USER)}}},e.default=f,e.addControls=y},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(31),l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.label.innerHTML=n,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"buildItem",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var o=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";o&&("line"===o.tagName?o.style.stroke=r:o.style.fill=r)}}]),e}(((o=a)&&o.__esModule?o:{default:o}).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(31),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"selectItem",value:function(t,n){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"})),this.hide()}return o(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),i=0;if(r.right>o.right&&(i=o.right-r.right,this.root.style.left=e+i+"px"),r.left<o.left&&(i=o.left-r.left,this.root.style.left=e+i+"px"),r.bottom>o.bottom){var a=r.bottom-r.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=f(n(3)),l=f(n(8)),c=n(52),u=f(c),d=f(n(30)),p=n(17),h=f(n(50));function f(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],m=function(t){function e(t,n){b(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var o=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.container.classList.add("ql-snow"),o}return g(e,t),i(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),h.default),this.tooltip=new _(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)}))}}]),e}(u.default);m.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var _=function(t){function e(t,n){b(this,e);var o=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.preview=o.root.querySelector("a.ql-preview"),o}return g(e,t),i(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,l.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(l.default.events.SELECTION_CHANGE,(function(e,n,r){if(null!=e){if(0===e.length&&r===l.default.sources.USER){var i=t.quill.scroll.descendant(d.default,e.index),a=o(i,2),s=a[0],c=a[1];if(null!=s){t.linkRange=new p.Range(e.index-c,s.length());var u=d.default.formats(s.domNode);return t.preview.textContent=u,t.preview.setAttribute("href",u),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(c.BaseTooltip);_.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=A(n(32)),r=n(45),i=n(47),a=n(88),s=A(n(89)),l=A(n(90)),c=n(91),u=A(c),d=n(46),p=n(29),h=n(48),f=n(49),b=A(n(80)),y=A(n(92)),g=A(n(30)),v=A(n(93)),m=A(n(94)),_=A(n(95)),w=A(n(96)),O=A(n(97)),k=n(15),x=A(k),S=A(n(98)),C=A(n(99)),E=A(n(81)),P=A(n(50)),T=A(n(31)),I=A(n(83)),j=A(n(84)),B=A(n(85)),M=A(n(132)),D=A(n(86));function A(t){return t&&t.__esModule?t:{default:t}}o.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),o.default.register({"formats/align":r.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":x.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":b.default,"formats/code":k.Code,"formats/italic":y.default,"formats/link":g.default,"formats/script":v.default,"formats/strike":m.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":O.default,"formats/list/item":c.ListItem,"modules/formula":S.default,"modules/syntax":C.default,"modules/toolbar":E.default,"themes/bubble":M.default,"themes/snow":D.default,"ui/icons":P.default,"ui/picker":T.default,"ui/icon-picker":j.default,"ui/color-picker":I.default,"ui/tooltip":B.default},!0),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(0),l=(o=a)&&o.__esModule?o:{default:o};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var d=new(function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var o=this.value(t)||0;n="+1"===n?o+1:o-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(l.default.Attributor.Class))("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(4);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var l=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);l.blotName="blockquote",l.tagName="blockquote",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(4);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var c=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=c(n(0)),a=c(n(4)),l=c(n(28));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),o(e,[{key:"format",value:function(t,n){t!==f.blotName||n?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:r(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(a.default);h.blotName="list-item",h.tagName="LI";var f=function(t){function e(t){u(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),o=function(e){if(e.target.parentNode===t){var o=n.statics.formats(t),r=i.default.find(e.target);"checked"===o?r.format("list","unchecked"):"unchecked"===o&&r.format("list","checked")}};return t.addEventListener("touchstart",o),t.addEventListener("mousedown",o),n}return p(e,t),o(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",o=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||o.setAttribute("data-checked","checked"===t),o}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),o(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof h)r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var o=null==n?this.length():n.offset(this),i=this.split(o);i.parent.insertBefore(t,i)}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(l.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[h],e.ListItem=h,e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(80);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var l=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);l.blotName="italic",l.tagName=["EM","I"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var c=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default);c.blotName="script",c.tagName=["SUB","SUP"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var l=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);l.blotName="strike",l.tagName="S",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var l=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);l.blotName="underline",l.tagName="U",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(0),l=(o=a)&&o.__esModule?o:{default:o},c=n(30);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var p=["alt","height","width"],h=function(t){function e(){return u(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,n){p.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return p.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,c.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(l.default.Embed);h.blotName="image",h.tagName="IMG",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(4),l=n(30),c=(o=l)&&o.__esModule?o:{default:o};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}var p=["height","width"],h=function(t){function e(){return u(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,n){p.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return p.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return c.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(44)),i=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),o(e,null,[{key:"create",value:function(t){var n=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(r.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return d(e,t),o(e,null,[{key:"register",value:function(){i.default.register(p,!0)}}]),e}(a.default);e.FormulaBlot=p,e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(0)),i=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),o(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(l(n(15)).default);p.className="ql-syntax";var h=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),f=function(t){function e(t,n){c(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof o.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return o.quill.on(i.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){o.highlight(),r=null}),o.options.interval)})),o.highlight(),o}return d(e,t),o(e,null,[{key:"register",value:function(){i.default.register(h,!0),i.default.register(p,!0)}}]),o(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(i.default.sources.SILENT),null!=e&&this.quill.setSelection(e,i.default.sources.SILENT)}}}]),e}(a.default);f.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=p,e.CodeToken=h,e.default=f},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var o=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=p(n(3)),a=p(n(8)),l=n(52),c=p(l),u=n(17),d=p(n(50));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==s(e)&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.container.classList.add("ql-bubble"),o}return b(e,t),r(e,[{key:"extendToolbar",value:function(t){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default)}}]),e}(c.default);g.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(t){function e(t,n){h(this,e);var o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e,n,r){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===a.default.sources.USER){o.show(),o.root.style.left="0px",o.root.style.width="",o.root.style.width=o.root.offsetWidth+"px";var i=o.quill.getLines(e.index,e.length);if(1===i.length)o.position(o.quill.getBounds(e));else{var s=i[i.length-1],l=o.quill.getIndex(s),c=Math.min(s.length()-1,e.index+e.length-l),d=o.quill.getBounds(new u.Range(l,c));o.position(d)}}else document.activeElement!==o.textbox&&o.quill.hasFocus()&&o.hide()})),o}return b(e,t),r(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),e}(l.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=v,e.default=g},function(t,e,n){t.exports=n(87)}]).default},"object"===s(e)&&"object"===s(n)?n.exports=a():(r=[],void 0===(i="function"==typeof(o=a)?o.apply(e,r):o)||(n.exports=i))}).call(this,n(192).Buffer,n(196)(t))},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var o=n(193),r=n(194),i=n(195);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=p(t,e);return t}(t,e,n,o):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|f(e,n),r=(t=s(t,o)).write(e,n);r!==o&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(u(e),t=s(t,e<0?0:0|h(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(o)return N(t).length;e=(""+e).toLowerCase(),o=!0}}function b(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function y(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function g(t,e,n,o,r){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,o)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,o,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,o,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,o,r){var i,a=1,s=t.length,l=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(t,i+p)!==c(e,p)){d=!1;break}if(d)return i}return-1}function m(t,e,n,o){n=Number(n)||0;var r=t.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var a=0;a<o;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,o){return H(N(e,t.length-n),t,n,o)}function w(t,e,n,o){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,o)}function O(t,e,n,o){return w(t,e,n,o)}function k(t,e,n,o){return H(z(e),t,n,o)}function x(t,e,n,o){return H(function(t,e){for(var n,o,r,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),o=n>>8,r=n%256,i.push(r),i.push(o);return i}(e,t.length-n),t,n,o)}function S(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;r<n;){var i,a,s,l,c=t[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=t[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=t[r+1],a=t[r+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=t[r+1],a=t[r+2],s=t[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),r+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",o=0;for(;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=4096));return n}(o)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,o){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof o?s(t,e).fill(n,o):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,r=0,i=Math.min(n,o);r<i;++r)if(t[r]!==e[r]){n=t[r],o=e[r];break}return n<o?-1:o<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,r),r+=a.length}return o},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):b.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,o,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),e<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&e>=n)return 0;if(o>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(r>>>=0)-(o>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(o,r),u=t.slice(e,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},l.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}function P(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}function T(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=e;i<n;++i)r+=F(t[i]);return r}function I(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,n,o,r,i){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<i)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function M(t,e,n,o){e<0&&(e=65535+e+1);for(var r=0,i=Math.min(t.length-n,2);r<i;++r)t[n+r]=(e&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function D(t,e,n,o){e<0&&(e=4294967295+e+1);for(var r=0,i=Math.min(t.length-n,4);r<i;++r)t[n+r]=e>>>8*(o?r:3-r)&255}function A(t,e,n,o,r,i){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,o,i){return i||A(t,0,n,4),r.write(t,e,n,o,23,4),n+4}function L(t,e,n,o,i){return i||A(t,0,n,8),r.write(t,e,n,o,52,8),n+8}l.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var o=this[t+--e],r=1;e>0&&(r*=256);)o+=this[t+--e]*r;return o},l.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var o=e,r=1,i=this[t+--o];o>0&&(r*=256);)i+=this[t+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[e+r]=255&t;--r>=0&&(i*=256);)this[e+r]=t/i&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);B(this,t,e,n,r-1,-r)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);B(this,t,e,n,r-1,-r)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var r,i=o-n;if(this===t&&n<e&&e<o)for(r=i-1;r>=0;--r)t[r+e]=this[r+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},l.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!l.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=l.isBuffer(t)?t:N(new l(t,o).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var o=t.length,r=null,i=[],a=0;a<o;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===o){(e-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){return o.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,o){for(var r=0;r<o&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(145))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],o=e[1];return 3*(n+o)/4-o},e.toByteArray=function(t){var e,n,o=c(t),a=o[0],s=o[1],l=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[u++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(u(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],i.push(o[e>>2]+o[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return i.join("")};for(var o=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)o[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var r,i,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,o,r){var i,a,s=8*r-o-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=t[e+d];for(d+=p,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+t[e+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=o;u>0;a=256*a+t[e+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),i-=c}return(h?-1:1)*a*Math.pow(2,i-o)},e.write=function(t,e,n,o,r,i){var a,s,l,c=8*i-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:i-1,f=o?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+h]=255&a,h+=f,a/=256,c-=8);t[n+h-f]|=128*b}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
!function(){"use strict";var t,e=!1,n=[],o=!1;function r(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function i(){window.customElements&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback((function(e){t=e,o&&t()}))}function a(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),e=!0,s().then(r)}function s(){o=!1;var e=n.map((function(t){return t instanceof Function?t():t}));return n=[],Promise.all(e).then((function(){o=!0,t&&t()})).catch((function(t){console.error(t)}))}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(t){t&&(n.push(t),e&&s())},window.WebComponents._batchCustomElements=i;var l="webcomponents-loader.js",c=[];(!("attachShadow"in Element.prototype)||!("getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&c.push("sd"),window.customElements&&!window.customElements.forcePolyfill||c.push("ce");var u=function(){var t=document.createElement("template");if(!("content"in t))return!0;if(!(t.content.cloneNode()instanceof DocumentFragment))return!0;var e=document.createElement("template");e.content.appendChild(document.createElement("div")),t.content.appendChild(e);var n=t.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}();if(window.Promise&&Array.from&&window.URL&&window.Symbol&&!u||(c=["sd-ce-pf"]),c.length){var d,p="bundles/webcomponents-"+c.join("-")+".js";if(window.WebComponents.root)d=window.WebComponents.root+p;else{var h=document.querySelector('script[src*="'+l+'"]');d=h.src.replace(l,p)}var f=document.createElement("script");f.src=d,"loading"===document.readyState?(f.setAttribute("onload","window.WebComponents._batchCustomElements()"),document.write(f.outerHTML),document.addEventListener("DOMContentLoaded",a)):(f.addEventListener("load",(function(){i(),a()})),f.addEventListener("error",(function(){throw new Error("Could not load polyfill bundle"+d)})),document.head.appendChild(f))}else"complete"===document.readyState?(e=!0,r()):(window.addEventListener("load",a),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",a),a()})))}()},function(t,e,n){"use strict";n.r(e);var o=n(41),r=(n(153),{"/preview":{comp:"sb-docgen-preview",mod:"docgen/sb-docgen-preview/DocgenPreview.route.js"}}),i={"/le":{comp:"sb-line-editor",mod:"quotes/pages/sb-line-editor/LineEditor.route.js"}},a={"/lookup":{comp:"sb-asset-lookup",mod:"assets/selection/routes/sb-asset-lookup/AssetLookup.route.js"},"/upgrade":{comp:"sb-asset-upgrade",mod:"assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route.js"}},s={"/helloworld":{comp:"hello-world",mod:"examples/hello-world/HelloWorld.js"}},l={"/lookup":{comp:"sb-contract-lookup",mod:"contracts/selection/routes/sb-contract-lookup/ContractLookup.route.js"}},c={"/lookup":{comp:"sb-subscription-lookup",mod:"subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route.js"}},u={"/dl":{comp:"sb-dynamic-lookup",mod:"products/config/routes/sb-dynamic-lookup/DynamicLookup.route.js"},"/lookup":{comp:"sb-product-lookup",mod:"products/selection/routes/sb-product-lookup/ProductLookup.route.js"},"/ol":{comp:"sb-option-lookup",mod:"products/config/routes/sb-option-lookup/OptionLookup.route.js"},"/pc":{comp:"sb-product-config",mod:"products/config/routes/sb-product-config/ProductConfig.route.js"}},d={"/lookup":{comp:"sb-favorite-lookup",mod:"favorites/sb-favorite-lookup/FavoriteLookup.route.js"}},p={"/lookup":{comp:"sb-recommendation-lookup",mod:"recommendations/sb-recommendation-lookup/RecommendationLookup.route.js"}},h=n(4),f=n(29);n(6);function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"init",value:function(e,n,o,f){var b={};return b["/examples"]=s,b["/docgen"]=r,b["/quote"]=i,b["/product"]=u,b["/favorite"]=d,b["/asset"]=a,b["/contract"]=l,b["/subscription"]=c,b["/recommend"]=p,e.allRoutes=b,Promise.all([h.a.init(o),t._initIntlLocale(f.intl,o.locale)])}},{key:"_initIntlLocale",value:function(t,e){return new Promise((function(n,o){var r=new XMLHttpRequest,i=t+"/locale-data/json/"+e+".json";r.open("GET",i),r.onerror=function(t){o(new Error("Cannot get locale data: "+t))},r.ontimeout=function(t){o(new Error("Timeout for locale data"))},r.onload=function(){if(r.responseText)try{var t=JSON.parse(r.responseText);f.a.addLocaleData(t),Intl&&Intl.__addLocaleData&&Intl.__addLocaleData(JSON.parse(r.responseText)),n(t)}catch(t){var i=document.getElementById("sbPageContainer").shadowRoot.getElementById("spinner"),a=document.getElementById("sbPageContainer").shadowRoot.getElementById("errorToast"),s="There was an error parsing the "+e+" locale. Use a different locale or contact your Salesforce admin.";a.messages=[s],i.show=!1,o(new Error("Cannot parse locale data"))}else i=document.getElementById("sbPageContainer").shadowRoot.getElementById("spinner"),a=document.getElementById("sbPageContainer").shadowRoot.getElementById("errorToast"),s="The "+e+" locale isn't supported. Use a different locale or contact your Salesforce admin.",a.messages=[s],i.show=!1,o(new Error("Cannot understand locale data: "+r.statusText))},r.send()}))}}],(n=null)&&b(e.prototype,n),o&&b(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g=null;Object(o.c)({name:"hold",deps:["mousedown","mouseup","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["hold"],mouseup:function(t){return this.up(t)},touchend:function(t){return this.up(t.changedTouches[0],t)},up:function(t){return clearTimeout(g),!1},mousedown:function(t){return this.down(t)},touchstart:function(t){return this.down(t.changedTouches[0],t)},down:function(t,e){return g=setTimeout((function(){Object(o.b)(t).dispatchEvent(new CustomEvent("hold",{detail:{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:e}}))}),1e3),!1}});var v=n(32),m=n(79),_=n(53);n(197);window.sb=window.sb||{};var w,O,k=window.__vfsettings||{},x=k.userSettings,S=k.userTheme,C=k.currentPage,E=k.labels,P=k.resources,T=k.vfSessionId,I=C.parameters.id||C.parameters.newid||"",j=I.substring(0,15);function B(){var t=document.querySelector("#bodyCell");if(t){var e=document.querySelector("#globalHeaderBar")?166:130,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t.style.minHeight=n-e+"px";var o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;t.style.maxWidth=o-12+"px"}}function M(t,e){return new Promise((function(n,o){!function r(i){e()?n():i<100?window.setTimeout((function(){r(++i)}),100):o("TIMEOUT: "+t+" not ready after 10 seconds")}(0)}))}function D(){return R().then((function(t){var e=new m.a(t.instanceUrl);document.addEventListener("click",(function(){return e.startTransaction()}),!0),document.addEventListener("sf-qle-data-changed",(function(t){var n=t.detail&&t.detail.quote&&t.detail.quote.lineItems&&t.detail.quote.lineItems.length;e.addExternalLogMetrics({quoteLine:n||0})}),!0)}))}function A(){return j?R().then((function(t){new m.a(t.instanceUrl).startTransaction();var e=new window.SB.QuoteDAO(x.developerPrefix,t).loadEditorModel(j);v.a.add("LineEditor",j,e,"promise")})):Promise.resolve()}function R(){var t={instanceUrl:x.inCommunity?x.orgUrl:x.orgInstanceUrl};return new _.a(x.developerPrefix).getConnection(t)}window.sb.vfSessionId=T,window.sb.visibilityStateStart=document.visibilityState,window.sb.labels=E,window.sb.mode=Object.freeze({debugMode:x.debugMode}),window.sb.userSettings=x,window.addEventListener("load",B),window.addEventListener("resize",B),w=navigator.userAgent.match(/Tablet|iPad|iPod/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Mobi/i),O=navigator.userAgent.match(/Tablet PC/i),w&&!O?document.querySelector("#pw").style.display="block":document.querySelector("#sbPageContainer").classList.add("--desktop"),Object.keys(window.sb.labels).forEach((function(t){if(t.includes("&")||t.includes("<")||t.includes(">")){var e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");window.sb.labels[e]=window.sb.labels[t],delete window.sb.labels[t]}})),function(){var t={intl:P.sb_i18n_cldr},e=document.querySelector("#sbPageContainer");if(S){var n=document.head.querySelector("dom-module#sb-common-styles template"),o=n?n.content.querySelector("style"):null;o&&(o.innerText+=window.atob(S));var r=e.shadowRoot.querySelector("#topLevelStyle");r&&(r.innerText+=window.atob(S))}var i=window.sb.pageReady.then((function(){return y.init(e,null,x,t)})),a=M("JSQC",(function(){return window.SB&&window.SB.JSQC})),s=M("JSAR",(function(){return window.SB&&window.SB.JSARServices})),l=a.then(D),c=a.then(A);Promise.all([i,a,s,l,c]).then((function(){document.querySelector("body").removeAttribute("unresolved");var t,n=window.location.hash;window.location.hash="",e.route=window.location.hash.length>1?window.location.hash.slice(1):n||("true"===C.parameters.selectContract?function(){var t=C.parameters.action;if(t){var e=C.parameters.selectedAssetIds;return"contract/lookup?accId="+I+"&action="+t+"&selectedAssetIds="+e}return I?"contract/lookup?qId="+I:null}():(t=""===C.parameters.cmd?"":"&cmd=".concat(C.parameters.cmd),I?"quote/le?qId="+I+t:null))||"/product/search",document.querySelector("#pw").style.display="none",C.parameters.themeDocId&&e.classList.add("showTemplatePreviewMode")}))}()},function(t,e,n){"use strict";var o,r=n(33),i=n(4),a=n(2),s=n(0),l=(n(34),n(3));var c,u,d,p=Object(l.b)(o||(c=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n:host .fields {\n  margin: 10px 0 10px 20px;\n}\n:host #header {\n  margin-bottom: 20px;\n}\n'],u||(u=c.slice(0)),o=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}})))),h=n(22);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=v(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=O(t);if(e){var r=O(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(c,t);var e,n,o,l=_(c);function c(){return b(this,c),l.apply(this,arguments)}return e=c,o=[{key:"is",get:function(){return"sb-filter-item"}},{key:"properties",get:function(){return{value:{notify:!0},item:String,model:Object,data:Object,md:Object,hidden:{type:Boolean,value:!1},label:{type:String,reflectToAttribute:!0},display:{type:String,computed:"_computeDisplay(data, item)"},record:{type:Object,computed:"_computeRecord(data, item)"},factoryData:Object}}},{key:"observers",get:function(){return["_setMdObserver(item, model)","setHidden(data.*)","_displayChangedObserver(value, display, item, data, md)"]}},{key:"template",get:function(){return Object(a.b)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<div class="fields" hidden$="[[hidden]]">\n\t\t\t<div>[[label]]</div>\n\t\t\t<div>\n\t\t\t\t<sb-field id="field" value="{{value}}" focus="[[focus]]" ref-display="{{display}}" record="[[record]]" factory-data="[[factoryData]]"></sb-field>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),p)}}],(n=[{key:"ready",value:function(){g(O(c.prototype),"ready",this).call(this),this.handleKeyPress(),this.addEventListener("lookup-value-changed",this.handleLabelChange)}},{key:"handleLabelChange",value:function(t){var e={item:this.item.split(".")[0],value:t.detail.refDisplay};this.dispatchEvent(Object(s.d)("filter-item-value-changed",e))}},{key:"handleKeyPress",value:function(){this.addEventListener("keypress",function(t){var e=this.item.split(".")[0];this.dispatchEvent(Object(s.d)("filter-item-field-keypress",{keyCode:t.keyCode,item:e,itemType:this.model[e].model.type}))}.bind(this))}},{key:"clear",value:function(){this.value=null}},{key:"_setMdObserver",value:function(t,e){if(void 0!==t&&void 0!==e)return this.setMd(t,e)}},{key:"setMd",value:function(){var t=i.a.org.prefix?i.a.org.prefix+"__":"",e=this.item.split(".")[0];this.md=this.model[e].model,this.factoryData={range:"between"===this.model[e].record[t+"Operator__c"]},this.label=this.model[e].label?this.model[e].label:this.model[e].record.Name,this.md.type&&"boolean"===this.md.type&&"string"==typeof this.value&&this.setValue(this.item,"true"===this.value),this.$.field.editing=!0,this.$.field.property=this.item,this.$.field.md=this.md}},{key:"setHidden",value:function(){var t=this.item;this.data[t]||(t=this.item.split(".")[0]),this.data[t]&&(this.hidden=this.data[t].hidden)}},{key:"_computeDisplay",value:function(t,e){if(void 0!==t&&void 0!==e)return t[e.split(".")[0]].label}},{key:"_computeRecord",value:function(t,e){if(void 0!==t&&void 0!==e)return this}},{key:"_displayChangedObserver",value:function(t,e,n,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==o&&void 0!==r)return this._displayChanged(t,e,n,o,r)}},{key:"_displayChanged",value:function(){var t=this.item.split(".")[0],e=new r.a(t,this.data).buildRelationship(this.value,this.display,this.md.referenceTo[0]);e&&(this.data[t].label=e.value.Name)}},{key:"getValue",value:function(t){if(this.data[t])return this.data[t].value;for(var e in this.data)if(this.data[e].field===t)return this.data[e].value;return null}},{key:"setValue",value:function(t,e){this.set("data."+t,e)}},{key:"equals",value:function(t){return this.data===t.data}}])&&y(e.prototype,n),o&&y(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Object(h.a)(a.a));customElements.define(k.is,k)}]);
//# sourceMappingURL=http://localhost:9000/pkg/main/default/staticresources/bundle.js.map